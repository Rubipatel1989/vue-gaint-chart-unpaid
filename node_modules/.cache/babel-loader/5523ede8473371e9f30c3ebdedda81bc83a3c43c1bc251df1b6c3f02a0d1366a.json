{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.for-each.js\";\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n// eslint-disable-next-line @typescript-eslint/triple-slash-reference\n///<reference path='../stepper-base/stepper-base-model.d.ts'/>\nimport { attributes, NotifyPropertyChanges, L10n, append, isNullOrUndefined, getUniqueID, Complex, KeyboardEvents, ChildProperty, Property, EventHandler, Event, addClass, remove, removeClass, initializeCSPTemplate, select, compile } from '@syncfusion/ej2-base';\nimport { StepperBase, StepStatus } from '../stepper-base/stepper-base';\nimport { Tooltip } from '@syncfusion/ej2-popups';\nvar ITEMCONTAINER = 'e-step-container';\nvar ITEMLIST = 'e-stepper-steps';\nvar ICONCSS = 'e-indicator';\nvar TEXTCSS = 'e-step-text-container';\nvar STEPLABEL = 'e-step-label-container';\nvar OPTIONAL = 'e-step-label-optional';\nvar SELECTED = 'e-step-selected';\nvar INPROGRESS = 'e-step-inprogress';\nvar NOTSTARTED = 'e-step-notstarted';\nvar FOCUS = 'e-step-focus';\nvar COMPLETED = 'e-step-completed';\nvar DISABLED = 'e-step-disabled';\nvar READONLY = 'e-stepper-readonly';\nvar PROGRESSVALUE = '--progress-value';\nvar RTL = 'e-rtl';\nvar TEMPLATE = 'e-step-template';\nvar LABELAFTER = 'e-label-after';\nvar LABELBEFORE = 'e-label-before';\nvar VERTICALSTEP = 'e-vertical';\nvar HORIZSTEP = 'e-horizontal';\nvar STEPICON = 'e-step-item';\nvar STEPTEXT = 'e-step-text';\nvar TEXT = 'e-text';\nvar STEPSLABEL = 'e-step-label';\nvar LABEL = 'e-label';\nvar STEPINDICATOR = 'e-step-type-indicator';\nvar LABELINDICATOR = 'e-step-type-label';\nvar INDICATORICON = 'e-step-indicator';\nvar STEPPERTOOLTIP = 'e-stepper-tooltip';\nvar STEPPERIPROGRESSTIP = 'e-step-inprogress-tip';\nvar LINEARSTEP = 'e-linear';\nvar PREVSTEP = 'e-previous';\nvar NEXTSTEP = 'e-next';\n/**\n * Defines the step progress animation of the Stepper.\n */\nvar StepperAnimationSettings = /** @class */function (_super) {\n  __extends(StepperAnimationSettings, _super);\n  function StepperAnimationSettings() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  __decorate([Property(true)], StepperAnimationSettings.prototype, \"enable\", void 0);\n  __decorate([Property(2000)], StepperAnimationSettings.prototype, \"duration\", void 0);\n  __decorate([Property(0)], StepperAnimationSettings.prototype, \"delay\", void 0);\n  return StepperAnimationSettings;\n}(ChildProperty);\nexport { StepperAnimationSettings };\n/**\n * Defines the label position in the Stepper.\n */\nexport var StepLabelPosition;\n(function (StepLabelPosition) {\n  /**\n   * Displays the label on top position regardless of the Stepper's orientation.\n   */\n  StepLabelPosition[\"Top\"] = \"Top\";\n  /**\n   * Displays the label on bottom position regardless of the Stepper's orientation.\n   */\n  StepLabelPosition[\"Bottom\"] = \"Bottom\";\n  /**\n   * Displays the label on left side regardless of the Stepper's orientation.\n   */\n  StepLabelPosition[\"Start\"] = \"Start\";\n  /**\n   * Displays the label on right side regardless of the Stepper's orientation.\n   */\n  StepLabelPosition[\"End\"] = \"End\";\n})(StepLabelPosition || (StepLabelPosition = {}));\n/**\n * Defines whether steps are display with only indicator, only labels or combination of both.\n */\nexport var StepType;\n(function (StepType) {\n  /**\n   * Steps are shown indicator with label defined.\n   */\n  StepType[\"Default\"] = \"Default\";\n  /**\n   * Steps are shown with only label.\n   */\n  StepType[\"Label\"] = \"Label\";\n  /**\n   * Steps are shown with only indicator.\n   */\n  StepType[\"Indicator\"] = \"Indicator\";\n})(StepType || (StepType = {}));\n/**\n * The Stepper component visualizes several steps and indicates the current progress by highlighting already completed steps.\n *\n * ```html\n * <nav id=\"stepper\"></nav>\n * ```\n * ```typescript\n * <script>\n *   let stepperObj: Stepper = new Stepper({steps : [{}, {}, {}, {}, {}]});\n *   stepperObj.appendTo('#stepper');\n * </script>\n * ```\n */\nvar Stepper = /** @class */function (_super) {\n  __extends(Stepper, _super);\n  /**\n   * * Constructor for creating the Stepper component.\n   *\n   * @param {StepperModel} options - Specifies the Stepper model.\n   * @param {string | HTMLElement} element - Specifies the element to render as component.\n   * @private\n   */\n  function Stepper(options, element) {\n    var _this = _super.call(this, options, element) || this;\n    _this.stepperItemElements = [];\n    return _this;\n  }\n  Stepper.prototype.preRender = function () {\n    if (!this.element.id) {\n      this.element.id = getUniqueID('e-' + this.getModuleName());\n    }\n    var localeText = {\n      optional: 'Optional'\n    };\n    this.l10n = new L10n('stepper', localeText, this.locale);\n    this.keyConfigs = {\n      downarrow: 'downarrow',\n      leftarrow: 'leftarrow',\n      rightarrow: 'rightarrow',\n      uparrow: 'uparrow',\n      space: 'space',\n      enter: 'enter',\n      home: 'home',\n      end: 'end',\n      tab: 'tab',\n      shiftTab: 'shift+tab',\n      escape: 'escape'\n    };\n    this.tooltipOpen = false;\n  };\n  /**\n   * To get component name.\n   *\n   * @returns {string} - It returns the current module name.\n   * @private\n   */\n  Stepper.prototype.getModuleName = function () {\n    return 'stepper';\n  };\n  Stepper.prototype.render = function () {\n    this.initialize();\n    this.navigationHandler(this.activeStep, null, false);\n    this.updateStepperStatus(true);\n  };\n  Stepper.prototype.initialize = function () {\n    var _this = this;\n    this.element.setAttribute('aria-label', this.element.id);\n    this.updatePosition();\n    this.stepperItemList = this.createElement('ol', {\n      className: ITEMLIST\n    });\n    this.updateOrientaion(this.element);\n    this.updateStepType();\n    this.element.appendChild(this.stepperItemList);\n    if (this.cssClass) {\n      addClass([this.element], this.cssClass.trim().split(' '));\n    }\n    if (this.readOnly) {\n      this.element.classList.add(READONLY);\n    }\n    if (this.enableRtl) {\n      this.element.classList.add(RTL);\n    }\n    this.wireEvents();\n    this.updateTemplateFunction();\n    this.renderItems();\n    if (this.steps.length > 0) {\n      if (this.steps.length > 1) {\n        if (this.isAngular && this.template) {\n          setTimeout(function () {\n            _this.renderProgressBar(_this.element);\n          });\n        } else {\n          this.renderProgressBar(this.element);\n        }\n      }\n      this.checkValidStep();\n      this.updateAnimation();\n      this.updateTooltip();\n      this.wireKeyboardEvent();\n    }\n  };\n  Stepper.prototype.updatePosition = function () {\n    this.progressBarPosition = this.beforeLabelWidth = this.textEleWidth = 0;\n  };\n  Stepper.prototype.renderDefault = function (index) {\n    return !this.steps[parseInt(index.toString(), 10)].iconCss && !this.steps[parseInt(index.toString(), 10)].text && !this.steps[parseInt(index.toString(), 10)].label ? true : false;\n  };\n  Stepper.prototype.updateAnimation = function () {\n    var progressEle = this.element.querySelector('.e-progressbar-value');\n    if (this.animation.enable) {\n      if (this.animation.duration >= 0) {\n        if (progressEle) {\n          progressEle.style.setProperty('--duration', this.animation.duration + 'ms');\n        }\n      }\n      if (this.animation.delay >= 0) {\n        if (progressEle) {\n          progressEle.style.setProperty('--delay', this.animation.delay + 'ms');\n        }\n      }\n    } else {\n      if (progressEle) {\n        progressEle.style.setProperty('--delay', 0 + 'ms');\n        progressEle.style.setProperty('--duration', 0 + 'ms');\n      }\n    }\n  };\n  Stepper.prototype.updateStepType = function () {\n    if (!isNullOrUndefined(this.stepType) && (this.stepType.toLowerCase() === 'indicator' || this.stepType.toLowerCase() === 'label' || this.stepType.toLowerCase() === 'default')) {\n      if (this.stepType.toLowerCase() !== 'default') {\n        this.element.classList.add('e-step-type-' + this.stepType.toLowerCase());\n      }\n      if ((this.stepType.toLowerCase() === 'indicator' || 'label') && this.labelContainer) {\n        this.clearLabelPosition();\n      }\n    }\n  };\n  Stepper.prototype.wireEvents = function () {\n    EventHandler.add(window, 'resize', this.updateResize, this);\n    EventHandler.add(window, 'click', this.updateStepFocus, this);\n  };\n  Stepper.prototype.unWireEvents = function () {\n    EventHandler.remove(window, 'resize', this.updateResize);\n    EventHandler.remove(window, 'click', this.updateStepFocus);\n  };\n  Stepper.prototype.updateResize = function () {\n    if (this.stepperItemList && this.progressbar && this.element.classList.contains(HORIZSTEP)) {\n      this.setProgressPosition(this.element, true);\n    }\n    this.navigateToStep(this.activeStep, null, null, false, false);\n  };\n  Stepper.prototype.updateStepFocus = function () {\n    if (this.isKeyNavFocus) {\n      this.isKeyNavFocus = false;\n      var isFocus = this.element.querySelector('.' + FOCUS);\n      if (isFocus) {\n        isFocus.classList.remove(FOCUS);\n        this.element.classList.remove('e-steps-focus');\n      }\n    }\n  };\n  Stepper.prototype.updateStepperStatus = function (isInitial) {\n    for (var index = 0; index < this.steps.length; index++) {\n      var item = this.steps[parseInt(index.toString(), 10)];\n      var status_1 = item.status.toLowerCase();\n      if (isInitial && this.activeStep === 0 && index === 0) {\n        var prevOnChange = this.isProtectedOnChange;\n        this.isProtectedOnChange = true;\n        item.status = StepStatus.InProgress;\n        this.isProtectedOnChange = prevOnChange;\n      }\n      if (item && status_1 !== 'notstarted' && index === this.activeStep) {\n        for (var i = 0; i < this.steps.length; i++) {\n          var itemElement = this.stepperItemElements[parseInt(i.toString(), 10)];\n          itemElement.classList.remove(SELECTED, INPROGRESS, COMPLETED, NOTSTARTED);\n          var prevOnChange = this.isProtectedOnChange;\n          this.isProtectedOnChange = true;\n          if (status_1 === 'completed') {\n            this.updateStatusClass(i, index, itemElement);\n          } else {\n            this.updateStatusClass(i, index, itemElement, true);\n          }\n          this.isProtectedOnChange = prevOnChange;\n        }\n      } else if (item && status_1 !== 'notstarted' && index !== this.activeStep) {\n        this.navigationHandler(this.activeStep, null, true);\n      }\n    }\n  };\n  Stepper.prototype.updateStatusClass = function (currentStep, index, ele, isInprogress) {\n    var stepItem = this.steps[parseInt(currentStep.toString(), 10)];\n    if (currentStep < index) {\n      ele.classList.add(COMPLETED);\n      stepItem.status = StepStatus.Completed;\n    } else if (currentStep === index) {\n      ele.classList.add(isInprogress ? INPROGRESS : COMPLETED, SELECTED);\n    } else {\n      ele.classList.add(NOTSTARTED);\n    }\n  };\n  Stepper.prototype.renderItems = function () {\n    var _this = this;\n    for (var index = 0; index < this.steps.length; index++) {\n      this.stepperItemContainer = this.createElement('li', {\n        className: ITEMCONTAINER\n      });\n      this.stepperItemContainer.classList[index === 0 ? 'add' : 'remove'](SELECTED, INPROGRESS);\n      this.stepperItemContainer.classList[index !== 0 ? 'add' : 'remove'](NOTSTARTED);\n      if (this.element.classList.contains(HORIZSTEP)) {\n        this.stepperItemContainer.style.setProperty('--max-width', 100 / this.steps.length + '%');\n      }\n      var stepSpan = this.createElement('span', {\n        className: 'e-step'\n      });\n      var item = this.steps[parseInt(index.toString(), 10)];\n      var isItemLabel = item.label ? true : false;\n      var isItemText = item.text ? true : false;\n      if (this.renderDefault(index) && (isNullOrUndefined(this.template) || this.template === '')) {\n        var isIndicator = !this.element.classList.contains('e-step-type-default') && this.stepType.toLowerCase() === 'indicator' ? true : false;\n        if (isIndicator) {\n          stepSpan.classList.add('e-icons', INDICATORICON);\n        }\n        if (!isIndicator && item.isValid == null) {\n          stepSpan.classList.add('e-step-content');\n          stepSpan.innerHTML = (index + 1).toString();\n        }\n        this.stepperItemContainer.appendChild(stepSpan);\n      } else if (isNullOrUndefined(this.template) || this.template === '') {\n        var isRender = true;\n        if ((item.iconCss || !item.iconCss && isItemText && isItemLabel) && (!isItemText && !isItemLabel || !this.element.classList.contains(LABELINDICATOR))) {\n          if (item.iconCss) {\n            var itemIcon = item.iconCss.trim().split(' ');\n            stepSpan.classList.add(ICONCSS);\n            for (var i = 0; i < itemIcon.length; i++) {\n              stepSpan.classList.add(itemIcon[parseInt(i.toString(), 10)]);\n            }\n            this.stepperItemContainer.classList.add(STEPICON);\n          } else if (!item.iconCss && isItemText && isItemLabel) {\n            stepSpan.classList.add(ICONCSS);\n            stepSpan.innerHTML = item.text;\n            this.stepperItemContainer.classList.add(STEPICON);\n          }\n          this.stepperItemContainer.appendChild(stepSpan);\n          if (this.element.classList.contains(HORIZSTEP) && (this.labelPosition.toLowerCase() === 'start' || this.labelPosition.toLowerCase() === 'end') && isItemLabel || this.element.classList.contains(VERTICALSTEP) && (this.labelPosition.toLowerCase() === 'top' || this.labelPosition.toLowerCase() === 'bottom') && isItemLabel) {\n            this.element.classList.add('e-label-' + this.labelPosition.toLowerCase());\n            var textSpan = this.createElement('span', {\n              className: TEXTCSS + ' ' + TEXT\n            });\n            textSpan.innerText = item.label;\n            this.stepperItemContainer.appendChild(textSpan);\n            this.stepperItemContainer.classList.add(STEPTEXT);\n            isRender = false;\n          }\n        }\n        if (isItemText && (!item.iconCss || !this.element.classList.contains(STEPINDICATOR)) && isRender && !(item.iconCss && isItemLabel)) {\n          if (!item.iconCss && this.element.classList.contains(STEPINDICATOR) || (!item.iconCss || this.element.classList.contains(LABELINDICATOR)) && !isItemLabel) {\n            if (!item.iconCss && !isItemLabel) {\n              this.element.classList.add('e-step-type-indicator');\n            }\n            this.checkValidState(item, stepSpan);\n            isItemLabel = null;\n          } else {\n            var textSpan = this.createElement('span', {\n              className: TEXT\n            });\n            if (!isItemLabel) {\n              textSpan.innerText = item.text;\n              textSpan.classList.add(TEXTCSS);\n              this.stepperItemContainer.appendChild(textSpan);\n              this.stepperItemContainer.classList.add(STEPTEXT);\n            }\n            if (isItemLabel && this.element.classList.contains(LABELINDICATOR)) {\n              textSpan.innerText = item.label;\n            }\n            isItemText = item.label ? false : true;\n          }\n        }\n        if (isItemLabel && (!item.iconCss || !this.element.classList.contains(STEPINDICATOR)) && isRender) {\n          if (!item.iconCss && !isItemText && this.element.classList.contains(STEPINDICATOR)) {\n            this.checkValidState(item, stepSpan, true);\n          } else if (!(this.element.classList.contains(LABELINDICATOR) && isItemText) || this.element.classList.contains(LABELINDICATOR) && isItemLabel) {\n            this.labelContainer = this.createElement('span', {\n              className: STEPLABEL\n            });\n            var labelSpan = this.createElement('span', {\n              className: LABEL\n            });\n            labelSpan.innerText = item.label;\n            this.labelContainer.appendChild(labelSpan);\n            this.stepperItemContainer.classList.add(STEPSLABEL);\n            this.updateLabelPosition();\n            if (!item.iconCss && !isItemText && !this.stepperItemContainer.classList.contains(STEPICON) || this.element.classList.contains(LABELINDICATOR)) {\n              this.stepperItemContainer.classList.add('e-step-label-only');\n              if (item.isValid !== null) {\n                var iconSpan = this.createElement('span', {\n                  className: 'e-step-validation-icon e-icons'\n                });\n                this.labelContainer.appendChild(iconSpan);\n              }\n            }\n          }\n        }\n      }\n      if (item.optional) {\n        var optionalSpan = this.createElement('span', {\n          className: OPTIONAL\n        });\n        this.l10n.setLocale(this.locale);\n        var optionalContent = this.l10n.getConstant('optional');\n        optionalSpan.innerText = optionalContent;\n        if (isItemLabel && this.labelContainer && (this.element.classList.contains(LABELAFTER) && !this.stepperItemContainer.classList.contains('e-step-label-only') || this.element.classList.contains(HORIZSTEP) && this.element.classList.contains(LABELBEFORE) && !this.stepperItemContainer.classList.contains('e-step-label-only')) || this.element.classList.contains(VERTICALSTEP) && this.element.classList.contains(LABELBEFORE)) {\n          this.labelContainer.appendChild(optionalSpan);\n        } else {\n          this.stepperItemContainer.appendChild(optionalSpan);\n        }\n        if (item.isValid !== null) {\n          this.stepperItemContainer.classList.add(item.isValid ? 'e-step-valid' : 'e-step-error');\n        }\n      }\n      if (item.cssClass) {\n        addClass([this.stepperItemContainer], item.cssClass.trim().split(' '));\n      }\n      if (item.disabled) {\n        this.stepperItemContainer.classList[item.disabled ? 'add' : 'remove'](DISABLED);\n        attributes(this.stepperItemContainer, {\n          'tabindex': '-1',\n          'aria-disabled': 'true'\n        });\n      }\n      if (item.isValid !== null) {\n        if (item.isValid) {\n          this.stepperItemContainer.classList.add('e-step-valid');\n        } else {\n          this.stepperItemContainer.classList.add('e-step-error');\n        }\n      }\n      this.renderItemContent(index, false);\n      if (this.stepperItemContainer.classList.contains(INPROGRESS)) {\n        attributes(this.stepperItemContainer, {\n          'tabindex': '0',\n          'aria-current': 'true'\n        });\n      } else {\n        attributes(this.stepperItemContainer, {\n          'tabindex': '-1'\n        });\n      }\n      this.wireItemsEvents(this.stepperItemContainer, index);\n      this.stepperItemElements.push(this.stepperItemContainer);\n      var eventArgs = {\n        element: this.stepperItemContainer,\n        index: index\n      };\n      this.trigger('beforeStepRender', eventArgs, function (args) {\n        _this.stepperItemList.appendChild(args.element);\n      });\n      if (this.isAngular && this.template) {\n        setTimeout(function () {\n          _this.calculateProgressBarPosition();\n        });\n      } else {\n        this.calculateProgressBarPosition();\n      }\n    }\n    if (this.element.classList.contains(VERTICALSTEP)) {\n      if (this.element.classList.contains(LABELBEFORE)) {\n        var listItems = this.stepperItemList.querySelectorAll('.' + LABEL);\n        for (var i = 0; i < listItems.length; i++) {\n          var labelEle = listItems[parseInt(i.toString(), 10)];\n          labelEle.style.setProperty('--label-width', this.beforeLabelWidth + 5 + 'px');\n        }\n      }\n    }\n  };\n  Stepper.prototype.calculateProgressBarPosition = function () {\n    var isBeforeLabel = this.element.classList.contains(LABELBEFORE) ? true : false;\n    var isStepVertical = this.element.classList.contains(VERTICALSTEP) ? true : false;\n    if (isStepVertical) {\n      var iconOnly = this.stepperItemContainer.classList.contains(STEPICON) && !this.stepperItemContainer.classList.contains(STEPTEXT) && !this.stepperItemContainer.classList.contains(STEPSLABEL) ? true : false;\n      var textEle = this.stepperItemContainer.querySelector('.' + TEXTCSS);\n      if (textEle) {\n        this.textEleWidth = this.textEleWidth < textEle.offsetWidth ? textEle.offsetWidth : this.textEleWidth;\n      }\n      if (isBeforeLabel) {\n        var itemWidth = void 0;\n        var labelWidth = this.stepperItemContainer.querySelector('.' + LABEL).offsetWidth + 15;\n        if (this.beforeLabelWidth < labelWidth) {\n          this.beforeLabelWidth = labelWidth;\n        }\n        if (this.element.querySelector('ol').lastChild.querySelector('.' + ICONCSS)) {\n          itemWidth = this.beforeLabelWidth + this.stepperItemContainer.querySelector('.' + ICONCSS).offsetWidth / 2;\n        } else if (this.stepperItemContainer.querySelector('.' + TEXTCSS)) {\n          itemWidth = this.beforeLabelWidth + this.stepperItemContainer.querySelector('.' + TEXTCSS).offsetWidth / 2;\n        }\n        if (this.progressBarPosition < itemWidth) {\n          this.progressBarPosition = itemWidth;\n        }\n      } else if (this.progressBarPosition < (iconOnly ? this.stepperItemContainer.offsetWidth : this.element.querySelector('ol').lastChild.firstChild.offsetWidth)) {\n        this.progressBarPosition = iconOnly ? this.stepperItemContainer.offsetWidth : this.element.querySelector('ol').lastChild.firstChild.offsetWidth;\n      }\n    }\n  };\n  Stepper.prototype.checkValidState = function (item, stepSpan, isLabel) {\n    if (item.isValid == null) {\n      stepSpan.classList.add('e-step-content');\n      if (isLabel) {\n        stepSpan.innerHTML = item.label;\n      } else {\n        stepSpan.innerHTML = item.label ? item.label : item.text;\n      }\n      this.stepperItemContainer.appendChild(stepSpan);\n    } else {\n      stepSpan.classList.add(ICONCSS);\n      this.stepperItemContainer.appendChild(stepSpan);\n      this.stepperItemContainer.classList.add(STEPICON);\n    }\n  };\n  Stepper.prototype.updateCurrentLabel = function () {\n    var currentLabelPos;\n    if (this.element.classList.contains(HORIZSTEP)) {\n      currentLabelPos = this.labelPosition.toLowerCase() === 'top' ? 'before' : this.labelPosition.toLowerCase() === 'bottom' ? 'after' : this.labelPosition.toLowerCase();\n    } else {\n      currentLabelPos = this.labelPosition.toLowerCase() === 'start' ? 'before' : this.labelPosition.toLowerCase() === 'end' ? 'after' : this.labelPosition.toLowerCase();\n    }\n    return currentLabelPos;\n  };\n  Stepper.prototype.updateLabelPosition = function () {\n    this.clearLabelPosition();\n    this.labelContainer.classList.add('e-label-' + this.updateCurrentLabel());\n    if (this.labelPosition.toLowerCase() === 'start' && this.orientation.toLowerCase() === 'vertical') {\n      if (this.stepperItemContainer.firstChild) {\n        this.stepperItemContainer.firstChild.before(this.labelContainer);\n      } else {\n        this.stepperItemContainer.appendChild(this.labelContainer);\n      }\n    } else {\n      this.stepperItemContainer.appendChild(this.labelContainer);\n    }\n    this.element.classList.add('e-label-' + this.updateCurrentLabel());\n  };\n  Stepper.prototype.clearLabelPosition = function () {\n    var removeCss = this.labelContainer.classList.value.match(/(e-label-[after|before]+)/g);\n    if (removeCss) {\n      removeClass([this.labelContainer], removeCss);\n      removeClass([this.element], removeCss);\n    }\n  };\n  Stepper.prototype.checkValidStep = function () {\n    for (var index = 0; index < this.steps.length; index++) {\n      var item = this.steps[parseInt(index.toString(), 10)];\n      var itemElement = this.stepperItemElements[parseInt(index.toString(), 10)];\n      if (item.isValid !== null) {\n        var indicatorEle = void 0;\n        var iconEle = void 0;\n        if (this.element.classList.contains(STEPINDICATOR) && !item.iconCss) {\n          indicatorEle = itemElement.querySelector('.' + ICONCSS);\n        } else {\n          iconEle = itemElement.querySelector('.' + ICONCSS);\n        }\n        if (!indicatorEle && this.element.classList.contains(STEPINDICATOR) && this.renderDefault(index)) {\n          indicatorEle = itemElement.querySelector('.' + INDICATORICON);\n        }\n        var textLabelIcon = itemElement.querySelector('.e-step-validation-icon');\n        var itemIcon = item.iconCss.trim().split(' ');\n        var validStep = itemElement.classList.contains('e-step-valid');\n        if (indicatorEle) {\n          indicatorEle.classList.remove(INDICATORICON);\n          if (indicatorEle.innerHTML !== '') {\n            indicatorEle.innerHTML = '';\n          }\n          indicatorEle.classList.add('e-icons', validStep ? 'e-check' : 'e-circle-info', ICONCSS);\n        }\n        if (this.renderDefault(index) && !this.element.classList.contains(STEPINDICATOR)) {\n          var stepSpan = itemElement.querySelector('.e-step');\n          stepSpan.classList.add('e-icons', validStep ? 'e-check' : 'e-circle-info', ICONCSS);\n        }\n        if (iconEle) {\n          if (iconEle.innerHTML !== '') {\n            iconEle.innerHTML = '';\n          } else if (itemIcon.length > 0) {\n            for (var i = 0; i < itemIcon.length; i++) {\n              iconEle.classList.remove(itemIcon[parseInt(i.toString(), 10)]);\n            }\n          }\n          iconEle.classList.add('e-icons', validStep ? 'e-check' : 'e-circle-info');\n        }\n        if (textLabelIcon) {\n          textLabelIcon.classList.add(validStep ? 'e-circle-check' : 'e-circle-info');\n          if (this.element.classList.contains(VERTICALSTEP)) {\n            var labelEle = itemElement.querySelector('.' + LABEL);\n            var textEle = itemElement.querySelector('.' + TEXT);\n            var itemWidth = textEle ? textEle.offsetWidth + textEle.getBoundingClientRect().left : labelEle.offsetWidth + labelEle.getBoundingClientRect().left;\n            var validationIcon = itemElement.querySelector('.e-step-validation-icon');\n            validationIcon.style.setProperty('--icon-position', itemWidth + 20 + 'px');\n          }\n        }\n      }\n    }\n  };\n  Stepper.prototype.updateTooltip = function () {\n    if (this.showTooltip) {\n      this.tooltipObj = new Tooltip({\n        target: '.e-step-container',\n        windowCollision: true,\n        opensOn: 'Custom',\n        cssClass: this.cssClass ? STEPPERTOOLTIP + ' ' + this.cssClass : STEPPERTOOLTIP,\n        position: 'TopCenter'\n      });\n      this.tooltipObj.appendTo(this.stepperItemList);\n    } else {\n      if (!isNullOrUndefined(this.tooltipObj)) {\n        this.tooltipObj.destroy();\n        this.tooltipObj = null;\n      }\n    }\n  };\n  Stepper.prototype.wireItemsEvents = function (itemElement, index) {\n    var _this = this;\n    EventHandler.add(itemElement, 'click', function (e) {\n      if (_this.linear) {\n        var linearModeValue = index - _this.activeStep;\n        if (Math.abs(linearModeValue) === 1) {\n          _this.stepClickHandler(index, e, itemElement);\n        }\n      } else {\n        _this.stepClickHandler(index, e, itemElement);\n      }\n    }, this);\n    EventHandler.add(itemElement, 'mouseover', function () {\n      return _this.openStepperTooltip(index);\n    }, this);\n    EventHandler.add(itemElement, 'mouseleave', function () {\n      return _this.closeStepperTooltip();\n    }, this);\n  };\n  Stepper.prototype.openStepperTooltip = function (index) {\n    var currentStep = this.steps[parseInt(index.toString(), 10)];\n    if (this.showTooltip && (currentStep.label || currentStep.text)) {\n      if (!this.tooltipOpen) {\n        this.updateTooltipContent(index);\n        this.tooltipObj.open(this.stepperItemElements[parseInt(index.toString(), 10)]);\n        if (this.stepType.toLocaleLowerCase() !== 'label' && (this.stepType.toLocaleLowerCase() === 'indicator' || currentStep.label !== '' && currentStep.iconCss !== '' || currentStep.label === null && currentStep.iconCss === '' && currentStep.text !== '')) {\n          var tooltipPopupClass = currentStep.status.toLowerCase() === 'inprogress' ? STEPPERTOOLTIP + \" \" + STEPPERIPROGRESSTIP + \" \" + (this.cssClass ? this.cssClass : '') : STEPPERTOOLTIP + \" \" + (this.cssClass ? this.cssClass : '');\n          this.tooltipObj.setProperties({\n            cssClass: tooltipPopupClass.trim()\n          });\n        }\n        this.tooltipOpen = true;\n      }\n    }\n  };\n  Stepper.prototype.closeStepperTooltip = function () {\n    if (this.tooltipOpen) {\n      this.tooltipObj.close();\n      this.tooltipOpen = false;\n    }\n  };\n  Stepper.prototype.updateTooltipContent = function (index) {\n    if (this.showTooltip) {\n      if (this.isReact) {\n        this.clearTemplate(['stepperTooltipTemplate']);\n      }\n      var content = void 0;\n      var currentStep = this.steps[parseInt(index.toString(), 10)];\n      if (this.tooltipTemplate) {\n        content = this.createElement('span', {\n          className: 'e-stepper-tooltip-content'\n        });\n        var templateFunction = this.getTemplateFunction(this.tooltipTemplate);\n        append(templateFunction({\n          value: currentStep\n        }, this, 'stepperTooltipTemplate', this.element.id + 'tooltipTemplate', this.isStringTemplate), content);\n        this.tooltipObj.setProperties({\n          content: content\n        }, true);\n      } else {\n        var content_1 = currentStep.label ? currentStep.label : currentStep.text;\n        this.tooltipObj.setProperties({\n          content: initializeCSPTemplate(function () {\n            return content_1;\n          })\n        }, true);\n      }\n      this.renderReactTemplates();\n    }\n  };\n  Stepper.prototype.stepClickHandler = function (index, e, itemElement) {\n    var clickEventArgs = {\n      element: itemElement,\n      event: e,\n      previousStep: this.activeStep,\n      activeStep: index\n    };\n    this.trigger('stepClick', clickEventArgs);\n    this.navigateToStep(index, e, itemElement, true);\n  };\n  Stepper.prototype.updateTemplateFunction = function () {\n    this.templateFunction = this.template ? this.getTemplateFunction(this.template) : null;\n  };\n  Stepper.prototype.renderItemContent = function (index, isrerender) {\n    var listItems = this.stepperItemList.querySelectorAll('li');\n    if (isrerender) {\n      this.removeItemContent(listItems[parseInt(index.toString(), 10)]);\n    }\n    if (this.template) {\n      if (isrerender) {\n        listItems[parseInt(index.toString(), 10)].classList.add(TEMPLATE);\n      } else {\n        this.stepperItemContainer.classList.add(TEMPLATE);\n      }\n      var item = this.steps[parseInt(index.toString(), 10)];\n      append(this.templateFunction({\n        step: item,\n        currentStep: index\n      }, this, 'stepperTemplate', this.element.id + '_stepperTemplate', this.isStringTemplate), isrerender ? listItems[parseInt(index.toString(), 10)] : this.stepperItemContainer);\n    }\n    this.renderReactTemplates();\n  };\n  Stepper.prototype.removeItemContent = function (ele) {\n    ele.classList.remove(TEMPLATE);\n    var firstChild = ele.firstElementChild;\n    for (var i = 0; i < ele.childElementCount; i++) {\n      firstChild.remove();\n    }\n  };\n  Stepper.prototype.updateContent = function () {\n    if (this.isReact) {\n      this.clearTemplate(['stepperTemplate']);\n    }\n    for (var i = 0; i < this.steps.length; i++) {\n      this.renderItemContent(i, true);\n    }\n  };\n  /**\n   * Gets template content based on the template property value.\n   *\n   * @param {string | Function} template - Template property value.\n   * @returns {Function} - Return template function.\n   * @hidden\n   */\n  Stepper.prototype.getTemplateFunction = function (template) {\n    if (typeof template === 'string') {\n      var content = '';\n      try {\n        var tempEle = select(template);\n        if (tempEle) {\n          //Return innerHTML incase of jsrenderer script else outerHTML\n          content = tempEle.tagName === 'SCRIPT' ? tempEle.innerHTML : tempEle.outerHTML;\n        } else {\n          content = template;\n        }\n      } catch (e) {\n        content = template;\n      }\n      return compile(content);\n    } else {\n      /* eslint-disable-next-line  @typescript-eslint/no-explicit-any */\n      return compile(template);\n    }\n  };\n  Stepper.prototype.navigateToStep = function (index, e, itemElement, isInteracted, isUpdated) {\n    var _this = this;\n    var eventArgs = {\n      element: itemElement,\n      event: e,\n      isInteracted: isInteracted,\n      previousStep: this.activeStep,\n      activeStep: index,\n      cancel: false\n    };\n    if (isUpdated !== false) {\n      var previousStep_1 = this.activeStep;\n      this.trigger('stepChanging', eventArgs, function (args) {\n        if (args.cancel) {\n          return;\n        }\n        _this.navigationHandler(index);\n        var eventArgs = {\n          element: itemElement,\n          event: e,\n          isInteracted: isInteracted,\n          previousStep: previousStep_1,\n          activeStep: _this.activeStep\n        };\n        _this.trigger('stepChanged', eventArgs);\n      });\n    } else {\n      this.navigationHandler(index);\n    }\n  };\n  Stepper.prototype.navigationHandler = function (index, stepStatus, isUpdated) {\n    index = index >= this.steps.length - 1 ? this.steps.length - 1 : index;\n    var Itemslength = this.stepperItemElements.length;\n    if (index >= 0 && index < Itemslength - 1) {\n      index = this.stepperItemElements[parseInt(index.toString(), 10)].classList.contains(DISABLED) ? this.activeStep : index;\n    }\n    var prevOnChange = this.isProtectedOnChange;\n    this.isProtectedOnChange = true;\n    this.activeStep = parseInt(index.toString(), 10);\n    this.isProtectedOnChange = prevOnChange;\n    for (var i = 0; i < this.steps.length; i++) {\n      var itemElement = this.stepperItemElements[parseInt(i.toString(), 10)];\n      var item = this.steps[parseInt(i.toString(), 10)];\n      itemElement.classList.remove(SELECTED, INPROGRESS, COMPLETED, NOTSTARTED);\n      if (i === this.activeStep) {\n        itemElement.classList.add(SELECTED);\n      }\n      if (this.activeStep >= 0 && this.progressbar) {\n        if (this.element.classList.contains(HORIZSTEP)) {\n          if ((this.element.classList.contains(LABELBEFORE) || this.element.classList.contains(LABELAFTER)) && !this.element.classList.contains(STEPINDICATOR) && this.stepperItemElements[parseInt(this.activeStep.toString(), 10)].classList.contains(STEPICON)) {\n            var progressPos = this.element.querySelector('.e-stepper-progressbar');\n            var selectedEle = this.stepperItemElements[parseInt(this.activeStep.toString(), 10)].firstChild;\n            var value = this.activeStep === 0 ? 0 : (selectedEle.offsetLeft - progressPos.offsetLeft + selectedEle.offsetWidth / 2) / progressPos.offsetWidth * 100;\n            if (this.element.classList.contains(RTL)) {\n              value = (progressPos.getBoundingClientRect().right - selectedEle.getBoundingClientRect().right + selectedEle.offsetWidth / 2) / progressPos.offsetWidth * 100;\n              this.progressbar.style.setProperty(PROGRESSVALUE, value + '%');\n            } else {\n              this.progressbar.style.setProperty(PROGRESSVALUE, value + '%');\n            }\n          } else {\n            var totalLiWidth = 0;\n            var activeLiWidth = 0;\n            for (var j = 0; j < this.stepperItemElements.length; j++) {\n              totalLiWidth = totalLiWidth + this.stepperItemElements[parseInt(j.toString(), 10)].offsetWidth;\n              if (j <= this.activeStep) {\n                if (j < this.activeStep) {\n                  activeLiWidth = activeLiWidth + this.stepperItemElements[parseInt(j.toString(), 10)].offsetWidth;\n                } else if (j === this.activeStep && j !== 0) {\n                  activeLiWidth = activeLiWidth + this.stepperItemElements[parseInt(j.toString(), 10)].offsetWidth / 2;\n                }\n              }\n            }\n            var spaceWidth = (this.stepperItemList.offsetWidth - totalLiWidth) / (this.stepperItemElements.length - 1);\n            var progressValue = (activeLiWidth + spaceWidth * this.activeStep) / this.stepperItemList.offsetWidth * 100;\n            this.progressbar.style.setProperty(PROGRESSVALUE, progressValue + '%');\n          }\n        } else {\n          this.progressbar.style.setProperty(PROGRESSVALUE, 100 / (this.steps.length - 1) * index + '%');\n        }\n      } else if (this.activeStep < 0 && this.progressbar) {\n        this.progressbar.style.setProperty(PROGRESSVALUE, 0 + '%');\n      }\n      if (i === this.activeStep) {\n        itemElement.classList.add(INPROGRESS);\n      } else if (this.activeStep > 0 && i < this.activeStep) {\n        itemElement.classList.add(COMPLETED);\n      } else {\n        itemElement.classList.add(NOTSTARTED);\n      }\n      if (itemElement.classList.contains(INPROGRESS)) {\n        attributes(itemElement, {\n          'tabindex': '0',\n          'aria-current': 'true'\n        });\n      } else {\n        attributes(itemElement, {\n          'tabindex': '-1',\n          'aria-current': 'false'\n        });\n      }\n      var prevOnChange_1 = this.isProtectedOnChange;\n      this.isProtectedOnChange = true;\n      if (isUpdated !== false) {\n        if (i < this.activeStep || this.steps.length - 1 === this.activeStep && item.status.toLowerCase() === 'completed') {\n          item.status = StepStatus.Completed;\n        } else if (i === this.activeStep) {\n          item.status = StepStatus.InProgress;\n        } else if (i > this.activeStep) {\n          item.status = StepStatus.NotStarted;\n        }\n        if (stepStatus && this.activeStep === i) {\n          item.status = stepStatus;\n        }\n        if (item.status.toLowerCase() === 'completed') {\n          itemElement.classList.remove(SELECTED, INPROGRESS, NOTSTARTED);\n          itemElement.classList.add(COMPLETED);\n        }\n        if (item.status.toLowerCase() === 'notstarted') {\n          itemElement.classList.remove(SELECTED, INPROGRESS, COMPLETED);\n          itemElement.classList.add(NOTSTARTED);\n        }\n      }\n      this.isProtectedOnChange = prevOnChange_1;\n      if (this.renderDefault(i) && this.element.classList.contains(STEPINDICATOR) && !itemElement.classList.contains('e-step-valid') && !itemElement.classList.contains('e-step-error')) {\n        if (itemElement.classList.contains(COMPLETED)) {\n          itemElement.firstChild.classList.remove('e-icons', 'e-step-indicator');\n          itemElement.firstChild.classList.add(ICONCSS, 'e-icons', 'e-check');\n        } else if (itemElement.classList.contains(INPROGRESS) || itemElement.classList.contains(NOTSTARTED)) {\n          itemElement.firstChild.classList.remove(ICONCSS, 'e-icons', 'e-check');\n          itemElement.firstChild.classList.add('e-icons', 'e-step-indicator');\n        }\n      }\n    }\n    this.updateStepInteractions();\n  };\n  Stepper.prototype.updateStepInteractions = function () {\n    var _this = this;\n    this.element.classList.toggle(LINEARSTEP, this.linear);\n    this.stepperItemElements.forEach(function (step, index) {\n      var isPreviousStep = index === _this.activeStep - 1;\n      var isNextStep = index === _this.activeStep + 1;\n      step.classList.toggle(PREVSTEP, isPreviousStep);\n      step.classList.toggle(NEXTSTEP, isNextStep);\n    });\n  };\n  Stepper.prototype.removeItemElements = function () {\n    for (var i = 0; i < this.stepperItemElements.length; i++) {\n      remove(this.stepperItemElements[parseInt(i.toString(), 10)]);\n    }\n    this.stepperItemElements = [];\n  };\n  /**\n   * Move to next step from current step in Stepper.\n   *\n   * @returns {void}\n   */\n  Stepper.prototype.nextStep = function () {\n    if (this.activeStep !== this.steps.length - 1) {\n      this.navigateToStep(this.activeStep + 1, null, null, false);\n    }\n  };\n  /**\n   * Move to previous step from current step in Stepper.\n   *\n   * @returns {void}\n   */\n  Stepper.prototype.previousStep = function () {\n    if (this.activeStep > 0) {\n      this.navigateToStep(this.activeStep - 1, null, null, false);\n    }\n  };\n  /**\n   * Reset the state of the Stepper and move to the first step.\n   *\n   * @returns {void}\n   */\n  Stepper.prototype.reset = function () {\n    if (this.activeStep === 0) {\n      this.updateStepInteractions();\n    } else {\n      var isDisabled = this.stepperItemElements[0].classList.contains(DISABLED) ? true : false;\n      this.navigateToStep(isDisabled ? -1 : 0, null, null, false);\n    }\n  };\n  /**\n   * Refreshes the position of the progress bar programmatically when the dimensions of the parent container are changed.\n   *\n   * @returns {void}\n   */\n  Stepper.prototype.refreshProgressbar = function () {\n    if (this.stepperItemList && this.progressbar) {\n      this.setProgressPosition(this.element);\n    }\n    this.navigateToStep(this.activeStep, null, null, false, false);\n  };\n  Stepper.prototype.updateElementClassArray = function () {\n    var classArray = [RTL, READONLY, 'e-steps-focus', LABELAFTER, LABELBEFORE, 'e-label-top', 'e-label-bottom', 'e-label-start', 'e-label-end', STEPINDICATOR, LABELINDICATOR, VERTICALSTEP, HORIZSTEP, LINEARSTEP];\n    removeClass([this.element], classArray);\n  };\n  /**\n   * Destroy the stepper control.\n   *\n   * @returns {void}\n   */\n  Stepper.prototype.destroy = function () {\n    _super.prototype.destroy.call(this);\n    this.unWireEvents();\n    // unwires the events and detach the li elements\n    this.removeItemElements();\n    this.clearTemplate();\n    if (this.stepperItemList) {\n      remove(this.stepperItemList);\n    }\n    this.stepperItemList = null;\n    if (this.progressStep) {\n      remove(this.progressStep);\n    }\n    this.progressStep = null;\n    this.progressbar = null;\n    this.progressBarPosition = null;\n    this.stepperItemContainer = null;\n    this.textContainer = null;\n    this.labelContainer = null;\n    this.updateElementClassArray();\n    this.element.removeAttribute('aria-label');\n    if (this.showTooltip) {\n      this.tooltipObj.destroy();\n      this.tooltipObj = null;\n    }\n    if (this.keyboardModuleStepper) {\n      this.keyboardModuleStepper.destroy();\n    }\n    this.keyboardModuleStepper = null;\n  };\n  Stepper.prototype.wireKeyboardEvent = function () {\n    this.keyboardModuleStepper = new KeyboardEvents(this.element, {\n      keyAction: this.keyActionHandler.bind(this),\n      keyConfigs: this.keyConfigs,\n      eventName: 'keydown'\n    });\n  };\n  Stepper.prototype.keyActionHandler = function (e) {\n    if (this.readOnly) {\n      return;\n    }\n    switch (e.action) {\n      case 'uparrow':\n      case 'downarrow':\n      case 'leftarrow':\n      case 'rightarrow':\n      case 'tab':\n      case 'shiftTab':\n        this.handleNavigation(this.enableRtl && this.element.classList.contains(HORIZSTEP) ? e.action === 'leftarrow' || e.action === 'tab' || e.action === 'uparrow' : e.action === 'rightarrow' || e.action === 'tab' || e.action === 'downarrow', e);\n        break;\n      case 'space':\n      case 'enter':\n      case 'escape':\n        this.handleNavigation(null, e);\n        break;\n      case 'home':\n      case 'end':\n        this.handleNavigation(null, e, this.enableRtl);\n        break;\n    }\n  };\n  Stepper.prototype.handleNavigation = function (isNextStep, e, isRTL) {\n    this.isKeyNavFocus = true;\n    this.element.classList.add('e-steps-focus');\n    var focusedEle = this.element.querySelector('.' + FOCUS);\n    if (!focusedEle) {\n      focusedEle = this.element.querySelector('.' + SELECTED);\n    }\n    var stepItems = Array.prototype.slice.call(this.stepperItemList.children);\n    var index = stepItems.indexOf(focusedEle);\n    if (e.action === 'tab' || e.action === 'shiftTab' || e.action === 'downarrow' || e.action === 'uparrow' || e.action === 'space' || e.action === 'home' || e.action === 'end') {\n      if (e.action === 'tab' && index === stepItems.length - 1 || e.action === 'shiftTab' && index === 0) {\n        if (focusedEle.classList.contains(FOCUS)) {\n          this.updateStepFocus();\n          return;\n        }\n      } else {\n        e.preventDefault();\n      }\n    }\n    if (e.action === 'escape') {\n      stepItems[parseInt(index.toString(), 10)].classList.remove(FOCUS);\n      this.element.classList.remove('e-steps-focus');\n    }\n    if (!(e.action === 'space' || e.action === 'enter')) {\n      var prevIndex = index;\n      index = isNextStep ? index + 1 : index - 1;\n      while (index >= 0 && index < stepItems.length && stepItems[parseInt(index.toString(), 10)].classList.contains(DISABLED)) {\n        index = isNextStep ? index + 1 : index - 1;\n      }\n      index = index < 0 ? 0 : index > stepItems.length - 1 ? stepItems.length - 1 : index;\n      if (stepItems[parseInt(prevIndex.toString(), 10)].classList.contains(FOCUS)) {\n        stepItems[parseInt(prevIndex.toString(), 10)].classList.remove(FOCUS);\n      }\n      if (e.action === 'home' || e.action === 'end') {\n        if (e.action === 'home') {\n          index = isRTL ? stepItems.length - 1 : 0;\n        } else {\n          index = isRTL ? 0 : stepItems.length - 1;\n        }\n      }\n      if (index >= 0 && index < stepItems.length) {\n        stepItems[parseInt(index.toString(), 10)].classList.add(FOCUS);\n      }\n    } else if (e.action === 'space' || e.action === 'enter') {\n      var isupdateFocus = false;\n      if (this.linear) {\n        var linearModeValue = this.activeStep - index;\n        if (Math.abs(linearModeValue) === 1) {\n          this.navigateToStep(index, null, null, true);\n          isupdateFocus = true;\n        }\n      } else {\n        this.navigateToStep(index, null, null, true);\n        isupdateFocus = true;\n      }\n      if (isupdateFocus) {\n        this.updateStepFocus();\n        this.stepperItemElements[index].focus();\n      }\n    }\n  };\n  Stepper.prototype.renderStepperItems = function (isUpdate, isStepType) {\n    this.updateElementClassArray();\n    this.removeItemElements();\n    this.element.querySelector('.e-stepper-progressbar').remove();\n    if (isUpdate) {\n      this.updatePosition();\n    }\n    if (isStepType) {\n      this.updateStepType();\n    }\n    if (this.readOnly && !this.element.classList.contains(READONLY)) {\n      this.element.classList.add(READONLY);\n    }\n    if (this.enableRtl && !this.element.classList.contains(RTL)) {\n      this.element.classList.add(RTL);\n    }\n    this.updateOrientaion(this.element);\n    this.renderItems();\n    this.renderProgressBar(this.element);\n    this.checkValidStep();\n    this.updateAnimation();\n    this.navigateToStep(this.activeStep, null, this.stepperItemElements[this.activeStep], true);\n  };\n  /**\n   * Called internally if any of the property value changed.\n   *\n   * @param  {StepperModel} newProp - Specifies new properties\n   * @param  {StepperModel} oldProp - Specifies old properties\n   * @returns {void}\n   * @private\n   */\n  Stepper.prototype.onPropertyChanged = function (newProp, oldProp) {\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n      switch (prop) {\n        case 'steps':\n          {\n            if (!(newProp.steps instanceof Array && oldProp.steps instanceof Array)) {\n              var stepCounts = Object.keys(newProp.steps);\n              for (var i = 0; i < stepCounts.length; i++) {\n                var index = parseInt(Object.keys(newProp.steps)[i], 10);\n                var changedPropsCount = Object.keys(newProp.steps[index]).length;\n                for (var j = 0; j < changedPropsCount; j++) {\n                  var property = Object.keys(newProp.steps[index])[j];\n                  if (property === 'status') {\n                    if (this.activeStep === index) {\n                      this.navigationHandler(index, newProp.steps[index].status);\n                    } else {\n                      this.steps[index].status = oldProp.steps[index].status;\n                    }\n                  } else {\n                    this.removeItemElements();\n                    this.renderItems();\n                    this.updateStepperStatus();\n                  }\n                  if (property === 'label' && (this.steps[index].iconCss || this.steps[index].text) && this.stepType.toLowerCase() === 'default') {\n                    this.refreshProgressbar();\n                  }\n                  this.updateStepInteractions();\n                  this.checkValidStep();\n                }\n              }\n            } else {\n              this.renderStepperItems(true, true);\n            }\n            break;\n          }\n        case 'orientation':\n          this.updateOrientaion(this.element);\n          this.renderStepperItems(true);\n          break;\n        case 'activeStep':\n          this.activeStep = newProp.activeStep > this.steps.length - 1 || newProp.activeStep < -1 ? oldProp.activeStep : this.activeStep;\n          if (this.activeStep >= 0 && this.stepperItemElements[parseInt(this.activeStep.toString(), 10)].classList.contains(DISABLED)) {\n            this.activeStep = oldProp.activeStep;\n          }\n          if (this.linear) {\n            var linearModeValue = oldProp.activeStep - this.activeStep;\n            if (Math.abs(linearModeValue) === 1) {\n              this.navigateToStep(this.activeStep, null, null, true);\n            }\n          } else {\n            this.navigateToStep(this.activeStep, null, this.stepperItemElements[this.activeStep], true);\n          }\n          break;\n        case 'enableRtl':\n          this.element.classList[this.enableRtl ? 'add' : 'remove'](RTL);\n          break;\n        case 'readOnly':\n          this.element.classList[this.readOnly ? 'add' : 'remove'](READONLY);\n          break;\n        case 'cssClass':\n          if (oldProp.cssClass) {\n            removeClass([this.element], oldProp.cssClass.trim().split(' '));\n          }\n          if (newProp.cssClass) {\n            addClass([this.element], newProp.cssClass.trim().split(' '));\n          }\n          if (this.tooltipObj) {\n            this.tooltipObj.setProperties({\n              cssClass: this.cssClass ? STEPPERTOOLTIP + ' ' + this.cssClass : STEPPERTOOLTIP\n            });\n          }\n          break;\n        case 'labelPosition':\n          this.renderStepperItems(true);\n          break;\n        case 'showTooltip':\n          this.updateTooltip();\n          break;\n        case 'stepType':\n          this.renderStepperItems(true, true);\n          break;\n        case 'template':\n          this.updateTemplateFunction();\n          this.updateContent();\n          break;\n        case 'animation':\n          this.updateAnimation();\n          break;\n        case 'linear':\n          this.updateStepInteractions();\n          break;\n      }\n    }\n  };\n  __decorate([Property(0)], Stepper.prototype, \"activeStep\", void 0);\n  __decorate([Complex({}, StepperAnimationSettings)], Stepper.prototype, \"animation\", void 0);\n  __decorate([Property(false)], Stepper.prototype, \"linear\", void 0);\n  __decorate([Property(false)], Stepper.prototype, \"showTooltip\", void 0);\n  __decorate([Property('')], Stepper.prototype, \"template\", void 0);\n  __decorate([Property('')], Stepper.prototype, \"tooltipTemplate\", void 0);\n  __decorate([Property(StepLabelPosition.Bottom)], Stepper.prototype, \"labelPosition\", void 0);\n  __decorate([Property(StepType.Default)], Stepper.prototype, \"stepType\", void 0);\n  __decorate([Event()], Stepper.prototype, \"stepChanged\", void 0);\n  __decorate([Event()], Stepper.prototype, \"stepChanging\", void 0);\n  __decorate([Event()], Stepper.prototype, \"stepClick\", void 0);\n  __decorate([Event()], Stepper.prototype, \"beforeStepRender\", void 0);\n  Stepper = __decorate([NotifyPropertyChanges], Stepper);\n  return Stepper;\n}(StepperBase);\nexport { Stepper };","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","attributes","NotifyPropertyChanges","L10n","append","isNullOrUndefined","getUniqueID","Complex","KeyboardEvents","ChildProperty","Property","EventHandler","Event","addClass","remove","removeClass","initializeCSPTemplate","select","compile","StepperBase","StepStatus","Tooltip","ITEMCONTAINER","ITEMLIST","ICONCSS","TEXTCSS","STEPLABEL","OPTIONAL","SELECTED","INPROGRESS","NOTSTARTED","FOCUS","COMPLETED","DISABLED","READONLY","PROGRESSVALUE","RTL","TEMPLATE","LABELAFTER","LABELBEFORE","VERTICALSTEP","HORIZSTEP","STEPICON","STEPTEXT","TEXT","STEPSLABEL","LABEL","STEPINDICATOR","LABELINDICATOR","INDICATORICON","STEPPERTOOLTIP","STEPPERIPROGRESSTIP","LINEARSTEP","PREVSTEP","NEXTSTEP","StepperAnimationSettings","_super","apply","StepLabelPosition","StepType","Stepper","options","element","_this","call","stepperItemElements","preRender","id","getModuleName","localeText","optional","l10n","locale","keyConfigs","downarrow","leftarrow","rightarrow","uparrow","space","enter","home","end","tab","shiftTab","escape","tooltipOpen","render","initialize","navigationHandler","activeStep","updateStepperStatus","setAttribute","updatePosition","stepperItemList","createElement","className","updateOrientaion","updateStepType","appendChild","cssClass","trim","split","readOnly","classList","add","enableRtl","wireEvents","updateTemplateFunction","renderItems","steps","isAngular","template","setTimeout","renderProgressBar","checkValidStep","updateAnimation","updateTooltip","wireKeyboardEvent","progressBarPosition","beforeLabelWidth","textEleWidth","renderDefault","index","parseInt","toString","iconCss","text","label","progressEle","querySelector","animation","enable","duration","style","setProperty","delay","stepType","toLowerCase","labelContainer","clearLabelPosition","window","updateResize","updateStepFocus","unWireEvents","progressbar","contains","setProgressPosition","navigateToStep","isKeyNavFocus","isFocus","isInitial","item","status_1","status","prevOnChange","isProtectedOnChange","InProgress","itemElement","updateStatusClass","currentStep","ele","isInprogress","stepItem","Completed","stepperItemContainer","stepSpan","isItemLabel","isItemText","isIndicator","isValid","innerHTML","isRender","itemIcon","labelPosition","textSpan","innerText","checkValidState","labelSpan","updateLabelPosition","iconSpan","optionalSpan","setLocale","optionalContent","getConstant","disabled","renderItemContent","wireItemsEvents","push","eventArgs","trigger","args","calculateProgressBarPosition","listItems","querySelectorAll","labelEle","isBeforeLabel","isStepVertical","iconOnly","textEle","offsetWidth","itemWidth","labelWidth","lastChild","firstChild","isLabel","updateCurrentLabel","currentLabelPos","orientation","before","removeCss","value","match","indicatorEle","iconEle","textLabelIcon","validStep","getBoundingClientRect","left","validationIcon","showTooltip","tooltipObj","windowCollision","opensOn","position","appendTo","destroy","e","linear","linearModeValue","Math","abs","stepClickHandler","openStepperTooltip","closeStepperTooltip","updateTooltipContent","open","toLocaleLowerCase","tooltipPopupClass","setProperties","close","isReact","clearTemplate","content","tooltipTemplate","templateFunction","getTemplateFunction","isStringTemplate","content_1","renderReactTemplates","clickEventArgs","event","previousStep","isrerender","removeItemContent","step","firstElementChild","childElementCount","updateContent","tempEle","tagName","outerHTML","isInteracted","isUpdated","cancel","previousStep_1","stepStatus","Itemslength","progressPos","selectedEle","offsetLeft","right","totalLiWidth","activeLiWidth","j","spaceWidth","progressValue","prevOnChange_1","NotStarted","updateStepInteractions","toggle","forEach","isPreviousStep","isNextStep","removeItemElements","nextStep","reset","isDisabled","refreshProgressbar","updateElementClassArray","classArray","progressStep","textContainer","removeAttribute","keyboardModuleStepper","keyAction","keyActionHandler","bind","eventName","action","handleNavigation","isRTL","focusedEle","stepItems","slice","children","indexOf","preventDefault","prevIndex","isupdateFocus","focus","renderStepperItems","isUpdate","isStepType","onPropertyChanged","newProp","oldProp","_i","_a","keys","prop","stepCounts","changedPropsCount","property","Bottom","Default"],"sources":["/var/www/vue/vue-gantt-chart/node_modules/@syncfusion/ej2-navigations/src/stepper/stepper.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n// eslint-disable-next-line @typescript-eslint/triple-slash-reference\n///<reference path='../stepper-base/stepper-base-model.d.ts'/>\nimport { attributes, NotifyPropertyChanges, L10n, append, isNullOrUndefined, getUniqueID, Complex, KeyboardEvents, ChildProperty, Property, EventHandler, Event, addClass, remove, removeClass, initializeCSPTemplate, select, compile } from '@syncfusion/ej2-base';\nimport { StepperBase, StepStatus } from '../stepper-base/stepper-base';\nimport { Tooltip } from '@syncfusion/ej2-popups';\nvar ITEMCONTAINER = 'e-step-container';\nvar ITEMLIST = 'e-stepper-steps';\nvar ICONCSS = 'e-indicator';\nvar TEXTCSS = 'e-step-text-container';\nvar STEPLABEL = 'e-step-label-container';\nvar OPTIONAL = 'e-step-label-optional';\nvar SELECTED = 'e-step-selected';\nvar INPROGRESS = 'e-step-inprogress';\nvar NOTSTARTED = 'e-step-notstarted';\nvar FOCUS = 'e-step-focus';\nvar COMPLETED = 'e-step-completed';\nvar DISABLED = 'e-step-disabled';\nvar READONLY = 'e-stepper-readonly';\nvar PROGRESSVALUE = '--progress-value';\nvar RTL = 'e-rtl';\nvar TEMPLATE = 'e-step-template';\nvar LABELAFTER = 'e-label-after';\nvar LABELBEFORE = 'e-label-before';\nvar VERTICALSTEP = 'e-vertical';\nvar HORIZSTEP = 'e-horizontal';\nvar STEPICON = 'e-step-item';\nvar STEPTEXT = 'e-step-text';\nvar TEXT = 'e-text';\nvar STEPSLABEL = 'e-step-label';\nvar LABEL = 'e-label';\nvar STEPINDICATOR = 'e-step-type-indicator';\nvar LABELINDICATOR = 'e-step-type-label';\nvar INDICATORICON = 'e-step-indicator';\nvar STEPPERTOOLTIP = 'e-stepper-tooltip';\nvar STEPPERIPROGRESSTIP = 'e-step-inprogress-tip';\nvar LINEARSTEP = 'e-linear';\nvar PREVSTEP = 'e-previous';\nvar NEXTSTEP = 'e-next';\n/**\n * Defines the step progress animation of the Stepper.\n */\nvar StepperAnimationSettings = /** @class */ (function (_super) {\n    __extends(StepperAnimationSettings, _super);\n    function StepperAnimationSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(true)\n    ], StepperAnimationSettings.prototype, \"enable\", void 0);\n    __decorate([\n        Property(2000)\n    ], StepperAnimationSettings.prototype, \"duration\", void 0);\n    __decorate([\n        Property(0)\n    ], StepperAnimationSettings.prototype, \"delay\", void 0);\n    return StepperAnimationSettings;\n}(ChildProperty));\nexport { StepperAnimationSettings };\n/**\n * Defines the label position in the Stepper.\n */\nexport var StepLabelPosition;\n(function (StepLabelPosition) {\n    /**\n     * Displays the label on top position regardless of the Stepper's orientation.\n     */\n    StepLabelPosition[\"Top\"] = \"Top\";\n    /**\n     * Displays the label on bottom position regardless of the Stepper's orientation.\n     */\n    StepLabelPosition[\"Bottom\"] = \"Bottom\";\n    /**\n     * Displays the label on left side regardless of the Stepper's orientation.\n     */\n    StepLabelPosition[\"Start\"] = \"Start\";\n    /**\n     * Displays the label on right side regardless of the Stepper's orientation.\n     */\n    StepLabelPosition[\"End\"] = \"End\";\n})(StepLabelPosition || (StepLabelPosition = {}));\n/**\n * Defines whether steps are display with only indicator, only labels or combination of both.\n */\nexport var StepType;\n(function (StepType) {\n    /**\n     * Steps are shown indicator with label defined.\n     */\n    StepType[\"Default\"] = \"Default\";\n    /**\n     * Steps are shown with only label.\n     */\n    StepType[\"Label\"] = \"Label\";\n    /**\n     * Steps are shown with only indicator.\n     */\n    StepType[\"Indicator\"] = \"Indicator\";\n})(StepType || (StepType = {}));\n/**\n * The Stepper component visualizes several steps and indicates the current progress by highlighting already completed steps.\n *\n * ```html\n * <nav id=\"stepper\"></nav>\n * ```\n * ```typescript\n * <script>\n *   let stepperObj: Stepper = new Stepper({steps : [{}, {}, {}, {}, {}]});\n *   stepperObj.appendTo('#stepper');\n * </script>\n * ```\n */\nvar Stepper = /** @class */ (function (_super) {\n    __extends(Stepper, _super);\n    /**\n     * * Constructor for creating the Stepper component.\n     *\n     * @param {StepperModel} options - Specifies the Stepper model.\n     * @param {string | HTMLElement} element - Specifies the element to render as component.\n     * @private\n     */\n    function Stepper(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.stepperItemElements = [];\n        return _this;\n    }\n    Stepper.prototype.preRender = function () {\n        if (!this.element.id) {\n            this.element.id = getUniqueID('e-' + this.getModuleName());\n        }\n        var localeText = { optional: 'Optional' };\n        this.l10n = new L10n('stepper', localeText, this.locale);\n        this.keyConfigs = {\n            downarrow: 'downarrow',\n            leftarrow: 'leftarrow',\n            rightarrow: 'rightarrow',\n            uparrow: 'uparrow',\n            space: 'space',\n            enter: 'enter',\n            home: 'home',\n            end: 'end',\n            tab: 'tab',\n            shiftTab: 'shift+tab',\n            escape: 'escape'\n        };\n        this.tooltipOpen = false;\n    };\n    /**\n     * To get component name.\n     *\n     * @returns {string} - It returns the current module name.\n     * @private\n     */\n    Stepper.prototype.getModuleName = function () {\n        return 'stepper';\n    };\n    Stepper.prototype.render = function () {\n        this.initialize();\n        this.navigationHandler(this.activeStep, null, false);\n        this.updateStepperStatus(true);\n    };\n    Stepper.prototype.initialize = function () {\n        var _this = this;\n        this.element.setAttribute('aria-label', this.element.id);\n        this.updatePosition();\n        this.stepperItemList = this.createElement('ol', { className: ITEMLIST });\n        this.updateOrientaion(this.element);\n        this.updateStepType();\n        this.element.appendChild(this.stepperItemList);\n        if (this.cssClass) {\n            addClass([this.element], this.cssClass.trim().split(' '));\n        }\n        if (this.readOnly) {\n            this.element.classList.add(READONLY);\n        }\n        if (this.enableRtl) {\n            this.element.classList.add(RTL);\n        }\n        this.wireEvents();\n        this.updateTemplateFunction();\n        this.renderItems();\n        if (this.steps.length > 0) {\n            if (this.steps.length > 1) {\n                if (this.isAngular && this.template) {\n                    setTimeout(function () {\n                        _this.renderProgressBar(_this.element);\n                    });\n                }\n                else {\n                    this.renderProgressBar(this.element);\n                }\n            }\n            this.checkValidStep();\n            this.updateAnimation();\n            this.updateTooltip();\n            this.wireKeyboardEvent();\n        }\n    };\n    Stepper.prototype.updatePosition = function () {\n        this.progressBarPosition = this.beforeLabelWidth = this.textEleWidth = 0;\n    };\n    Stepper.prototype.renderDefault = function (index) {\n        return (!this.steps[parseInt((index).toString(), 10)].iconCss && !this.steps[parseInt((index).toString(), 10)].text &&\n            !this.steps[parseInt((index).toString(), 10)].label) ? true : false;\n    };\n    Stepper.prototype.updateAnimation = function () {\n        var progressEle = this.element.querySelector('.e-progressbar-value');\n        if (this.animation.enable) {\n            if (this.animation.duration >= 0) {\n                if (progressEle) {\n                    progressEle.style.setProperty('--duration', ((this.animation.duration) + 'ms'));\n                }\n            }\n            if (this.animation.delay >= 0) {\n                if (progressEle) {\n                    progressEle.style.setProperty('--delay', ((this.animation.delay) + 'ms'));\n                }\n            }\n        }\n        else {\n            if (progressEle) {\n                progressEle.style.setProperty('--delay', (0 + 'ms'));\n                progressEle.style.setProperty('--duration', (0 + 'ms'));\n            }\n        }\n    };\n    Stepper.prototype.updateStepType = function () {\n        if (!(isNullOrUndefined(this.stepType)) && (this.stepType.toLowerCase() === 'indicator' || this.stepType.toLowerCase() === 'label' || this.stepType.toLowerCase() === 'default')) {\n            if (this.stepType.toLowerCase() !== 'default') {\n                this.element.classList.add('e-step-type-' + this.stepType.toLowerCase());\n            }\n            if (((this.stepType.toLowerCase() === 'indicator' || 'label') && (this.labelContainer))) {\n                this.clearLabelPosition();\n            }\n        }\n    };\n    Stepper.prototype.wireEvents = function () {\n        EventHandler.add(window, 'resize', this.updateResize, this);\n        EventHandler.add(window, 'click', this.updateStepFocus, this);\n    };\n    Stepper.prototype.unWireEvents = function () {\n        EventHandler.remove(window, 'resize', this.updateResize);\n        EventHandler.remove(window, 'click', this.updateStepFocus);\n    };\n    Stepper.prototype.updateResize = function () {\n        if (this.stepperItemList && this.progressbar && this.element.classList.contains(HORIZSTEP)) {\n            this.setProgressPosition(this.element, true);\n        }\n        this.navigateToStep(this.activeStep, null, null, false, false);\n    };\n    Stepper.prototype.updateStepFocus = function () {\n        if (this.isKeyNavFocus) {\n            this.isKeyNavFocus = false;\n            var isFocus = this.element.querySelector('.' + FOCUS);\n            if (isFocus) {\n                isFocus.classList.remove(FOCUS);\n                this.element.classList.remove('e-steps-focus');\n            }\n        }\n    };\n    Stepper.prototype.updateStepperStatus = function (isInitial) {\n        for (var index = 0; index < this.steps.length; index++) {\n            var item = this.steps[parseInt(index.toString(), 10)];\n            var status_1 = item.status.toLowerCase();\n            if (isInitial && this.activeStep === 0 && index === 0) {\n                var prevOnChange = this.isProtectedOnChange;\n                this.isProtectedOnChange = true;\n                item.status = StepStatus.InProgress;\n                this.isProtectedOnChange = prevOnChange;\n            }\n            if (item && status_1 !== 'notstarted' && index === this.activeStep) {\n                for (var i = 0; i < this.steps.length; i++) {\n                    var itemElement = this.stepperItemElements[parseInt(i.toString(), 10)];\n                    itemElement.classList.remove(SELECTED, INPROGRESS, COMPLETED, NOTSTARTED);\n                    var prevOnChange = this.isProtectedOnChange;\n                    this.isProtectedOnChange = true;\n                    if (status_1 === 'completed') {\n                        this.updateStatusClass(i, index, itemElement);\n                    }\n                    else {\n                        this.updateStatusClass(i, index, itemElement, true);\n                    }\n                    this.isProtectedOnChange = prevOnChange;\n                }\n            }\n            else if (item && status_1 !== 'notstarted' && index !== this.activeStep) {\n                this.navigationHandler(this.activeStep, null, true);\n            }\n        }\n    };\n    Stepper.prototype.updateStatusClass = function (currentStep, index, ele, isInprogress) {\n        var stepItem = this.steps[parseInt(currentStep.toString(), 10)];\n        if (currentStep < index) {\n            ele.classList.add(COMPLETED);\n            stepItem.status = StepStatus.Completed;\n        }\n        else if (currentStep === index) {\n            ele.classList.add(isInprogress ? INPROGRESS : COMPLETED, SELECTED);\n        }\n        else {\n            ele.classList.add(NOTSTARTED);\n        }\n    };\n    Stepper.prototype.renderItems = function () {\n        var _this = this;\n        for (var index = 0; index < this.steps.length; index++) {\n            this.stepperItemContainer = this.createElement('li', { className: ITEMCONTAINER });\n            this.stepperItemContainer.classList[(index === 0) ? 'add' : 'remove'](SELECTED, INPROGRESS);\n            this.stepperItemContainer.classList[(index !== 0) ? 'add' : 'remove'](NOTSTARTED);\n            if (this.element.classList.contains(HORIZSTEP)) {\n                this.stepperItemContainer.style.setProperty('--max-width', 100 / this.steps.length + '%');\n            }\n            var stepSpan = this.createElement('span', { className: 'e-step' });\n            var item = this.steps[parseInt(index.toString(), 10)];\n            var isItemLabel = item.label ? true : false;\n            var isItemText = item.text ? true : false;\n            if (this.renderDefault(index) && (isNullOrUndefined(this.template) || this.template === '')) {\n                var isIndicator = (!this.element.classList.contains('e-step-type-default') && this.stepType.toLowerCase() === 'indicator') ? true : false;\n                if (isIndicator) {\n                    stepSpan.classList.add('e-icons', INDICATORICON);\n                }\n                if (!isIndicator && item.isValid == null) {\n                    stepSpan.classList.add('e-step-content');\n                    stepSpan.innerHTML = (index + 1).toString();\n                }\n                this.stepperItemContainer.appendChild(stepSpan);\n            }\n            else if (isNullOrUndefined(this.template) || this.template === '') {\n                var isRender = true;\n                if ((item.iconCss || (!item.iconCss && isItemText && isItemLabel)) && (((!isItemText && !isItemLabel) ||\n                    !this.element.classList.contains(LABELINDICATOR)))) {\n                    if (item.iconCss) {\n                        var itemIcon = item.iconCss.trim().split(' ');\n                        stepSpan.classList.add(ICONCSS);\n                        for (var i = 0; i < itemIcon.length; i++) {\n                            stepSpan.classList.add(itemIcon[parseInt(i.toString(), 10)]);\n                        }\n                        this.stepperItemContainer.classList.add(STEPICON);\n                    }\n                    else if (!item.iconCss && isItemText && isItemLabel) {\n                        stepSpan.classList.add(ICONCSS);\n                        stepSpan.innerHTML = item.text;\n                        this.stepperItemContainer.classList.add(STEPICON);\n                    }\n                    this.stepperItemContainer.appendChild(stepSpan);\n                    if ((this.element.classList.contains(HORIZSTEP) && (this.labelPosition.toLowerCase() === 'start' || this.labelPosition.toLowerCase() === 'end') && isItemLabel) ||\n                        (this.element.classList.contains(VERTICALSTEP) && (this.labelPosition.toLowerCase() === 'top' || this.labelPosition.toLowerCase() === 'bottom') && isItemLabel)) {\n                        this.element.classList.add('e-label-' + this.labelPosition.toLowerCase());\n                        var textSpan = this.createElement('span', { className: TEXTCSS + ' ' + TEXT });\n                        textSpan.innerText = item.label;\n                        this.stepperItemContainer.appendChild(textSpan);\n                        this.stepperItemContainer.classList.add(STEPTEXT);\n                        isRender = false;\n                    }\n                }\n                if (isItemText && (!item.iconCss || !this.element.classList.contains(STEPINDICATOR)) && isRender &&\n                    !(item.iconCss && isItemLabel)) {\n                    if ((!item.iconCss && this.element.classList.contains(STEPINDICATOR)) ||\n                        ((!item.iconCss || this.element.classList.contains(LABELINDICATOR)) && !isItemLabel)) {\n                        if (!item.iconCss && !isItemLabel) {\n                            this.element.classList.add('e-step-type-indicator');\n                        }\n                        this.checkValidState(item, stepSpan);\n                        isItemLabel = null;\n                    }\n                    else {\n                        var textSpan = this.createElement('span', { className: TEXT });\n                        if (!isItemLabel) {\n                            textSpan.innerText = item.text;\n                            textSpan.classList.add(TEXTCSS);\n                            this.stepperItemContainer.appendChild(textSpan);\n                            this.stepperItemContainer.classList.add(STEPTEXT);\n                        }\n                        if (isItemLabel && this.element.classList.contains(LABELINDICATOR)) {\n                            textSpan.innerText = item.label;\n                        }\n                        isItemText = item.label ? false : true;\n                    }\n                }\n                if (isItemLabel && (!item.iconCss || !this.element.classList.contains(STEPINDICATOR)) && isRender) {\n                    if (!item.iconCss && !isItemText && this.element.classList.contains(STEPINDICATOR)) {\n                        this.checkValidState(item, stepSpan, true);\n                    }\n                    else if ((!((this.element.classList.contains(LABELINDICATOR)) && isItemText)) ||\n                        (this.element.classList.contains(LABELINDICATOR) && isItemLabel)) {\n                        this.labelContainer = this.createElement('span', { className: STEPLABEL });\n                        var labelSpan = this.createElement('span', { className: LABEL });\n                        labelSpan.innerText = item.label;\n                        this.labelContainer.appendChild(labelSpan);\n                        this.stepperItemContainer.classList.add(STEPSLABEL);\n                        this.updateLabelPosition();\n                        if ((!item.iconCss && !isItemText && !this.stepperItemContainer.classList.contains(STEPICON)) ||\n                            this.element.classList.contains(LABELINDICATOR)) {\n                            this.stepperItemContainer.classList.add('e-step-label-only');\n                            if (item.isValid !== null) {\n                                var iconSpan = this.createElement('span', { className: 'e-step-validation-icon e-icons' });\n                                this.labelContainer.appendChild(iconSpan);\n                            }\n                        }\n                    }\n                }\n            }\n            if (item.optional) {\n                var optionalSpan = this.createElement('span', { className: OPTIONAL });\n                this.l10n.setLocale(this.locale);\n                var optionalContent = this.l10n.getConstant('optional');\n                optionalSpan.innerText = optionalContent;\n                if (isItemLabel && (this.labelContainer && ((this.element.classList.contains(LABELAFTER) && !this.stepperItemContainer.classList.contains('e-step-label-only'))\n                    || (this.element.classList.contains(HORIZSTEP) && this.element.classList.contains(LABELBEFORE) && !this.stepperItemContainer.classList.contains('e-step-label-only'))))\n                    || (this.element.classList.contains(VERTICALSTEP) && this.element.classList.contains(LABELBEFORE))) {\n                    this.labelContainer.appendChild(optionalSpan);\n                }\n                else {\n                    this.stepperItemContainer.appendChild(optionalSpan);\n                }\n                if (item.isValid !== null) {\n                    this.stepperItemContainer.classList.add(item.isValid ? 'e-step-valid' : 'e-step-error');\n                }\n            }\n            if (item.cssClass) {\n                addClass([this.stepperItemContainer], item.cssClass.trim().split(' '));\n            }\n            if (item.disabled) {\n                this.stepperItemContainer.classList[item.disabled ? 'add' : 'remove'](DISABLED);\n                attributes(this.stepperItemContainer, { 'tabindex': '-1', 'aria-disabled': 'true' });\n            }\n            if (item.isValid !== null) {\n                if (item.isValid) {\n                    this.stepperItemContainer.classList.add('e-step-valid');\n                }\n                else {\n                    this.stepperItemContainer.classList.add('e-step-error');\n                }\n            }\n            this.renderItemContent(index, false);\n            if (this.stepperItemContainer.classList.contains(INPROGRESS)) {\n                attributes(this.stepperItemContainer, { 'tabindex': '0', 'aria-current': 'true' });\n            }\n            else {\n                attributes(this.stepperItemContainer, { 'tabindex': '-1' });\n            }\n            this.wireItemsEvents(this.stepperItemContainer, index);\n            this.stepperItemElements.push(this.stepperItemContainer);\n            var eventArgs = { element: this.stepperItemContainer, index: index };\n            this.trigger('beforeStepRender', eventArgs, function (args) {\n                _this.stepperItemList.appendChild(args.element);\n            });\n            if (this.isAngular && this.template) {\n                setTimeout(function () {\n                    _this.calculateProgressBarPosition();\n                });\n            }\n            else {\n                this.calculateProgressBarPosition();\n            }\n        }\n        if (this.element.classList.contains(VERTICALSTEP)) {\n            if (this.element.classList.contains(LABELBEFORE)) {\n                var listItems = this.stepperItemList.querySelectorAll('.' + LABEL);\n                for (var i = 0; i < listItems.length; i++) {\n                    var labelEle = listItems[parseInt((i).toString(), 10)];\n                    labelEle.style.setProperty('--label-width', (this.beforeLabelWidth) + 5 + 'px');\n                }\n            }\n        }\n    };\n    Stepper.prototype.calculateProgressBarPosition = function () {\n        var isBeforeLabel = (this.element.classList.contains(LABELBEFORE)) ? true : false;\n        var isStepVertical = (this.element.classList.contains(VERTICALSTEP)) ? true : false;\n        if (isStepVertical) {\n            var iconOnly = (this.stepperItemContainer.classList.contains(STEPICON) &&\n                !this.stepperItemContainer.classList.contains(STEPTEXT) &&\n                !this.stepperItemContainer.classList.contains(STEPSLABEL)) ? true : false;\n            var textEle = (this.stepperItemContainer.querySelector('.' + TEXTCSS));\n            if (textEle) {\n                this.textEleWidth = this.textEleWidth < textEle.offsetWidth ? textEle.offsetWidth : this.textEleWidth;\n            }\n            if (isBeforeLabel) {\n                var itemWidth = void 0;\n                var labelWidth = this.stepperItemContainer.querySelector('.' + LABEL).offsetWidth + 15;\n                if (this.beforeLabelWidth < labelWidth) {\n                    this.beforeLabelWidth = labelWidth;\n                }\n                if (this.element.querySelector('ol').lastChild.querySelector('.' + ICONCSS)) {\n                    itemWidth = (this.beforeLabelWidth + (this.stepperItemContainer.querySelector('.' + ICONCSS).offsetWidth / 2));\n                }\n                else if (this.stepperItemContainer.querySelector('.' + TEXTCSS)) {\n                    itemWidth = (this.beforeLabelWidth + (this.stepperItemContainer.querySelector('.' + TEXTCSS).offsetWidth / 2));\n                }\n                if (this.progressBarPosition < itemWidth) {\n                    this.progressBarPosition = itemWidth;\n                }\n            }\n            else if (this.progressBarPosition < (iconOnly ? this.stepperItemContainer.offsetWidth : this.element.querySelector('ol').lastChild.firstChild.offsetWidth)) {\n                this.progressBarPosition = iconOnly ? this.stepperItemContainer.offsetWidth : this.element.querySelector('ol').lastChild.firstChild.offsetWidth;\n            }\n        }\n    };\n    Stepper.prototype.checkValidState = function (item, stepSpan, isLabel) {\n        if (item.isValid == null) {\n            stepSpan.classList.add('e-step-content');\n            if (isLabel) {\n                stepSpan.innerHTML = item.label;\n            }\n            else {\n                stepSpan.innerHTML = item.label ? item.label : item.text;\n            }\n            this.stepperItemContainer.appendChild(stepSpan);\n        }\n        else {\n            stepSpan.classList.add(ICONCSS);\n            this.stepperItemContainer.appendChild(stepSpan);\n            this.stepperItemContainer.classList.add(STEPICON);\n        }\n    };\n    Stepper.prototype.updateCurrentLabel = function () {\n        var currentLabelPos;\n        if (this.element.classList.contains(HORIZSTEP)) {\n            currentLabelPos = this.labelPosition.toLowerCase() === 'top' ? 'before' : this.labelPosition.toLowerCase() === 'bottom' ? 'after' : this.labelPosition.toLowerCase();\n        }\n        else {\n            currentLabelPos = this.labelPosition.toLowerCase() === 'start' ? 'before' : this.labelPosition.toLowerCase() === 'end' ? 'after' : this.labelPosition.toLowerCase();\n        }\n        return currentLabelPos;\n    };\n    Stepper.prototype.updateLabelPosition = function () {\n        this.clearLabelPosition();\n        this.labelContainer.classList.add('e-label-' + this.updateCurrentLabel());\n        if (this.labelPosition.toLowerCase() === 'start' && this.orientation.toLowerCase() === 'vertical') {\n            if (this.stepperItemContainer.firstChild) {\n                this.stepperItemContainer.firstChild.before(this.labelContainer);\n            }\n            else {\n                this.stepperItemContainer.appendChild(this.labelContainer);\n            }\n        }\n        else {\n            this.stepperItemContainer.appendChild(this.labelContainer);\n        }\n        this.element.classList.add('e-label-' + this.updateCurrentLabel());\n    };\n    Stepper.prototype.clearLabelPosition = function () {\n        var removeCss = this.labelContainer.classList.value.match(/(e-label-[after|before]+)/g);\n        if (removeCss) {\n            removeClass([this.labelContainer], removeCss);\n            removeClass([this.element], removeCss);\n        }\n    };\n    Stepper.prototype.checkValidStep = function () {\n        for (var index = 0; index < this.steps.length; index++) {\n            var item = this.steps[parseInt(index.toString(), 10)];\n            var itemElement = this.stepperItemElements[parseInt(index.toString(), 10)];\n            if (item.isValid !== null) {\n                var indicatorEle = void 0;\n                var iconEle = void 0;\n                if (this.element.classList.contains(STEPINDICATOR) && !item.iconCss) {\n                    indicatorEle = itemElement.querySelector('.' + ICONCSS);\n                }\n                else {\n                    iconEle = itemElement.querySelector('.' + ICONCSS);\n                }\n                if (!indicatorEle && this.element.classList.contains(STEPINDICATOR) && this.renderDefault(index)) {\n                    indicatorEle = itemElement.querySelector('.' + INDICATORICON);\n                }\n                var textLabelIcon = itemElement.querySelector('.e-step-validation-icon');\n                var itemIcon = item.iconCss.trim().split(' ');\n                var validStep = itemElement.classList.contains('e-step-valid');\n                if (indicatorEle) {\n                    indicatorEle.classList.remove(INDICATORICON);\n                    if (indicatorEle.innerHTML !== '') {\n                        indicatorEle.innerHTML = '';\n                    }\n                    indicatorEle.classList.add('e-icons', validStep ? 'e-check' : 'e-circle-info', ICONCSS);\n                }\n                if (this.renderDefault(index) && !this.element.classList.contains(STEPINDICATOR)) {\n                    var stepSpan = itemElement.querySelector('.e-step');\n                    stepSpan.classList.add('e-icons', validStep ? 'e-check' : 'e-circle-info', ICONCSS);\n                }\n                if (iconEle) {\n                    if (iconEle.innerHTML !== '') {\n                        iconEle.innerHTML = '';\n                    }\n                    else if (itemIcon.length > 0) {\n                        for (var i = 0; i < itemIcon.length; i++) {\n                            iconEle.classList.remove(itemIcon[parseInt(i.toString(), 10)]);\n                        }\n                    }\n                    iconEle.classList.add('e-icons', validStep ? 'e-check' : 'e-circle-info');\n                }\n                if (textLabelIcon) {\n                    textLabelIcon.classList.add(validStep ? 'e-circle-check' : 'e-circle-info');\n                    if (this.element.classList.contains(VERTICALSTEP)) {\n                        var labelEle = itemElement.querySelector('.' + LABEL);\n                        var textEle = itemElement.querySelector('.' + TEXT);\n                        var itemWidth = textEle ? textEle.offsetWidth + textEle.getBoundingClientRect().left :\n                            labelEle.offsetWidth + labelEle.getBoundingClientRect().left;\n                        var validationIcon = itemElement.querySelector('.e-step-validation-icon');\n                        validationIcon.style.setProperty('--icon-position', (itemWidth + 20) + 'px');\n                    }\n                }\n            }\n        }\n    };\n    Stepper.prototype.updateTooltip = function () {\n        if (this.showTooltip) {\n            this.tooltipObj = new Tooltip({\n                target: '.e-step-container', windowCollision: true,\n                opensOn: 'Custom', cssClass: this.cssClass ? (STEPPERTOOLTIP + ' ' + this.cssClass) : STEPPERTOOLTIP,\n                position: 'TopCenter'\n            });\n            this.tooltipObj.appendTo(this.stepperItemList);\n        }\n        else {\n            if (!isNullOrUndefined(this.tooltipObj)) {\n                this.tooltipObj.destroy();\n                this.tooltipObj = null;\n            }\n        }\n    };\n    Stepper.prototype.wireItemsEvents = function (itemElement, index) {\n        var _this = this;\n        EventHandler.add(itemElement, 'click', function (e) {\n            if (_this.linear) {\n                var linearModeValue = index - _this.activeStep;\n                if (Math.abs(linearModeValue) === 1) {\n                    _this.stepClickHandler(index, e, itemElement);\n                }\n            }\n            else {\n                _this.stepClickHandler(index, e, itemElement);\n            }\n        }, this);\n        EventHandler.add(itemElement, 'mouseover', function () { return _this.openStepperTooltip(index); }, this);\n        EventHandler.add(itemElement, 'mouseleave', function () { return _this.closeStepperTooltip(); }, this);\n    };\n    Stepper.prototype.openStepperTooltip = function (index) {\n        var currentStep = this.steps[parseInt(index.toString(), 10)];\n        if (this.showTooltip && (currentStep.label || currentStep.text)) {\n            if (!this.tooltipOpen) {\n                this.updateTooltipContent(index);\n                this.tooltipObj.open(this.stepperItemElements[parseInt((index).toString(), 10)]);\n                if (this.stepType.toLocaleLowerCase() !== 'label' && ((this.stepType.toLocaleLowerCase() === 'indicator') ||\n                    (currentStep.label !== '' && currentStep.iconCss !== '') || (currentStep.label === null && currentStep.iconCss === '' && currentStep.text !== ''))) {\n                    var tooltipPopupClass = currentStep.status.toLowerCase() === 'inprogress' ?\n                        STEPPERTOOLTIP + \" \" + STEPPERIPROGRESSTIP + \" \" + (this.cssClass ? this.cssClass : '') : STEPPERTOOLTIP + \" \" + (this.cssClass ? this.cssClass : '');\n                    this.tooltipObj.setProperties({ cssClass: tooltipPopupClass.trim() });\n                }\n                this.tooltipOpen = true;\n            }\n        }\n    };\n    Stepper.prototype.closeStepperTooltip = function () {\n        if (this.tooltipOpen) {\n            this.tooltipObj.close();\n            this.tooltipOpen = false;\n        }\n    };\n    Stepper.prototype.updateTooltipContent = function (index) {\n        if (this.showTooltip) {\n            if (this.isReact) {\n                this.clearTemplate(['stepperTooltipTemplate']);\n            }\n            var content = void 0;\n            var currentStep = this.steps[parseInt(index.toString(), 10)];\n            if (this.tooltipTemplate) {\n                content = this.createElement('span', { className: 'e-stepper-tooltip-content' });\n                var templateFunction = this.getTemplateFunction(this.tooltipTemplate);\n                append(templateFunction({ value: currentStep }, this, 'stepperTooltipTemplate', (this.element.id + 'tooltipTemplate'), this.isStringTemplate), content);\n                this.tooltipObj.setProperties({ content: content }, true);\n            }\n            else {\n                var content_1 = currentStep.label ? currentStep.label : currentStep.text;\n                this.tooltipObj.setProperties({ content: initializeCSPTemplate(function () { return content_1; }) }, true);\n            }\n            this.renderReactTemplates();\n        }\n    };\n    Stepper.prototype.stepClickHandler = function (index, e, itemElement) {\n        var clickEventArgs = {\n            element: itemElement, event: e, previousStep: this.activeStep,\n            activeStep: index\n        };\n        this.trigger('stepClick', clickEventArgs);\n        this.navigateToStep(index, e, itemElement, true);\n    };\n    Stepper.prototype.updateTemplateFunction = function () {\n        this.templateFunction = this.template ? this.getTemplateFunction(this.template) : null;\n    };\n    Stepper.prototype.renderItemContent = function (index, isrerender) {\n        var listItems = this.stepperItemList.querySelectorAll('li');\n        if (isrerender) {\n            this.removeItemContent(listItems[parseInt((index).toString(), 10)]);\n        }\n        if (this.template) {\n            if (isrerender) {\n                listItems[parseInt((index).toString(), 10)].classList.add(TEMPLATE);\n            }\n            else {\n                this.stepperItemContainer.classList.add(TEMPLATE);\n            }\n            var item = this.steps[parseInt(index.toString(), 10)];\n            append(this.templateFunction({ step: item, currentStep: index }, this, 'stepperTemplate', (this.element.id + '_stepperTemplate'), this.isStringTemplate), isrerender ? listItems[parseInt((index).toString(), 10)] : this.stepperItemContainer);\n        }\n        this.renderReactTemplates();\n    };\n    Stepper.prototype.removeItemContent = function (ele) {\n        ele.classList.remove(TEMPLATE);\n        var firstChild = ele.firstElementChild;\n        for (var i = 0; i < ele.childElementCount; i++) {\n            firstChild.remove();\n        }\n    };\n    Stepper.prototype.updateContent = function () {\n        if (this.isReact) {\n            this.clearTemplate(['stepperTemplate']);\n        }\n        for (var i = 0; i < this.steps.length; i++) {\n            this.renderItemContent(i, true);\n        }\n    };\n    /**\n     * Gets template content based on the template property value.\n     *\n     * @param {string | Function} template - Template property value.\n     * @returns {Function} - Return template function.\n     * @hidden\n     */\n    Stepper.prototype.getTemplateFunction = function (template) {\n        if (typeof template === 'string') {\n            var content = '';\n            try {\n                var tempEle = select(template);\n                if (tempEle) {\n                    //Return innerHTML incase of jsrenderer script else outerHTML\n                    content = tempEle.tagName === 'SCRIPT' ? tempEle.innerHTML : tempEle.outerHTML;\n                }\n                else {\n                    content = template;\n                }\n            }\n            catch (e) {\n                content = template;\n            }\n            return compile(content);\n        }\n        else {\n            /* eslint-disable-next-line  @typescript-eslint/no-explicit-any */\n            return compile(template);\n        }\n    };\n    Stepper.prototype.navigateToStep = function (index, e, itemElement, isInteracted, isUpdated) {\n        var _this = this;\n        var eventArgs = {\n            element: itemElement, event: e, isInteracted: isInteracted,\n            previousStep: this.activeStep, activeStep: index, cancel: false\n        };\n        if (isUpdated !== false) {\n            var previousStep_1 = this.activeStep;\n            this.trigger('stepChanging', eventArgs, function (args) {\n                if (args.cancel) {\n                    return;\n                }\n                _this.navigationHandler(index);\n                var eventArgs = {\n                    element: itemElement, event: e, isInteracted: isInteracted,\n                    previousStep: previousStep_1, activeStep: _this.activeStep\n                };\n                _this.trigger('stepChanged', eventArgs);\n            });\n        }\n        else {\n            this.navigationHandler(index);\n        }\n    };\n    Stepper.prototype.navigationHandler = function (index, stepStatus, isUpdated) {\n        index = (index >= this.steps.length - 1) ? this.steps.length - 1 : index;\n        var Itemslength = this.stepperItemElements.length;\n        if (index >= 0 && index < Itemslength - 1) {\n            index = this.stepperItemElements[parseInt(index.toString(), 10)].classList.contains(DISABLED) ? this.activeStep : index;\n        }\n        var prevOnChange = this.isProtectedOnChange;\n        this.isProtectedOnChange = true;\n        this.activeStep = parseInt(index.toString(), 10);\n        this.isProtectedOnChange = prevOnChange;\n        for (var i = 0; i < this.steps.length; i++) {\n            var itemElement = this.stepperItemElements[parseInt(i.toString(), 10)];\n            var item = this.steps[parseInt(i.toString(), 10)];\n            itemElement.classList.remove(SELECTED, INPROGRESS, COMPLETED, NOTSTARTED);\n            if (i === this.activeStep) {\n                itemElement.classList.add(SELECTED);\n            }\n            if (this.activeStep >= 0 && this.progressbar) {\n                if (this.element.classList.contains(HORIZSTEP)) {\n                    if ((this.element.classList.contains(LABELBEFORE) || this.element.classList.contains(LABELAFTER)) &&\n                        !this.element.classList.contains(STEPINDICATOR) &&\n                        this.stepperItemElements[parseInt(this.activeStep.toString(), 10)].classList.contains(STEPICON)) {\n                        var progressPos = this.element.querySelector('.e-stepper-progressbar');\n                        var selectedEle = this.stepperItemElements[parseInt(this.activeStep.toString(), 10)]\n                            .firstChild;\n                        var value = this.activeStep === 0 ? 0 : (selectedEle.offsetLeft - progressPos.offsetLeft +\n                            (selectedEle.offsetWidth / 2)) / progressPos.offsetWidth * 100;\n                        if (this.element.classList.contains(RTL)) {\n                            value = (progressPos.getBoundingClientRect().right - selectedEle.getBoundingClientRect().right +\n                                (selectedEle.offsetWidth / 2)) / progressPos.offsetWidth * 100;\n                            this.progressbar.style.setProperty(PROGRESSVALUE, (value) + '%');\n                        }\n                        else {\n                            this.progressbar.style.setProperty(PROGRESSVALUE, (value) + '%');\n                        }\n                    }\n                    else {\n                        var totalLiWidth = 0;\n                        var activeLiWidth = 0;\n                        for (var j = 0; j < this.stepperItemElements.length; j++) {\n                            totalLiWidth = totalLiWidth + this.stepperItemElements[parseInt(j.toString(), 10)].offsetWidth;\n                            if (j <= this.activeStep) {\n                                if (j < this.activeStep) {\n                                    activeLiWidth = activeLiWidth +\n                                        this.stepperItemElements[parseInt(j.toString(), 10)].offsetWidth;\n                                }\n                                else if (j === this.activeStep && j !== 0) {\n                                    activeLiWidth = activeLiWidth +\n                                        (this.stepperItemElements[parseInt(j.toString(), 10)].offsetWidth / 2);\n                                }\n                            }\n                        }\n                        var spaceWidth = (this.stepperItemList.offsetWidth - totalLiWidth) /\n                            (this.stepperItemElements.length - 1);\n                        var progressValue = ((activeLiWidth + (spaceWidth * this.activeStep)) /\n                            this.stepperItemList.offsetWidth) * 100;\n                        this.progressbar.style.setProperty(PROGRESSVALUE, (progressValue) + '%');\n                    }\n                }\n                else {\n                    this.progressbar.style.setProperty(PROGRESSVALUE, ((100 / (this.steps.length - 1)) * index) + '%');\n                }\n            }\n            else if (this.activeStep < 0 && this.progressbar) {\n                this.progressbar.style.setProperty(PROGRESSVALUE, 0 + '%');\n            }\n            if (i === this.activeStep) {\n                itemElement.classList.add(INPROGRESS);\n            }\n            else if (this.activeStep > 0 && i < this.activeStep) {\n                itemElement.classList.add(COMPLETED);\n            }\n            else {\n                itemElement.classList.add(NOTSTARTED);\n            }\n            if (itemElement.classList.contains(INPROGRESS)) {\n                attributes(itemElement, { 'tabindex': '0', 'aria-current': 'true' });\n            }\n            else {\n                attributes(itemElement, { 'tabindex': '-1', 'aria-current': 'false' });\n            }\n            var prevOnChange_1 = this.isProtectedOnChange;\n            this.isProtectedOnChange = true;\n            if (isUpdated !== false) {\n                if (i < this.activeStep || (this.steps.length - 1 === this.activeStep && item.status.toLowerCase() === 'completed')) {\n                    item.status = StepStatus.Completed;\n                }\n                else if (i === this.activeStep) {\n                    item.status = StepStatus.InProgress;\n                }\n                else if (i > this.activeStep) {\n                    item.status = StepStatus.NotStarted;\n                }\n                if (stepStatus && this.activeStep === i) {\n                    item.status = stepStatus;\n                }\n                if (item.status.toLowerCase() === 'completed') {\n                    itemElement.classList.remove(SELECTED, INPROGRESS, NOTSTARTED);\n                    itemElement.classList.add(COMPLETED);\n                }\n                if (item.status.toLowerCase() === 'notstarted') {\n                    itemElement.classList.remove(SELECTED, INPROGRESS, COMPLETED);\n                    itemElement.classList.add(NOTSTARTED);\n                }\n            }\n            this.isProtectedOnChange = prevOnChange_1;\n            if (this.renderDefault(i) && this.element.classList.contains(STEPINDICATOR) && !itemElement.classList.contains('e-step-valid') && !itemElement.classList.contains('e-step-error')) {\n                if (itemElement.classList.contains(COMPLETED)) {\n                    itemElement.firstChild.classList.remove('e-icons', 'e-step-indicator');\n                    itemElement.firstChild.classList.add(ICONCSS, 'e-icons', 'e-check');\n                }\n                else if (itemElement.classList.contains(INPROGRESS) || itemElement.classList.contains(NOTSTARTED)) {\n                    itemElement.firstChild.classList.remove(ICONCSS, 'e-icons', 'e-check');\n                    itemElement.firstChild.classList.add('e-icons', 'e-step-indicator');\n                }\n            }\n        }\n        this.updateStepInteractions();\n    };\n    Stepper.prototype.updateStepInteractions = function () {\n        var _this = this;\n        this.element.classList.toggle(LINEARSTEP, this.linear);\n        this.stepperItemElements.forEach(function (step, index) {\n            var isPreviousStep = (index === _this.activeStep - 1);\n            var isNextStep = (index === _this.activeStep + 1);\n            step.classList.toggle(PREVSTEP, isPreviousStep);\n            step.classList.toggle(NEXTSTEP, isNextStep);\n        });\n    };\n    Stepper.prototype.removeItemElements = function () {\n        for (var i = 0; i < this.stepperItemElements.length; i++) {\n            remove(this.stepperItemElements[parseInt(i.toString(), 10)]);\n        }\n        this.stepperItemElements = [];\n    };\n    /**\n     * Move to next step from current step in Stepper.\n     *\n     * @returns {void}\n     */\n    Stepper.prototype.nextStep = function () {\n        if (this.activeStep !== this.steps.length - 1) {\n            this.navigateToStep(this.activeStep + 1, null, null, false);\n        }\n    };\n    /**\n     * Move to previous step from current step in Stepper.\n     *\n     * @returns {void}\n     */\n    Stepper.prototype.previousStep = function () {\n        if (this.activeStep > 0) {\n            this.navigateToStep(this.activeStep - 1, null, null, false);\n        }\n    };\n    /**\n     * Reset the state of the Stepper and move to the first step.\n     *\n     * @returns {void}\n     */\n    Stepper.prototype.reset = function () {\n        if (this.activeStep === 0) {\n            this.updateStepInteractions();\n        }\n        else {\n            var isDisabled = this.stepperItemElements[0].classList.contains(DISABLED) ? true : false;\n            this.navigateToStep(isDisabled ? -1 : 0, null, null, false);\n        }\n    };\n    /**\n     * Refreshes the position of the progress bar programmatically when the dimensions of the parent container are changed.\n     *\n     * @returns {void}\n     */\n    Stepper.prototype.refreshProgressbar = function () {\n        if (this.stepperItemList && this.progressbar) {\n            this.setProgressPosition(this.element);\n        }\n        this.navigateToStep(this.activeStep, null, null, false, false);\n    };\n    Stepper.prototype.updateElementClassArray = function () {\n        var classArray = [RTL, READONLY, 'e-steps-focus', LABELAFTER, LABELBEFORE, 'e-label-top',\n            'e-label-bottom', 'e-label-start', 'e-label-end', STEPINDICATOR, LABELINDICATOR, VERTICALSTEP, HORIZSTEP, LINEARSTEP];\n        removeClass([this.element], classArray);\n    };\n    /**\n     * Destroy the stepper control.\n     *\n     * @returns {void}\n     */\n    Stepper.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        this.unWireEvents();\n        // unwires the events and detach the li elements\n        this.removeItemElements();\n        this.clearTemplate();\n        if (this.stepperItemList) {\n            remove(this.stepperItemList);\n        }\n        this.stepperItemList = null;\n        if (this.progressStep) {\n            remove(this.progressStep);\n        }\n        this.progressStep = null;\n        this.progressbar = null;\n        this.progressBarPosition = null;\n        this.stepperItemContainer = null;\n        this.textContainer = null;\n        this.labelContainer = null;\n        this.updateElementClassArray();\n        this.element.removeAttribute('aria-label');\n        if (this.showTooltip) {\n            this.tooltipObj.destroy();\n            this.tooltipObj = null;\n        }\n        if (this.keyboardModuleStepper) {\n            this.keyboardModuleStepper.destroy();\n        }\n        this.keyboardModuleStepper = null;\n    };\n    Stepper.prototype.wireKeyboardEvent = function () {\n        this.keyboardModuleStepper = new KeyboardEvents(this.element, {\n            keyAction: this.keyActionHandler.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keydown'\n        });\n    };\n    Stepper.prototype.keyActionHandler = function (e) {\n        if (this.readOnly) {\n            return;\n        }\n        switch (e.action) {\n            case 'uparrow':\n            case 'downarrow':\n            case 'leftarrow':\n            case 'rightarrow':\n            case 'tab':\n            case 'shiftTab':\n                this.handleNavigation(this.enableRtl && this.element.classList.contains(HORIZSTEP) ? (e.action === 'leftarrow' || e.action === 'tab' || e.action === 'uparrow') : (e.action === 'rightarrow' || e.action === 'tab' || e.action === 'downarrow'), e);\n                break;\n            case 'space':\n            case 'enter':\n            case 'escape':\n                this.handleNavigation(null, e);\n                break;\n            case 'home':\n            case 'end':\n                this.handleNavigation(null, e, this.enableRtl);\n                break;\n        }\n    };\n    Stepper.prototype.handleNavigation = function (isNextStep, e, isRTL) {\n        this.isKeyNavFocus = true;\n        this.element.classList.add('e-steps-focus');\n        var focusedEle = this.element.querySelector('.' + FOCUS);\n        if (!focusedEle) {\n            focusedEle = this.element.querySelector('.' + SELECTED);\n        }\n        var stepItems = Array.prototype.slice.call(this.stepperItemList.children);\n        var index = stepItems.indexOf(focusedEle);\n        if (e.action === 'tab' || e.action === 'shiftTab' || e.action === 'downarrow' || e.action === 'uparrow' || e.action === 'space' || e.action === 'home' || e.action === 'end') {\n            if ((e.action === 'tab' && index === stepItems.length - 1) || (e.action === 'shiftTab' && index === 0)) {\n                if (focusedEle.classList.contains(FOCUS)) {\n                    this.updateStepFocus();\n                    return;\n                }\n            }\n            else {\n                e.preventDefault();\n            }\n        }\n        if (e.action === 'escape') {\n            stepItems[parseInt(index.toString(), 10)].classList.remove(FOCUS);\n            this.element.classList.remove('e-steps-focus');\n        }\n        if (!(e.action === 'space' || e.action === 'enter')) {\n            var prevIndex = index;\n            index = isNextStep ? index + 1 : index - 1;\n            while ((index >= 0 && index < stepItems.length) && stepItems[parseInt(index.toString(), 10)].classList.contains(DISABLED)) {\n                index = isNextStep ? index + 1 : index - 1;\n            }\n            index = (index < 0) ? 0 : (index > stepItems.length - 1) ? stepItems.length - 1 : index;\n            if (stepItems[parseInt(prevIndex.toString(), 10)].classList.contains(FOCUS)) {\n                stepItems[parseInt(prevIndex.toString(), 10)].classList.remove(FOCUS);\n            }\n            if ((e.action === 'home' || e.action === 'end')) {\n                if (e.action === 'home') {\n                    index = isRTL ? stepItems.length - 1 : 0;\n                }\n                else {\n                    index = isRTL ? 0 : stepItems.length - 1;\n                }\n            }\n            if (index >= 0 && index < stepItems.length) {\n                stepItems[parseInt(index.toString(), 10)].classList.add(FOCUS);\n            }\n        }\n        else if ((e.action === 'space' || e.action === 'enter')) {\n            var isupdateFocus = false;\n            if (this.linear) {\n                var linearModeValue = this.activeStep - index;\n                if (Math.abs(linearModeValue) === 1) {\n                    this.navigateToStep(index, null, null, true);\n                    isupdateFocus = true;\n                }\n            }\n            else {\n                this.navigateToStep(index, null, null, true);\n                isupdateFocus = true;\n            }\n            if (isupdateFocus) {\n                this.updateStepFocus();\n                this.stepperItemElements[index].focus();\n            }\n        }\n    };\n    Stepper.prototype.renderStepperItems = function (isUpdate, isStepType) {\n        this.updateElementClassArray();\n        this.removeItemElements();\n        this.element.querySelector('.e-stepper-progressbar').remove();\n        if (isUpdate) {\n            this.updatePosition();\n        }\n        if (isStepType) {\n            this.updateStepType();\n        }\n        if (this.readOnly && !this.element.classList.contains(READONLY)) {\n            this.element.classList.add(READONLY);\n        }\n        if (this.enableRtl && !this.element.classList.contains(RTL)) {\n            this.element.classList.add(RTL);\n        }\n        this.updateOrientaion(this.element);\n        this.renderItems();\n        this.renderProgressBar(this.element);\n        this.checkValidStep();\n        this.updateAnimation();\n        this.navigateToStep(this.activeStep, null, this.stepperItemElements[this.activeStep], true);\n    };\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param  {StepperModel} newProp - Specifies new properties\n     * @param  {StepperModel} oldProp - Specifies old properties\n     * @returns {void}\n     * @private\n     */\n    Stepper.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'steps': {\n                    if (!(newProp.steps instanceof Array && oldProp.steps instanceof Array)) {\n                        var stepCounts = Object.keys(newProp.steps);\n                        for (var i = 0; i < stepCounts.length; i++) {\n                            var index = parseInt(Object.keys(newProp.steps)[i], 10);\n                            var changedPropsCount = Object.keys(newProp.steps[index]).length;\n                            for (var j = 0; j < changedPropsCount; j++) {\n                                var property = Object.keys(newProp.steps[index])[j];\n                                if (property === 'status') {\n                                    if (this.activeStep === index) {\n                                        this.navigationHandler(index, newProp.steps[index].status);\n                                    }\n                                    else {\n                                        this.steps[index].status = oldProp.steps[index].status;\n                                    }\n                                }\n                                else {\n                                    this.removeItemElements();\n                                    this.renderItems();\n                                    this.updateStepperStatus();\n                                }\n                                if (property === 'label' && (this.steps[index].iconCss || this.steps[index].text) &&\n                                    this.stepType.toLowerCase() === 'default') {\n                                    this.refreshProgressbar();\n                                }\n                                this.updateStepInteractions();\n                                this.checkValidStep();\n                            }\n                        }\n                    }\n                    else {\n                        this.renderStepperItems(true, true);\n                    }\n                    break;\n                }\n                case 'orientation':\n                    this.updateOrientaion(this.element);\n                    this.renderStepperItems(true);\n                    break;\n                case 'activeStep':\n                    this.activeStep = (newProp.activeStep > this.steps.length - 1 || newProp.activeStep < -1) ?\n                        oldProp.activeStep : this.activeStep;\n                    if (this.activeStep >= 0 && this.stepperItemElements[parseInt(this.activeStep.toString(), 10)]\n                        .classList.contains(DISABLED)) {\n                        this.activeStep = oldProp.activeStep;\n                    }\n                    if (this.linear) {\n                        var linearModeValue = oldProp.activeStep - this.activeStep;\n                        if (Math.abs(linearModeValue) === 1) {\n                            this.navigateToStep(this.activeStep, null, null, true);\n                        }\n                    }\n                    else {\n                        this.navigateToStep(this.activeStep, null, this.stepperItemElements[this.activeStep], true);\n                    }\n                    break;\n                case 'enableRtl':\n                    this.element.classList[this.enableRtl ? 'add' : 'remove'](RTL);\n                    break;\n                case 'readOnly':\n                    this.element.classList[this.readOnly ? 'add' : 'remove'](READONLY);\n                    break;\n                case 'cssClass':\n                    if (oldProp.cssClass) {\n                        removeClass([this.element], oldProp.cssClass.trim().split(' '));\n                    }\n                    if (newProp.cssClass) {\n                        addClass([this.element], newProp.cssClass.trim().split(' '));\n                    }\n                    if (this.tooltipObj) {\n                        this.tooltipObj.setProperties({ cssClass: this.cssClass ? (STEPPERTOOLTIP + ' ' + this.cssClass) : STEPPERTOOLTIP });\n                    }\n                    break;\n                case 'labelPosition':\n                    this.renderStepperItems(true);\n                    break;\n                case 'showTooltip':\n                    this.updateTooltip();\n                    break;\n                case 'stepType':\n                    this.renderStepperItems(true, true);\n                    break;\n                case 'template':\n                    this.updateTemplateFunction();\n                    this.updateContent();\n                    break;\n                case 'animation':\n                    this.updateAnimation();\n                    break;\n                case 'linear':\n                    this.updateStepInteractions();\n                    break;\n            }\n        }\n    };\n    __decorate([\n        Property(0)\n    ], Stepper.prototype, \"activeStep\", void 0);\n    __decorate([\n        Complex({}, StepperAnimationSettings)\n    ], Stepper.prototype, \"animation\", void 0);\n    __decorate([\n        Property(false)\n    ], Stepper.prototype, \"linear\", void 0);\n    __decorate([\n        Property(false)\n    ], Stepper.prototype, \"showTooltip\", void 0);\n    __decorate([\n        Property('')\n    ], Stepper.prototype, \"template\", void 0);\n    __decorate([\n        Property('')\n    ], Stepper.prototype, \"tooltipTemplate\", void 0);\n    __decorate([\n        Property(StepLabelPosition.Bottom)\n    ], Stepper.prototype, \"labelPosition\", void 0);\n    __decorate([\n        Property(StepType.Default)\n    ], Stepper.prototype, \"stepType\", void 0);\n    __decorate([\n        Event()\n    ], Stepper.prototype, \"stepChanged\", void 0);\n    __decorate([\n        Event()\n    ], Stepper.prototype, \"stepChanging\", void 0);\n    __decorate([\n        Event()\n    ], Stepper.prototype, \"stepClick\", void 0);\n    __decorate([\n        Event()\n    ], Stepper.prototype, \"beforeStepRender\", void 0);\n    Stepper = __decorate([\n        NotifyPropertyChanges\n    ], Stepper);\n    return Stepper;\n}(StepperBase));\nexport { Stepper };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}