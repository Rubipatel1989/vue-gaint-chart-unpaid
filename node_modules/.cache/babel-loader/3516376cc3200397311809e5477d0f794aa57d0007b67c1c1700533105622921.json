{"ast":null,"code":"import { createElement, isNullOrUndefined as isNOU, detach, closest, addClass, removeClass, select, Browser, formatUnit } from '@syncfusion/ej2-base';\nimport * as CONSTANT from './../base/constant';\nimport * as classes from './../base/classes';\nimport { InsertHtml } from './inserthtml';\nimport * as EVENTS from './../../common/constant';\n/**\n * Link internal component\n *\n * @hidden\n\n */\nvar ImageCommand = /** @class */function () {\n  /**\n   * Constructor for creating the Formats plugin\n   *\n   * @param {EditorManager} parent - specifies the parent element\n   * @hidden\n    */\n  function ImageCommand(parent) {\n    this.parent = parent;\n    this.addEventListener();\n  }\n  ImageCommand.prototype.addEventListener = function () {\n    this.parent.observer.on(CONSTANT.IMAGE, this.imageCommand, this);\n    this.parent.observer.on(EVENTS.INTERNAL_DESTROY, this.destroy, this);\n  };\n  ImageCommand.prototype.removeEventListener = function () {\n    this.parent.observer.off(CONSTANT.IMAGE, this.imageCommand);\n    this.parent.observer.off(EVENTS.INTERNAL_DESTROY, this.destroy);\n  };\n  /**\n   * imageCommand method\n   *\n   * @param {IHtmlItem} e - specifies the element\n   * @returns {void}\n   * @hidden\n    */\n  ImageCommand.prototype.imageCommand = function (e) {\n    switch (e.value.toString().toLowerCase()) {\n      case 'image':\n      case 'replace':\n        this.createImage(e);\n        break;\n      case 'insertlink':\n        this.insertImageLink(e);\n        break;\n      case 'openimagelink':\n        this.openImageLink(e);\n        break;\n      case 'editimagelink':\n        this.editImageLink(e);\n        break;\n      case 'removeimagelink':\n        this.removeImageLink(e);\n        break;\n      case 'remove':\n        this.removeImage(e);\n        break;\n      case 'alttext':\n        this.insertAltTextImage(e);\n        break;\n      case 'dimension':\n        this.imageDimension(e);\n        break;\n      case 'caption':\n        this.imageCaption(e);\n        break;\n      case 'justifyleft':\n        this.imageJustifyLeft(e);\n        break;\n      case 'justifycenter':\n        this.imageJustifyCenter(e);\n        break;\n      case 'justifyright':\n        this.imageJustifyRight(e);\n        break;\n      case 'inline':\n        this.imageInline(e);\n        break;\n      case 'break':\n        this.imageBreak(e);\n        break;\n    }\n  };\n  ImageCommand.prototype.createImage = function (e) {\n    var _this = this;\n    var isReplaced = false;\n    e.item.url = isNOU(e.item.url) || e.item.url === 'undefined' ? e.item.src : e.item.url;\n    if (!isNOU(e.item.selectParent) && e.item.selectParent[0].tagName === 'IMG') {\n      var imgEle = e.item.selectParent[0];\n      isReplaced = true;\n      this.setStyle(imgEle, e, isReplaced);\n    } else {\n      var imgElement = createElement('img');\n      this.setStyle(imgElement, e);\n      if (!isNOU(e.item.selection)) {\n        e.item.selection.restore();\n      }\n      if (!isNOU(e.selector) && e.selector === 'pasteCleanupModule') {\n        if (!isNOU(this.parent.currentDocument)) {\n          e.callBack({\n            requestType: 'Images',\n            editorMode: 'HTML',\n            event: e.event,\n            range: this.parent.nodeSelection.getRange(this.parent.currentDocument),\n            elements: [imgElement]\n          });\n        }\n      } else {\n        InsertHtml.Insert(this.parent.currentDocument, imgElement, this.parent.editableElement);\n      }\n    }\n    if (e.callBack && (isNOU(e.selector) || !isNOU(e.selector) && e.selector !== 'pasteCleanupModule')) {\n      var selectedNode = this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)[0];\n      var imgElm_1 = e.value === 'Replace' || isReplaced ? e.item.selectParent[0] : Browser.isIE ? selectedNode.previousSibling : selectedNode.previousElementSibling;\n      var onImageLoadEvent_1 = function () {\n        if (!isNOU(_this.parent.currentDocument)) {\n          var imgWidth = imgElm_1.getAttribute('width');\n          var imgHeight = imgElm_1.getAttribute('height');\n          if (isNOU(imgWidth) || imgWidth === 'auto') {\n            imgElm_1.setAttribute('width', imgElm_1.offsetWidth.toString());\n          }\n          if (isNOU(imgHeight) || imgHeight === 'auto') {\n            imgElm_1.setAttribute('height', imgElm_1.offsetHeight.toString());\n          }\n          e.callBack({\n            requestType: e.value === 'Replace' ? (e.item.subCommand = 'Replace', 'Replace') : 'Images',\n            editorMode: 'HTML',\n            event: e.event,\n            range: _this.parent.nodeSelection.getRange(_this.parent.currentDocument),\n            elements: [imgElm_1]\n          });\n        }\n        imgElm_1.removeEventListener('load', onImageLoadEvent_1);\n      };\n      imgElm_1.addEventListener('load', onImageLoadEvent_1);\n    }\n  };\n  ImageCommand.prototype.setStyle = function (imgElement, e, imgReplace) {\n    if (!isNOU(e.item.url)) {\n      imgElement.setAttribute('src', e.item.url);\n    }\n    var alignClassName;\n    if (imgReplace) {\n      var alignClass = {\n        'e-imgcenter': 'e-imgcenter',\n        'e-imgright': 'e-imgright',\n        'e-imgleft': 'e-imgleft'\n      };\n      var imgClassList = imgElement.classList;\n      for (var i = 0; i < imgClassList.length; i++) {\n        if (!isNOU(alignClass[imgClassList[i]])) {\n          alignClassName = alignClass[imgClassList[i]];\n        }\n      }\n    }\n    imgElement.setAttribute('class', 'e-rte-image' + (isNOU(e.item.cssClass) ? '' : ' ' + e.item.cssClass) + (isNOU(alignClassName) ? '' : ' ' + alignClassName));\n    if (!isNOU(e.item.altText)) {\n      imgElement.setAttribute('alt', e.item.altText.replace(/\\.[a-zA-Z0-9]+$/, ''));\n    }\n    if (!isNOU(e.item.width) && !isNOU(e.item.width.width)) {\n      imgElement.setAttribute('width', this.calculateStyleValue(e.item.width.width));\n    }\n    if (!isNOU(e.item.height) && !isNOU(e.item.height.height)) {\n      imgElement.setAttribute('height', this.calculateStyleValue(e.item.height.height));\n    }\n    if (!isNOU(e.item.width) && !isNOU(e.item.width.minWidth)) {\n      imgElement.style.minWidth = this.calculateStyleValue(e.item.width.minWidth);\n    }\n    if (!isNOU(e.item.width) && !isNOU(e.item.width.maxWidth)) {\n      imgElement.style.maxWidth = this.calculateStyleValue(e.item.width.maxWidth);\n    }\n    if (!isNOU(e.item.height) && !isNOU(e.item.height.minHeight)) {\n      imgElement.style.minHeight = this.calculateStyleValue(e.item.height.minHeight);\n    }\n    if (!isNOU(e.item.height) && !isNOU(e.item.height.maxHeight)) {\n      imgElement.style.maxHeight = this.calculateStyleValue(e.item.height.maxHeight);\n    }\n  };\n  ImageCommand.prototype.calculateStyleValue = function (value) {\n    var styleValue;\n    if (typeof value === 'string') {\n      if (value.indexOf('px') || value.indexOf('%') || value.indexOf('auto')) {\n        styleValue = value;\n      } else {\n        styleValue = value + 'px';\n      }\n    } else {\n      styleValue = value + 'px';\n    }\n    return styleValue;\n  };\n  ImageCommand.prototype.insertImageLink = function (e) {\n    var anchor = createElement('a', {\n      attrs: {\n        href: e.item.url\n      }\n    });\n    if (e.item.selectNode[0].parentElement.classList.contains('e-img-wrap')) {\n      e.item.selection.restore();\n      anchor.setAttribute('contenteditable', 'true');\n    }\n    anchor.appendChild(e.item.selectNode[0]);\n    if (!isNOU(e.item.target)) {\n      anchor.setAttribute('target', e.item.target);\n    }\n    if (!isNOU(e.item.ariaLabel)) {\n      anchor.setAttribute('aria-label', e.item.ariaLabel);\n    }\n    InsertHtml.Insert(this.parent.currentDocument, anchor, this.parent.editableElement);\n    this.callBack(e);\n  };\n  ImageCommand.prototype.openImageLink = function (e) {\n    document.defaultView.open(e.item.url, e.item.target);\n    this.callBack(e);\n  };\n  ImageCommand.prototype.removeImageLink = function (e) {\n    var selectParent = e.item.selectParent[0];\n    if (selectParent.classList.contains('e-img-caption')) {\n      var capImgWrap = select('.e-img-wrap', selectParent);\n      var textEle = select('.e-img-inner', selectParent);\n      var newTextEle = textEle.cloneNode(true);\n      detach(select('a', selectParent));\n      detach(textEle);\n      capImgWrap.appendChild(e.item.insertElement);\n      capImgWrap.appendChild(newTextEle);\n    } else {\n      detach(selectParent);\n      if (Browser.isIE && e.item.selection) {\n        e.item.selection.restore();\n      }\n      InsertHtml.Insert(this.parent.currentDocument, e.item.insertElement, this.parent.editableElement);\n    }\n    this.callBack(e);\n  };\n  ImageCommand.prototype.editImageLink = function (e) {\n    e.item.selectNode[0].parentElement.href = e.item.url;\n    if (isNOU(e.item.target)) {\n      e.item.selectNode[0].parentElement.removeAttribute('target');\n      e.item.selectNode[0].parentElement.removeAttribute('aria-label');\n    } else {\n      e.item.selectNode[0].parentElement.target = e.item.target;\n      e.item.selectNode[0].parentElement.setAttribute('aria-label', e.item.ariaLabel);\n    }\n    this.callBack(e);\n  };\n  ImageCommand.prototype.removeImage = function (e) {\n    if (closest(e.item.selectNode[0], 'a')) {\n      if (e.item.selectNode[0].parentElement.nodeName === 'A' && !isNOU(e.item.selectNode[0].parentElement.innerText)) {\n        if (!isNOU(closest(e.item.selectNode[0], '.' + classes.CLASS_CAPTION))) {\n          detach(closest(e.item.selectNode[0], '.' + classes.CLASS_CAPTION));\n        } else {\n          detach(e.item.selectNode[0]);\n        }\n      } else {\n        detach(closest(e.item.selectNode[0], 'a'));\n      }\n    } else if (!isNOU(closest(e.item.selectNode[0], '.' + classes.CLASS_CAPTION))) {\n      detach(closest(e.item.selectNode[0], '.' + classes.CLASS_CAPTION));\n    } else {\n      detach(e.item.selectNode[0]);\n    }\n    this.callBack(e);\n  };\n  ImageCommand.prototype.insertAltTextImage = function (e) {\n    e.item.selectNode[0].setAttribute('alt', e.item.altText);\n    this.callBack(e);\n  };\n  ImageCommand.prototype.imageDimension = function (e) {\n    var selectNode = e.item.selectNode[0];\n    selectNode.style.height = '';\n    selectNode.style.width = '';\n    if (e.item.width !== 'auto') {\n      selectNode.style.width = formatUnit(e.item.width);\n    } else {\n      selectNode.removeAttribute('width');\n    }\n    if (e.item.height !== 'auto') {\n      selectNode.style.height = formatUnit(e.item.height);\n    } else {\n      selectNode.removeAttribute('height');\n    }\n    this.callBack(e);\n  };\n  ImageCommand.prototype.imageCaption = function (e) {\n    InsertHtml.Insert(this.parent.currentDocument, e.item.insertElement, this.parent.editableElement);\n    this.callBack(e);\n  };\n  ImageCommand.prototype.imageJustifyLeft = function (e) {\n    var selectNode = e.item.selectNode[0];\n    if (!isNOU(selectNode)) {\n      selectNode.removeAttribute('class');\n      addClass([selectNode], 'e-rte-image');\n      if (!isNOU(closest(selectNode, '.' + classes.CLASS_CAPTION))) {\n        removeClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_RIGHT);\n        addClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_LEFT);\n      }\n      if (selectNode.parentElement.nodeName === 'A') {\n        removeClass([selectNode.parentElement], classes.CLASS_IMAGE_RIGHT);\n        addClass([selectNode.parentElement], classes.CLASS_IMAGE_LEFT);\n        addClass([selectNode], classes.CLASS_IMAGE_LEFT);\n      } else {\n        addClass([selectNode], classes.CLASS_IMAGE_LEFT);\n      }\n      this.callBack(e);\n    }\n  };\n  ImageCommand.prototype.imageJustifyCenter = function (e) {\n    var selectNode = e.item.selectNode[0];\n    if (!isNOU(selectNode)) {\n      selectNode.removeAttribute('class');\n      addClass([selectNode], 'e-rte-image');\n      if (!isNOU(closest(selectNode, '.' + classes.CLASS_CAPTION))) {\n        removeClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_LEFT);\n        removeClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_RIGHT);\n        addClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_CENTER);\n      }\n      if (selectNode.parentElement.nodeName === 'A') {\n        removeClass([selectNode.parentElement], classes.CLASS_IMAGE_LEFT);\n        removeClass([selectNode.parentElement], classes.CLASS_IMAGE_RIGHT);\n        addClass([selectNode.parentElement], classes.CLASS_IMAGE_CENTER);\n        addClass([selectNode], classes.CLASS_IMAGE_CENTER);\n      } else {\n        addClass([selectNode], classes.CLASS_IMAGE_CENTER);\n      }\n      this.callBack(e);\n    }\n  };\n  ImageCommand.prototype.imageJustifyRight = function (e) {\n    var selectNode = e.item.selectNode[0];\n    if (!isNOU(selectNode)) {\n      selectNode.removeAttribute('class');\n      addClass([selectNode], 'e-rte-image');\n      if (!isNOU(closest(selectNode, '.' + classes.CLASS_CAPTION))) {\n        removeClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_LEFT);\n        addClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_RIGHT);\n      }\n      if (selectNode.parentElement.nodeName === 'A') {\n        removeClass([selectNode.parentElement], classes.CLASS_IMAGE_LEFT);\n        addClass([selectNode.parentElement], classes.CLASS_IMAGE_RIGHT);\n        addClass([selectNode], classes.CLASS_IMAGE_RIGHT);\n      } else {\n        addClass([selectNode], classes.CLASS_IMAGE_RIGHT);\n      }\n      this.callBack(e);\n    }\n  };\n  ImageCommand.prototype.imageInline = function (e) {\n    var selectNode = e.item.selectNode[0];\n    selectNode.removeAttribute('class');\n    addClass([selectNode], 'e-rte-image');\n    addClass([selectNode], classes.CLASS_IMAGE_INLINE);\n    if (!isNOU(closest(selectNode, '.' + classes.CLASS_CAPTION))) {\n      removeClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_BREAK);\n      removeClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_CENTER);\n      removeClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_LEFT);\n      removeClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_RIGHT);\n      addClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_CAPTION_INLINE);\n    }\n    this.callBack(e);\n  };\n  ImageCommand.prototype.imageBreak = function (e) {\n    var selectNode = e.item.selectNode[0];\n    selectNode.removeAttribute('class');\n    addClass([selectNode], classes.CLASS_IMAGE_BREAK);\n    addClass([selectNode], 'e-rte-image');\n    if (!isNOU(closest(selectNode, '.' + classes.CLASS_CAPTION))) {\n      removeClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_CAPTION_INLINE);\n      removeClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_CENTER);\n      removeClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_LEFT);\n      removeClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_RIGHT);\n      addClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_BREAK);\n    }\n    this.callBack(e);\n  };\n  ImageCommand.prototype.callBack = function (e) {\n    if (e.callBack) {\n      e.callBack({\n        requestType: e.item.subCommand,\n        editorMode: 'HTML',\n        event: e.event,\n        range: this.parent.nodeSelection.getRange(this.parent.currentDocument),\n        elements: this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)\n      });\n    }\n  };\n  ImageCommand.prototype.destroy = function () {\n    this.removeEventListener();\n  };\n  return ImageCommand;\n}();\nexport { ImageCommand };","map":{"version":3,"names":["createElement","isNullOrUndefined","isNOU","detach","closest","addClass","removeClass","select","Browser","formatUnit","CONSTANT","classes","InsertHtml","EVENTS","ImageCommand","parent","addEventListener","prototype","observer","on","IMAGE","imageCommand","INTERNAL_DESTROY","destroy","removeEventListener","off","e","value","toString","toLowerCase","createImage","insertImageLink","openImageLink","editImageLink","removeImageLink","removeImage","insertAltTextImage","imageDimension","imageCaption","imageJustifyLeft","imageJustifyCenter","imageJustifyRight","imageInline","imageBreak","_this","isReplaced","item","url","src","selectParent","tagName","imgEle","setStyle","imgElement","selection","restore","selector","currentDocument","callBack","requestType","editorMode","event","range","nodeSelection","getRange","elements","Insert","editableElement","selectedNode","getSelectedNodes","imgElm_1","isIE","previousSibling","previousElementSibling","onImageLoadEvent_1","imgWidth","getAttribute","imgHeight","setAttribute","offsetWidth","offsetHeight","subCommand","imgReplace","alignClassName","alignClass","imgClassList","classList","i","length","cssClass","altText","replace","width","calculateStyleValue","height","minWidth","style","maxWidth","minHeight","maxHeight","styleValue","indexOf","anchor","attrs","href","selectNode","parentElement","contains","appendChild","target","ariaLabel","document","defaultView","open","capImgWrap","textEle","newTextEle","cloneNode","insertElement","removeAttribute","nodeName","innerText","CLASS_CAPTION","CLASS_IMAGE_RIGHT","CLASS_IMAGE_LEFT","CLASS_IMAGE_CENTER","CLASS_IMAGE_INLINE","CLASS_IMAGE_BREAK","CLASS_CAPTION_INLINE"],"sources":["/var/www/vue/vue-gantt-chart/node_modules/@syncfusion/ej2-richtexteditor/src/editor-manager/plugin/image.js"],"sourcesContent":["import { createElement, isNullOrUndefined as isNOU, detach, closest, addClass, removeClass, select, Browser, formatUnit } from '@syncfusion/ej2-base';\nimport * as CONSTANT from './../base/constant';\nimport * as classes from './../base/classes';\nimport { InsertHtml } from './inserthtml';\nimport * as EVENTS from './../../common/constant';\n/**\n * Link internal component\n *\n * @hidden\n\n */\nvar ImageCommand = /** @class */ (function () {\n    /**\n     * Constructor for creating the Formats plugin\n     *\n     * @param {EditorManager} parent - specifies the parent element\n     * @hidden\n\n     */\n    function ImageCommand(parent) {\n        this.parent = parent;\n        this.addEventListener();\n    }\n    ImageCommand.prototype.addEventListener = function () {\n        this.parent.observer.on(CONSTANT.IMAGE, this.imageCommand, this);\n        this.parent.observer.on(EVENTS.INTERNAL_DESTROY, this.destroy, this);\n    };\n    ImageCommand.prototype.removeEventListener = function () {\n        this.parent.observer.off(CONSTANT.IMAGE, this.imageCommand);\n        this.parent.observer.off(EVENTS.INTERNAL_DESTROY, this.destroy);\n    };\n    /**\n     * imageCommand method\n     *\n     * @param {IHtmlItem} e - specifies the element\n     * @returns {void}\n     * @hidden\n\n     */\n    ImageCommand.prototype.imageCommand = function (e) {\n        switch (e.value.toString().toLowerCase()) {\n            case 'image':\n            case 'replace':\n                this.createImage(e);\n                break;\n            case 'insertlink':\n                this.insertImageLink(e);\n                break;\n            case 'openimagelink':\n                this.openImageLink(e);\n                break;\n            case 'editimagelink':\n                this.editImageLink(e);\n                break;\n            case 'removeimagelink':\n                this.removeImageLink(e);\n                break;\n            case 'remove':\n                this.removeImage(e);\n                break;\n            case 'alttext':\n                this.insertAltTextImage(e);\n                break;\n            case 'dimension':\n                this.imageDimension(e);\n                break;\n            case 'caption':\n                this.imageCaption(e);\n                break;\n            case 'justifyleft':\n                this.imageJustifyLeft(e);\n                break;\n            case 'justifycenter':\n                this.imageJustifyCenter(e);\n                break;\n            case 'justifyright':\n                this.imageJustifyRight(e);\n                break;\n            case 'inline':\n                this.imageInline(e);\n                break;\n            case 'break':\n                this.imageBreak(e);\n                break;\n        }\n    };\n    ImageCommand.prototype.createImage = function (e) {\n        var _this = this;\n        var isReplaced = false;\n        e.item.url = isNOU(e.item.url) || e.item.url === 'undefined' ? e.item.src : e.item.url;\n        if (!isNOU(e.item.selectParent) && e.item.selectParent[0].tagName === 'IMG') {\n            var imgEle = e.item.selectParent[0];\n            isReplaced = true;\n            this.setStyle(imgEle, e, isReplaced);\n        }\n        else {\n            var imgElement = createElement('img');\n            this.setStyle(imgElement, e);\n            if (!isNOU(e.item.selection)) {\n                e.item.selection.restore();\n            }\n            if (!isNOU(e.selector) && e.selector === 'pasteCleanupModule') {\n                if (!isNOU(this.parent.currentDocument)) {\n                    e.callBack({ requestType: 'Images',\n                        editorMode: 'HTML',\n                        event: e.event,\n                        range: this.parent.nodeSelection.getRange(this.parent.currentDocument),\n                        elements: [imgElement]\n                    });\n                }\n            }\n            else {\n                InsertHtml.Insert(this.parent.currentDocument, imgElement, this.parent.editableElement);\n            }\n        }\n        if (e.callBack && (isNOU(e.selector) || !isNOU(e.selector) && e.selector !== 'pasteCleanupModule')) {\n            var selectedNode = this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)[0];\n            var imgElm_1 = (e.value === 'Replace' || isReplaced) ? e.item.selectParent[0] :\n                (Browser.isIE ? selectedNode.previousSibling : selectedNode.previousElementSibling);\n            var onImageLoadEvent_1 = function () {\n                if (!isNOU(_this.parent.currentDocument)) {\n                    var imgWidth = imgElm_1.getAttribute('width');\n                    var imgHeight = imgElm_1.getAttribute('height');\n                    if (isNOU(imgWidth) || imgWidth === 'auto') {\n                        imgElm_1.setAttribute('width', imgElm_1.offsetWidth.toString());\n                    }\n                    if (isNOU(imgHeight) || imgHeight === 'auto') {\n                        imgElm_1.setAttribute('height', imgElm_1.offsetHeight.toString());\n                    }\n                    e.callBack({\n                        requestType: (e.value === 'Replace') ? (e.item.subCommand = 'Replace', 'Replace') : 'Images',\n                        editorMode: 'HTML',\n                        event: e.event,\n                        range: _this.parent.nodeSelection.getRange(_this.parent.currentDocument),\n                        elements: [imgElm_1]\n                    });\n                }\n                imgElm_1.removeEventListener('load', onImageLoadEvent_1);\n            };\n            imgElm_1.addEventListener('load', onImageLoadEvent_1);\n        }\n    };\n    ImageCommand.prototype.setStyle = function (imgElement, e, imgReplace) {\n        if (!isNOU(e.item.url)) {\n            imgElement.setAttribute('src', e.item.url);\n        }\n        var alignClassName;\n        if (imgReplace) {\n            var alignClass = {\n                'e-imgcenter': 'e-imgcenter',\n                'e-imgright': 'e-imgright',\n                'e-imgleft': 'e-imgleft'\n            };\n            var imgClassList = imgElement.classList;\n            for (var i = 0; i < imgClassList.length; i++) {\n                if (!isNOU(alignClass[imgClassList[i]])) {\n                    alignClassName = alignClass[imgClassList[i]];\n                }\n            }\n        }\n        imgElement.setAttribute('class', 'e-rte-image' + (isNOU(e.item.cssClass) ? '' : ' ' + e.item.cssClass)\n            + (isNOU(alignClassName) ? '' : ' ' + alignClassName));\n        if (!isNOU(e.item.altText)) {\n            imgElement.setAttribute('alt', e.item.altText.replace(/\\.[a-zA-Z0-9]+$/, ''));\n        }\n        if (!isNOU(e.item.width) && !isNOU(e.item.width.width)) {\n            imgElement.setAttribute('width', this.calculateStyleValue(e.item.width.width));\n        }\n        if (!isNOU(e.item.height) && !isNOU(e.item.height.height)) {\n            imgElement.setAttribute('height', this.calculateStyleValue(e.item.height.height));\n        }\n        if (!isNOU(e.item.width) && !isNOU(e.item.width.minWidth)) {\n            imgElement.style.minWidth = this.calculateStyleValue(e.item.width.minWidth);\n        }\n        if (!isNOU(e.item.width) && !isNOU(e.item.width.maxWidth)) {\n            imgElement.style.maxWidth = this.calculateStyleValue(e.item.width.maxWidth);\n        }\n        if (!isNOU(e.item.height) && !isNOU(e.item.height.minHeight)) {\n            imgElement.style.minHeight = this.calculateStyleValue(e.item.height.minHeight);\n        }\n        if (!isNOU(e.item.height) && !isNOU(e.item.height.maxHeight)) {\n            imgElement.style.maxHeight = this.calculateStyleValue(e.item.height.maxHeight);\n        }\n    };\n    ImageCommand.prototype.calculateStyleValue = function (value) {\n        var styleValue;\n        if (typeof (value) === 'string') {\n            if (value.indexOf('px') || value.indexOf('%') || value.indexOf('auto')) {\n                styleValue = value;\n            }\n            else {\n                styleValue = value + 'px';\n            }\n        }\n        else {\n            styleValue = value + 'px';\n        }\n        return styleValue;\n    };\n    ImageCommand.prototype.insertImageLink = function (e) {\n        var anchor = createElement('a', {\n            attrs: {\n                href: e.item.url\n            }\n        });\n        if (e.item.selectNode[0].parentElement.classList.contains('e-img-wrap')) {\n            e.item.selection.restore();\n            anchor.setAttribute('contenteditable', 'true');\n        }\n        anchor.appendChild(e.item.selectNode[0]);\n        if (!isNOU(e.item.target)) {\n            anchor.setAttribute('target', e.item.target);\n        }\n        if (!isNOU(e.item.ariaLabel)) {\n            anchor.setAttribute('aria-label', e.item.ariaLabel);\n        }\n        InsertHtml.Insert(this.parent.currentDocument, anchor, this.parent.editableElement);\n        this.callBack(e);\n    };\n    ImageCommand.prototype.openImageLink = function (e) {\n        document.defaultView.open(e.item.url, e.item.target);\n        this.callBack(e);\n    };\n    ImageCommand.prototype.removeImageLink = function (e) {\n        var selectParent = e.item.selectParent[0];\n        if (selectParent.classList.contains('e-img-caption')) {\n            var capImgWrap = select('.e-img-wrap', selectParent);\n            var textEle = select('.e-img-inner', selectParent);\n            var newTextEle = textEle.cloneNode(true);\n            detach(select('a', selectParent));\n            detach(textEle);\n            capImgWrap.appendChild(e.item.insertElement);\n            capImgWrap.appendChild(newTextEle);\n        }\n        else {\n            detach(selectParent);\n            if (Browser.isIE && e.item.selection) {\n                e.item.selection.restore();\n            }\n            InsertHtml.Insert(this.parent.currentDocument, e.item.insertElement, this.parent.editableElement);\n        }\n        this.callBack(e);\n    };\n    ImageCommand.prototype.editImageLink = function (e) {\n        e.item.selectNode[0].parentElement.href = e.item.url;\n        if (isNOU(e.item.target)) {\n            e.item.selectNode[0].parentElement.removeAttribute('target');\n            e.item.selectNode[0].parentElement.removeAttribute('aria-label');\n        }\n        else {\n            e.item.selectNode[0].parentElement.target = e.item.target;\n            e.item.selectNode[0].parentElement.setAttribute('aria-label', e.item.ariaLabel);\n        }\n        this.callBack(e);\n    };\n    ImageCommand.prototype.removeImage = function (e) {\n        if (closest(e.item.selectNode[0], 'a')) {\n            if (e.item.selectNode[0].parentElement.nodeName === 'A' && !isNOU(e.item.selectNode[0].parentElement.innerText)) {\n                if (!isNOU(closest(e.item.selectNode[0], '.' + classes.CLASS_CAPTION))) {\n                    detach(closest(e.item.selectNode[0], '.' + classes.CLASS_CAPTION));\n                }\n                else {\n                    detach(e.item.selectNode[0]);\n                }\n            }\n            else {\n                detach(closest(e.item.selectNode[0], 'a'));\n            }\n        }\n        else if (!isNOU(closest(e.item.selectNode[0], '.' + classes.CLASS_CAPTION))) {\n            detach(closest(e.item.selectNode[0], '.' + classes.CLASS_CAPTION));\n        }\n        else {\n            detach(e.item.selectNode[0]);\n        }\n        this.callBack(e);\n    };\n    ImageCommand.prototype.insertAltTextImage = function (e) {\n        e.item.selectNode[0].setAttribute('alt', e.item.altText);\n        this.callBack(e);\n    };\n    ImageCommand.prototype.imageDimension = function (e) {\n        var selectNode = e.item.selectNode[0];\n        selectNode.style.height = '';\n        selectNode.style.width = '';\n        if (e.item.width !== 'auto') {\n            selectNode.style.width = formatUnit(e.item.width);\n        }\n        else {\n            selectNode.removeAttribute('width');\n        }\n        if (e.item.height !== 'auto') {\n            selectNode.style.height = formatUnit(e.item.height);\n        }\n        else {\n            selectNode.removeAttribute('height');\n        }\n        this.callBack(e);\n    };\n    ImageCommand.prototype.imageCaption = function (e) {\n        InsertHtml.Insert(this.parent.currentDocument, e.item.insertElement, this.parent.editableElement);\n        this.callBack(e);\n    };\n    ImageCommand.prototype.imageJustifyLeft = function (e) {\n        var selectNode = e.item.selectNode[0];\n        if (!isNOU(selectNode)) {\n            selectNode.removeAttribute('class');\n            addClass([selectNode], 'e-rte-image');\n            if (!isNOU(closest(selectNode, '.' + classes.CLASS_CAPTION))) {\n                removeClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_RIGHT);\n                addClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_LEFT);\n            }\n            if (selectNode.parentElement.nodeName === 'A') {\n                removeClass([selectNode.parentElement], classes.CLASS_IMAGE_RIGHT);\n                addClass([selectNode.parentElement], classes.CLASS_IMAGE_LEFT);\n                addClass([selectNode], classes.CLASS_IMAGE_LEFT);\n            }\n            else {\n                addClass([selectNode], classes.CLASS_IMAGE_LEFT);\n            }\n            this.callBack(e);\n        }\n    };\n    ImageCommand.prototype.imageJustifyCenter = function (e) {\n        var selectNode = e.item.selectNode[0];\n        if (!isNOU(selectNode)) {\n            selectNode.removeAttribute('class');\n            addClass([selectNode], 'e-rte-image');\n            if (!isNOU(closest(selectNode, '.' + classes.CLASS_CAPTION))) {\n                removeClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_LEFT);\n                removeClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_RIGHT);\n                addClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_CENTER);\n            }\n            if (selectNode.parentElement.nodeName === 'A') {\n                removeClass([selectNode.parentElement], classes.CLASS_IMAGE_LEFT);\n                removeClass([selectNode.parentElement], classes.CLASS_IMAGE_RIGHT);\n                addClass([selectNode.parentElement], classes.CLASS_IMAGE_CENTER);\n                addClass([selectNode], classes.CLASS_IMAGE_CENTER);\n            }\n            else {\n                addClass([selectNode], classes.CLASS_IMAGE_CENTER);\n            }\n            this.callBack(e);\n        }\n    };\n    ImageCommand.prototype.imageJustifyRight = function (e) {\n        var selectNode = e.item.selectNode[0];\n        if (!isNOU(selectNode)) {\n            selectNode.removeAttribute('class');\n            addClass([selectNode], 'e-rte-image');\n            if (!isNOU(closest(selectNode, '.' + classes.CLASS_CAPTION))) {\n                removeClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_LEFT);\n                addClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_RIGHT);\n            }\n            if (selectNode.parentElement.nodeName === 'A') {\n                removeClass([selectNode.parentElement], classes.CLASS_IMAGE_LEFT);\n                addClass([selectNode.parentElement], classes.CLASS_IMAGE_RIGHT);\n                addClass([selectNode], classes.CLASS_IMAGE_RIGHT);\n            }\n            else {\n                addClass([selectNode], classes.CLASS_IMAGE_RIGHT);\n            }\n            this.callBack(e);\n        }\n    };\n    ImageCommand.prototype.imageInline = function (e) {\n        var selectNode = e.item.selectNode[0];\n        selectNode.removeAttribute('class');\n        addClass([selectNode], 'e-rte-image');\n        addClass([selectNode], classes.CLASS_IMAGE_INLINE);\n        if (!isNOU(closest(selectNode, '.' + classes.CLASS_CAPTION))) {\n            removeClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_BREAK);\n            removeClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_CENTER);\n            removeClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_LEFT);\n            removeClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_RIGHT);\n            addClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_CAPTION_INLINE);\n        }\n        this.callBack(e);\n    };\n    ImageCommand.prototype.imageBreak = function (e) {\n        var selectNode = e.item.selectNode[0];\n        selectNode.removeAttribute('class');\n        addClass([selectNode], classes.CLASS_IMAGE_BREAK);\n        addClass([selectNode], 'e-rte-image');\n        if (!isNOU(closest(selectNode, '.' + classes.CLASS_CAPTION))) {\n            removeClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_CAPTION_INLINE);\n            removeClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_CENTER);\n            removeClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_LEFT);\n            removeClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_RIGHT);\n            addClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_BREAK);\n        }\n        this.callBack(e);\n    };\n    ImageCommand.prototype.callBack = function (e) {\n        if (e.callBack) {\n            e.callBack({\n                requestType: e.item.subCommand,\n                editorMode: 'HTML',\n                event: e.event,\n                range: this.parent.nodeSelection.getRange(this.parent.currentDocument),\n                elements: this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)\n            });\n        }\n    };\n    ImageCommand.prototype.destroy = function () {\n        this.removeEventListener();\n    };\n    return ImageCommand;\n}());\nexport { ImageCommand };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}