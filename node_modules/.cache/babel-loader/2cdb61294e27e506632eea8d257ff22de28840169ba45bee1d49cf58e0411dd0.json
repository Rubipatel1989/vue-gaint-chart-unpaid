{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.filter.js\";\nimport \"core-js/modules/esnext.iterator.map.js\";\nimport { ContextMenu as Menu } from '@syncfusion/ej2-navigations';\nimport { isNullOrUndefined as isNOU, createElement, closest, KeyboardEvents } from '@syncfusion/ej2-base';\nimport { getValue, select } from '@syncfusion/ej2-base';\nimport { Download, GetDetails } from './../common/operations';\nimport { createDialog } from './dialog';\nimport { cutFiles, copyFiles, refresh, getPathObject, getLocaleText, updateLayout, getFullPath } from './../common/utility';\nimport { getCssClass, sortbyClickHandler, pasteHandler } from './../common/utility';\nimport { createDeniedDialog, createNewFolder, uploadItem, hasEditAccess, hasDownloadAccess } from './../common/utility';\nimport * as events from './../base/constant';\nimport * as CLS from '../base/classes';\n/**\n * ContextMenu module\n */\nvar ContextMenu = /** @class */function () {\n  /**\n   * Constructor for the ContextMenu module\n   *\n   * @param {IFileManager} parent - Specifies the parent element.\n   * @hidden\n   */\n  function ContextMenu(parent) {\n    this.isMenuItemClicked = false;\n    this.currentItems = [];\n    this.currentElement = null;\n    this.disabledItems = [];\n    this.parent = parent;\n    this.render();\n  }\n  ContextMenu.prototype.render = function () {\n    this.keyConfigs = {\n      downarrow: 'downarrow',\n      uparrow: 'uparrown'\n    };\n    this.contextMenu = new Menu({\n      enableRtl: this.parent.enableRtl,\n      locale: this.parent.locale,\n      target: '#' + this.parent.element.id,\n      enableHtmlSanitizer: this.parent.enableHtmlSanitizer,\n      beforeItemRender: this.onBeforeItemRender.bind(this),\n      select: this.onSelect.bind(this),\n      beforeOpen: this.onBeforeOpen.bind(this),\n      beforeClose: this.onBeforeClose.bind(this),\n      cssClass: getCssClass(this.parent, CLS.ROOT_POPUP)\n    });\n    this.contextMenu.isStringTemplate = true;\n    this.contextMenu.appendTo('#' + this.parent.element.id + CLS.CONTEXT_MENU_ID);\n    this.addEventListener();\n  };\n  /* istanbul ignore next */\n  ContextMenu.prototype.onBeforeItemRender = function (args) {\n    if (args.item.id === this.getMenuId('largeiconsview')) {\n      var iconSpan = createElement('span');\n      var element = args.element;\n      element.insertBefore(iconSpan, this.parent.view === 'LargeIcons' ? element.childNodes[1] : element.childNodes[0]);\n      iconSpan.setAttribute('class', CLS.ICON_LARGE + ' ' + CLS.MENU_ICON);\n    }\n    if (args.item.id === this.getMenuId('detailsview')) {\n      var iconSpan = createElement('span');\n      var element = args.element;\n      element.insertBefore(iconSpan, this.parent.view === 'Details' ? element.childNodes[1] : element.childNodes[0]);\n      iconSpan.setAttribute('class', CLS.ICON_GRID + ' ' + CLS.MENU_ICON);\n    }\n  };\n  ContextMenu.prototype.onBeforeClose = function (args) {\n    var eventArgs = {\n      cancel: false,\n      element: args.element,\n      event: args.event,\n      isFocused: args.isFocused,\n      fileDetails: [this.menuItemData],\n      items: args.items,\n      parentItem: args.parentItem,\n      menuType: this.menuType\n    };\n    this.parent.trigger('menuClose', eventArgs, function (menuCloseArgs) {\n      if (menuCloseArgs.cancel) {\n        args.cancel = menuCloseArgs.cancel;\n        return;\n      }\n    });\n    this.menuTarget = null;\n    if (!this.isMenuItemClicked && this.parent.pathId.length > 1 && this.parent.activeModule === 'navigationpane') {\n      this.parent.pathId.pop();\n      var parentKey = [];\n      var itemKeys = Object.keys(this.parent.feParent);\n      for (var _i = 0, itemKeys_1 = itemKeys; _i < itemKeys_1.length; _i++) {\n        var item = itemKeys_1[_i];\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var itemData = getValue(item, this.parent.feParent);\n        if (this.parent.pathNames.indexOf(itemData.name) !== -1) {\n          parentKey.push(itemData._fm_id);\n        }\n      }\n      this.parent.pathId.push(parentKey[parentKey.length - 1]);\n      this.parent.navigationpaneModule.treeObj.setProperties({\n        selectedNodes: [this.parent.pathId[this.parent.pathId.length - 1]]\n      });\n    }\n    this.isMenuItemClicked = false;\n  };\n  /* istanbul ignore next */\n  ContextMenu.prototype.onBeforeOpen = function (args) {\n    var _this = this;\n    var selected = false;\n    var uid;\n    var data;\n    var treeFolder = false;\n    var target = args.event.target;\n    this.menuTarget = this.targetNodeElement = target;\n    this.currentElement = args.element;\n    if (target.classList.contains('e-spinner-pane')) {\n      target = this.parent.navigationpaneModule.activeNode.getElementsByClassName(CLS.FULLROW)[0];\n      this.menuTarget = this.targetNodeElement = target;\n    }\n    this.targetElement = this.parent.view === 'Details' ? closest(target, 'tr.e-row') : target;\n    if (this.parent.enableVirtualization && (target.classList.contains('e-virtual-bottom') || target.classList.contains('e-virtualtable'))) {\n      target = target.parentElement.closest('div');\n    }\n    var view = this.getTargetView(target);\n    this.updateActiveModule();\n    /* istanbul ignore next */\n    if (target.classList.contains(CLS.TREE_VIEW) || closest(target, 'th') || closest(target, '#' + this.parent.element.id + CLS.BREADCRUMBBAR_ID) || closest(target, '#' + this.parent.element.id + CLS.TOOLBAR_ID)) {\n      args.cancel = true;\n    } else if (!(this.parent.view === 'LargeIcons') && this.targetElement && this.targetElement.classList.contains('e-emptyrow')) {\n      this.setLayoutItem(target);\n      /* istanbul ignore next */\n    } else if (closest(target, '.' + CLS.EMPTY)) {\n      this.setLayoutItem(target);\n    } else if (!target.classList.contains(CLS.MENU_ITEM) && !target.classList.contains(CLS.MENU_ICON) && !target.classList.contains(CLS.SUBMENU_ICON)) {\n      /* istanbul ignore next */\n      if (this.parent.view === 'LargeIcons' && !isNOU(closest(target, 'li')) && !closest(target, '#' + this.parent.element.id + CLS.TREE_ID)) {\n        var eveArgs = {\n          ctrlKey: true,\n          shiftKey: true\n        };\n        if (!closest(target, 'li').classList.contains('e-active')) {\n          this.parent.largeiconsviewModule.doSelection(target, eveArgs);\n        }\n        data = this.parent.visitedData;\n        selected = true;\n      } else if (!isNOU(closest(target, 'tr.e-row'))) {\n        uid = this.targetElement.getAttribute('data-uid');\n        data = this.parent.detailsviewModule.gridObj.getRowObjectFromUID(uid).data;\n        if (isNOU(this.targetElement.getAttribute('aria-selected'))) {\n          /* istanbul ignore next */\n          this.parent.detailsviewModule.gridObj.selectRows([parseInt(this.targetElement.getAttribute('data-rowindex'), 10)]);\n        }\n        selected = true;\n        /* istanbul ignore next */\n      } else if (closest(target, '#' + this.parent.element.id + CLS.TREE_ID)) {\n        uid = closest(target, 'li').getAttribute('data-uid');\n        if (!isNOU(uid)) {\n          this.parent.navigationpaneModule.treeObj.setProperties({\n            selectedNodes: [uid]\n          });\n        }\n        treeFolder = true;\n      }\n      /* istanbul ignore next */\n      if (selected) {\n        if (getValue('isFile', data) === true) {\n          this.setFileItem();\n        } else {\n          this.setFolderItem(false);\n        }\n        /* istanbul ignore next */\n      } else if (treeFolder) {\n        this.setFolderItem(true);\n        if (uid === this.parent.pathId[0]) {\n          this.disabledItems.push('Delete', 'Rename', 'Cut', 'Copy');\n        } else {\n          var itemsToRemove = ['Delete', 'Rename', 'Cut', 'Copy'];\n          for (var i = 0; i < this.disabledItems.length; i++) {\n            var item = this.disabledItems[i];\n            if (itemsToRemove.indexOf(item) !== -1) {\n              this.disabledItems.splice(i, 1);\n              i--;\n            }\n          }\n        }\n        /* istanbul ignore next */\n      } else if (view === 'TreeView' || view === 'GridView' || view === 'LargeIcon') {\n        this.setLayoutItem(target);\n        /* istanbul ignore next */\n      } else {\n        args.cancel = true;\n      }\n    }\n    var pasteEle = select('#' + this.getMenuId('Paste'), this.contextMenu.element);\n    if (!args.cancel && !this.parent.enablePaste && pasteEle && !pasteEle.classList.contains('e-disabled')) {\n      if (this.disabledItems.indexOf('Paste') === -1) {\n        this.disabledItems.push('Paste');\n      }\n    } else {\n      var pasteIndex = this.disabledItems.indexOf('Paste');\n      if (pasteIndex !== -1) {\n        this.disabledItems.splice(pasteIndex, 1);\n      }\n    }\n    if (args.cancel) {\n      this.menuTarget = this.currentElement = null;\n      return;\n    }\n    this.contextMenu.dataBind();\n    var isSubMenu = false;\n    if (target.classList.contains(CLS.MENU_ITEM) || target.classList.contains(CLS.MENU_ICON) || target.classList.contains(CLS.SUBMENU_ICON)) {\n      isSubMenu = true;\n    }\n    this.menuItemData = isSubMenu ? this.menuItemData : this.getMenuItemData();\n    var eventArgs = {\n      fileDetails: [this.menuItemData],\n      element: args.element,\n      target: target,\n      items: isSubMenu ? args.items : this.contextMenu.items,\n      menuModule: this.contextMenu,\n      cancel: false,\n      menuType: this.menuType,\n      isSubMenu: isSubMenu\n    };\n    this.currentItems = eventArgs.items;\n    this.parent.trigger('menuOpen', eventArgs, function (menuOpenArgs) {\n      if (!isSubMenu) {\n        _this.contextMenu.dataBind();\n        _this.contextMenu.items = menuOpenArgs.items;\n        _this.contextMenu.dataBind();\n      }\n      _this.enableItems(_this.disabledItems, false, true);\n      args.cancel = menuOpenArgs.cancel;\n      if (menuOpenArgs.cancel) {\n        _this.menuTarget = _this.targetNodeElement = _this.currentElement = null;\n      }\n    });\n  };\n  ContextMenu.prototype.updateActiveModule = function () {\n    this.parent.activeModule = closest(this.menuTarget, '#' + this.parent.element.id + CLS.TREE_ID) ? 'navigationpane' : closest(this.menuTarget, '#' + this.parent.element.id + CLS.GRID_ID) ? 'detailsview' : closest(this.menuTarget, '#' + this.parent.element.id + CLS.LARGEICON_ID) ? 'largeiconsview' : this.parent.activeModule;\n  };\n  /* istanbul ignore next */\n  /**\n   *\n   * @param {Element} target - specifies the target element.\n   * @returns {string} -returns the target view.\n   * @hidden\n   */\n  ContextMenu.prototype.getTargetView = function (target) {\n    return target.classList.contains(CLS.TREE_VIEW) ? 'TreeView' : target.classList.contains(CLS.GRID_VIEW) ? 'GridView' : target.classList.contains(CLS.ICON_VIEW) ? 'LargeIcon' : target.classList.contains(CLS.LARGE_ICONS) ? 'LargeIcon' : '';\n  };\n  ContextMenu.prototype.getItemIndex = function (item) {\n    var itemId = this.getMenuId(item);\n    for (var i = 0; i < this.currentItems.length; i++) {\n      if (this.currentItems[i].id === itemId || this.currentItems[i].id === item) {\n        return i;\n      }\n    }\n    return -1;\n  };\n  ContextMenu.prototype.disableItem = function (items) {\n    if (items.length !== 0) {\n      this.disabledItems = this.disabledItems.concat(items);\n    }\n  };\n  ContextMenu.prototype.enableItems = function (items, enable, isUniqueId) {\n    for (var i = 0; i < items.length; i++) {\n      if (this.checkValidItem(items[i]) === 1) {\n        this.contextMenu.enableItems([this.getMenuId(items[i])], enable, isUniqueId);\n      } else if (this.checkValidItem(items[i]) === 2) {\n        this.contextMenu.enableItems([items[i]], enable, isUniqueId);\n      }\n    }\n  };\n  ContextMenu.prototype.setFolderItem = function (isTree) {\n    this.menuType = 'folder';\n    this.contextMenu.items = this.getItemData(this.parent.contextMenuSettings.folder.map(function (item) {\n      return item.trim();\n    }));\n    this.contextMenu.dataBind();\n    if (isTree) {\n      var selectedTreeNode = select('[data-uid=\"' + this.parent.navigationpaneModule.treeObj.selectedNodes[0] + '\"]', this.parent.navigationpaneModule.treeObj.element);\n      if (this.parent.pathNames[this.parent.pathNames.length - 1] === selectedTreeNode.querySelector('.e-list-text').innerHTML && this.parent.activeModule === 'navigationpane') {\n        this.disabledItems.push('Open');\n      } else {\n        var indexToRemove = this.disabledItems.indexOf('Open');\n        if (indexToRemove !== -1) {\n          this.disabledItems.splice(indexToRemove, 1);\n        }\n      }\n      if (this.parent.selectedItems.length === 0) {\n        var renameIndex = this.disabledItems.indexOf('Rename');\n        if (renameIndex !== -1) {\n          this.disabledItems.splice(renameIndex, 1);\n        }\n      }\n    } else if (this.parent.activeModule !== 'navigationpane') {\n      if (this.parent.selectedItems.length === 1) {\n        var renameIndex = this.disabledItems.indexOf('Rename');\n        if (renameIndex !== -1) {\n          this.disabledItems.splice(renameIndex, 1);\n        }\n      } else {\n        this.disabledItems.push('Rename', 'Paste');\n      }\n    }\n  };\n  ContextMenu.prototype.setFileItem = function () {\n    this.menuType = 'file';\n    this.contextMenu.items = this.getItemData(this.parent.contextMenuSettings.file.map(function (item) {\n      return item.trim();\n    }));\n    this.contextMenu.dataBind();\n    if (this.parent.selectedItems.length === 1) {\n      var renameIndex = this.disabledItems.indexOf('Rename');\n      if (renameIndex !== -1) {\n        this.disabledItems.splice(renameIndex, 1);\n      }\n    } else {\n      this.disabledItems.push('Rename');\n    }\n  };\n  ContextMenu.prototype.setLayoutItem = function (target) {\n    this.menuType = 'layout';\n    this.contextMenu.items = this.getItemData(this.parent.contextMenuSettings.layout.map(function (item) {\n      return item.trim();\n    }));\n    this.contextMenu.dataBind();\n    if (!this.parent.allowMultiSelection || this.parent.view === 'LargeIcons' && closest(target, '#' + this.parent.element.id + CLS.LARGEICON_ID).getElementsByClassName(CLS.EMPTY).length !== 0 || this.parent.view === 'Details' && closest(target, '#' + this.parent.element.id + CLS.GRID_ID).getElementsByClassName(CLS.EMPTY).length !== 0) {\n      this.disabledItems.push('SelectAll');\n    } else {\n      this.disabledItems = this.disabledItems.filter(function (item) {\n        return item !== 'SelectAll';\n      });\n    }\n    if (this.parent.selectedNodes.length === 0) {\n      if (this.disabledItems.indexOf('Paste') === -1) {\n        this.disabledItems.push('Paste');\n      }\n    }\n    this.contextMenu.dataBind();\n  };\n  ContextMenu.prototype.checkValidItem = function (nameEle) {\n    if (!isNOU(select('#' + this.getMenuId(nameEle), this.currentElement))) {\n      return 1;\n    } else if (!isNOU(select('#' + nameEle, this.currentElement))) {\n      return 2;\n    } else {\n      return -1;\n    }\n  };\n  ContextMenu.prototype.getMenuItemData = function () {\n    if (this.menuType === 'layout') {\n      return getPathObject(this.parent);\n    } else {\n      var args = {\n        target: this.menuTarget\n      };\n      this.parent.notify(events.menuItemData, args);\n      return this.parent.itemData[0];\n    }\n  };\n  /* istanbul ignore next */\n  ContextMenu.prototype.onSelect = function (args) {\n    var _this = this;\n    if (isNOU(args.item) || !args.item.id) {\n      return;\n    }\n    var itemText = args.item.id.substr((this.parent.element.id + '_cm_').length);\n    var details;\n    if (itemText === 'refresh' || itemText === 'newfolder' || itemText === 'upload') {\n      details = [getPathObject(this.parent)];\n      this.parent.itemData = details;\n    } else {\n      this.parent.notify(events.selectedData, {});\n      if (this.parent.activeModule === 'navigationpane' && itemText === 'open') {\n        details = [this.menuItemData];\n      } else {\n        details = this.parent.itemData;\n      }\n    }\n    var eventArgs = {\n      cancel: false,\n      element: args.element,\n      fileDetails: details,\n      item: args.item\n    };\n    this.parent.trigger('menuClick', eventArgs, function (menuClickArgs) {\n      var sItems;\n      if (!menuClickArgs.cancel) {\n        _this.isMenuItemClicked = true;\n        switch (itemText) {\n          case 'cut':\n            cutFiles(_this.parent);\n            break;\n          case 'copy':\n            copyFiles(_this.parent);\n            break;\n          case 'paste':\n            if (_this.menuType === 'folder') {\n              if (_this.parent.activeModule === 'navigationpane') {\n                _this.parent.navigationpaneModule.openFileOnContextMenuClick(closest(_this.targetNodeElement, 'li'));\n                _this.parent.folderPath = _this.parent.path;\n              } else {\n                _this.parent.folderPath = getFullPath(_this.parent, _this.menuItemData, _this.parent.path);\n              }\n            } else {\n              _this.parent.folderPath = '';\n            }\n            pasteHandler(_this.parent);\n            break;\n          case 'delete':\n            for (var j = 0; j < details.length; j++) {\n              if (!hasEditAccess(details[j])) {\n                createDeniedDialog(_this.parent, details[j], events.permissionEdit);\n                return;\n              }\n            }\n            createDialog(_this.parent, 'Delete');\n            break;\n          /* istanbul ignore next */\n          case 'download':\n            for (var i = 0; i < details.length; i++) {\n              if (!hasDownloadAccess(details[i])) {\n                createDeniedDialog(_this.parent, details[i], events.permissionDownload);\n                return;\n              }\n            }\n            if (_this.parent.activeModule === 'navigationpane') {\n              _this.parent.notify(events.downloadInit, {});\n            } else if (_this.parent.selectedItems.length > 0) {\n              Download(_this.parent, _this.parent.path, _this.parent.selectedItems);\n            }\n            break;\n          case 'rename':\n            if (!hasEditAccess(details[0])) {\n              createDeniedDialog(_this.parent, details[0], events.permissionEdit);\n            } else {\n              _this.parent.notify(events.renameInit, {});\n              createDialog(_this.parent, 'Rename');\n            }\n            break;\n          case 'selectall':\n            /* istanbul ignore next */\n            _this.parent.notify(events.selectAllInit, {});\n            break;\n          case 'refresh':\n            refresh(_this.parent);\n            break;\n          case 'open':\n            if (_this.parent.visitedItem && _this.parent.activeModule !== 'navigationpane') {\n              _this.parent.notify(events.openInit, {\n                target: _this.parent.visitedItem\n              });\n            } else if (_this.parent.activeModule === 'navigationpane') {\n              if (_this.parent.visitedItem) {\n                _this.parent.notify(events.openInit, {\n                  target: _this.parent.visitedItem\n                });\n              }\n              _this.parent.navigationpaneModule.openFileOnContextMenuClick(closest(_this.targetNodeElement, 'li'));\n            }\n            break;\n          case 'details':\n            _this.parent.notify(events.detailsInit, {});\n            sItems = _this.parent.selectedItems;\n            if (_this.parent.activeModule === 'navigationpane') {\n              sItems = [];\n              _this.parent.navigationpaneModule.openFileOnContextMenuClick(closest(_this.targetNodeElement, 'li'));\n            }\n            GetDetails(_this.parent, sItems, _this.parent.path, 'details');\n            break;\n          case 'newfolder':\n            createNewFolder(_this.parent);\n            break;\n          case 'upload':\n            uploadItem(_this.parent);\n            break;\n          case 'name':\n          case 'size':\n          case 'date':\n          case 'ascending':\n          case 'descending':\n            /* istanbul ignore next */\n            sortbyClickHandler(_this.parent, args);\n            break;\n          /* istanbul ignore next */\n          case 'none':\n            /* istanbul ignore next */\n            sortbyClickHandler(_this.parent, args);\n            break;\n          /* istanbul ignore next */\n          case 'largeiconsview':\n            updateLayout(_this.parent, 'LargeIcons');\n            break;\n          /* istanbul ignore next */\n          case 'detailsview':\n            updateLayout(_this.parent, 'Details');\n            break;\n        }\n      }\n    });\n  };\n  ContextMenu.prototype.onPropertyChanged = function (e) {\n    if (e.module !== this.getModuleName() && e.module !== 'common') {\n      /* istanbul ignore next */\n      return;\n    }\n    for (var _i = 0, _a = Object.keys(e.newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n      switch (prop) {\n        case 'cssClass':\n          this.contextMenu.cssClass = getCssClass(this.parent, CLS.ROOT_POPUP);\n          break;\n      }\n    }\n  };\n  ContextMenu.prototype.addEventListener = function () {\n    this.parent.on(events.destroy, this.destroy, this);\n    this.parent.on(events.modelChanged, this.onPropertyChanged, this);\n    this.keyboardModule = new KeyboardEvents(this.contextMenu.element, {\n      keyAction: this.keyActionHandler.bind(this),\n      keyConfigs: this.keyConfigs,\n      eventName: 'keydown'\n    });\n  };\n  ContextMenu.prototype.removeEventListener = function () {\n    this.parent.off(events.destroy, this.destroy);\n    this.parent.off(events.modelChanged, this.onPropertyChanged);\n    this.keyboardModule.destroy();\n  };\n  ContextMenu.prototype.keyActionHandler = function (e) {\n    switch (e.action) {\n      case 'uparrow':\n      case 'downarrow':\n        e.preventDefault();\n    }\n  };\n  /**\n   * For internal use only - Get the module name.\n   *\n   * @returns {string} - returns the module name.\n   * @private\n   */\n  ContextMenu.prototype.getModuleName = function () {\n    return 'contextmenu';\n  };\n  ContextMenu.prototype.destroy = function () {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n    this.removeEventListener();\n    this.contextMenu.destroy();\n    this.targetElement = null;\n  };\n  /* istanbul ignore next */\n  ContextMenu.prototype.getItemData = function (data) {\n    var items = [];\n    for (var i = 0; i < data.length; i++) {\n      var item = void 0;\n      var itemId = this.getMenuId(data[i]);\n      var itemText = getLocaleText(this.parent, data[i]);\n      switch (data[i]) {\n        case '|':\n          item = {\n            separator: true\n          };\n          break;\n        case 'Open':\n          item = {\n            id: itemId,\n            text: itemText,\n            iconCss: CLS.ICON_OPEN\n          };\n          break;\n        case 'Upload':\n          item = {\n            id: itemId,\n            text: itemText,\n            iconCss: CLS.ICON_UPLOAD\n          };\n          break;\n        case 'Cut':\n          item = {\n            id: itemId,\n            text: itemText,\n            iconCss: CLS.ICON_CUT\n          };\n          break;\n        case 'Copy':\n          item = {\n            id: itemId,\n            text: itemText,\n            iconCss: CLS.ICON_COPY\n          };\n          break;\n        case 'Paste':\n          item = {\n            id: itemId,\n            text: itemText,\n            iconCss: CLS.ICON_PASTE\n          };\n          break;\n        case 'Delete':\n          item = {\n            id: itemId,\n            text: itemText,\n            iconCss: CLS.ICON_DELETE\n          };\n          break;\n        case 'Rename':\n          item = {\n            id: itemId,\n            text: itemText,\n            iconCss: CLS.ICON_RENAME\n          };\n          break;\n        case 'NewFolder':\n          item = {\n            id: itemId,\n            text: itemText,\n            iconCss: CLS.ICON_NEWFOLDER\n          };\n          break;\n        case 'Details':\n          item = {\n            id: itemId,\n            text: itemText,\n            iconCss: CLS.ICON_DETAILS\n          };\n          break;\n        case 'SortBy':\n          item = {\n            id: itemId,\n            text: itemText,\n            iconCss: CLS.ICON_SHORTBY,\n            items: [{\n              id: this.getMenuId('Name'),\n              text: getLocaleText(this.parent, 'Name'),\n              iconCss: this.parent.sortBy === 'name' ? CLS.TB_OPTION_DOT : null\n            }, {\n              id: this.getMenuId('Size'),\n              text: getLocaleText(this.parent, 'Size'),\n              iconCss: this.parent.sortBy === 'size' ? CLS.TB_OPTION_DOT : null\n            }, {\n              id: this.getMenuId('Date'),\n              text: getLocaleText(this.parent, 'DateModified'),\n              iconCss: this.parent.sortBy === '_fm_modified' ? CLS.TB_OPTION_DOT : null\n            }, {\n              separator: true\n            }, {\n              id: this.getMenuId('Ascending'),\n              text: getLocaleText(this.parent, 'Ascending'),\n              iconCss: this.parent.sortOrder === 'Ascending' ? CLS.TB_OPTION_TICK : null\n            }, {\n              id: this.getMenuId('Descending'),\n              text: getLocaleText(this.parent, 'Descending'),\n              iconCss: this.parent.sortOrder === 'Descending' ? CLS.TB_OPTION_TICK : null\n            }, {\n              id: this.getMenuId('None'),\n              text: getLocaleText(this.parent, 'None'),\n              iconCss: this.parent.sortOrder === 'None' ? CLS.TB_OPTION_TICK : null\n            }]\n          };\n          break;\n        /* istanbul ignore next */\n        case 'View':\n          item = {\n            id: itemId,\n            text: itemText,\n            iconCss: this.parent.view === 'Details' ? CLS.ICON_GRID : CLS.ICON_LARGE,\n            items: [{\n              id: this.getMenuId('largeiconsview'),\n              text: getLocaleText(this.parent, 'View-LargeIcons'),\n              iconCss: this.parent.view === 'Details' ? null : CLS.TB_OPTION_TICK\n            }, {\n              id: this.getMenuId('detailsview'),\n              text: getLocaleText(this.parent, 'View-Details'),\n              iconCss: this.parent.view === 'Details' ? CLS.TB_OPTION_TICK : null\n            }]\n          };\n          break;\n        case 'Refresh':\n          item = {\n            id: itemId,\n            text: itemText,\n            iconCss: CLS.ICON_REFRESH\n          };\n          break;\n        case 'SelectAll':\n          item = {\n            id: itemId,\n            text: itemText,\n            iconCss: CLS.ICON_SELECTALL\n          };\n          break;\n        /* istanbul ignore next */\n        case 'Download':\n          item = {\n            id: itemId,\n            text: itemText,\n            iconCss: CLS.ICON_DOWNLOAD\n          };\n          break;\n        /* istanbul ignore next */\n        default:\n          item = {\n            id: itemId,\n            text: itemText\n          };\n          break;\n      }\n      items.push(item);\n    }\n    return items;\n  };\n  ContextMenu.prototype.getMenuId = function (id) {\n    return this.parent.element.id + '_cm_' + id.split(' ').join('').toLowerCase();\n  };\n  return ContextMenu;\n}();\nexport { ContextMenu };","map":{"version":3,"names":["ContextMenu","Menu","isNullOrUndefined","isNOU","createElement","closest","KeyboardEvents","getValue","select","Download","GetDetails","createDialog","cutFiles","copyFiles","refresh","getPathObject","getLocaleText","updateLayout","getFullPath","getCssClass","sortbyClickHandler","pasteHandler","createDeniedDialog","createNewFolder","uploadItem","hasEditAccess","hasDownloadAccess","events","CLS","parent","isMenuItemClicked","currentItems","currentElement","disabledItems","render","prototype","keyConfigs","downarrow","uparrow","contextMenu","enableRtl","locale","target","element","id","enableHtmlSanitizer","beforeItemRender","onBeforeItemRender","bind","onSelect","beforeOpen","onBeforeOpen","beforeClose","onBeforeClose","cssClass","ROOT_POPUP","isStringTemplate","appendTo","CONTEXT_MENU_ID","addEventListener","args","item","getMenuId","iconSpan","insertBefore","view","childNodes","setAttribute","ICON_LARGE","MENU_ICON","ICON_GRID","eventArgs","cancel","event","isFocused","fileDetails","menuItemData","items","parentItem","menuType","trigger","menuCloseArgs","menuTarget","pathId","length","activeModule","pop","parentKey","itemKeys","Object","keys","feParent","_i","itemKeys_1","itemData","pathNames","indexOf","name","push","_fm_id","navigationpaneModule","treeObj","setProperties","selectedNodes","_this","selected","uid","data","treeFolder","targetNodeElement","classList","contains","activeNode","getElementsByClassName","FULLROW","targetElement","enableVirtualization","parentElement","getTargetView","updateActiveModule","TREE_VIEW","BREADCRUMBBAR_ID","TOOLBAR_ID","setLayoutItem","EMPTY","MENU_ITEM","SUBMENU_ICON","TREE_ID","eveArgs","ctrlKey","shiftKey","largeiconsviewModule","doSelection","visitedData","getAttribute","detailsviewModule","gridObj","getRowObjectFromUID","selectRows","parseInt","setFileItem","setFolderItem","itemsToRemove","i","splice","pasteEle","enablePaste","pasteIndex","dataBind","isSubMenu","getMenuItemData","menuModule","menuOpenArgs","enableItems","GRID_ID","LARGEICON_ID","GRID_VIEW","ICON_VIEW","LARGE_ICONS","getItemIndex","itemId","disableItem","concat","enable","isUniqueId","checkValidItem","isTree","getItemData","contextMenuSettings","folder","map","trim","selectedTreeNode","querySelector","innerHTML","indexToRemove","selectedItems","renameIndex","file","layout","allowMultiSelection","filter","nameEle","notify","itemText","substr","details","selectedData","menuClickArgs","sItems","openFileOnContextMenuClick","folderPath","path","j","permissionEdit","permissionDownload","downloadInit","renameInit","selectAllInit","visitedItem","openInit","detailsInit","onPropertyChanged","e","module","getModuleName","_a","newProp","prop","on","destroy","modelChanged","keyboardModule","keyAction","keyActionHandler","eventName","removeEventListener","off","action","preventDefault","isDestroyed","separator","text","iconCss","ICON_OPEN","ICON_UPLOAD","ICON_CUT","ICON_COPY","ICON_PASTE","ICON_DELETE","ICON_RENAME","ICON_NEWFOLDER","ICON_DETAILS","ICON_SHORTBY","sortBy","TB_OPTION_DOT","sortOrder","TB_OPTION_TICK","ICON_REFRESH","ICON_SELECTALL","ICON_DOWNLOAD","split","join","toLowerCase"],"sources":["/var/www/vue/vue-gantt-chart/node_modules/@syncfusion/ej2-filemanager/src/file-manager/pop-up/context-menu.js"],"sourcesContent":["import { ContextMenu as Menu } from '@syncfusion/ej2-navigations';\nimport { isNullOrUndefined as isNOU, createElement, closest, KeyboardEvents } from '@syncfusion/ej2-base';\nimport { getValue, select } from '@syncfusion/ej2-base';\nimport { Download, GetDetails } from './../common/operations';\nimport { createDialog } from './dialog';\nimport { cutFiles, copyFiles, refresh, getPathObject, getLocaleText, updateLayout, getFullPath } from './../common/utility';\nimport { getCssClass, sortbyClickHandler, pasteHandler } from './../common/utility';\nimport { createDeniedDialog, createNewFolder, uploadItem, hasEditAccess, hasDownloadAccess } from './../common/utility';\nimport * as events from './../base/constant';\nimport * as CLS from '../base/classes';\n/**\n * ContextMenu module\n */\nvar ContextMenu = /** @class */ (function () {\n    /**\n     * Constructor for the ContextMenu module\n     *\n     * @param {IFileManager} parent - Specifies the parent element.\n     * @hidden\n     */\n    function ContextMenu(parent) {\n        this.isMenuItemClicked = false;\n        this.currentItems = [];\n        this.currentElement = null;\n        this.disabledItems = [];\n        this.parent = parent;\n        this.render();\n    }\n    ContextMenu.prototype.render = function () {\n        this.keyConfigs = {\n            downarrow: 'downarrow',\n            uparrow: 'uparrown'\n        };\n        this.contextMenu = new Menu({\n            enableRtl: this.parent.enableRtl,\n            locale: this.parent.locale,\n            target: '#' + this.parent.element.id,\n            enableHtmlSanitizer: this.parent.enableHtmlSanitizer,\n            beforeItemRender: this.onBeforeItemRender.bind(this),\n            select: this.onSelect.bind(this),\n            beforeOpen: this.onBeforeOpen.bind(this),\n            beforeClose: this.onBeforeClose.bind(this),\n            cssClass: getCssClass(this.parent, CLS.ROOT_POPUP)\n        });\n        this.contextMenu.isStringTemplate = true;\n        this.contextMenu.appendTo('#' + this.parent.element.id + CLS.CONTEXT_MENU_ID);\n        this.addEventListener();\n    };\n    /* istanbul ignore next */\n    ContextMenu.prototype.onBeforeItemRender = function (args) {\n        if (args.item.id === this.getMenuId('largeiconsview')) {\n            var iconSpan = createElement('span');\n            var element = args.element;\n            element.insertBefore(iconSpan, this.parent.view === 'LargeIcons' ? element.childNodes[1] : element.childNodes[0]);\n            iconSpan.setAttribute('class', CLS.ICON_LARGE + ' ' + CLS.MENU_ICON);\n        }\n        if (args.item.id === this.getMenuId('detailsview')) {\n            var iconSpan = createElement('span');\n            var element = args.element;\n            element.insertBefore(iconSpan, this.parent.view === 'Details' ? element.childNodes[1] : element.childNodes[0]);\n            iconSpan.setAttribute('class', CLS.ICON_GRID + ' ' + CLS.MENU_ICON);\n        }\n    };\n    ContextMenu.prototype.onBeforeClose = function (args) {\n        var eventArgs = {\n            cancel: false,\n            element: args.element,\n            event: args.event,\n            isFocused: args.isFocused,\n            fileDetails: [this.menuItemData],\n            items: args.items,\n            parentItem: args.parentItem,\n            menuType: this.menuType\n        };\n        this.parent.trigger('menuClose', eventArgs, function (menuCloseArgs) {\n            if (menuCloseArgs.cancel) {\n                args.cancel = menuCloseArgs.cancel;\n                return;\n            }\n        });\n        this.menuTarget = null;\n        if (!this.isMenuItemClicked && this.parent.pathId.length > 1 && this.parent.activeModule === 'navigationpane') {\n            this.parent.pathId.pop();\n            var parentKey = [];\n            var itemKeys = Object.keys(this.parent.feParent);\n            for (var _i = 0, itemKeys_1 = itemKeys; _i < itemKeys_1.length; _i++) {\n                var item = itemKeys_1[_i];\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                var itemData = getValue(item, this.parent.feParent);\n                if (this.parent.pathNames.indexOf(itemData.name) !== -1) {\n                    parentKey.push(itemData._fm_id);\n                }\n            }\n            this.parent.pathId.push(parentKey[parentKey.length - 1]);\n            this.parent.navigationpaneModule.treeObj.setProperties({ selectedNodes: [this.parent.pathId[this.parent.pathId.length - 1]] });\n        }\n        this.isMenuItemClicked = false;\n    };\n    /* istanbul ignore next */\n    ContextMenu.prototype.onBeforeOpen = function (args) {\n        var _this = this;\n        var selected = false;\n        var uid;\n        var data;\n        var treeFolder = false;\n        var target = args.event.target;\n        this.menuTarget = this.targetNodeElement = target;\n        this.currentElement = args.element;\n        if (target.classList.contains('e-spinner-pane')) {\n            target = this.parent.navigationpaneModule.activeNode.getElementsByClassName(CLS.FULLROW)[0];\n            this.menuTarget = this.targetNodeElement = target;\n        }\n        this.targetElement = this.parent.view === 'Details' ? closest(target, 'tr.e-row') : target;\n        if (this.parent.enableVirtualization && (target.classList.contains('e-virtual-bottom') || target.classList.contains('e-virtualtable'))) {\n            target = target.parentElement.closest('div');\n        }\n        var view = this.getTargetView(target);\n        this.updateActiveModule();\n        /* istanbul ignore next */\n        if (target.classList.contains(CLS.TREE_VIEW) || closest(target, 'th') ||\n            (closest(target, '#' + this.parent.element.id + CLS.BREADCRUMBBAR_ID)) ||\n            (closest(target, '#' + this.parent.element.id + CLS.TOOLBAR_ID))) {\n            args.cancel = true;\n        }\n        else if (!(this.parent.view === 'LargeIcons') && this.targetElement &&\n            this.targetElement.classList.contains('e-emptyrow')) {\n            this.setLayoutItem(target);\n            /* istanbul ignore next */\n        }\n        else if (closest(target, '.' + CLS.EMPTY)) {\n            this.setLayoutItem(target);\n        }\n        else if (!target.classList.contains(CLS.MENU_ITEM) &&\n            !target.classList.contains(CLS.MENU_ICON) && !target.classList.contains(CLS.SUBMENU_ICON)) {\n            /* istanbul ignore next */\n            if (this.parent.view === 'LargeIcons' && !isNOU(closest(target, 'li')) && !closest(target, '#' + this.parent.element.id + CLS.TREE_ID)) {\n                var eveArgs = { ctrlKey: true, shiftKey: true };\n                if (!closest(target, 'li').classList.contains('e-active')) {\n                    this.parent.largeiconsviewModule.doSelection(target, eveArgs);\n                }\n                data = this.parent.visitedData;\n                selected = true;\n            }\n            else if (!isNOU(closest(target, 'tr.e-row'))) {\n                uid = this.targetElement.getAttribute('data-uid');\n                data = this.parent.detailsviewModule.gridObj.getRowObjectFromUID(uid).data;\n                if (isNOU(this.targetElement.getAttribute('aria-selected'))) {\n                    /* istanbul ignore next */\n                    this.parent.detailsviewModule.gridObj.selectRows([parseInt(this.targetElement.getAttribute('data-rowindex'), 10)]);\n                }\n                selected = true;\n                /* istanbul ignore next */\n            }\n            else if (closest(target, '#' + this.parent.element.id + CLS.TREE_ID)) {\n                uid = closest(target, 'li').getAttribute('data-uid');\n                if (!isNOU(uid)) {\n                    this.parent.navigationpaneModule.treeObj.setProperties({ selectedNodes: [uid] });\n                }\n                treeFolder = true;\n            }\n            /* istanbul ignore next */\n            if (selected) {\n                if (getValue('isFile', data) === true) {\n                    this.setFileItem();\n                }\n                else {\n                    this.setFolderItem(false);\n                }\n                /* istanbul ignore next */\n            }\n            else if (treeFolder) {\n                this.setFolderItem(true);\n                if (uid === this.parent.pathId[0]) {\n                    this.disabledItems.push('Delete', 'Rename', 'Cut', 'Copy');\n                }\n                else {\n                    var itemsToRemove = ['Delete', 'Rename', 'Cut', 'Copy'];\n                    for (var i = 0; i < this.disabledItems.length; i++) {\n                        var item = this.disabledItems[i];\n                        if (itemsToRemove.indexOf(item) !== -1) {\n                            this.disabledItems.splice(i, 1);\n                            i--;\n                        }\n                    }\n                }\n                /* istanbul ignore next */\n            }\n            else if (view === 'TreeView' || view === 'GridView' || view === 'LargeIcon') {\n                this.setLayoutItem(target);\n                /* istanbul ignore next */\n            }\n            else {\n                args.cancel = true;\n            }\n        }\n        var pasteEle = select('#' + this.getMenuId('Paste'), this.contextMenu.element);\n        if (!args.cancel && !this.parent.enablePaste &&\n            pasteEle && !pasteEle.classList.contains('e-disabled')) {\n            if (this.disabledItems.indexOf('Paste') === -1) {\n                this.disabledItems.push('Paste');\n            }\n        }\n        else {\n            var pasteIndex = this.disabledItems.indexOf('Paste');\n            if (pasteIndex !== -1) {\n                this.disabledItems.splice(pasteIndex, 1);\n            }\n        }\n        if (args.cancel) {\n            this.menuTarget = this.currentElement = null;\n            return;\n        }\n        this.contextMenu.dataBind();\n        var isSubMenu = false;\n        if (target.classList.contains(CLS.MENU_ITEM) ||\n            target.classList.contains(CLS.MENU_ICON) || target.classList.contains(CLS.SUBMENU_ICON)) {\n            isSubMenu = true;\n        }\n        this.menuItemData = isSubMenu ? this.menuItemData : this.getMenuItemData();\n        var eventArgs = {\n            fileDetails: [this.menuItemData],\n            element: args.element,\n            target: target,\n            items: isSubMenu ? args.items : this.contextMenu.items,\n            menuModule: this.contextMenu,\n            cancel: false,\n            menuType: this.menuType,\n            isSubMenu: isSubMenu\n        };\n        this.currentItems = eventArgs.items;\n        this.parent.trigger('menuOpen', eventArgs, function (menuOpenArgs) {\n            if (!isSubMenu) {\n                _this.contextMenu.dataBind();\n                _this.contextMenu.items = menuOpenArgs.items;\n                _this.contextMenu.dataBind();\n            }\n            _this.enableItems(_this.disabledItems, false, true);\n            args.cancel = menuOpenArgs.cancel;\n            if (menuOpenArgs.cancel) {\n                _this.menuTarget = _this.targetNodeElement = _this.currentElement = null;\n            }\n        });\n    };\n    ContextMenu.prototype.updateActiveModule = function () {\n        this.parent.activeModule = closest(this.menuTarget, '#' + this.parent.element.id + CLS.TREE_ID) ?\n            'navigationpane' : closest(this.menuTarget, '#' + this.parent.element.id + CLS.GRID_ID) ?\n            'detailsview' : closest(this.menuTarget, '#' + this.parent.element.id + CLS.LARGEICON_ID) ?\n            'largeiconsview' : this.parent.activeModule;\n    };\n    /* istanbul ignore next */\n    /**\n     *\n     * @param {Element} target - specifies the target element.\n     * @returns {string} -returns the target view.\n     * @hidden\n     */\n    ContextMenu.prototype.getTargetView = function (target) {\n        return target.classList.contains(CLS.TREE_VIEW) ?\n            'TreeView' : target.classList.contains(CLS.GRID_VIEW) ?\n            'GridView' : target.classList.contains(CLS.ICON_VIEW) ?\n            'LargeIcon' : target.classList.contains(CLS.LARGE_ICONS) ?\n            'LargeIcon' : '';\n    };\n    ContextMenu.prototype.getItemIndex = function (item) {\n        var itemId = this.getMenuId(item);\n        for (var i = 0; i < this.currentItems.length; i++) {\n            if ((this.currentItems[i].id === itemId) || (this.currentItems[i].id === item)) {\n                return i;\n            }\n        }\n        return -1;\n    };\n    ContextMenu.prototype.disableItem = function (items) {\n        if (items.length !== 0) {\n            this.disabledItems = this.disabledItems.concat(items);\n        }\n    };\n    ContextMenu.prototype.enableItems = function (items, enable, isUniqueId) {\n        for (var i = 0; i < items.length; i++) {\n            if (this.checkValidItem(items[i]) === 1) {\n                this.contextMenu.enableItems([this.getMenuId(items[i])], enable, isUniqueId);\n            }\n            else if (this.checkValidItem(items[i]) === 2) {\n                this.contextMenu.enableItems([items[i]], enable, isUniqueId);\n            }\n        }\n    };\n    ContextMenu.prototype.setFolderItem = function (isTree) {\n        this.menuType = 'folder';\n        this.contextMenu.items = this.getItemData(this.parent.contextMenuSettings.folder.map(function (item) { return item.trim(); }));\n        this.contextMenu.dataBind();\n        if (isTree) {\n            var selectedTreeNode = select('[data-uid=\"' + this.parent.navigationpaneModule.treeObj.selectedNodes[0] + '\"]', this.parent.navigationpaneModule.treeObj.element);\n            if (this.parent.pathNames[this.parent.pathNames.length - 1] === selectedTreeNode.querySelector('.e-list-text').innerHTML && this.parent.activeModule === 'navigationpane') {\n                this.disabledItems.push('Open');\n            }\n            else {\n                var indexToRemove = this.disabledItems.indexOf('Open');\n                if (indexToRemove !== -1) {\n                    this.disabledItems.splice(indexToRemove, 1);\n                }\n            }\n            if (this.parent.selectedItems.length === 0) {\n                var renameIndex = this.disabledItems.indexOf('Rename');\n                if (renameIndex !== -1) {\n                    this.disabledItems.splice(renameIndex, 1);\n                }\n            }\n        }\n        else if (this.parent.activeModule !== 'navigationpane') {\n            if (this.parent.selectedItems.length === 1) {\n                var renameIndex = this.disabledItems.indexOf('Rename');\n                if (renameIndex !== -1) {\n                    this.disabledItems.splice(renameIndex, 1);\n                }\n            }\n            else {\n                this.disabledItems.push('Rename', 'Paste');\n            }\n        }\n    };\n    ContextMenu.prototype.setFileItem = function () {\n        this.menuType = 'file';\n        this.contextMenu.items = this.getItemData(this.parent.contextMenuSettings.file.map(function (item) { return item.trim(); }));\n        this.contextMenu.dataBind();\n        if (this.parent.selectedItems.length === 1) {\n            var renameIndex = this.disabledItems.indexOf('Rename');\n            if (renameIndex !== -1) {\n                this.disabledItems.splice(renameIndex, 1);\n            }\n        }\n        else {\n            this.disabledItems.push('Rename');\n        }\n    };\n    ContextMenu.prototype.setLayoutItem = function (target) {\n        this.menuType = 'layout';\n        this.contextMenu.items = this.getItemData(this.parent.contextMenuSettings.layout.map(function (item) { return item.trim(); }));\n        this.contextMenu.dataBind();\n        if (!this.parent.allowMultiSelection || ((this.parent.view === 'LargeIcons' &&\n            (closest(target, '#' + this.parent.element.id + CLS.LARGEICON_ID).getElementsByClassName(CLS.EMPTY).length !== 0))\n            || (this.parent.view === 'Details' &&\n                (closest(target, '#' + this.parent.element.id + CLS.GRID_ID).getElementsByClassName(CLS.EMPTY).length !== 0)))) {\n            this.disabledItems.push('SelectAll');\n        }\n        else {\n            this.disabledItems = this.disabledItems.filter(function (item) { return item !== 'SelectAll'; });\n        }\n        if (this.parent.selectedNodes.length === 0) {\n            if (this.disabledItems.indexOf('Paste') === -1) {\n                this.disabledItems.push('Paste');\n            }\n        }\n        this.contextMenu.dataBind();\n    };\n    ContextMenu.prototype.checkValidItem = function (nameEle) {\n        if (!isNOU(select('#' + this.getMenuId(nameEle), this.currentElement))) {\n            return 1;\n        }\n        else if (!isNOU(select('#' + nameEle, this.currentElement))) {\n            return 2;\n        }\n        else {\n            return -1;\n        }\n    };\n    ContextMenu.prototype.getMenuItemData = function () {\n        if (this.menuType === 'layout') {\n            return getPathObject(this.parent);\n        }\n        else {\n            var args = { target: this.menuTarget };\n            this.parent.notify(events.menuItemData, args);\n            return this.parent.itemData[0];\n        }\n    };\n    /* istanbul ignore next */\n    ContextMenu.prototype.onSelect = function (args) {\n        var _this = this;\n        if (isNOU(args.item) || !args.item.id) {\n            return;\n        }\n        var itemText = args.item.id.substr((this.parent.element.id + '_cm_').length);\n        var details;\n        if (itemText === 'refresh' || itemText === 'newfolder' || itemText === 'upload') {\n            details = [getPathObject(this.parent)];\n            this.parent.itemData = details;\n        }\n        else {\n            this.parent.notify(events.selectedData, {});\n            if (this.parent.activeModule === 'navigationpane' && itemText === 'open') {\n                details = [this.menuItemData];\n            }\n            else {\n                details = this.parent.itemData;\n            }\n        }\n        var eventArgs = {\n            cancel: false,\n            element: args.element,\n            fileDetails: details,\n            item: args.item\n        };\n        this.parent.trigger('menuClick', eventArgs, function (menuClickArgs) {\n            var sItems;\n            if (!menuClickArgs.cancel) {\n                _this.isMenuItemClicked = true;\n                switch (itemText) {\n                    case 'cut':\n                        cutFiles(_this.parent);\n                        break;\n                    case 'copy':\n                        copyFiles(_this.parent);\n                        break;\n                    case 'paste':\n                        if (_this.menuType === 'folder') {\n                            if (_this.parent.activeModule === 'navigationpane') {\n                                _this.parent.navigationpaneModule.openFileOnContextMenuClick(closest(_this.targetNodeElement, 'li'));\n                                _this.parent.folderPath = _this.parent.path;\n                            }\n                            else {\n                                _this.parent.folderPath = getFullPath(_this.parent, _this.menuItemData, _this.parent.path);\n                            }\n                        }\n                        else {\n                            _this.parent.folderPath = '';\n                        }\n                        pasteHandler(_this.parent);\n                        break;\n                    case 'delete':\n                        for (var j = 0; j < details.length; j++) {\n                            if (!hasEditAccess(details[j])) {\n                                createDeniedDialog(_this.parent, details[j], events.permissionEdit);\n                                return;\n                            }\n                        }\n                        createDialog(_this.parent, 'Delete');\n                        break;\n                    /* istanbul ignore next */\n                    case 'download':\n                        for (var i = 0; i < details.length; i++) {\n                            if (!hasDownloadAccess(details[i])) {\n                                createDeniedDialog(_this.parent, details[i], events.permissionDownload);\n                                return;\n                            }\n                        }\n                        if (_this.parent.activeModule === 'navigationpane') {\n                            _this.parent.notify(events.downloadInit, {});\n                        }\n                        else if (_this.parent.selectedItems.length > 0) {\n                            Download(_this.parent, _this.parent.path, _this.parent.selectedItems);\n                        }\n                        break;\n                    case 'rename':\n                        if (!hasEditAccess(details[0])) {\n                            createDeniedDialog(_this.parent, details[0], events.permissionEdit);\n                        }\n                        else {\n                            _this.parent.notify(events.renameInit, {});\n                            createDialog(_this.parent, 'Rename');\n                        }\n                        break;\n                    case 'selectall':\n                        /* istanbul ignore next */\n                        _this.parent.notify(events.selectAllInit, {});\n                        break;\n                    case 'refresh':\n                        refresh(_this.parent);\n                        break;\n                    case 'open':\n                        if (_this.parent.visitedItem && _this.parent.activeModule !== 'navigationpane') {\n                            _this.parent.notify(events.openInit, { target: _this.parent.visitedItem });\n                        }\n                        else if (_this.parent.activeModule === 'navigationpane') {\n                            if (_this.parent.visitedItem) {\n                                _this.parent.notify(events.openInit, { target: _this.parent.visitedItem });\n                            }\n                            _this.parent.navigationpaneModule.openFileOnContextMenuClick(closest(_this.targetNodeElement, 'li'));\n                        }\n                        break;\n                    case 'details':\n                        _this.parent.notify(events.detailsInit, {});\n                        sItems = _this.parent.selectedItems;\n                        if (_this.parent.activeModule === 'navigationpane') {\n                            sItems = [];\n                            _this.parent.navigationpaneModule.openFileOnContextMenuClick(closest(_this.targetNodeElement, 'li'));\n                        }\n                        GetDetails(_this.parent, sItems, _this.parent.path, 'details');\n                        break;\n                    case 'newfolder':\n                        createNewFolder(_this.parent);\n                        break;\n                    case 'upload':\n                        uploadItem(_this.parent);\n                        break;\n                    case 'name':\n                    case 'size':\n                    case 'date':\n                    case 'ascending':\n                    case 'descending':\n                        /* istanbul ignore next */\n                        sortbyClickHandler(_this.parent, args);\n                        break;\n                    /* istanbul ignore next */\n                    case 'none':\n                        /* istanbul ignore next */\n                        sortbyClickHandler(_this.parent, args);\n                        break;\n                    /* istanbul ignore next */\n                    case 'largeiconsview':\n                        updateLayout(_this.parent, 'LargeIcons');\n                        break;\n                    /* istanbul ignore next */\n                    case 'detailsview':\n                        updateLayout(_this.parent, 'Details');\n                        break;\n                }\n            }\n        });\n    };\n    ContextMenu.prototype.onPropertyChanged = function (e) {\n        if (e.module !== this.getModuleName() && e.module !== 'common') {\n            /* istanbul ignore next */\n            return;\n        }\n        for (var _i = 0, _a = Object.keys(e.newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'cssClass':\n                    this.contextMenu.cssClass = getCssClass(this.parent, CLS.ROOT_POPUP);\n                    break;\n            }\n        }\n    };\n    ContextMenu.prototype.addEventListener = function () {\n        this.parent.on(events.destroy, this.destroy, this);\n        this.parent.on(events.modelChanged, this.onPropertyChanged, this);\n        this.keyboardModule = new KeyboardEvents(this.contextMenu.element, {\n            keyAction: this.keyActionHandler.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keydown'\n        });\n    };\n    ContextMenu.prototype.removeEventListener = function () {\n        this.parent.off(events.destroy, this.destroy);\n        this.parent.off(events.modelChanged, this.onPropertyChanged);\n        this.keyboardModule.destroy();\n    };\n    ContextMenu.prototype.keyActionHandler = function (e) {\n        switch (e.action) {\n            case 'uparrow':\n            case 'downarrow':\n                e.preventDefault();\n        }\n    };\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} - returns the module name.\n     * @private\n     */\n    ContextMenu.prototype.getModuleName = function () {\n        return 'contextmenu';\n    };\n    ContextMenu.prototype.destroy = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.removeEventListener();\n        this.contextMenu.destroy();\n        this.targetElement = null;\n    };\n    /* istanbul ignore next */\n    ContextMenu.prototype.getItemData = function (data) {\n        var items = [];\n        for (var i = 0; i < data.length; i++) {\n            var item = void 0;\n            var itemId = this.getMenuId(data[i]);\n            var itemText = getLocaleText(this.parent, data[i]);\n            switch (data[i]) {\n                case '|':\n                    item = { separator: true };\n                    break;\n                case 'Open':\n                    item = { id: itemId, text: itemText, iconCss: CLS.ICON_OPEN };\n                    break;\n                case 'Upload':\n                    item = { id: itemId, text: itemText, iconCss: CLS.ICON_UPLOAD };\n                    break;\n                case 'Cut':\n                    item = { id: itemId, text: itemText, iconCss: CLS.ICON_CUT };\n                    break;\n                case 'Copy':\n                    item = { id: itemId, text: itemText, iconCss: CLS.ICON_COPY };\n                    break;\n                case 'Paste':\n                    item = { id: itemId, text: itemText, iconCss: CLS.ICON_PASTE };\n                    break;\n                case 'Delete':\n                    item = { id: itemId, text: itemText, iconCss: CLS.ICON_DELETE };\n                    break;\n                case 'Rename':\n                    item = { id: itemId, text: itemText, iconCss: CLS.ICON_RENAME };\n                    break;\n                case 'NewFolder':\n                    item = { id: itemId, text: itemText, iconCss: CLS.ICON_NEWFOLDER };\n                    break;\n                case 'Details':\n                    item = { id: itemId, text: itemText, iconCss: CLS.ICON_DETAILS };\n                    break;\n                case 'SortBy':\n                    item = {\n                        id: itemId, text: itemText, iconCss: CLS.ICON_SHORTBY,\n                        items: [\n                            {\n                                id: this.getMenuId('Name'), text: getLocaleText(this.parent, 'Name'),\n                                iconCss: this.parent.sortBy === 'name' ? CLS.TB_OPTION_DOT : null\n                            },\n                            {\n                                id: this.getMenuId('Size'), text: getLocaleText(this.parent, 'Size'),\n                                iconCss: this.parent.sortBy === 'size' ? CLS.TB_OPTION_DOT : null\n                            },\n                            {\n                                id: this.getMenuId('Date'), text: getLocaleText(this.parent, 'DateModified'),\n                                iconCss: this.parent.sortBy === '_fm_modified' ? CLS.TB_OPTION_DOT : null\n                            },\n                            { separator: true },\n                            {\n                                id: this.getMenuId('Ascending'), text: getLocaleText(this.parent, 'Ascending'),\n                                iconCss: this.parent.sortOrder === 'Ascending' ? CLS.TB_OPTION_TICK : null\n                            },\n                            {\n                                id: this.getMenuId('Descending'), text: getLocaleText(this.parent, 'Descending'),\n                                iconCss: this.parent.sortOrder === 'Descending' ? CLS.TB_OPTION_TICK : null\n                            },\n                            {\n                                id: this.getMenuId('None'), text: getLocaleText(this.parent, 'None'),\n                                iconCss: this.parent.sortOrder === 'None' ? CLS.TB_OPTION_TICK : null\n                            }\n                        ]\n                    };\n                    break;\n                /* istanbul ignore next */\n                case 'View':\n                    item = {\n                        id: itemId, text: itemText, iconCss: this.parent.view === 'Details' ? CLS.ICON_GRID : CLS.ICON_LARGE,\n                        items: [\n                            {\n                                id: this.getMenuId('largeiconsview'), text: getLocaleText(this.parent, 'View-LargeIcons'),\n                                iconCss: this.parent.view === 'Details' ? null : CLS.TB_OPTION_TICK\n                            },\n                            {\n                                id: this.getMenuId('detailsview'), text: getLocaleText(this.parent, 'View-Details'),\n                                iconCss: this.parent.view === 'Details' ? CLS.TB_OPTION_TICK : null\n                            }\n                        ]\n                    };\n                    break;\n                case 'Refresh':\n                    item = { id: itemId, text: itemText, iconCss: CLS.ICON_REFRESH };\n                    break;\n                case 'SelectAll':\n                    item = { id: itemId, text: itemText, iconCss: CLS.ICON_SELECTALL };\n                    break;\n                /* istanbul ignore next */\n                case 'Download':\n                    item = { id: itemId, text: itemText, iconCss: CLS.ICON_DOWNLOAD };\n                    break;\n                /* istanbul ignore next */\n                default:\n                    item = { id: itemId, text: itemText };\n                    break;\n            }\n            items.push(item);\n        }\n        return items;\n    };\n    ContextMenu.prototype.getMenuId = function (id) {\n        return this.parent.element.id + '_cm_' + id.split(' ').join('').toLowerCase();\n    };\n    return ContextMenu;\n}());\nexport { ContextMenu };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}