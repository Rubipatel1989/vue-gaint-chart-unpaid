{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\n/**\n * `Selection` module is used to handle RTE Selections.\n */\nvar NodeSelection = /** @class */function () {\n  function NodeSelection(editElement) {\n    this.startNodeName = [];\n    this.endNodeName = [];\n    this.editableElement = editElement;\n  }\n  NodeSelection.prototype.saveInstance = function (range, body) {\n    this.range = range.cloneRange();\n    this.rootNode = this.documentFromRange(range);\n    this.body = body;\n    this.startContainer = this.getNodeArray(range.startContainer, true);\n    this.endContainer = this.getNodeArray(range.endContainer, false);\n    this.startOffset = range.startOffset;\n    this.endOffset = range.endOffset;\n    this.html = this.body.innerHTML;\n    return this;\n  };\n  NodeSelection.prototype.documentFromRange = function (range) {\n    return 9 === range.startContainer.nodeType ? range.startContainer : range.startContainer.ownerDocument;\n  };\n  NodeSelection.prototype.getRange = function (docElement) {\n    var select = this.get(docElement);\n    var range = select && select.rangeCount > 0 ? select.getRangeAt(select.rangeCount - 1) : docElement.createRange();\n    return range.startContainer !== docElement || range.endContainer !== docElement || range.startOffset || range.endOffset || (range.setStart(docElement.body, 0), range.collapse(!0)), range;\n  };\n  /**\n   * get method\n   *\n   * @param {Document} docElement - specifies the get function\n   * @returns {void}\n   * @hidden\n    */\n  NodeSelection.prototype.get = function (docElement) {\n    return docElement.defaultView.getSelection();\n  };\n  /**\n   * save method\n   *\n   * @param {Range} range - range value.\n   * @param {Document} docElement - specifies the document.\n   * @returns {void}\n   * @hidden\n    */\n  NodeSelection.prototype.save = function (range, docElement) {\n    range = range ? range.cloneRange() : this.getRange(docElement);\n    return this.saveInstance(range, docElement.body);\n  };\n  /**\n   * getIndex method\n   *\n   * @param {Node} node - specifies the node value.\n   * @returns {void}\n   * @hidden\n    */\n  NodeSelection.prototype.getIndex = function (node) {\n    var index;\n    var num = 0;\n    node = !node.previousSibling && node.tagName === 'BR' ? node : node.previousSibling;\n    if (node) {\n      for (var type = node.nodeType; node; null) {\n        index = node.nodeType;\n        num++;\n        //eslint-disable-next-line\n        type = index;\n        node = node.previousSibling;\n      }\n    }\n    return num;\n  };\n  NodeSelection.prototype.isChildNode = function (nodeCollection, parentNode) {\n    for (var index = 0; index < parentNode.childNodes.length; index++) {\n      if (nodeCollection.indexOf(parentNode.childNodes[index]) > -1) {\n        return true;\n      }\n    }\n    return false;\n  };\n  NodeSelection.prototype.getNode = function (startNode, endNode, nodeCollection) {\n    if (this.editableElement && (!this.editableElement.contains(startNode) || this.editableElement === startNode)) {\n      return null;\n    }\n    if (endNode === startNode && (startNode.nodeType === 3 || !startNode.firstChild || nodeCollection.indexOf(startNode.firstChild) !== -1 || this.isChildNode(nodeCollection, startNode))) {\n      return null;\n    }\n    if (startNode.nodeType === 3 && startNode.previousSibling === endNode && endNode.nodeName === 'IMG') {\n      return null;\n    }\n    if (nodeCollection.indexOf(startNode.firstChild) === -1 && startNode.firstChild && !this.isChildNode(nodeCollection, startNode)) {\n      return startNode.firstChild;\n    }\n    if (startNode.nextSibling) {\n      return startNode.nextSibling;\n    }\n    if (!startNode.parentNode) {\n      return null;\n    } else {\n      return startNode.parentNode;\n    }\n  };\n  /**\n   * getNodeCollection method\n   *\n   * @param {Range} range -specifies the range.\n   * @returns {void}\n   * @hidden\n    */\n  NodeSelection.prototype.getNodeCollection = function (range) {\n    var startNode = range.startContainer.childNodes[range.startOffset] || range.startContainer;\n    var endNode = range.endContainer.childNodes[range.endOffset > 0 ? range.endOffset - 1 : range.endOffset] || range.endContainer;\n    var tableCursor = this.processedTableImageCursor(range);\n    if (tableCursor.start || tableCursor.end) {\n      if (tableCursor.startName === 'TABLE' || tableCursor.endName === 'TABLE') {\n        var tableNode = tableCursor.start ? tableCursor.startNode : tableCursor.endNode;\n        return [tableNode];\n      }\n    }\n    if ((startNode === endNode || startNode.nodeName === 'BR' && startNode === range.endContainer.childNodes[range.endOffset]) && startNode.childNodes.length === 0) {\n      return [startNode];\n    }\n    if (range.startOffset === range.endOffset && range.startOffset !== 0 && range.startContainer.nodeName === 'PRE') {\n      return [startNode.nodeName === 'BR' || startNode.nodeName === '#text' ? startNode : startNode.childNodes[0]];\n    }\n    var nodeCollection = [];\n    do {\n      if (nodeCollection.indexOf(startNode) === -1) {\n        nodeCollection.push(startNode);\n      }\n      startNode = this.getNode(startNode, endNode, nodeCollection);\n    } while (startNode);\n    return nodeCollection;\n  };\n  /**\n   * getParentNodeCollection method\n   *\n   * @param {Range} range - specifies the range value.\n   * @returns {void}\n   * @hidden\n    */\n  NodeSelection.prototype.getParentNodeCollection = function (range) {\n    return this.getParentNodes(this.getNodeCollection(range), range);\n  };\n  /**\n   * getParentNodes method\n   *\n   * @param {Node[]} nodeCollection - specifies the collection of nodes.\n   * @param {Range} range - specifies the range values.\n   * @returns {void}\n   * @hidden\n    */\n  NodeSelection.prototype.getParentNodes = function (nodeCollection, range) {\n    nodeCollection = nodeCollection.reverse();\n    for (var index = 0; index < nodeCollection.length; index++) {\n      if (nodeCollection.indexOf(nodeCollection[index].parentNode) !== -1 || nodeCollection[index].nodeType === 3 && range.startContainer !== range.endContainer && range.startContainer.parentNode !== range.endContainer.parentNode) {\n        nodeCollection.splice(index, 1);\n        index--;\n      } else if (nodeCollection[index].nodeType === 3) {\n        nodeCollection[index] = nodeCollection[index].parentNode;\n      }\n    }\n    return nodeCollection;\n  };\n  /**\n   * getSelectionNodeCollection method\n   *\n   * @param {Range} range - specifies the range value.\n   * @returns {void}\n   * @hidden\n    */\n  NodeSelection.prototype.getSelectionNodeCollection = function (range) {\n    return this.getSelectionNodes(this.getNodeCollection(range));\n  };\n  /**\n   * getSelectionNodeCollection along with BR node method\n   *\n   * @param {Range} range - specifies the range value.\n   * @returns {void}\n   * @hidden\n    */\n  NodeSelection.prototype.getSelectionNodeCollectionBr = function (range) {\n    return this.getSelectionNodesBr(this.getNodeCollection(range));\n  };\n  /**\n   * getParentNodes method\n   *\n   * @param {Node[]} nodeCollection - specifies the collection of nodes.\n   * @returns {void}\n   * @hidden\n    */\n  NodeSelection.prototype.getSelectionNodes = function (nodeCollection) {\n    nodeCollection = nodeCollection.reverse();\n    var regEx = new RegExp('\\u200B', 'g');\n    for (var index = 0; index < nodeCollection.length; index++) {\n      if (nodeCollection[index].nodeType !== 3 || nodeCollection[index].textContent.trim() === '' || nodeCollection[index].textContent.length === 1 && nodeCollection[index].textContent.match(regEx)) {\n        nodeCollection.splice(index, 1);\n        index--;\n      }\n    }\n    return nodeCollection.reverse();\n  };\n  /**\n   * Get selection text nodes with br method.\n   *\n   * @param {Node[]} nodeCollection - specifies the collection of nodes.\n   * @returns {void}\n   * @hidden\n    */\n  NodeSelection.prototype.getSelectionNodesBr = function (nodeCollection) {\n    nodeCollection = nodeCollection.reverse();\n    var regEx = new RegExp('\\u200B', 'g');\n    for (var index = 0; index < nodeCollection.length; index++) {\n      if (nodeCollection[index].nodeName !== 'BR' && (nodeCollection[index].nodeType !== 3 || nodeCollection[index].textContent.trim() === '' || nodeCollection[index].textContent.length === 1 && nodeCollection[index].textContent.match(regEx))) {\n        nodeCollection.splice(index, 1);\n        index--;\n      }\n    }\n    return nodeCollection.reverse();\n  };\n  /**\n   * getInsertNodeCollection method\n   *\n   * @param {Range} range - specifies the range value.\n   * @returns {void}\n   * @hidden\n    */\n  NodeSelection.prototype.getInsertNodeCollection = function (range) {\n    return this.getInsertNodes(this.getNodeCollection(range));\n  };\n  /**\n   * getInsertNodes method\n   *\n   * @param {Node[]} nodeCollection - specifies the collection of nodes.\n   * @returns {void}\n   * @hidden\n    */\n  NodeSelection.prototype.getInsertNodes = function (nodeCollection) {\n    nodeCollection = nodeCollection.reverse();\n    for (var index = 0; index < nodeCollection.length; index++) {\n      if (nodeCollection[index].childNodes.length !== 0 && nodeCollection[index].nodeType !== 3 || nodeCollection[index].nodeType === 3 && nodeCollection[index].textContent === '') {\n        nodeCollection.splice(index, 1);\n        index--;\n      }\n    }\n    return nodeCollection.reverse();\n  };\n  /**\n   * getNodeArray method\n   *\n   * @param {Node} node - specifies the node content.\n   * @param {boolean} isStart - specifies the boolean value.\n   * @param {Document} root - specifies the root document.\n   * @returns {void}\n   * @hidden\n    */\n  NodeSelection.prototype.getNodeArray = function (node, isStart, root) {\n    var array = [];\n    // eslint-disable-next-line\n    isStart ? this.startNodeName = [] : this.endNodeName = [];\n    for (; node !== (root ? root : this.rootNode); null) {\n      if (isNullOrUndefined(node)) {\n        break;\n      }\n      // eslint-disable-next-line\n      isStart ? this.startNodeName.push(node.nodeName.toLowerCase()) : this.endNodeName.push(node.nodeName.toLowerCase());\n      array.push(this.getIndex(node));\n      node = node.parentNode;\n    }\n    return array;\n  };\n  NodeSelection.prototype.setRangePoint = function (range, isvalid, num, size) {\n    var node = this.rootNode;\n    var index = num.length;\n    var constant = size;\n    for (; index--; null) {\n      node = node && node.childNodes[num[index]];\n    }\n    if (node && constant >= 0 && node.nodeName !== 'html') {\n      if (node.nodeType === 3 && node.nodeValue.replace(/\\u00a0/g, '&nbsp;') === '&nbsp;') {\n        constant = node.textContent.length;\n      }\n      range[isvalid ? 'setStart' : 'setEnd'](node, constant);\n    }\n    return range;\n  };\n  /**\n   * restore method\n   *\n   * @returns {void}\n   * @hidden\n    */\n  NodeSelection.prototype.restore = function () {\n    var range = this.range.cloneRange();\n    range = this.setRangePoint(range, true, this.startContainer, this.startOffset);\n    range = this.setRangePoint(range, false, this.endContainer, this.endOffset);\n    this.selectRange(this.rootNode, range);\n    return range;\n  };\n  NodeSelection.prototype.selectRange = function (docElement, range) {\n    this.setRange(docElement, range);\n    this.save(range, docElement);\n  };\n  /**\n   * setRange method\n   *\n   * @param {Document} docElement - specifies the document.\n   * @param {Range} range - specifies the range.\n   * @returns {void}\n   * @hidden\n    */\n  NodeSelection.prototype.setRange = function (docElement, range) {\n    var selection = this.get(docElement);\n    selection.removeAllRanges();\n    selection.addRange(range);\n  };\n  /**\n   * setSelectionText method\n   *\n   * @param {Document} docElement - specifies the documrent\n   * @param {Node} startNode - specifies the starting node.\n   * @param {Node} endNode - specifies the the end node.\n   * @param {number} startIndex - specifies the starting index.\n   * @param {number} endIndex - specifies the end index.\n   * @returns {void}\n   * @hidden\n    */\n  NodeSelection.prototype.setSelectionText = function (docElement, startNode, endNode, startIndex, endIndex) {\n    var range = docElement.createRange();\n    range.setStart(startNode, startIndex);\n    range.setEnd(endNode, endIndex);\n    this.setRange(docElement, range);\n  };\n  /**\n   * setSelectionContents method\n   *\n   * @param {Document} docElement - specifies the document.\n   * @param {Node} element - specifies the node.\n   * @returns {void}\n   * @hidden\n    */\n  NodeSelection.prototype.setSelectionContents = function (docElement, element) {\n    var range = docElement.createRange();\n    range.selectNode(element);\n    this.setRange(docElement, range);\n  };\n  /**\n   * setSelectionNode method\n   *\n   * @param {Document} docElement - specifies the document.\n   * @param {Node} element - specifies the node.\n   * @returns {void}\n   * @hidden\n    */\n  NodeSelection.prototype.setSelectionNode = function (docElement, element) {\n    var range = docElement.createRange();\n    range.selectNodeContents(element);\n    this.setRange(docElement, range);\n  };\n  /**\n   * getSelectedNodes method\n   *\n   * @param {Document} docElement - specifies the document.\n   * @returns {void}\n   * @hidden\n    */\n  NodeSelection.prototype.getSelectedNodes = function (docElement) {\n    return this.getNodeCollection(this.getRange(docElement));\n  };\n  /**\n   * Clear method\n   *\n   * @param {Document} docElement - specifies the document.\n   * @returns {void}\n   * @hidden\n    */\n  NodeSelection.prototype.Clear = function (docElement) {\n    this.get(docElement).removeAllRanges();\n  };\n  /**\n   * insertParentNode method\n   *\n   * @param {Document} docElement - specifies the document.\n   * @param {Node} newNode - specicfies the new node.\n   * @param {Range} range - specifies the range.\n   * @returns {void}\n   * @hidden\n    */\n  NodeSelection.prototype.insertParentNode = function (docElement, newNode, range) {\n    range.surroundContents(newNode);\n    this.selectRange(docElement, range);\n  };\n  /**\n   * setCursorPoint method\n   *\n   * @param {Document} docElement - specifies the document.\n   * @param {Element} element - specifies the element.\n   * @param {number} point - specifies the point.\n   * @returns {void}\n   * @hidden\n    */\n  NodeSelection.prototype.setCursorPoint = function (docElement, element, point) {\n    var range = docElement.createRange();\n    var selection = docElement.defaultView.getSelection();\n    range.setStart(element, point);\n    range.collapse(true);\n    selection.removeAllRanges();\n    selection.addRange(range);\n  };\n  NodeSelection.prototype.isTableOrImageStart = function (range) {\n    var customHandlerElements = ['TABLE'];\n    var startContainer = range.startContainer;\n    var startOffset = range.startOffset;\n    var startNode = startContainer.childNodes[startOffset];\n    var isCursorAtStart = range.collapsed && startContainer.nodeType === 1 && startContainer.isContentEditable && startNode && customHandlerElements.indexOf(startNode.nodeName) > -1;\n    if (isCursorAtStart) {\n      return {\n        start: isCursorAtStart,\n        startNodeName: startNode.nodeName,\n        startNode: startNode\n      };\n    } else {\n      return {\n        start: false,\n        startNodeName: '',\n        startNode: undefined\n      };\n    }\n  };\n  NodeSelection.prototype.isTableOrImageEnd = function (range) {\n    var customHandlerElements = ['TABLE'];\n    var startContainer = range.startContainer;\n    var startOffset = range.startOffset;\n    var endNode = startContainer.childNodes[startOffset - 1];\n    var isCursorAtEnd = range.collapsed && startContainer.nodeType === 1 && startContainer.isContentEditable && endNode && customHandlerElements.indexOf(endNode.nodeName) > -1;\n    if (isCursorAtEnd) {\n      return {\n        end: isCursorAtEnd,\n        endNodeName: endNode.nodeName,\n        endNode: endNode\n      };\n    } else {\n      return {\n        end: false,\n        endNodeName: '',\n        endNode: undefined\n      };\n    }\n  };\n  NodeSelection.prototype.processedTableImageCursor = function (range) {\n    var _a = this.isTableOrImageStart(range),\n      start = _a.start,\n      startNodeName = _a.startNodeName,\n      startNode = _a.startNode;\n    var _b = this.isTableOrImageEnd(range),\n      end = _b.end,\n      endNodeName = _b.endNodeName,\n      endNode = _b.endNode;\n    return {\n      start: start,\n      startName: startNodeName,\n      end: end,\n      endName: endNodeName,\n      startNode: startNode,\n      endNode: endNode\n    };\n  };\n  return NodeSelection;\n}();\nexport { NodeSelection };","map":{"version":3,"names":["isNullOrUndefined","NodeSelection","editElement","startNodeName","endNodeName","editableElement","prototype","saveInstance","range","body","cloneRange","rootNode","documentFromRange","startContainer","getNodeArray","endContainer","startOffset","endOffset","html","innerHTML","nodeType","ownerDocument","getRange","docElement","select","get","rangeCount","getRangeAt","createRange","setStart","collapse","defaultView","getSelection","save","getIndex","node","index","num","previousSibling","tagName","type","isChildNode","nodeCollection","parentNode","childNodes","length","indexOf","getNode","startNode","endNode","contains","firstChild","nodeName","nextSibling","getNodeCollection","tableCursor","processedTableImageCursor","start","end","startName","endName","tableNode","push","getParentNodeCollection","getParentNodes","reverse","splice","getSelectionNodeCollection","getSelectionNodes","getSelectionNodeCollectionBr","getSelectionNodesBr","regEx","RegExp","textContent","trim","match","getInsertNodeCollection","getInsertNodes","isStart","root","array","toLowerCase","setRangePoint","isvalid","size","constant","nodeValue","replace","restore","selectRange","setRange","selection","removeAllRanges","addRange","setSelectionText","startIndex","endIndex","setEnd","setSelectionContents","element","selectNode","setSelectionNode","selectNodeContents","getSelectedNodes","Clear","insertParentNode","newNode","surroundContents","setCursorPoint","point","isTableOrImageStart","customHandlerElements","isCursorAtStart","collapsed","isContentEditable","undefined","isTableOrImageEnd","isCursorAtEnd","_a","_b"],"sources":["/var/www/vue/vue-gantt-chart/node_modules/@syncfusion/ej2-richtexteditor/src/selection/selection.js"],"sourcesContent":["import { isNullOrUndefined } from '@syncfusion/ej2-base';\n/**\n * `Selection` module is used to handle RTE Selections.\n */\nvar NodeSelection = /** @class */ (function () {\n    function NodeSelection(editElement) {\n        this.startNodeName = [];\n        this.endNodeName = [];\n        this.editableElement = editElement;\n    }\n    NodeSelection.prototype.saveInstance = function (range, body) {\n        this.range = range.cloneRange();\n        this.rootNode = this.documentFromRange(range);\n        this.body = body;\n        this.startContainer = this.getNodeArray(range.startContainer, true);\n        this.endContainer = this.getNodeArray(range.endContainer, false);\n        this.startOffset = range.startOffset;\n        this.endOffset = range.endOffset;\n        this.html = this.body.innerHTML;\n        return this;\n    };\n    NodeSelection.prototype.documentFromRange = function (range) {\n        return (9 === range.startContainer.nodeType) ? range.startContainer : range.startContainer.ownerDocument;\n    };\n    NodeSelection.prototype.getRange = function (docElement) {\n        var select = this.get(docElement);\n        var range = select && select.rangeCount > 0 ? select.getRangeAt(select.rangeCount - 1) : docElement.createRange();\n        return (range.startContainer !== docElement || range.endContainer !== docElement\n            || range.startOffset || range.endOffset || (range.setStart(docElement.body, 0),\n            range.collapse(!0)),\n            range);\n    };\n    /**\n     * get method\n     *\n     * @param {Document} docElement - specifies the get function\n     * @returns {void}\n     * @hidden\n\n     */\n    NodeSelection.prototype.get = function (docElement) {\n        return docElement.defaultView.getSelection();\n    };\n    /**\n     * save method\n     *\n     * @param {Range} range - range value.\n     * @param {Document} docElement - specifies the document.\n     * @returns {void}\n     * @hidden\n\n     */\n    NodeSelection.prototype.save = function (range, docElement) {\n        range = (range) ? range.cloneRange() : this.getRange(docElement);\n        return this.saveInstance(range, docElement.body);\n    };\n    /**\n     * getIndex method\n     *\n     * @param {Node} node - specifies the node value.\n     * @returns {void}\n     * @hidden\n\n     */\n    NodeSelection.prototype.getIndex = function (node) {\n        var index;\n        var num = 0;\n        node = !node.previousSibling && node.tagName === 'BR' ? node : node.previousSibling;\n        if (node) {\n            for (var type = node.nodeType; node; null) {\n                index = node.nodeType;\n                num++;\n                //eslint-disable-next-line\n                type = index;\n                node = node.previousSibling;\n            }\n        }\n        return num;\n    };\n    NodeSelection.prototype.isChildNode = function (nodeCollection, parentNode) {\n        for (var index = 0; index < parentNode.childNodes.length; index++) {\n            if (nodeCollection.indexOf(parentNode.childNodes[index]) > -1) {\n                return true;\n            }\n        }\n        return false;\n    };\n    NodeSelection.prototype.getNode = function (startNode, endNode, nodeCollection) {\n        if (this.editableElement && (!this.editableElement.contains(startNode) || this.editableElement === startNode)) {\n            return null;\n        }\n        if (endNode === startNode &&\n            (startNode.nodeType === 3 || !startNode.firstChild || nodeCollection.indexOf(startNode.firstChild) !== -1\n                || this.isChildNode(nodeCollection, startNode))) {\n            return null;\n        }\n        if (startNode.nodeType === 3 && startNode.previousSibling === endNode && endNode.nodeName === 'IMG') {\n            return null;\n        }\n        if (nodeCollection.indexOf(startNode.firstChild) === -1 && startNode.firstChild && !this.isChildNode(nodeCollection, startNode)) {\n            return startNode.firstChild;\n        }\n        if (startNode.nextSibling) {\n            return startNode.nextSibling;\n        }\n        if (!startNode.parentNode) {\n            return null;\n        }\n        else {\n            return startNode.parentNode;\n        }\n    };\n    /**\n     * getNodeCollection method\n     *\n     * @param {Range} range -specifies the range.\n     * @returns {void}\n     * @hidden\n\n     */\n    NodeSelection.prototype.getNodeCollection = function (range) {\n        var startNode = range.startContainer.childNodes[range.startOffset]\n            || range.startContainer;\n        var endNode = range.endContainer.childNodes[(range.endOffset > 0) ? (range.endOffset - 1) : range.endOffset]\n            || range.endContainer;\n        var tableCursor = this.processedTableImageCursor(range);\n        if (tableCursor.start || tableCursor.end) {\n            if (tableCursor.startName === 'TABLE' || tableCursor.endName === 'TABLE') {\n                var tableNode = tableCursor.start ? tableCursor.startNode : tableCursor.endNode;\n                return [tableNode];\n            }\n        }\n        if ((startNode === endNode || (startNode.nodeName === 'BR' && startNode === range.endContainer.childNodes[range.endOffset])) &&\n            startNode.childNodes.length === 0) {\n            return [startNode];\n        }\n        if (range.startOffset === range.endOffset && range.startOffset !== 0 && range.startContainer.nodeName === 'PRE') {\n            return [startNode.nodeName === 'BR' || startNode.nodeName === '#text' ? startNode : startNode.childNodes[0]];\n        }\n        var nodeCollection = [];\n        do {\n            if (nodeCollection.indexOf(startNode) === -1) {\n                nodeCollection.push(startNode);\n            }\n            startNode = this.getNode(startNode, endNode, nodeCollection);\n        } while (startNode);\n        return nodeCollection;\n    };\n    /**\n     * getParentNodeCollection method\n     *\n     * @param {Range} range - specifies the range value.\n     * @returns {void}\n     * @hidden\n\n     */\n    NodeSelection.prototype.getParentNodeCollection = function (range) {\n        return this.getParentNodes(this.getNodeCollection(range), range);\n    };\n    /**\n     * getParentNodes method\n     *\n     * @param {Node[]} nodeCollection - specifies the collection of nodes.\n     * @param {Range} range - specifies the range values.\n     * @returns {void}\n     * @hidden\n\n     */\n    NodeSelection.prototype.getParentNodes = function (nodeCollection, range) {\n        nodeCollection = nodeCollection.reverse();\n        for (var index = 0; index < nodeCollection.length; index++) {\n            if ((nodeCollection.indexOf(nodeCollection[index].parentNode) !== -1)\n                || (nodeCollection[index].nodeType === 3 &&\n                    range.startContainer !== range.endContainer &&\n                    range.startContainer.parentNode !== range.endContainer.parentNode)) {\n                nodeCollection.splice(index, 1);\n                index--;\n            }\n            else if (nodeCollection[index].nodeType === 3) {\n                nodeCollection[index] = nodeCollection[index].parentNode;\n            }\n        }\n        return nodeCollection;\n    };\n    /**\n     * getSelectionNodeCollection method\n     *\n     * @param {Range} range - specifies the range value.\n     * @returns {void}\n     * @hidden\n\n     */\n    NodeSelection.prototype.getSelectionNodeCollection = function (range) {\n        return this.getSelectionNodes(this.getNodeCollection(range));\n    };\n    /**\n     * getSelectionNodeCollection along with BR node method\n     *\n     * @param {Range} range - specifies the range value.\n     * @returns {void}\n     * @hidden\n\n     */\n    NodeSelection.prototype.getSelectionNodeCollectionBr = function (range) {\n        return this.getSelectionNodesBr(this.getNodeCollection(range));\n    };\n    /**\n     * getParentNodes method\n     *\n     * @param {Node[]} nodeCollection - specifies the collection of nodes.\n     * @returns {void}\n     * @hidden\n\n     */\n    NodeSelection.prototype.getSelectionNodes = function (nodeCollection) {\n        nodeCollection = nodeCollection.reverse();\n        var regEx = new RegExp('\\u200B', 'g');\n        for (var index = 0; index < nodeCollection.length; index++) {\n            if (nodeCollection[index].nodeType !== 3 || (nodeCollection[index].textContent.trim() === '' ||\n                (nodeCollection[index].textContent.length === 1 && nodeCollection[index].textContent.match(regEx)))) {\n                nodeCollection.splice(index, 1);\n                index--;\n            }\n        }\n        return nodeCollection.reverse();\n    };\n    /**\n     * Get selection text nodes with br method.\n     *\n     * @param {Node[]} nodeCollection - specifies the collection of nodes.\n     * @returns {void}\n     * @hidden\n\n     */\n    NodeSelection.prototype.getSelectionNodesBr = function (nodeCollection) {\n        nodeCollection = nodeCollection.reverse();\n        var regEx = new RegExp('\\u200B', 'g');\n        for (var index = 0; index < nodeCollection.length; index++) {\n            if (nodeCollection[index].nodeName !== 'BR' &&\n                (nodeCollection[index].nodeType !== 3 || (nodeCollection[index].textContent.trim() === '' ||\n                    (nodeCollection[index].textContent.length === 1 && nodeCollection[index].textContent.match(regEx))))) {\n                nodeCollection.splice(index, 1);\n                index--;\n            }\n        }\n        return nodeCollection.reverse();\n    };\n    /**\n     * getInsertNodeCollection method\n     *\n     * @param {Range} range - specifies the range value.\n     * @returns {void}\n     * @hidden\n\n     */\n    NodeSelection.prototype.getInsertNodeCollection = function (range) {\n        return this.getInsertNodes(this.getNodeCollection(range));\n    };\n    /**\n     * getInsertNodes method\n     *\n     * @param {Node[]} nodeCollection - specifies the collection of nodes.\n     * @returns {void}\n     * @hidden\n\n     */\n    NodeSelection.prototype.getInsertNodes = function (nodeCollection) {\n        nodeCollection = nodeCollection.reverse();\n        for (var index = 0; index < nodeCollection.length; index++) {\n            if ((nodeCollection[index].childNodes.length !== 0 &&\n                nodeCollection[index].nodeType !== 3) ||\n                (nodeCollection[index].nodeType === 3 &&\n                    nodeCollection[index].textContent === '')) {\n                nodeCollection.splice(index, 1);\n                index--;\n            }\n        }\n        return nodeCollection.reverse();\n    };\n    /**\n     * getNodeArray method\n     *\n     * @param {Node} node - specifies the node content.\n     * @param {boolean} isStart - specifies the boolean value.\n     * @param {Document} root - specifies the root document.\n     * @returns {void}\n     * @hidden\n\n     */\n    NodeSelection.prototype.getNodeArray = function (node, isStart, root) {\n        var array = [];\n        // eslint-disable-next-line\n        ((isStart) ? (this.startNodeName = []) : (this.endNodeName = []));\n        for (; node !== (root ? root : this.rootNode); null) {\n            if (isNullOrUndefined(node)) {\n                break;\n            }\n            // eslint-disable-next-line\n            (isStart) ? this.startNodeName.push(node.nodeName.toLowerCase()) : this.endNodeName.push(node.nodeName.toLowerCase());\n            array.push(this.getIndex(node));\n            node = node.parentNode;\n        }\n        return array;\n    };\n    NodeSelection.prototype.setRangePoint = function (range, isvalid, num, size) {\n        var node = this.rootNode;\n        var index = num.length;\n        var constant = size;\n        for (; index--; null) {\n            node = node && node.childNodes[num[index]];\n        }\n        if (node && constant >= 0 && node.nodeName !== 'html') {\n            if (node.nodeType === 3 && node.nodeValue.replace(/\\u00a0/g, '&nbsp;') === '&nbsp;') {\n                constant = node.textContent.length;\n            }\n            range[isvalid ? 'setStart' : 'setEnd'](node, constant);\n        }\n        return range;\n    };\n    /**\n     * restore method\n     *\n     * @returns {void}\n     * @hidden\n\n     */\n    NodeSelection.prototype.restore = function () {\n        var range = this.range.cloneRange();\n        range = this.setRangePoint(range, true, this.startContainer, this.startOffset);\n        range = this.setRangePoint(range, false, this.endContainer, this.endOffset);\n        this.selectRange(this.rootNode, range);\n        return range;\n    };\n    NodeSelection.prototype.selectRange = function (docElement, range) {\n        this.setRange(docElement, range);\n        this.save(range, docElement);\n    };\n    /**\n     * setRange method\n     *\n     * @param {Document} docElement - specifies the document.\n     * @param {Range} range - specifies the range.\n     * @returns {void}\n     * @hidden\n\n     */\n    NodeSelection.prototype.setRange = function (docElement, range) {\n        var selection = this.get(docElement);\n        selection.removeAllRanges();\n        selection.addRange(range);\n    };\n    /**\n     * setSelectionText method\n     *\n     * @param {Document} docElement - specifies the documrent\n     * @param {Node} startNode - specifies the starting node.\n     * @param {Node} endNode - specifies the the end node.\n     * @param {number} startIndex - specifies the starting index.\n     * @param {number} endIndex - specifies the end index.\n     * @returns {void}\n     * @hidden\n\n     */\n    NodeSelection.prototype.setSelectionText = function (docElement, startNode, endNode, startIndex, endIndex) {\n        var range = docElement.createRange();\n        range.setStart(startNode, startIndex);\n        range.setEnd(endNode, endIndex);\n        this.setRange(docElement, range);\n    };\n    /**\n     * setSelectionContents method\n     *\n     * @param {Document} docElement - specifies the document.\n     * @param {Node} element - specifies the node.\n     * @returns {void}\n     * @hidden\n\n     */\n    NodeSelection.prototype.setSelectionContents = function (docElement, element) {\n        var range = docElement.createRange();\n        range.selectNode(element);\n        this.setRange(docElement, range);\n    };\n    /**\n     * setSelectionNode method\n     *\n     * @param {Document} docElement - specifies the document.\n     * @param {Node} element - specifies the node.\n     * @returns {void}\n     * @hidden\n\n     */\n    NodeSelection.prototype.setSelectionNode = function (docElement, element) {\n        var range = docElement.createRange();\n        range.selectNodeContents(element);\n        this.setRange(docElement, range);\n    };\n    /**\n     * getSelectedNodes method\n     *\n     * @param {Document} docElement - specifies the document.\n     * @returns {void}\n     * @hidden\n\n     */\n    NodeSelection.prototype.getSelectedNodes = function (docElement) {\n        return this.getNodeCollection(this.getRange(docElement));\n    };\n    /**\n     * Clear method\n     *\n     * @param {Document} docElement - specifies the document.\n     * @returns {void}\n     * @hidden\n\n     */\n    NodeSelection.prototype.Clear = function (docElement) {\n        this.get(docElement).removeAllRanges();\n    };\n    /**\n     * insertParentNode method\n     *\n     * @param {Document} docElement - specifies the document.\n     * @param {Node} newNode - specicfies the new node.\n     * @param {Range} range - specifies the range.\n     * @returns {void}\n     * @hidden\n\n     */\n    NodeSelection.prototype.insertParentNode = function (docElement, newNode, range) {\n        range.surroundContents(newNode);\n        this.selectRange(docElement, range);\n    };\n    /**\n     * setCursorPoint method\n     *\n     * @param {Document} docElement - specifies the document.\n     * @param {Element} element - specifies the element.\n     * @param {number} point - specifies the point.\n     * @returns {void}\n     * @hidden\n\n     */\n    NodeSelection.prototype.setCursorPoint = function (docElement, element, point) {\n        var range = docElement.createRange();\n        var selection = docElement.defaultView.getSelection();\n        range.setStart(element, point);\n        range.collapse(true);\n        selection.removeAllRanges();\n        selection.addRange(range);\n    };\n    NodeSelection.prototype.isTableOrImageStart = function (range) {\n        var customHandlerElements = ['TABLE'];\n        var startContainer = range.startContainer;\n        var startOffset = range.startOffset;\n        var startNode = startContainer.childNodes[startOffset];\n        var isCursorAtStart = range.collapsed && (startContainer.nodeType === 1) &&\n            startContainer.isContentEditable && startNode &&\n            (customHandlerElements.indexOf(startNode.nodeName) > -1);\n        if (isCursorAtStart) {\n            return { start: isCursorAtStart, startNodeName: startNode.nodeName, startNode: startNode };\n        }\n        else {\n            return { start: false, startNodeName: '', startNode: undefined };\n        }\n    };\n    NodeSelection.prototype.isTableOrImageEnd = function (range) {\n        var customHandlerElements = ['TABLE'];\n        var startContainer = range.startContainer;\n        var startOffset = range.startOffset;\n        var endNode = startContainer.childNodes[startOffset - 1];\n        var isCursorAtEnd = range.collapsed && (startContainer.nodeType === 1) &&\n            startContainer.isContentEditable && endNode &&\n            (customHandlerElements.indexOf(endNode.nodeName) > -1);\n        if (isCursorAtEnd) {\n            return { end: isCursorAtEnd, endNodeName: endNode.nodeName, endNode: endNode };\n        }\n        else {\n            return { end: false, endNodeName: '', endNode: undefined };\n        }\n    };\n    NodeSelection.prototype.processedTableImageCursor = function (range) {\n        var _a = this.isTableOrImageStart(range), start = _a.start, startNodeName = _a.startNodeName, startNode = _a.startNode;\n        var _b = this.isTableOrImageEnd(range), end = _b.end, endNodeName = _b.endNodeName, endNode = _b.endNode;\n        return { start: start, startName: startNodeName, end: end, endName: endNodeName, startNode: startNode, endNode: endNode };\n    };\n    return NodeSelection;\n}());\nexport { NodeSelection };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}