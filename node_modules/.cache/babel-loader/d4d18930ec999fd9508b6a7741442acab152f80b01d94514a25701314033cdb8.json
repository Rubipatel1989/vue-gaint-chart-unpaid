{"ast":null,"code":"import { Dialog } from '@syncfusion/ej2-popups';\nimport { closest, isNullOrUndefined as isNOU } from '@syncfusion/ej2-base';\nimport * as events from '../base/constant';\n/**\n * Dialog Renderer\n */\nvar DialogRenderer = /** @class */function () {\n  function DialogRenderer(parent) {\n    this.parent = parent;\n    this.addEventListener();\n  }\n  DialogRenderer.prototype.addEventListener = function () {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n    this.parent.on(events.destroy, this.removeEventListener, this);\n    this.parent.on(events.documentClickClosedBy, this.documentClickClosedBy, this);\n  };\n  DialogRenderer.prototype.removeEventListener = function () {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n    this.parent.off(events.destroy, this.removeEventListener);\n    this.parent.off(events.documentClickClosedBy, this.documentClickClosedBy);\n  };\n  /**\n   * dialog render method\n   *\n   * @param {DialogModel} e - specifies the dialog model.\n   * @returns {void}\n   * @hidden\n    */\n  DialogRenderer.prototype.render = function (e) {\n    var dlgObj;\n    e.beforeOpen = this.beforeOpen.bind(this);\n    e.open = this.open.bind(this);\n    e.position = {\n      X: 'center',\n      Y: e.target !== 'string' && e.target.nodeName === 'BODY' && !isNOU(e.position) ? e.position.Y : this.getDialogPosition()\n    };\n    if (isNOU(e.close)) {\n      e.close = this.close.bind(this);\n    }\n    e.beforeClose = this.beforeClose.bind(this);\n    // eslint-disable-next-line\n    dlgObj = new Dialog(e);\n    dlgObj.isStringTemplate = true;\n    return dlgObj;\n  };\n  DialogRenderer.prototype.beforeOpen = function (args) {\n    if (args.element.classList.contains('e-dialog')) {\n      var formEle = closest(args.target, 'form');\n      if (!isNOU(formEle)) {\n        this.dialogEle = args.element;\n        this.dialogEle.addEventListener('keydown', this.handleEnterKeyDown);\n      }\n    }\n    this.parent.trigger(events.beforeDialogOpen, args, this.beforeOpenCallback.bind(this, args));\n  };\n  DialogRenderer.prototype.handleEnterKeyDown = function (args) {\n    if (args.key === 'Enter') {\n      args.preventDefault();\n    }\n  };\n  DialogRenderer.prototype.beforeOpenCallback = function (args) {\n    if (args.cancel) {\n      this.parent.notify(events.clearDialogObj, null);\n    }\n  };\n  DialogRenderer.prototype.open = function (args) {\n    this.parent.trigger(events.dialogOpen, args);\n  };\n  DialogRenderer.prototype.documentClickClosedBy = function (args) {\n    this.outsideClickClosedBy = args.closedBy;\n  };\n  DialogRenderer.prototype.beforeClose = function (args) {\n    if (this.dialogEle) {\n      this.dialogEle.removeEventListener('keydown', this.handleEnterKeyDown);\n    }\n    args.closedBy = this.outsideClickClosedBy === 'outside click' ? this.outsideClickClosedBy : args.closedBy;\n    this.parent.trigger(events.beforeDialogClose, args, function (closeArgs) {\n      if (!closeArgs.cancel) {\n        if (closeArgs.container.classList.contains('e-popup-close')) {\n          closeArgs.cancel = true;\n        }\n      }\n    });\n    this.outsideClickClosedBy = '';\n  };\n  DialogRenderer.prototype.getDialogPosition = function () {\n    var distanceFromVisibleTop = this.parent.element.getBoundingClientRect().top;\n    if (distanceFromVisibleTop < 0) {\n      var topHeight = 0;\n      var parentElement = this.parent.element;\n      while (parentElement.nodeName !== 'BODY') {\n        var top_1 = parentElement.getBoundingClientRect().top;\n        if (top_1 > 0) {\n          topHeight = top_1;\n        }\n        parentElement = parentElement.parentElement;\n      }\n      distanceFromVisibleTop = Math.abs(distanceFromVisibleTop) + topHeight;\n      return distanceFromVisibleTop.toString();\n    } else {\n      return 'top';\n    }\n  };\n  /**\n   * dialog close method\n   *\n   * @param {Object} args - specifies the arguments.\n   * @returns {void}\n   * @hidden\n    */\n  DialogRenderer.prototype.close = function (args) {\n    this.parent.trigger(events.dialogClose, args);\n  };\n  return DialogRenderer;\n}();\nexport { DialogRenderer };","map":{"version":3,"names":["Dialog","closest","isNullOrUndefined","isNOU","events","DialogRenderer","parent","addEventListener","prototype","isDestroyed","on","destroy","removeEventListener","documentClickClosedBy","off","render","e","dlgObj","beforeOpen","bind","open","position","X","Y","target","nodeName","getDialogPosition","close","beforeClose","isStringTemplate","args","element","classList","contains","formEle","dialogEle","handleEnterKeyDown","trigger","beforeDialogOpen","beforeOpenCallback","key","preventDefault","cancel","notify","clearDialogObj","dialogOpen","outsideClickClosedBy","closedBy","beforeDialogClose","closeArgs","container","distanceFromVisibleTop","getBoundingClientRect","top","topHeight","parentElement","top_1","Math","abs","toString","dialogClose"],"sources":["/var/www/vue/vue-gantt-chart/node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/renderer/dialog-renderer.js"],"sourcesContent":["import { Dialog } from '@syncfusion/ej2-popups';\nimport { closest, isNullOrUndefined as isNOU } from '@syncfusion/ej2-base';\nimport * as events from '../base/constant';\n/**\n * Dialog Renderer\n */\nvar DialogRenderer = /** @class */ (function () {\n    function DialogRenderer(parent) {\n        this.parent = parent;\n        this.addEventListener();\n    }\n    DialogRenderer.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on(events.destroy, this.removeEventListener, this);\n        this.parent.on(events.documentClickClosedBy, this.documentClickClosedBy, this);\n    };\n    DialogRenderer.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off(events.destroy, this.removeEventListener);\n        this.parent.off(events.documentClickClosedBy, this.documentClickClosedBy);\n    };\n    /**\n     * dialog render method\n     *\n     * @param {DialogModel} e - specifies the dialog model.\n     * @returns {void}\n     * @hidden\n\n     */\n    DialogRenderer.prototype.render = function (e) {\n        var dlgObj;\n        e.beforeOpen = this.beforeOpen.bind(this);\n        e.open = this.open.bind(this);\n        e.position = {\n            X: 'center',\n            Y: (e.target !== 'string' && e.target.nodeName === 'BODY' &&\n                !isNOU(e.position)) ? e.position.Y : this.getDialogPosition()\n        };\n        if (isNOU(e.close)) {\n            e.close = this.close.bind(this);\n        }\n        e.beforeClose = this.beforeClose.bind(this);\n        // eslint-disable-next-line\n        dlgObj = new Dialog(e);\n        dlgObj.isStringTemplate = true;\n        return dlgObj;\n    };\n    DialogRenderer.prototype.beforeOpen = function (args) {\n        if (args.element.classList.contains('e-dialog')) {\n            var formEle = closest(args.target, 'form');\n            if (!isNOU(formEle)) {\n                this.dialogEle = args.element;\n                this.dialogEle.addEventListener('keydown', this.handleEnterKeyDown);\n            }\n        }\n        this.parent.trigger(events.beforeDialogOpen, args, this.beforeOpenCallback.bind(this, args));\n    };\n    DialogRenderer.prototype.handleEnterKeyDown = function (args) {\n        if (args.key === 'Enter') {\n            args.preventDefault();\n        }\n    };\n    DialogRenderer.prototype.beforeOpenCallback = function (args) {\n        if (args.cancel) {\n            this.parent.notify(events.clearDialogObj, null);\n        }\n    };\n    DialogRenderer.prototype.open = function (args) {\n        this.parent.trigger(events.dialogOpen, args);\n    };\n    DialogRenderer.prototype.documentClickClosedBy = function (args) {\n        this.outsideClickClosedBy = args.closedBy;\n    };\n    DialogRenderer.prototype.beforeClose = function (args) {\n        if (this.dialogEle) {\n            this.dialogEle.removeEventListener('keydown', this.handleEnterKeyDown);\n        }\n        args.closedBy = this.outsideClickClosedBy === 'outside click' ? this.outsideClickClosedBy : args.closedBy;\n        this.parent.trigger(events.beforeDialogClose, args, function (closeArgs) {\n            if (!closeArgs.cancel) {\n                if (closeArgs.container.classList.contains('e-popup-close')) {\n                    closeArgs.cancel = true;\n                }\n            }\n        });\n        this.outsideClickClosedBy = '';\n    };\n    DialogRenderer.prototype.getDialogPosition = function () {\n        var distanceFromVisibleTop = this.parent.element.getBoundingClientRect().top;\n        if (distanceFromVisibleTop < 0) {\n            var topHeight = 0;\n            var parentElement = this.parent.element;\n            while (parentElement.nodeName !== 'BODY') {\n                var top_1 = parentElement.getBoundingClientRect().top;\n                if (top_1 > 0) {\n                    topHeight = top_1;\n                }\n                parentElement = parentElement.parentElement;\n            }\n            distanceFromVisibleTop = Math.abs(distanceFromVisibleTop) + topHeight;\n            return distanceFromVisibleTop.toString();\n        }\n        else {\n            return 'top';\n        }\n    };\n    /**\n     * dialog close method\n     *\n     * @param {Object} args - specifies the arguments.\n     * @returns {void}\n     * @hidden\n\n     */\n    DialogRenderer.prototype.close = function (args) {\n        this.parent.trigger(events.dialogClose, args);\n    };\n    return DialogRenderer;\n}());\nexport { DialogRenderer };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}