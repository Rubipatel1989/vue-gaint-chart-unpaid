{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.for-each.js\";\nimport \"core-js/modules/esnext.iterator.map.js\";\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nimport { PdfFontFamily, PdfTextWebLink } from '@syncfusion/ej2-pdf-export';\nimport { PdfStringFormat, PdfPageCountField, PdfPageNumberField } from '@syncfusion/ej2-pdf-export';\nimport { PdfPageTemplateElement, RectangleF, PdfCompositeField, PointF } from '@syncfusion/ej2-pdf-export';\nimport { PdfVerticalAlignment, PdfTextAlignment, PdfStandardFont } from '@syncfusion/ej2-pdf-export';\nimport { PdfFontStyle, PdfColor, PdfPen, PdfSolidBrush, SizeF, PdfBitmap } from '@syncfusion/ej2-pdf-export';\nimport { PdfBorders, PdfPaddings } from './pdf-base/index';\nimport { isNullOrUndefined, Internationalization, getValue, extend } from '@syncfusion/ej2-base';\nimport { getForeignData, ValueFormatter } from '@syncfusion/ej2-grids';\nimport { pixelToPoint, isScheduledTask } from '../base/utils';\n/**\n * @hidden\n * `ExportHelper` for `PdfExport` & `ExcelExport`\n */\nvar ExportHelper = /** @class */function () {\n  function ExportHelper(parent) {\n    this.totalColumnWidth = 0;\n    this.beforeSinglePageExport = {};\n    this.baselineHeight = 8;\n    this.parent = parent;\n  }\n  ExportHelper.prototype.processToFit = function () {\n    this.beforeSinglePageExport['zoomingProjectStartDate'] = this.parent.zoomingProjectStartDate;\n    this.beforeSinglePageExport['zoomingProjectEndDate'] = this.parent.zoomingProjectEndDate;\n    this.beforeSinglePageExport['cloneProjectStartDate'] = this.parent.cloneProjectStartDate;\n    this.beforeSinglePageExport['cloneProjectEndDate'] = this.parent.cloneProjectEndDate;\n    this.beforeSinglePageExport['customTimelineSettings'] = extend({}, this.parent.timelineModule.customTimelineSettings, null, true);\n    this.beforeSinglePageExport['isTimelineRoundOff'] = this.parent.isTimelineRoundOff;\n    this.beforeSinglePageExport['topTier'] = this.parent.timelineModule.topTier;\n    this.beforeSinglePageExport['topTierCellWidth'] = this.parent.timelineModule.topTierCellWidth;\n    this.beforeSinglePageExport['topTierCollection'] = this.parent.timelineModule.topTierCollection;\n    this.beforeSinglePageExport['bottomTier'] = this.parent.timelineModule.bottomTier;\n    this.beforeSinglePageExport['bottomTierCellWidth'] = this.parent.timelineModule.bottomTierCellWidth;\n    this.beforeSinglePageExport['bottomTierCollection'] = this.parent.timelineModule.bottomTierCollection;\n    this.beforeSinglePageExport['totalTimelineWidth'] = this.parent.timelineModule.totalTimelineWidth;\n    this.beforeSinglePageExport['timelineStartDate'] = this.parent.timelineModule.timelineStartDate;\n    this.beforeSinglePageExport['timelineEndDate'] = this.parent.timelineModule.timelineEndDate;\n    this.beforeSinglePageExport['timelineRoundOffEndDate'] = this.parent.timelineModule.timelineRoundOffEndDate;\n    this.beforeSinglePageExport['perDayWidth'] = this.parent.perDayWidth;\n    this.beforeSinglePageExport['updatedConnectorLineCollection'] = extend([], this.parent.updatedConnectorLineCollection, null, true);\n    this.parent.timelineModule.isZoomToFit = true;\n    this.parent.timelineModule.isZooming = false;\n    if (!this.parent.zoomingProjectStartDate) {\n      this.parent.zoomingProjectStartDate = this.parent.cloneProjectStartDate;\n      this.parent.zoomingProjectEndDate = this.parent.cloneProjectEndDate;\n    }\n    if (this.parent.zoomingProjectStartDate > this.parent.cloneProjectStartDate) {\n      this.parent.cloneProjectStartDate = new Date(this.parent.allowUnscheduledTasks ? this.parent.zoomingProjectStartDate : this.parent.cloneProjectStartDate);\n    }\n    this.parent.dataOperation.calculateProjectDates();\n    var timeDifference = this.parent.cloneProjectEndDate.getTime() - this.parent.cloneProjectStartDate.getTime();\n    var totalDays = timeDifference / (1000 * 3600 * 24);\n    var chartsideWidth;\n    var gridWidth;\n    if (this.exportProps.fitToWidthSettings.gridWidth) {\n      gridWidth = parseInt(this.exportProps.fitToWidthSettings.gridWidth.split('%')[0], 10);\n    }\n    if (this.exportProps.fitToWidthSettings.chartWidth) {\n      chartsideWidth = parseInt(this.exportProps.fitToWidthSettings.chartWidth.split('%')[0], 10);\n    } else {\n      if (this.exportProps.fitToWidthSettings.gridWidth) {\n        chartsideWidth = 100 - gridWidth;\n      } else {\n        chartsideWidth = 70;\n      }\n    }\n    var pdfwidth = this.parent.pdfExportModule['pdfPageDimensions'].width * chartsideWidth / 100;\n    var chartWidth = pdfwidth;\n    var perDayWidth = chartWidth / totalDays;\n    var zoomingLevel;\n    var firstValue;\n    var secondValue;\n    var zoomingCollections = this.parent.zoomingLevels.slice();\n    var sortedCollectons = zoomingCollections.sort(function (a, b) {\n      return !a.perDayWidth && !b.perDayWidth ? 0 : a.perDayWidth < b.perDayWidth ? 1 : -1;\n    });\n    if (perDayWidth === 0) {\n      // return when the Gantt chart is not in viewable state.\n      return;\n    }\n    for (var i = 0; i < sortedCollectons.length; i++) {\n      firstValue = sortedCollectons[i];\n      if (i === sortedCollectons.length - 1) {\n        zoomingLevel = sortedCollectons[i];\n        break;\n      } else {\n        secondValue = sortedCollectons[i + 1];\n      }\n      if (perDayWidth >= firstValue.perDayWidth) {\n        zoomingLevel = sortedCollectons[i];\n        break;\n      }\n      if (perDayWidth < firstValue.perDayWidth && perDayWidth > secondValue.perDayWidth) {\n        zoomingLevel = sortedCollectons[i + 1];\n        break;\n      }\n    }\n    var newTimeline = extend({}, {}, zoomingLevel, true);\n    this.parent.timelineModule['roundOffDateToZoom'](this.parent.cloneProjectStartDate, true, perDayWidth, newTimeline.bottomTier.unit, zoomingLevel);\n    this.parent.timelineModule['roundOffDateToZoom'](this.parent.cloneProjectEndDate, false, perDayWidth, newTimeline.bottomTier.unit, zoomingLevel);\n    var numberOfCells = this.parent.timelineModule['calculateNumberOfTimelineCells'](newTimeline);\n    var scrollHeight = this.parent.pdfExportModule['pdfPageDimensions'].height; //17 is horizontal scrollbar width\n    var emptySpace = scrollHeight <= 0 ? 0 : 17;\n    newTimeline.timelineUnitSize = Math.abs(chartWidth - emptySpace) / numberOfCells;\n    this.parent.timelineModule['changeTimelineSettings'](newTimeline);\n    this.parent.timelineModule.isZoomToFit = false;\n    this.parent.timelineModule.isZooming = false;\n  };\n  /**\n   * @param {IGanttData[]} data .\n   * @param {PdfGantt} gantt .\n   * @param {PdfExportProperties} props .\n   * @returns {void} .\n   * @private\n   */\n  ExportHelper.prototype.processGridExport = function (data, gantt, props) {\n    this.flatData = data;\n    this.gantt = gantt;\n    this.exportValueFormatter = new ExportValueFormatter(this.parent.locale);\n    this.exportProps = props;\n    this.rowIndex = 0;\n    this.colIndex = 0;\n    this.columns = this.parent.treeGrid.columns;\n    this.gantt.treeColumnIndex = this.parent.treeColumnIndex;\n    this.gantt.rowHeight = pixelToPoint(this.parent.rowHeight);\n    this.gantt.style.cellPadding.left = 0;\n    this.gantt.style.cellPadding.right = 0;\n    this.ganttStyle = this.gantt.ganttStyle;\n    this.gantt.borderColor = this.ganttStyle.chartGridLineColor;\n    this.parent.pdfExportModule.isPdfExport = true;\n    if (this.exportProps.fitToWidthSettings && this.exportProps.fitToWidthSettings.isFitToWidth) {\n      this.processToFit();\n    }\n    this.processHeaderContent();\n    this.processGanttContent();\n    this.processTimeline();\n    this.processTaskbar();\n    this.processPredecessor();\n    this.parent.pdfExportModule.isPdfExport = false;\n  };\n  ExportHelper.prototype.processHeaderContent = function () {\n    var _this = this;\n    this.rowIndex++;\n    this.row = this.gantt.rows.addRow();\n    var index = 0;\n    this.columns.forEach(function (column) {\n      if (_this.isColumnVisible(column)) {\n        _this.processColumnHeader(column, index);\n        index++;\n      }\n    });\n  };\n  ExportHelper.prototype.processColumnHeader = function (column, index) {\n    this.gantt.columns.add(1);\n    var pdfColumn = this.gantt.columns.getColumn(index);\n    if (this.parent.treeColumnIndex === index) {\n      pdfColumn.isTreeColumn = true;\n    }\n    var width = parseInt(column.width, 10);\n    pdfColumn.width = pixelToPoint(width);\n    this.totalColumnWidth += pdfColumn.width;\n    pdfColumn.headerText = column.headerText;\n    pdfColumn.field = column.field;\n    var cell = this.row.cells.getCell(index);\n    cell.value = column.headerText;\n    cell.isHeaderCell = true;\n    var treeGridHeaderHeight = this.parent.timelineModule.isSingleTier ? 45 : 60;\n    this.copyStyles(this.ganttStyle.columnHeader, cell, false);\n    this.row.height = pixelToPoint(treeGridHeaderHeight);\n    if (column.headerTextAlign) {\n      cell.style.format.alignment = PdfTextAlignment[column.headerTextAlign];\n    }\n    var template = {\n      image: null,\n      value: null,\n      fontStyle: {\n        fontBrush: null\n      }\n    };\n    cell.fontStyle = {\n      fontSize: 9\n    };\n    var args = {\n      cell: cell,\n      style: cell.style,\n      value: cell.value,\n      column: column,\n      image: null,\n      headerTemplate: template\n    };\n    if (this.parent.pdfColumnHeaderQueryCellInfo) {\n      this.parent.trigger('pdfColumnHeaderQueryCellInfo', args);\n    }\n    if (args.headerTemplate.image && args.headerTemplate.value) {\n      args.image = new PdfBitmap(args.headerTemplate.image[0].base64);\n      args.image.height = args.headerTemplate.image[0].height || args.image.height;\n      args.image.width = args.headerTemplate.image[0].width || args.image.width;\n      cell.image = args.image;\n      cell.value = args.headerTemplate.value;\n      cell.fontStyle.fontSize = args.headerTemplate.fontStyle.fontSize;\n      cell.fontStyle.fontFamily = args.headerTemplate.fontStyle.fontFamily;\n      cell.fontStyle.fontBrush = args.headerTemplate.fontStyle.fontColor;\n    } else {\n      cell.value = args.value;\n    }\n  };\n  ExportHelper.prototype.isColumnVisible = function (column) {\n    var visibleColumn = column.visible || this.exportProps.includeHiddenColumn;\n    return visibleColumn;\n  };\n  ExportHelper.prototype.processGanttContent = function () {\n    var _this = this;\n    if (this.flatData.length === 0) {\n      this.renderEmptyGantt();\n    } else {\n      var flatData = this.flatData;\n      flatData.forEach(function (data) {\n        _this.row = _this.gantt.rows.addRow();\n        if (data.hasChildRecords) {\n          _this.gantt.rows.getRow(_this.rowIndex).isParentRow = true;\n          _this.processRecordRow(data);\n        } else {\n          _this.processRecordRow(data);\n        }\n        _this.rowIndex++;\n      });\n    }\n  };\n  /**\n   * Method for processing the timeline details\n   *\n   * @returns {void} .\n   */\n  ExportHelper.prototype.processTimeline = function () {\n    if (this.parent.enableTimelineVirtualization) {\n      this.parent.timelineModule.createTimelineSeries();\n    }\n    var timelineSettings = this.parent.timelineModule;\n    this.gantt.chartHeader.topTierHeight = this.gantt.chartHeader.bottomTierHeight = this.parent.timelineModule.isSingleTier ? 45 : 60 / 2;\n    this.gantt.chartHeader.topTierCellWidth = timelineSettings.topTierCellWidth;\n    this.gantt.chartHeader.bottomTierCellWidth = timelineSettings.bottomTierCellWidth;\n    this.gantt.chartHeader.topTier = extend([], [], this.parent.enableTimelineVirtualization ? timelineSettings.pdfExportTopTierCollection : timelineSettings.topTierCollection, true);\n    this.gantt.chartHeader.bottomTier = extend([], [], this.parent.enableTimelineVirtualization ? timelineSettings.pdfExportBottomTierCollection : timelineSettings.bottomTierCollection, true);\n    if (this.exportProps && this.exportProps.fitToWidthSettings && this.exportProps.fitToWidthSettings.isFitToWidth && this.parent.enableTimelineVirtualization) {\n      var tier = timelineSettings.topTier === 'None' ? 'bottomTier' : 'topTier';\n      this.gantt.chartHeader.width = timelineSettings['calculateWidthBetweenTwoDate'](tier, timelineSettings.timelineStartDate, timelineSettings.timelineEndDate);\n    } else {\n      this.gantt.chartHeader.width = this.parent.enableTimelineVirtualization ? this.parent.timelineModule.wholeTimelineWidth : timelineSettings.totalTimelineWidth;\n    }\n    this.gantt.chartHeader.height = this.gantt.rows.getRow(0).height;\n    this.gantt.timelineStartDate = new Date(timelineSettings.timelineStartDate.getTime());\n  };\n  /**\n   * Method for create the predecessor collection for rendering\n   *\n   * @returns {void} .\n   */\n  ExportHelper.prototype.processPredecessor = function () {\n    var _this = this;\n    if (isNullOrUndefined(this.exportProps.showPredecessorLines) || this.exportProps.showPredecessorLines) {\n      this.parent.pdfExportModule.isPdfExport = true;\n      this.parent.predecessorModule.createConnectorLinesCollection();\n      this.parent.updatedConnectorLineCollection.forEach(function (data) {\n        var predecessor = _this.gantt.predecessor.add();\n        predecessor.parentLeft = data.parentLeft;\n        predecessor.childLeft = data.childLeft;\n        predecessor.parentWidth = data.parentWidth;\n        predecessor.childWidth = data.childWidth;\n        predecessor.parentIndex = data.parentIndex;\n        predecessor.childIndex = data.childIndex;\n        predecessor.rowHeight = data.rowHeight;\n        predecessor.type = data.type;\n        predecessor.milestoneParent = data.milestoneParent;\n        predecessor.milestoneChild = data.milestoneChild;\n        predecessor.parentEndPoint = data.parentEndPoint;\n        predecessor.lineWidth = _this.parent.connectorLineWidth > 5 ? pixelToPoint(5) : pixelToPoint(_this.parent.connectorLineWidth);\n        if (data.isCritical) {\n          predecessor.connectorLineColor = _this.ganttStyle.criticalConnectorLineColor;\n        } else {\n          predecessor.connectorLineColor = _this.ganttStyle.connectorLineColor;\n        }\n        _this.ganttStyle.connectorLineColor = predecessor.connectorLineColor;\n        _this.gantt.predecessorCollection.push(predecessor);\n      });\n      this.parent.pdfExportModule.isPdfExport = false;\n    }\n  };\n  ExportHelper.prototype.processRecordRow = function (data) {\n    var _this = this;\n    this.colIndex = 0;\n    this.row.level = data.level;\n    this.columns.forEach(function (column) {\n      if (_this.isColumnVisible(column)) {\n        _this.processRecordCell(data, column, _this.row);\n        _this.colIndex++;\n      }\n    });\n  };\n  ExportHelper.prototype.processRecordCell = function (data, column, row) {\n    var cell = row.cells.getCell(this.colIndex);\n    var taskFields = this.parent.taskFields;\n    var ganttProps = data.ganttProperties;\n    if (column.editType === 'datepickeredit' || column.editType === 'datetimepickeredit') {\n      cell.value = data[column.field];\n    } else if (column.field === taskFields.duration) {\n      cell.value = this.parent.getDurationString(ganttProps.duration, ganttProps.durationUnit);\n    } else if (column.field === taskFields.resourceInfo) {\n      cell.value = ganttProps.resourceNames;\n    } else if (column.field === taskFields.work) {\n      cell.value = this.parent.getWorkString(ganttProps.work, ganttProps.workUnit);\n    } else {\n      cell.value = !isNullOrUndefined(data[column.field]) ? data[column.field].toString() : '';\n    }\n    var cellValueString = !isNullOrUndefined(cell.value) ? cell.value.toString() : '';\n    var cellValue = cellValueString;\n    var value = !isNullOrUndefined(cellValue) ? cellValue : '';\n    cell.isHeaderCell = false;\n    cell.style.padding = new PdfPaddings();\n    this.copyStyles(this.ganttStyle.cell, cell, row.isParentRow);\n    if (column['index'] !== this.parent.treeColumnIndex) {\n      cell.style.format.alignment = PdfTextAlignment[column.textAlign];\n    } else {\n      cell.style.format.paragraphIndent = cell.row.level * 10;\n    }\n    var args = {\n      data: data,\n      value: value,\n      column: column,\n      style: cell.style,\n      cell: cell\n    };\n    args.value = this.exportValueFormatter.formatCellValue(args);\n    if (this.parent.pdfQueryCellInfo) {\n      this.parent.trigger('pdfQueryCellInfo', args);\n      if (args.style.backgroundColor) {\n        cell.style.backgroundColor = args.style.backgroundColor;\n      }\n      if (args.style.borderColor) {\n        cell.style.borderColor = args.style.borderColor;\n      }\n      if (args.style.fontBrush) {\n        cell.style.fontBrush = args.style.fontBrush;\n      }\n      if (args.style.fontColor) {\n        cell.style.fontColor = args.style.fontColor;\n      }\n      if (args.style.fontFamily) {\n        var font = args.style.fontFamily;\n        var fontFamily = this.getFontFamily(font);\n        cell.style.fontFamily = fontFamily;\n      } else {\n        cell.style.fontFamily = this.ganttStyle.fontFamily;\n      }\n      if (args.style.fontSize) {\n        cell.style.fontSize = args.style.fontSize;\n      }\n      if (args.style.fontStyle) {\n        var style = args.style.fontStyle;\n        var fontStyle = this.getFontStyle(style);\n        cell.style.fontStyle = fontStyle;\n      } else {\n        cell.style.fontStyle = this.ganttStyle.footer.fontStyle;\n      }\n      if (args.style.format) {\n        cell.style.format = args.style.format;\n      }\n      if (args.style.padding) {\n        cell.style.padding = args.style.padding;\n      }\n    }\n    if (!isNullOrUndefined(args.image) && !isNullOrUndefined(args.image.base64)) {\n      var dimension = extend({}, args.image, null, true);\n      args.image = new PdfBitmap(args.image.base64);\n      args.image.height = dimension['height'] ? dimension['height'] : args.image.height;\n      args.image.width = dimension['width'] ? dimension['width'] : args.image.width;\n      cell.image = args.image;\n    }\n    cell.value = args.value;\n    if (!isNullOrUndefined(args.hyperLink) && (!isNullOrUndefined(args.hyperLink.displayText) || !isNullOrUndefined(args.hyperLink.target))) {\n      cell.value = this.setHyperLink(args);\n    }\n  };\n  ExportHelper.prototype.setHyperLink = function (args) {\n    // create the Text Web Link\n    var textLink = new PdfTextWebLink();\n    // set the hyperlink\n    textLink.url = args.hyperLink.target;\n    // set the link text\n    textLink.text = args.hyperLink.displayText || args.hyperLink.target;\n    // set the font\n    textLink.font = new PdfStandardFont(PdfFontFamily.Helvetica, 9.75);\n    // set the brush and pen for the text color\n    textLink.brush = new PdfSolidBrush(new PdfColor(51, 102, 187));\n    return textLink;\n  };\n  /**\n   * Method for create the taskbar collection for rendering\n   *\n   * @returns {void} .\n   */\n  ExportHelper.prototype.processTaskbar = function () {\n    var _this = this;\n    var flatData = this.flatData;\n    flatData.forEach(function (data) {\n      var taskbar = _this.gantt.taskbar.add();\n      var ganttProp = data.ganttProperties;\n      taskbar.left = ganttProp.left;\n      taskbar.width = ganttProp.width;\n      if (taskbar.left < 0) {\n        taskbar.width = taskbar.width + taskbar.left;\n        taskbar.left = 0;\n      }\n      taskbar.progress = ganttProp.progress;\n      taskbar.isScheduledTask = isScheduledTask(ganttProp);\n      if (isScheduledTask) {\n        if (isNullOrUndefined(ganttProp.endDate) && isNullOrUndefined(ganttProp.duration)) {\n          taskbar.unscheduledTaskBy = 'startDate';\n        } else if (isNullOrUndefined(ganttProp.startDate) && isNullOrUndefined(ganttProp.duration)) {\n          taskbar.unscheduledTaskBy = 'endDate';\n        } else {\n          taskbar.unscheduledTaskBy = 'duration';\n          taskbar.unscheduleStarteDate = _this.parent.dateValidationModule.getValidStartDate(data.ganttProperties);\n          taskbar.unscheduleEndDate = _this.parent.dateValidationModule.getValidEndDate(data.ganttProperties);\n        }\n      }\n      // else {\n      //     taskbar.unscheduleStarteDate = null;\n      //     taskbar.unscheduleEndDate = null;\n      // }\n      taskbar.startDate = ganttProp.startDate;\n      taskbar.endDate = ganttProp.endDate;\n      taskbar.height = _this.parent.chartRowsModule.taskBarHeight;\n      // if (this.parent.renderBaseline) {\n      //     let height: number;\n      //     if ((taskbar.height + this.baselineHeight) <= this.parent.rowHeight) {\n      //         height = taskbar.height;\n      //     } else {\n      //         height = taskbar.height - (this.baselineHeight + 1);\n      //     }\n      //     taskbar.height = height;\n      // }\n      taskbar.indicators = ganttProp.indicators;\n      taskbar.autoStartDate = ganttProp.autoStartDate;\n      taskbar.autoEndDate = ganttProp.autoEndDate;\n      taskbar.isAutoSchedule = ganttProp.isAutoSchedule;\n      taskbar.autoWidth = ganttProp.autoWidth;\n      taskbar.autoLeft = ganttProp.autoLeft;\n      taskbar.segment = ganttProp.segments;\n      taskbar.isSpliterTask = isNullOrUndefined(ganttProp.segments) || ganttProp.segments.length === 0 ? false : true;\n      if (taskbar.isSpliterTask) {\n        taskbar.segmentCollection = taskbar.segment.map(function (obj) {\n          return __assign({}, obj);\n        });\n      }\n      taskbar.baselineTop = _this.parent.chartRowsModule.baselineTop;\n      taskbar.isMilestone = ganttProp.isMilestone;\n      taskbar.baselineStartDate = ganttProp.baselineStartDate;\n      taskbar.baselineEndDate = ganttProp.baselineEndDate;\n      taskbar.baselineLeft = ganttProp.baselineLeft;\n      taskbar.baselineWidth = ganttProp.baselineWidth;\n      if (taskbar.baselineLeft < 0) {\n        taskbar.baselineWidth = taskbar.baselineWidth + taskbar.baselineLeft;\n        taskbar.baselineLeft = 0;\n      }\n      taskbar.milestoneColor = new PdfColor(_this.ganttStyle.taskbar.milestoneColor);\n      taskbar.isParentTask = data.hasChildRecords;\n      if (ganttProp.isMilestone) {\n        taskbar.height = ganttProp.width;\n      }\n      if (data[_this.parent.labelSettings.leftLabel]) {\n        taskbar.leftTaskLabel.value = data[_this.parent.labelSettings.leftLabel].toString();\n      }\n      if (data[_this.parent.labelSettings.rightLabel]) {\n        taskbar.rightTaskLabel.value = data[_this.parent.labelSettings.rightLabel].toString();\n      }\n      if (!isNullOrUndefined(data[_this.parent.labelSettings.taskLabel])) {\n        taskbar.taskLabel = data[_this.parent.labelSettings.taskLabel].toString();\n      }\n      var reduceLeft = ganttProp.isMilestone ? Math.floor(_this.parent.chartRowsModule.taskBarHeight / 2) + 33 : 33; // 33 indicates default timeline cell width\n      taskbar.rightTaskLabel.left = ganttProp.left + ganttProp.width + reduceLeft; // right label left value\n      taskbar.fontFamily = _this.ganttStyle.fontFamily;\n      taskbar.progressWidth = ganttProp.progressWidth;\n      taskbar.labelColor = new PdfColor(_this.ganttStyle.label.fontColor);\n      taskbar.progressFontColor = new PdfColor(_this.ganttStyle.taskbar.progressFontColor);\n      if (taskbar.isParentTask) {\n        taskbar.taskColor = new PdfColor(_this.ganttStyle.taskbar.parentTaskColor);\n        taskbar.taskBorderColor = new PdfColor(_this.ganttStyle.taskbar.parentTaskBorderColor);\n        taskbar.progressColor = new PdfColor(_this.ganttStyle.taskbar.parentProgressColor);\n      } else {\n        if (data.isCritical) {\n          taskbar.taskColor = new PdfColor(_this.ganttStyle.taskbar.criticalTaskColor);\n          taskbar.progressColor = new PdfColor(_this.ganttStyle.taskbar.criticalProgressColor);\n          taskbar.taskBorderColor = new PdfColor(_this.ganttStyle.taskbar.criticalTaskBorderColor);\n          taskbar.milestoneColor = new PdfColor(_this.ganttStyle.taskbar.criticalTaskColor);\n        } else {\n          taskbar.taskColor = new PdfColor(_this.ganttStyle.taskbar.taskColor);\n          taskbar.progressColor = new PdfColor(_this.ganttStyle.taskbar.progressColor);\n          taskbar.taskBorderColor = new PdfColor(_this.ganttStyle.taskbar.taskBorderColor);\n        }\n      }\n      taskbar.manualParentBorder = new PdfColor(_this.ganttStyle.taskbar.manualParentBorder);\n      taskbar.manualChildBorder = new PdfColor(_this.ganttStyle.taskbar.manualChildBorder);\n      taskbar.manuallineColor = new PdfColor(_this.ganttStyle.taskbar.manualLineColor);\n      taskbar.unscheduledTaskBarColor = new PdfColor(_this.ganttStyle.taskbar.unscheduledTaskBarColor);\n      taskbar.manualParentBackground = new PdfColor(_this.ganttStyle.taskbar.manualParentBackground);\n      taskbar.manualParentProgress = new PdfColor(_this.ganttStyle.taskbar.manualParentProgress);\n      taskbar.manualChildBackground = new PdfColor(_this.ganttStyle.taskbar.manualChildBackground);\n      taskbar.manualChildProgress = new PdfColor(_this.ganttStyle.taskbar.manualChildProgress);\n      taskbar.splitLineBackground = new PdfColor(_this.ganttStyle.taskbar.splitLineBackground);\n      taskbar.baselineColor = new PdfColor(_this.ganttStyle.taskbar.baselineColor);\n      taskbar.baselineBorderColor = new PdfColor(_this.ganttStyle.taskbar.baselineBorderColor);\n      taskbar.gridLineColor = new PdfColor(_this.ganttStyle.chartGridLineColor);\n      var labelTemplateStyle = {};\n      labelTemplateStyle.leftLabel = {\n        value: null,\n        image: null,\n        fontStyle: {\n          fontBrush: null\n        }\n      };\n      labelTemplateStyle.rightLabel = {\n        value: null,\n        image: null,\n        fontStyle: {\n          fontBrush: null\n        }\n      };\n      labelTemplateStyle.taskLabel = {\n        value: null,\n        image: null,\n        fontStyle: {\n          fontBrush: null\n        }\n      };\n      taskbar.labelSettings = labelTemplateStyle;\n      var taskbarTemplate = {\n        value: null,\n        image: null,\n        fontStyle: {\n          fontBrush: null\n        }\n      };\n      taskbar.taskbarTemplate = taskbarTemplate;\n      _this.gantt.taskbarCollection.push(taskbar);\n      var taskStyle = {};\n      taskStyle.progressFontColor = taskbar.progressFontColor;\n      taskStyle.taskColor = taskbar.taskColor;\n      taskStyle.taskBorderColor = taskbar.taskBorderColor;\n      taskStyle.progressColor = taskbar.progressColor;\n      taskStyle.milestoneColor = taskbar.milestoneColor;\n      taskStyle.baselineColor = taskbar.baselineColor;\n      taskStyle.baselineBorderColor = taskbar.baselineBorderColor;\n      var args = {\n        taskbar: taskStyle,\n        data: data,\n        indicators: data.ganttProperties.indicators,\n        labelSettings: labelTemplateStyle,\n        taskbarTemplate: taskbarTemplate\n      };\n      if (_this.parent.pdfQueryTaskbarInfo) {\n        _this.parent.trigger('pdfQueryTaskbarInfo', args);\n        taskbar.progressFontColor = args.taskbar.progressFontColor;\n        taskbar.taskColor = args.taskbar.taskColor;\n        taskbar.taskBorderColor = args.taskbar.taskBorderColor;\n        taskbar.progressColor = args.taskbar.progressColor;\n        taskbar.milestoneColor = args.taskbar.milestoneColor;\n        taskbar.baselineColor = args.taskbar.baselineColor;\n        taskbar.baselineBorderColor = args.taskbar.baselineBorderColor;\n        taskbar.indicators = args.indicators;\n        taskbar.labelSettings.leftLabel.value = args.labelSettings.leftLabel.value;\n        var leftImages = args.labelSettings.leftLabel.image;\n        taskbar.labelSettings.rightLabel.value = args.labelSettings.rightLabel.value;\n        var rightImage = args.labelSettings.rightLabel.image;\n        if (!isNullOrUndefined(args.labelSettings.taskLabel.value)) {\n          taskbar.taskLabel = args.labelSettings.taskLabel.value;\n        }\n        if (!isNullOrUndefined(args.labelSettings.leftLabel.image) && Array.isArray(args.labelSettings.leftLabel.image[0].base64) && args.labelSettings.leftLabel.image[0].base64.length > 0) {\n          var baseCount = args.labelSettings.leftLabel.image[0].base64.length;\n          taskbar.labelSettings.leftLabel.image = [];\n          for (var i = 0; i < baseCount; i++) {\n            // Create separate objects for each element of the base64 array\n            taskbar.labelSettings.leftLabel.image.push({\n              base64: leftImages[0].base64[i],\n              width: leftImages[0].width,\n              height: leftImages[0].height\n            });\n          }\n        } else if (!isNullOrUndefined(args.labelSettings.leftLabel.image)) {\n          taskbar.labelSettings.leftLabel.image = args.labelSettings.leftLabel.image;\n        }\n        if (!isNullOrUndefined(args.labelSettings.rightLabel.image) && Array.isArray(args.labelSettings.rightLabel.image[0].base64) && args.labelSettings.rightLabel.image[0].base64.length > 0) {\n          var baseCount = args.labelSettings.rightLabel.image[0].base64.length;\n          taskbar.labelSettings.rightLabel.image = [];\n          for (var i = 0; i < baseCount; i++) {\n            // Create separate objects for each element of the base64 array\n            taskbar.labelSettings.rightLabel.image.push({\n              base64: rightImage[0].base64[i],\n              width: rightImage[0].width,\n              height: rightImage[0].height\n            });\n          }\n        } else if (!isNullOrUndefined(args.labelSettings.rightLabel.image)) {\n          taskbar.labelSettings.rightLabel.image = args.labelSettings.rightLabel.image;\n        }\n        /* eslint-disable-next-line */\n        var applyTemplate = function (target, source) {\n          target.progressFontColor = source.taskbar.progressFontColor;\n          target.taskColor = new PdfColor(source.taskbar.taskColor);\n          target.taskBorderColor = source.taskbar.taskBorderColor;\n          target.progressColor = source.taskbar.progressColor;\n          target.milestoneColor = source.taskbar.milestoneColor;\n          if (!isNullOrUndefined(source.taskbarTemplate.image) && !isNullOrUndefined(source.taskbarTemplate.image[0].base64)) {\n            var width = source.taskbarTemplate.image[0].width;\n            var milestoneHeight = taskbar.isMilestone ? source.taskbarTemplate.image[0].height < _this.parent.chartRowsModule.taskBarHeight * 0.7 ? source.taskbarTemplate.image[0].height : _this.parent.chartRowsModule.taskBarHeight * 0.7 - 2 : _this.parent.chartRowsModule.taskBarHeight * 0.7 - 2;\n            var taskbarHeight = !isNullOrUndefined(source.taskbarTemplate.image[0].height) ? source.taskbarTemplate.image[0].height < taskbar.height ? source.taskbarTemplate.image[0].height : taskbar.height - 2 : taskbar.height - 2;\n            var height = taskbar.isMilestone ? milestoneHeight : taskbarHeight;\n            target.taskbarTemplate.image = source.taskbarTemplate.image;\n            target.taskbarTemplate.image[0].width = width;\n            target.taskbarTemplate.image[0].height = height;\n          }\n          if (!isNullOrUndefined(source.taskbarTemplate.value)) {\n            target.taskbarTemplate.value = source.taskbarTemplate.value;\n            target.taskbarTemplate.value = source.taskbarTemplate.value;\n            target.taskbarTemplate.fontStyle.fontColor = source.taskbarTemplate.fontStyle.fontColor;\n            target.taskbarTemplate.fontStyle.fontSize = source.taskbarTemplate.fontStyle.fontSize;\n            target.taskbarTemplate.fontStyle.fontFamily = source.taskbarTemplate.fontStyle.fontFamily;\n            target.taskbarTemplate.fontStyle.fontStyle = source.taskbarTemplate.fontStyle.fontStyle;\n            target.taskbarTemplate.fontStyle.fontBrush = source.taskbarTemplate.fontStyle.fontBrush;\n          }\n        };\n        if (!args.data.hasChildRecords && args.data.ganttProperties.duration !== 0) {\n          applyTemplate(taskbar, args);\n        } else if (args.data.hasChildRecords && args.data.ganttProperties.duration !== 0) {\n          applyTemplate(taskbar, args);\n        } else if (args.data.ganttProperties.duration === 0) {\n          applyTemplate(taskbar, args);\n        }\n      }\n    });\n  };\n  /**\n   * set text alignment of each columns in exporting grid\n   *\n   * @param {string} textAlign .\n   * @param {PdfStringFormat} format .\n   * @returns {PdfStringFormat} .\n   * @private\n   */\n  ExportHelper.prototype.getHorizontalAlignment = function (textAlign, format) {\n    if (format === undefined) {\n      format = new PdfStringFormat();\n    }\n    switch (textAlign) {\n      case 'Right':\n        format.alignment = PdfTextAlignment.Right;\n        break;\n      case 'Center':\n        format.alignment = PdfTextAlignment.Center;\n        break;\n      case 'Justify':\n        format.alignment = PdfTextAlignment.Justify;\n        break;\n      case 'Left':\n        format.alignment = PdfTextAlignment.Left;\n        break;\n    }\n    return format;\n  };\n  /**\n   * set vertical alignment of each columns in exporting grid\n   *\n   * @param {string} verticalAlign .\n   * @param {PdfStringFormat} format .\n   * @param {string} textAlign .\n   * @returns {PdfStringFormat} .\n   * @private\n   */\n  ExportHelper.prototype.getVerticalAlignment = function (verticalAlign, format, textAlign) {\n    if (format === undefined) {\n      format = new PdfStringFormat();\n      format = this.getHorizontalAlignment(textAlign, format);\n    }\n    switch (verticalAlign) {\n      case 'Bottom':\n        format.lineAlignment = PdfVerticalAlignment.Bottom;\n        break;\n      case 'Middle':\n        format.lineAlignment = PdfVerticalAlignment.Middle;\n        break;\n      case 'Top':\n        format.lineAlignment = PdfVerticalAlignment.Top;\n        break;\n    }\n    return format;\n  };\n  ExportHelper.prototype.getFontFamily = function (fontFamily) {\n    switch (fontFamily) {\n      case 'TimesRoman':\n        return 2;\n      case 'Courier':\n        return 1;\n      case 'Symbol':\n        return 3;\n      case 'ZapfDingbats':\n        return 4;\n      default:\n        return 0;\n    }\n  };\n  ExportHelper.prototype.getFontStyle = function (fontStyle) {\n    switch (fontStyle) {\n      case 'Strikeout':\n        return 8;\n      case 'Underline':\n        return 4;\n      case 'Italic':\n        return 2;\n      case 'Bold':\n        return 1;\n      default:\n        return 0;\n    }\n  };\n  /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n  ExportHelper.prototype.getFont = function (content) {\n    if (content.font) {\n      return content.font;\n    }\n    var defaultFontFamily = this.exportProps.ganttStyle && this.exportProps.ganttStyle.fontFamily ? this.exportProps.ganttStyle.fontFamily : PdfFontFamily.TimesRoman;\n    var fontSize = !isNullOrUndefined(content.style.fontSize) ? content.style.fontSize * 0.75 : 9.75;\n    var fontFamily = !isNullOrUndefined(content.style.fontFamily) ? this.getFontFamily(content.style.fontFamily) : defaultFontFamily;\n    var fontStyle = PdfFontStyle.Regular;\n    // if (!isNullOrUndefined(content.style.bold) && content.style.bold) {\n    //     fontStyle |= PdfFontStyle.Bold;\n    // }\n    // if (!isNullOrUndefined(content.style.italic) && content.style.italic) {\n    //     fontStyle |= PdfFontStyle.Italic;\n    // }\n    // if (!isNullOrUndefined(content.style.underline) && content.style.underline) {\n    //     fontStyle |= PdfFontStyle.Underline;\n    // }\n    // if (!isNullOrUndefined(content.style.strikeout) && content.style.strikeout) {\n    //     fontStyle |= PdfFontStyle.Strikeout;\n    // }\n    return new PdfStandardFont(fontFamily, fontSize, fontStyle);\n  };\n  ExportHelper.prototype.renderEmptyGantt = function () {\n    var row = this.gantt.rows.addRow();\n    row.cells.getCell(0).isHeaderCell = false;\n    row.height = pixelToPoint(this.parent.rowHeight);\n    this.copyStyles(this.ganttStyle.columnHeader, row.cells.getCell(0), row.isParentRow);\n    var count = this.columns.length;\n    row.cells.getCell(0).value = this.parent.localeObj.getConstant('emptyRecord');\n    this.mergeCells(1, 0, count);\n  };\n  ExportHelper.prototype.mergeCells = function (rowIndex, colIndex, lastColIndex) {\n    this.gantt.rows.getRow(rowIndex).cells.getCell(colIndex).columnSpan = lastColIndex;\n  };\n  /* eslint-disable-next-line */\n  ExportHelper.prototype.copyStyles = function (style, cell, isParentRow) {\n    cell.style.fontColor = new PdfColor(style.fontColor);\n    cell.style.backgroundColor = new PdfColor(style.backgroundColor);\n    cell.style.borderColor = new PdfColor(style.borderColor);\n    cell.style.fontSize = style.fontSize;\n    cell.style.fontStyle = style.fontStyle;\n    /* eslint-disable-next-line */\n    cell.style.format = Object.assign(new PdfStringFormat(), style.format);\n    cell.style.borders = new PdfBorders();\n    cell.style.borders.all = new PdfPen(cell.style.borderColor);\n    cell.style.padding = new PdfPaddings();\n    var padding = 0;\n    if (cell.isHeaderCell) {\n      padding = this.parent.timelineModule.isSingleTier ? 45 / 2 : 60 / 2;\n    } else {\n      padding = this.parent.rowHeight / 2;\n    }\n    cell.style.padding.top = padding - style.fontSize > 0 ? padding - style.fontSize : padding;\n    cell.style.padding.bottom = padding - style.fontSize > 0 ? padding - style.fontSize : 0;\n    cell.style.padding.left = 10;\n    cell.style.padding.right = 10;\n    if (style.padding) {\n      cell.style.padding = style.padding;\n    }\n    if (style.borders) {\n      cell.style.borders = style.borders;\n    }\n  };\n  /**\n   * @param {PdfDocument} pdfDoc .\n   * @returns {void} .\n   * @private\n   */\n  ExportHelper.prototype.initializePdf = function (pdfDoc) {\n    this.pdfDoc = pdfDoc;\n    var widths = [];\n    var treeColumnIndex = 0;\n    var tWidth = this.pdfDoc.pageSettings.width - 82;\n    if (this.exportProps && this.exportProps.fitToWidthSettings && this.exportProps.fitToWidthSettings.isFitToWidth) {\n      var gridWidth = void 0;\n      if (this.exportProps.fitToWidthSettings.gridWidth) {\n        gridWidth = parseInt(this.exportProps.fitToWidthSettings.gridWidth.split('%')[0], 10);\n      } else {\n        if (this.exportProps.fitToWidthSettings.chartWidth) {\n          var chartWidth = parseInt(this.exportProps.fitToWidthSettings.chartWidth.split('%')[0], 10);\n          gridWidth = 100 - chartWidth;\n        } else {\n          gridWidth = 30;\n        }\n      }\n      var pdfwidth = this.parent.pdfExportModule['pdfPageDimensions'].width * gridWidth / 100;\n      var perColumnWidth = pdfwidth / this.gantt.columns.columns.length;\n      for (var i = 0; i < this.gantt.columns.columns.length; i++) {\n        this.gantt.columns.getColumn(i).width = perColumnWidth;\n      }\n    }\n    /* eslint-disable-next-line */\n    var PdfPage = this.parent.pdfExportModule.pdfPage;\n    if (this.totalColumnWidth > this.pdfDoc.pageSettings.width - 82 && this.totalColumnWidth < PdfPage.getClientSize().width) {\n      this.gantt.style.allowHorizontalOverflow = true;\n    } else if (tWidth / this.columns.length < widths[treeColumnIndex]) {\n      this.gantt.columns.getColumn(treeColumnIndex).width = widths[treeColumnIndex];\n    }\n    if (this.exportProps.enableFooter || isNullOrUndefined(this.exportProps.enableFooter)) {\n      //code for draw the footer content\n      var pageSize_1 = this.parent.pdfExportModule.getPageSize(this.exportProps.pageSize);\n      var bounds = new RectangleF(0, 0, pageSize_1.width, 35);\n      var pen = new PdfPen(this.ganttStyle.chartGridLineColor);\n      var footer = new PdfPageTemplateElement(bounds);\n      var footerBrush = new PdfSolidBrush(this.ganttStyle.footer.backgroundColor);\n      footer.graphics.drawRectangle(pen, footerBrush, 0, 0, pageSize_1.width, 35);\n      /* eslint-disable-next-line */\n      var font = new PdfStandardFont(this.ganttStyle.fontFamily, this.ganttStyle.footer.fontSize, this.ganttStyle.footer.fontStyle);\n      if (this.ganttStyle.font) {\n        font = this.ganttStyle.font;\n      }\n      var brush = new PdfSolidBrush(this.ganttStyle.footer.fontColor);\n      var pageNumber = new PdfPageNumberField(font);\n      var count = new PdfPageCountField(font, brush);\n      var compositeField = new PdfCompositeField(font, brush, 'Page {0}', pageNumber, count);\n      compositeField.stringFormat = this.ganttStyle.footer.format;\n      compositeField.bounds = bounds;\n      compositeField.draw(footer.graphics, new PointF(0, 0));\n      pdfDoc.template.bottom = footer;\n    }\n    /* eslint-disable-next-line */\n    var pageSize = PdfPage.size;\n    var clientSize = !isNullOrUndefined(pageSize) ? pageSize : this.pdfDoc.pageSettings.size;\n    // code for draw header content\n    if (!isNullOrUndefined(this.exportProps.header)) {\n      var headerProp = this.exportProps.header;\n      var position = new PointF(0, headerProp.fromTop);\n      var size = new SizeF(clientSize.width * 1.1, headerProp && headerProp.height ? headerProp.height * 0.75 : 50);\n      var bounds = new RectangleF(position, size);\n      pdfDoc.template.top = this.drawPageTemplate(new PdfPageTemplateElement(bounds), headerProp);\n    }\n    // code for customization of footer\n    if (!this.exportProps.enableFooter && !isNullOrUndefined(this.exportProps.footer)) {\n      var footer = this.exportProps.footer;\n      var position = new PointF(0, clientSize.width - 80 - (footer && footer.fromBottom ? footer.fromBottom * 0.75 : 0));\n      var size = new SizeF(clientSize.width * 1.1, footer && footer.height ? footer.height * 0.75 : 50);\n      var bounds = new RectangleF(position, size);\n      this.pdfDoc.template.bottom = this.drawPageTemplate(new PdfPageTemplateElement(bounds), footer);\n    }\n  };\n  ExportHelper.prototype.drawPageTemplate = function (template, element) {\n    for (var _i = 0, _a = element.contents; _i < _a.length; _i++) {\n      var content = _a[_i];\n      switch (content.type) {\n        case 'Text':\n          if (content.value === '' || content.value === undefined || content.value === null || typeof content.value !== 'string') {\n            throw new Error('please enter the valid input value in text content...');\n          }\n          this.drawText(template, content);\n          break;\n        case 'PageNumber':\n          this.drawPageNumber(template, content);\n          break;\n        case 'Image':\n          if (content.src === undefined || content.src === null || content.src === '') {\n            throw new Error('please enter the valid base64 string in image content...');\n          }\n          this.drawImage(template, content);\n          break;\n        case 'Line':\n          this.drawLine(template, content);\n          break;\n        default:\n          throw new Error('Please set valid content type...');\n      }\n    }\n    return template;\n  };\n  // code for draw text\n  /* eslint-disable-next-line */\n  ExportHelper.prototype.drawText = function (pageTemplate, content) {\n    var font = this.getFont(content);\n    if (this.ganttStyle.font) {\n      font = this.ganttStyle.font;\n    }\n    var brush = this.getBrushFromContent(content);\n    var pen = null;\n    if (!isNullOrUndefined(content.style.textPenColor)) {\n      var penColor = this.hexToRgb(content.style.textPenColor);\n      pen = new PdfPen(new PdfColor(penColor.r, penColor.g, penColor.b));\n    }\n    if (brush === null && pen === null) {\n      brush = new PdfSolidBrush(new PdfColor(0, 0, 0));\n    }\n    var value = content.value.toString();\n    var x = content.position.x * 0.75;\n    var y = content.position.y * 0.75;\n    var format = new PdfStringFormat();\n    if (!isNullOrUndefined(content.style.stringFormat)) {\n      format.alignment = content.style.stringFormat.alignment;\n    }\n    var result = this.setContentFormat(content, format);\n    if (result !== null && !isNullOrUndefined(result.format) && !isNullOrUndefined(result.size)) {\n      pageTemplate.graphics.drawString(value, font, pen, brush, x, y, result.size.width, result.size.height, result.format);\n    } else {\n      pageTemplate.graphics.drawString(value, font, pen, brush, x, y, format);\n    }\n  };\n  // code for draw pagenumber\n  /* eslint-disable-next-line */\n  ExportHelper.prototype.drawPageNumber = function (documentHeader, content) {\n    var font = this.getFont(content);\n    var brush = null;\n    if (!isNullOrUndefined(content.style.textBrushColor)) {\n      var brushColor = this.hexToRgb(content.style.textBrushColor);\n      brush = new PdfSolidBrush(new PdfColor(brushColor.r, brushColor.g, brushColor.b));\n    } else {\n      brush = new PdfSolidBrush(new PdfColor(0, 0, 0));\n    }\n    var pageNumber = new PdfPageNumberField(font, brush);\n    pageNumber.numberStyle = this.getPageNumberStyle(content.pageNumberType);\n    var compositeField;\n    var format;\n    if (!isNullOrUndefined(content.format)) {\n      var total = '$total';\n      var current = '$current';\n      if (content.format.indexOf(total) !== -1 && content.format.indexOf(current) !== -1) {\n        var pageCount = new PdfPageCountField(font);\n        pageCount.numberStyle = this.getPageNumberStyle(content.pageNumberType);\n        if (content.format.indexOf(total) > content.format.indexOf(current)) {\n          format = content.format.replace(current, '0');\n          format = format.replace(total, '1');\n        } else {\n          format = content.format.replace(current, '1');\n          format = format.replace(total, '0');\n        }\n        compositeField = new PdfCompositeField(font, brush, format, pageNumber, pageCount);\n      } else if (content.format.indexOf(current) !== -1 && content.format.indexOf(total) === -1) {\n        format = content.format.replace(current, '0');\n        compositeField = new PdfCompositeField(font, brush, format, pageNumber);\n      } else {\n        var pageCount = new PdfPageCountField(font);\n        format = content.format.replace(total, '0');\n        compositeField = new PdfCompositeField(font, brush, format, pageCount);\n      }\n    } else {\n      format = '{0}';\n      compositeField = new PdfCompositeField(font, brush, format, pageNumber);\n    }\n    var x = content.position.x * 0.75;\n    var y = content.position.y * 0.75;\n    var result = this.setContentFormat(content, compositeField.stringFormat);\n    if (result !== null && !isNullOrUndefined(result.format) && !isNullOrUndefined(result.size)) {\n      compositeField.stringFormat = result.format;\n      compositeField.bounds = new RectangleF(x, y, result.size.width, result.size.height);\n    }\n    compositeField.draw(documentHeader.graphics, x, y);\n  };\n  // code for draw image\n  /* eslint-disable-next-line */\n  ExportHelper.prototype.drawImage = function (documentHeader, content) {\n    var x = content.position.x * 0.75;\n    var y = content.position.y * 0.75;\n    var width = !isNullOrUndefined(content.size) && !isNullOrUndefined(content.size.width) ? content.size.width * 0.50 : undefined;\n    var height = !isNullOrUndefined(content.size) && !isNullOrUndefined(content.size.height) ? content.size.height * 0.75 : undefined;\n    var image = new PdfBitmap(content.src);\n    if (!isNullOrUndefined(width)) {\n      documentHeader.graphics.drawImage(image, x, y, width, height);\n    } else {\n      documentHeader.graphics.drawImage(image, x, y);\n    }\n  };\n  // code for draw line\n  /* eslint-disable-next-line */\n  ExportHelper.prototype.drawLine = function (documentHeader, content) {\n    var x1 = content.points.x1 * 0.75;\n    var y1 = content.points.y1 * 0.75;\n    var x2 = content.points.x2 * 0.75;\n    var y2 = content.points.y2 * 0.75;\n    var pen = this.getPenFromContent(content);\n    if (!isNullOrUndefined(content.style)) {\n      if (!isNullOrUndefined(content.style.penSize) && typeof content.style.penSize === 'number') {\n        pen.width = content.style.penSize * 0.75;\n      }\n      pen.dashStyle = this.getDashStyle(content.style.dashStyle);\n    }\n    documentHeader.graphics.drawLine(pen, x1, y1, x2, y2);\n  };\n  ExportHelper.prototype.getPenFromContent = function (content) {\n    var pen = new PdfPen(new PdfColor(0, 0, 0));\n    if (!isNullOrUndefined(content.style) && content.style !== null && !isNullOrUndefined(content.style.penColor)) {\n      var penColor = this.hexToRgb(content.style.penColor);\n      pen = new PdfPen(new PdfColor(penColor.r, penColor.g, penColor.b));\n    }\n    return pen;\n  };\n  ExportHelper.prototype.getDashStyle = function (dashStyle) {\n    switch (dashStyle) {\n      case 'Dash':\n        return 1;\n      case 'Dot':\n        return 2;\n      case 'DashDot':\n        return 3;\n      case 'DashDotDot':\n        return 4;\n      default:\n        return 0;\n    }\n  };\n  ExportHelper.prototype.getBrushFromContent = function (content) {\n    var brush = null;\n    if (!isNullOrUndefined(content.style.textBrushColor)) {\n      /* tslint:disable-next-line:max-line-length */\n      var brushColor = this.hexToRgb(content.style.textBrushColor);\n      brush = new PdfSolidBrush(new PdfColor(brushColor.r, brushColor.g, brushColor.b));\n    }\n    return brush;\n  };\n  ExportHelper.prototype.hexToRgb = function (hex) {\n    if (hex === null || hex === '' || hex.length !== 7) {\n      throw new Error('please set valid hex value for color...');\n    }\n    hex = hex.substring(1);\n    var bigint = parseInt(hex, 16);\n    var r = bigint >> 16 & 255;\n    var g = bigint >> 8 & 255;\n    var b = bigint & 255;\n    return {\n      r: r,\n      g: g,\n      b: b\n    };\n  };\n  ExportHelper.prototype.setContentFormat = function (content, format) {\n    var width = content.size ? content.size.width * 0.75 : this.pdfDoc.pageSettings.size.width;\n    var height = content.size ? content.size.height * 0.75 : !isNullOrUndefined(this.exportProps.footer) ? this.exportProps.footer.height * 0.50 : 0;\n    format = new PdfStringFormat(PdfTextAlignment.Left, PdfVerticalAlignment.Middle);\n    if (!isNullOrUndefined(content.style.hAlign)) {\n      switch (content.style.hAlign) {\n        case 'Right':\n          format.alignment = PdfTextAlignment.Right;\n          break;\n        case 'Center':\n          format.alignment = PdfTextAlignment.Center;\n          break;\n        case 'Justify':\n          format.alignment = PdfTextAlignment.Justify;\n          break;\n        default:\n          format.alignment = PdfTextAlignment.Left;\n      }\n    }\n    if (!isNullOrUndefined(content.style.vAlign)) {\n      format = this.getVerticalAlignment(content.style.vAlign, format);\n    }\n    return {\n      format: format,\n      size: new SizeF(width, height)\n    };\n  };\n  ExportHelper.prototype.getPageNumberStyle = function (pageNumberType) {\n    switch (pageNumberType) {\n      case 'LowerLatin':\n        return 2;\n      case 'LowerRoman':\n        return 3;\n      case 'UpperLatin':\n        return 4;\n      case 'UpperRoman':\n        return 5;\n      default:\n        return 1;\n    }\n  };\n  return ExportHelper;\n}();\nexport { ExportHelper };\n/**\n * @hidden\n * `ExportValueFormatter` for `PdfExport` & `ExcelExport`\n */\nvar ExportValueFormatter = /** @class */function () {\n  function ExportValueFormatter(culture) {\n    this.valueFormatter = new ValueFormatter(culture);\n    this.internationalization = new Internationalization(culture);\n  }\n  /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n  ExportValueFormatter.prototype.returnFormattedValue = function (args, customFormat) {\n    if (!isNullOrUndefined(args.value) && args.value) {\n      return this.valueFormatter.getFormatFunction(customFormat)(args.value);\n    } else {\n      return '';\n    }\n  };\n  /**\n   * @private\n   */\n  /* eslint-disable-next-line  */\n  ExportValueFormatter.prototype.formatCellValue = function (args) {\n    if (args.isForeignKey) {\n      args.value = getValue(args.column.foreignKeyValue, getForeignData(args.column, {}, args.value)[0]);\n    }\n    if (args.column.type === 'number' && args.column.format !== undefined && args.column.format !== '') {\n      return args.value ? this.internationalization.getNumberFormat({\n        format: args.column.format\n      })(args.value) : '';\n    } else if (args.column.type === 'boolean') {\n      return args.value ? 'true' : 'false';\n    } else if ((args.column.type === 'date' || args.column.type === 'datetime' || args.column.type === 'time') && args.column.format !== undefined) {\n      if (typeof args.value === 'string') {\n        args.value = new Date(args.value);\n      }\n      if (typeof args.column.format === 'string') {\n        var format = void 0;\n        if (args.column.type === 'date') {\n          format = {\n            type: 'date',\n            format: args.column.format\n          };\n        } else if (args.column.type === 'time') {\n          format = {\n            type: 'time',\n            format: args.column.format\n          };\n        } else {\n          format = {\n            type: 'dateTime',\n            format: args.column.format\n          };\n        }\n        return this.returnFormattedValue(args, format);\n      } else {\n        if (args.column.format instanceof Object && args.column.format.type === undefined) {\n          return args.value.toString();\n        } else {\n          var customFormat = void 0;\n          if (args.column.type === 'date') {\n            /* eslint-disable-next-line max-len */\n            customFormat = {\n              type: args.column.format.type,\n              format: args.column.format.format,\n              skeleton: args.column.format.skeleton\n            };\n          } else if (args.column.type === 'time') {\n            customFormat = {\n              type: 'time',\n              format: args.column.format.format,\n              skeleton: args.column.format.skeleton\n            };\n          } else {\n            customFormat = {\n              type: 'dateTime',\n              format: args.column.format.format,\n              skeleton: args.column.format.skeleton\n            };\n          }\n          return this.returnFormattedValue(args, customFormat);\n        }\n      }\n    } else {\n      if (!isNullOrUndefined(args.column.type) && !isNullOrUndefined(args.value) || !isNullOrUndefined(args.value)) {\n        return args.value.toString();\n      } else {\n        return '';\n      }\n    }\n  };\n  return ExportValueFormatter;\n}();\nexport { ExportValueFormatter };","map":{"version":3,"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","PdfFontFamily","PdfTextWebLink","PdfStringFormat","PdfPageCountField","PdfPageNumberField","PdfPageTemplateElement","RectangleF","PdfCompositeField","PointF","PdfVerticalAlignment","PdfTextAlignment","PdfStandardFont","PdfFontStyle","PdfColor","PdfPen","PdfSolidBrush","SizeF","PdfBitmap","PdfBorders","PdfPaddings","isNullOrUndefined","Internationalization","getValue","extend","getForeignData","ValueFormatter","pixelToPoint","isScheduledTask","ExportHelper","parent","totalColumnWidth","beforeSinglePageExport","baselineHeight","processToFit","zoomingProjectStartDate","zoomingProjectEndDate","cloneProjectStartDate","cloneProjectEndDate","timelineModule","customTimelineSettings","isTimelineRoundOff","topTier","topTierCellWidth","topTierCollection","bottomTier","bottomTierCellWidth","bottomTierCollection","totalTimelineWidth","timelineStartDate","timelineEndDate","timelineRoundOffEndDate","perDayWidth","updatedConnectorLineCollection","isZoomToFit","isZooming","Date","allowUnscheduledTasks","dataOperation","calculateProjectDates","timeDifference","getTime","totalDays","chartsideWidth","gridWidth","exportProps","fitToWidthSettings","parseInt","split","chartWidth","pdfwidth","pdfExportModule","width","zoomingLevel","firstValue","secondValue","zoomingCollections","zoomingLevels","slice","sortedCollectons","sort","a","b","newTimeline","unit","numberOfCells","scrollHeight","height","emptySpace","timelineUnitSize","Math","abs","processGridExport","data","gantt","props","flatData","exportValueFormatter","ExportValueFormatter","locale","rowIndex","colIndex","columns","treeGrid","treeColumnIndex","rowHeight","style","cellPadding","left","right","ganttStyle","borderColor","chartGridLineColor","isPdfExport","isFitToWidth","processHeaderContent","processGanttContent","processTimeline","processTaskbar","processPredecessor","_this","row","rows","addRow","index","forEach","column","isColumnVisible","processColumnHeader","add","pdfColumn","getColumn","isTreeColumn","headerText","field","cell","cells","getCell","value","isHeaderCell","treeGridHeaderHeight","isSingleTier","copyStyles","columnHeader","headerTextAlign","format","alignment","template","image","fontStyle","fontBrush","fontSize","args","headerTemplate","pdfColumnHeaderQueryCellInfo","trigger","base64","fontFamily","fontColor","visibleColumn","visible","includeHiddenColumn","renderEmptyGantt","hasChildRecords","getRow","isParentRow","processRecordRow","enableTimelineVirtualization","createTimelineSeries","timelineSettings","chartHeader","topTierHeight","bottomTierHeight","pdfExportTopTierCollection","pdfExportBottomTierCollection","tier","wholeTimelineWidth","showPredecessorLines","predecessorModule","createConnectorLinesCollection","predecessor","parentLeft","childLeft","parentWidth","childWidth","parentIndex","childIndex","type","milestoneParent","milestoneChild","parentEndPoint","lineWidth","connectorLineWidth","isCritical","connectorLineColor","criticalConnectorLineColor","predecessorCollection","push","level","processRecordCell","taskFields","ganttProps","ganttProperties","editType","duration","getDurationString","durationUnit","resourceInfo","resourceNames","work","getWorkString","workUnit","toString","cellValueString","cellValue","padding","textAlign","paragraphIndent","formatCellValue","pdfQueryCellInfo","backgroundColor","font","getFontFamily","getFontStyle","footer","dimension","hyperLink","displayText","target","setHyperLink","textLink","url","text","Helvetica","brush","taskbar","ganttProp","progress","endDate","unscheduledTaskBy","startDate","unscheduleStarteDate","dateValidationModule","getValidStartDate","unscheduleEndDate","getValidEndDate","chartRowsModule","taskBarHeight","indicators","autoStartDate","autoEndDate","isAutoSchedule","autoWidth","autoLeft","segment","segments","isSpliterTask","segmentCollection","map","obj","baselineTop","isMilestone","baselineStartDate","baselineEndDate","baselineLeft","baselineWidth","milestoneColor","isParentTask","labelSettings","leftLabel","leftTaskLabel","rightLabel","rightTaskLabel","taskLabel","reduceLeft","floor","progressWidth","labelColor","label","progressFontColor","taskColor","parentTaskColor","taskBorderColor","parentTaskBorderColor","progressColor","parentProgressColor","criticalTaskColor","criticalProgressColor","criticalTaskBorderColor","manualParentBorder","manualChildBorder","manuallineColor","manualLineColor","unscheduledTaskBarColor","manualParentBackground","manualParentProgress","manualChildBackground","manualChildProgress","splitLineBackground","baselineColor","baselineBorderColor","gridLineColor","labelTemplateStyle","taskbarTemplate","taskbarCollection","taskStyle","pdfQueryTaskbarInfo","leftImages","rightImage","Array","isArray","baseCount","applyTemplate","source","milestoneHeight","taskbarHeight","getHorizontalAlignment","undefined","Right","Center","Justify","Left","getVerticalAlignment","verticalAlign","lineAlignment","Bottom","Middle","Top","getFont","content","defaultFontFamily","TimesRoman","Regular","count","localeObj","getConstant","mergeCells","lastColIndex","columnSpan","borders","all","top","bottom","initializePdf","pdfDoc","widths","tWidth","pageSettings","perColumnWidth","PdfPage","pdfPage","getClientSize","allowHorizontalOverflow","enableFooter","pageSize_1","getPageSize","pageSize","bounds","pen","footerBrush","graphics","drawRectangle","pageNumber","compositeField","stringFormat","draw","size","clientSize","header","headerProp","position","fromTop","drawPageTemplate","fromBottom","element","_i","_a","contents","Error","drawText","drawPageNumber","src","drawImage","drawLine","pageTemplate","getBrushFromContent","textPenColor","penColor","hexToRgb","r","g","x","y","result","setContentFormat","drawString","documentHeader","textBrushColor","brushColor","numberStyle","getPageNumberStyle","pageNumberType","total","current","indexOf","pageCount","replace","x1","points","y1","x2","y2","getPenFromContent","penSize","dashStyle","getDashStyle","hex","substring","bigint","hAlign","vAlign","culture","valueFormatter","internationalization","returnFormattedValue","customFormat","getFormatFunction","isForeignKey","foreignKeyValue","getNumberFormat","skeleton"],"sources":["/var/www/vue/vue-gantt-chart/node_modules/@syncfusion/ej2-gantt/src/gantt/export/export-helper.js"],"sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { PdfFontFamily, PdfTextWebLink } from '@syncfusion/ej2-pdf-export';\nimport { PdfStringFormat, PdfPageCountField, PdfPageNumberField } from '@syncfusion/ej2-pdf-export';\nimport { PdfPageTemplateElement, RectangleF, PdfCompositeField, PointF } from '@syncfusion/ej2-pdf-export';\nimport { PdfVerticalAlignment, PdfTextAlignment, PdfStandardFont } from '@syncfusion/ej2-pdf-export';\nimport { PdfFontStyle, PdfColor, PdfPen, PdfSolidBrush, SizeF, PdfBitmap } from '@syncfusion/ej2-pdf-export';\nimport { PdfBorders, PdfPaddings } from './pdf-base/index';\nimport { isNullOrUndefined, Internationalization, getValue, extend } from '@syncfusion/ej2-base';\nimport { getForeignData, ValueFormatter } from '@syncfusion/ej2-grids';\nimport { pixelToPoint, isScheduledTask } from '../base/utils';\n/**\n * @hidden\n * `ExportHelper` for `PdfExport` & `ExcelExport`\n */\nvar ExportHelper = /** @class */ (function () {\n    function ExportHelper(parent) {\n        this.totalColumnWidth = 0;\n        this.beforeSinglePageExport = {};\n        this.baselineHeight = 8;\n        this.parent = parent;\n    }\n    ExportHelper.prototype.processToFit = function () {\n        this.beforeSinglePageExport['zoomingProjectStartDate'] = this.parent.zoomingProjectStartDate;\n        this.beforeSinglePageExport['zoomingProjectEndDate'] = this.parent.zoomingProjectEndDate;\n        this.beforeSinglePageExport['cloneProjectStartDate'] = this.parent.cloneProjectStartDate;\n        this.beforeSinglePageExport['cloneProjectEndDate'] = this.parent.cloneProjectEndDate;\n        this.beforeSinglePageExport['customTimelineSettings'] = extend({}, this.parent.timelineModule.customTimelineSettings, null, true);\n        this.beforeSinglePageExport['isTimelineRoundOff'] = this.parent.isTimelineRoundOff;\n        this.beforeSinglePageExport['topTier'] = this.parent.timelineModule.topTier;\n        this.beforeSinglePageExport['topTierCellWidth'] = this.parent.timelineModule.topTierCellWidth;\n        this.beforeSinglePageExport['topTierCollection'] = this.parent.timelineModule.topTierCollection;\n        this.beforeSinglePageExport['bottomTier'] = this.parent.timelineModule.bottomTier;\n        this.beforeSinglePageExport['bottomTierCellWidth'] = this.parent.timelineModule.bottomTierCellWidth;\n        this.beforeSinglePageExport['bottomTierCollection'] = this.parent.timelineModule.bottomTierCollection;\n        this.beforeSinglePageExport['totalTimelineWidth'] = this.parent.timelineModule.totalTimelineWidth;\n        this.beforeSinglePageExport['timelineStartDate'] = this.parent.timelineModule.timelineStartDate;\n        this.beforeSinglePageExport['timelineEndDate'] = this.parent.timelineModule.timelineEndDate;\n        this.beforeSinglePageExport['timelineRoundOffEndDate'] = this.parent.timelineModule.timelineRoundOffEndDate;\n        this.beforeSinglePageExport['perDayWidth'] = this.parent.perDayWidth;\n        this.beforeSinglePageExport['updatedConnectorLineCollection'] = extend([], this.parent.updatedConnectorLineCollection, null, true);\n        this.parent.timelineModule.isZoomToFit = true;\n        this.parent.timelineModule.isZooming = false;\n        if (!this.parent.zoomingProjectStartDate) {\n            this.parent.zoomingProjectStartDate = this.parent.cloneProjectStartDate;\n            this.parent.zoomingProjectEndDate = this.parent.cloneProjectEndDate;\n        }\n        if (this.parent.zoomingProjectStartDate > this.parent.cloneProjectStartDate) {\n            this.parent.cloneProjectStartDate = new Date(this.parent.allowUnscheduledTasks ?\n                this.parent.zoomingProjectStartDate : this.parent.cloneProjectStartDate);\n        }\n        this.parent.dataOperation.calculateProjectDates();\n        var timeDifference = (this.parent.cloneProjectEndDate.getTime() - this.parent.cloneProjectStartDate.getTime());\n        var totalDays = (timeDifference / (1000 * 3600 * 24));\n        var chartsideWidth;\n        var gridWidth;\n        if (this.exportProps.fitToWidthSettings.gridWidth) {\n            gridWidth = parseInt(this.exportProps.fitToWidthSettings.gridWidth.split('%')[0], 10);\n        }\n        if (this.exportProps.fitToWidthSettings.chartWidth) {\n            chartsideWidth = parseInt(this.exportProps.fitToWidthSettings.chartWidth.split('%')[0], 10);\n        }\n        else {\n            if (this.exportProps.fitToWidthSettings.gridWidth) {\n                chartsideWidth = 100 - gridWidth;\n            }\n            else {\n                chartsideWidth = 70;\n            }\n        }\n        var pdfwidth = (this.parent.pdfExportModule['pdfPageDimensions'].width * chartsideWidth) / 100;\n        var chartWidth = pdfwidth;\n        var perDayWidth = chartWidth / totalDays;\n        var zoomingLevel;\n        var firstValue;\n        var secondValue;\n        var zoomingCollections = this.parent.zoomingLevels.slice();\n        var sortedCollectons = zoomingCollections.sort(function (a, b) {\n            return (!a.perDayWidth && !b.perDayWidth ? 0 : (a.perDayWidth < b.perDayWidth) ? 1 : -1);\n        });\n        if (perDayWidth === 0) { // return when the Gantt chart is not in viewable state.\n            return;\n        }\n        for (var i = 0; i < sortedCollectons.length; i++) {\n            firstValue = sortedCollectons[i];\n            if (i === sortedCollectons.length - 1) {\n                zoomingLevel = sortedCollectons[i];\n                break;\n            }\n            else {\n                secondValue = sortedCollectons[i + 1];\n            }\n            if (perDayWidth >= firstValue.perDayWidth) {\n                zoomingLevel = sortedCollectons[i];\n                break;\n            }\n            if (perDayWidth < firstValue.perDayWidth && perDayWidth > secondValue.perDayWidth) {\n                zoomingLevel = sortedCollectons[i + 1];\n                break;\n            }\n        }\n        var newTimeline = extend({}, {}, zoomingLevel, true);\n        this.parent.timelineModule['roundOffDateToZoom'](this.parent.cloneProjectStartDate, true, perDayWidth, newTimeline.bottomTier.unit, zoomingLevel);\n        this.parent.timelineModule['roundOffDateToZoom'](this.parent.cloneProjectEndDate, false, perDayWidth, newTimeline.bottomTier.unit, zoomingLevel);\n        var numberOfCells = this.parent.timelineModule['calculateNumberOfTimelineCells'](newTimeline);\n        var scrollHeight = this.parent.pdfExportModule['pdfPageDimensions'].height; //17 is horizontal scrollbar width\n        var emptySpace = scrollHeight <= 0 ? 0 : 17;\n        newTimeline.timelineUnitSize = Math.abs((chartWidth - emptySpace)) / numberOfCells;\n        this.parent.timelineModule['changeTimelineSettings'](newTimeline);\n        this.parent.timelineModule.isZoomToFit = false;\n        this.parent.timelineModule.isZooming = false;\n    };\n    /**\n     * @param {IGanttData[]} data .\n     * @param {PdfGantt} gantt .\n     * @param {PdfExportProperties} props .\n     * @returns {void} .\n     * @private\n     */\n    ExportHelper.prototype.processGridExport = function (data, gantt, props) {\n        this.flatData = data;\n        this.gantt = gantt;\n        this.exportValueFormatter = new ExportValueFormatter(this.parent.locale);\n        this.exportProps = props;\n        this.rowIndex = 0;\n        this.colIndex = 0;\n        this.columns = this.parent.treeGrid.columns;\n        this.gantt.treeColumnIndex = this.parent.treeColumnIndex;\n        this.gantt.rowHeight = pixelToPoint(this.parent.rowHeight);\n        this.gantt.style.cellPadding.left = 0;\n        this.gantt.style.cellPadding.right = 0;\n        this.ganttStyle = this.gantt.ganttStyle;\n        this.gantt.borderColor = this.ganttStyle.chartGridLineColor;\n        this.parent.pdfExportModule.isPdfExport = true;\n        if (this.exportProps.fitToWidthSettings && this.exportProps.fitToWidthSettings.isFitToWidth) {\n            this.processToFit();\n        }\n        this.processHeaderContent();\n        this.processGanttContent();\n        this.processTimeline();\n        this.processTaskbar();\n        this.processPredecessor();\n        this.parent.pdfExportModule.isPdfExport = false;\n    };\n    ExportHelper.prototype.processHeaderContent = function () {\n        var _this = this;\n        this.rowIndex++;\n        this.row = this.gantt.rows.addRow();\n        var index = 0;\n        this.columns.forEach(function (column) {\n            if (_this.isColumnVisible(column)) {\n                _this.processColumnHeader(column, index);\n                index++;\n            }\n        });\n    };\n    ExportHelper.prototype.processColumnHeader = function (column, index) {\n        this.gantt.columns.add(1);\n        var pdfColumn = this.gantt.columns.getColumn(index);\n        if (this.parent.treeColumnIndex === index) {\n            pdfColumn.isTreeColumn = true;\n        }\n        var width = parseInt(column.width, 10);\n        pdfColumn.width = pixelToPoint(width);\n        this.totalColumnWidth += pdfColumn.width;\n        pdfColumn.headerText = column.headerText;\n        pdfColumn.field = column.field;\n        var cell = this.row.cells.getCell(index);\n        cell.value = column.headerText;\n        cell.isHeaderCell = true;\n        var treeGridHeaderHeight = this.parent.timelineModule.isSingleTier ? 45 : 60;\n        this.copyStyles(this.ganttStyle.columnHeader, cell, false);\n        this.row.height = pixelToPoint(treeGridHeaderHeight);\n        if (column.headerTextAlign) {\n            cell.style.format.alignment = PdfTextAlignment[column.headerTextAlign];\n        }\n        var template = {\n            image: null,\n            value: null,\n            fontStyle: { fontBrush: null }\n        };\n        cell.fontStyle = {\n            fontSize: 9\n        };\n        var args = {\n            cell: cell,\n            style: cell.style,\n            value: cell.value,\n            column: column,\n            image: null,\n            headerTemplate: template\n        };\n        if (this.parent.pdfColumnHeaderQueryCellInfo) {\n            this.parent.trigger('pdfColumnHeaderQueryCellInfo', args);\n        }\n        if (args.headerTemplate.image && args.headerTemplate.value) {\n            args.image = new PdfBitmap(args.headerTemplate.image[0].base64);\n            args.image.height = args.headerTemplate.image[0].height || args.image.height;\n            args.image.width = args.headerTemplate.image[0].width || args.image.width;\n            cell.image = args.image;\n            cell.value = args.headerTemplate.value;\n            cell.fontStyle.fontSize = args.headerTemplate.fontStyle.fontSize;\n            cell.fontStyle.fontFamily = args.headerTemplate.fontStyle.fontFamily;\n            cell.fontStyle.fontBrush = args.headerTemplate.fontStyle.fontColor;\n        }\n        else {\n            cell.value = args.value;\n        }\n    };\n    ExportHelper.prototype.isColumnVisible = function (column) {\n        var visibleColumn = column.visible || this.exportProps.includeHiddenColumn;\n        return (visibleColumn);\n    };\n    ExportHelper.prototype.processGanttContent = function () {\n        var _this = this;\n        if (this.flatData.length === 0) {\n            this.renderEmptyGantt();\n        }\n        else {\n            var flatData = this.flatData;\n            flatData.forEach(function (data) {\n                _this.row = _this.gantt.rows.addRow();\n                if (data.hasChildRecords) {\n                    _this.gantt.rows.getRow(_this.rowIndex).isParentRow = true;\n                    _this.processRecordRow(data);\n                }\n                else {\n                    _this.processRecordRow(data);\n                }\n                _this.rowIndex++;\n            });\n        }\n    };\n    /**\n     * Method for processing the timeline details\n     *\n     * @returns {void} .\n     */\n    ExportHelper.prototype.processTimeline = function () {\n        if (this.parent.enableTimelineVirtualization) {\n            this.parent.timelineModule.createTimelineSeries();\n        }\n        var timelineSettings = this.parent.timelineModule;\n        this.gantt.chartHeader.topTierHeight = this.gantt.chartHeader.bottomTierHeight\n            = (this.parent.timelineModule.isSingleTier ? 45 : 60 / 2);\n        this.gantt.chartHeader.topTierCellWidth = timelineSettings.topTierCellWidth;\n        this.gantt.chartHeader.bottomTierCellWidth = timelineSettings.bottomTierCellWidth;\n        this.gantt.chartHeader.topTier = extend([], [], this.parent.enableTimelineVirtualization ?\n            timelineSettings.pdfExportTopTierCollection : timelineSettings.topTierCollection, true);\n        this.gantt.chartHeader.bottomTier = extend([], [], this.parent.enableTimelineVirtualization ?\n            timelineSettings.pdfExportBottomTierCollection : timelineSettings.bottomTierCollection, true);\n        if (this.exportProps && this.exportProps.fitToWidthSettings && this.exportProps.fitToWidthSettings.isFitToWidth &&\n            this.parent.enableTimelineVirtualization) {\n            var tier = timelineSettings.topTier === 'None' ? 'bottomTier' : 'topTier';\n            this.gantt.chartHeader.width = timelineSettings['calculateWidthBetweenTwoDate'](tier, timelineSettings.timelineStartDate, timelineSettings.timelineEndDate);\n        }\n        else {\n            this.gantt.chartHeader.width = this.parent.enableTimelineVirtualization ? this.parent.timelineModule.wholeTimelineWidth :\n                timelineSettings.totalTimelineWidth;\n        }\n        this.gantt.chartHeader.height = this.gantt.rows.getRow(0).height;\n        this.gantt.timelineStartDate = new Date(timelineSettings.timelineStartDate.getTime());\n    };\n    /**\n     * Method for create the predecessor collection for rendering\n     *\n     * @returns {void} .\n     */\n    ExportHelper.prototype.processPredecessor = function () {\n        var _this = this;\n        if (isNullOrUndefined(this.exportProps.showPredecessorLines) || this.exportProps.showPredecessorLines) {\n            this.parent.pdfExportModule.isPdfExport = true;\n            this.parent.predecessorModule.createConnectorLinesCollection();\n            this.parent.updatedConnectorLineCollection.forEach(function (data) {\n                var predecessor = _this.gantt.predecessor.add();\n                predecessor.parentLeft = data.parentLeft;\n                predecessor.childLeft = data.childLeft;\n                predecessor.parentWidth = data.parentWidth;\n                predecessor.childWidth = data.childWidth;\n                predecessor.parentIndex = data.parentIndex;\n                predecessor.childIndex = data.childIndex;\n                predecessor.rowHeight = data.rowHeight;\n                predecessor.type = data.type;\n                predecessor.milestoneParent = data.milestoneParent;\n                predecessor.milestoneChild = data.milestoneChild;\n                predecessor.parentEndPoint = data.parentEndPoint;\n                predecessor.lineWidth = _this.parent.connectorLineWidth > 5 ? pixelToPoint(5) : pixelToPoint(_this.parent.connectorLineWidth);\n                if (data.isCritical) {\n                    predecessor.connectorLineColor = _this.ganttStyle.criticalConnectorLineColor;\n                }\n                else {\n                    predecessor.connectorLineColor = _this.ganttStyle.connectorLineColor;\n                }\n                _this.ganttStyle.connectorLineColor = predecessor.connectorLineColor;\n                _this.gantt.predecessorCollection.push(predecessor);\n            });\n            this.parent.pdfExportModule.isPdfExport = false;\n        }\n    };\n    ExportHelper.prototype.processRecordRow = function (data) {\n        var _this = this;\n        this.colIndex = 0;\n        this.row.level = data.level;\n        this.columns.forEach(function (column) {\n            if (_this.isColumnVisible(column)) {\n                _this.processRecordCell(data, column, _this.row);\n                _this.colIndex++;\n            }\n        });\n    };\n    ExportHelper.prototype.processRecordCell = function (data, column, row) {\n        var cell = row.cells.getCell(this.colIndex);\n        var taskFields = this.parent.taskFields;\n        var ganttProps = data.ganttProperties;\n        if (column.editType === 'datepickeredit' || column.editType === 'datetimepickeredit') {\n            cell.value = data[column.field];\n        }\n        else if (column.field === taskFields.duration) {\n            cell.value = this.parent.getDurationString(ganttProps.duration, ganttProps.durationUnit);\n        }\n        else if (column.field === taskFields.resourceInfo) {\n            cell.value = ganttProps.resourceNames;\n        }\n        else if (column.field === taskFields.work) {\n            cell.value = this.parent.getWorkString(ganttProps.work, ganttProps.workUnit);\n        }\n        else {\n            cell.value = !isNullOrUndefined(data[column.field]) ? data[column.field].toString() : '';\n        }\n        var cellValueString = !isNullOrUndefined(cell.value) ? cell.value.toString() : '';\n        var cellValue = cellValueString;\n        var value = !isNullOrUndefined(cellValue) ? cellValue : '';\n        cell.isHeaderCell = false;\n        cell.style.padding = new PdfPaddings();\n        this.copyStyles(this.ganttStyle.cell, cell, row.isParentRow);\n        if (column['index'] !== this.parent.treeColumnIndex) {\n            cell.style.format.alignment = PdfTextAlignment[column.textAlign];\n        }\n        else {\n            cell.style.format.paragraphIndent = cell.row.level * 10;\n        }\n        var args = {\n            data: data,\n            value: value,\n            column: column,\n            style: cell.style,\n            cell: cell\n        };\n        args.value = this.exportValueFormatter.formatCellValue(args);\n        if (this.parent.pdfQueryCellInfo) {\n            this.parent.trigger('pdfQueryCellInfo', args);\n            if (args.style.backgroundColor) {\n                cell.style.backgroundColor = args.style.backgroundColor;\n            }\n            if (args.style.borderColor) {\n                cell.style.borderColor = args.style.borderColor;\n            }\n            if (args.style.fontBrush) {\n                cell.style.fontBrush = args.style.fontBrush;\n            }\n            if (args.style.fontColor) {\n                cell.style.fontColor = args.style.fontColor;\n            }\n            if (args.style.fontFamily) {\n                var font = args.style.fontFamily;\n                var fontFamily = this.getFontFamily(font);\n                cell.style.fontFamily = fontFamily;\n            }\n            else {\n                cell.style.fontFamily = this.ganttStyle.fontFamily;\n            }\n            if (args.style.fontSize) {\n                cell.style.fontSize = args.style.fontSize;\n            }\n            if (args.style.fontStyle) {\n                var style = args.style.fontStyle;\n                var fontStyle = this.getFontStyle(style);\n                cell.style.fontStyle = fontStyle;\n            }\n            else {\n                cell.style.fontStyle = this.ganttStyle.footer.fontStyle;\n            }\n            if (args.style.format) {\n                cell.style.format = args.style.format;\n            }\n            if (args.style.padding) {\n                cell.style.padding = args.style.padding;\n            }\n        }\n        if (!isNullOrUndefined(args.image) && !isNullOrUndefined(args.image.base64)) {\n            var dimension = extend({}, args.image, null, true);\n            args.image = new PdfBitmap(args.image.base64);\n            args.image.height = dimension['height'] ? dimension['height'] : args.image.height;\n            args.image.width = dimension['width'] ? dimension['width'] : args.image.width;\n            cell.image = args.image;\n        }\n        cell.value = args.value;\n        if (!isNullOrUndefined(args.hyperLink) && (!isNullOrUndefined(args.hyperLink.displayText) ||\n            !isNullOrUndefined(args.hyperLink.target))) {\n            cell.value = this.setHyperLink(args);\n        }\n    };\n    ExportHelper.prototype.setHyperLink = function (args) {\n        // create the Text Web Link\n        var textLink = new PdfTextWebLink();\n        // set the hyperlink\n        textLink.url = args.hyperLink.target;\n        // set the link text\n        textLink.text = args.hyperLink.displayText || args.hyperLink.target;\n        // set the font\n        textLink.font = new PdfStandardFont(PdfFontFamily.Helvetica, 9.75);\n        // set the brush and pen for the text color\n        textLink.brush = new PdfSolidBrush(new PdfColor(51, 102, 187));\n        return textLink;\n    };\n    /**\n     * Method for create the taskbar collection for rendering\n     *\n     * @returns {void} .\n     */\n    ExportHelper.prototype.processTaskbar = function () {\n        var _this = this;\n        var flatData = this.flatData;\n        flatData.forEach(function (data) {\n            var taskbar = _this.gantt.taskbar.add();\n            var ganttProp = data.ganttProperties;\n            taskbar.left = ganttProp.left;\n            taskbar.width = ganttProp.width;\n            if (taskbar.left < 0) {\n                taskbar.width = taskbar.width + taskbar.left;\n                taskbar.left = 0;\n            }\n            taskbar.progress = ganttProp.progress;\n            taskbar.isScheduledTask = isScheduledTask(ganttProp);\n            if (isScheduledTask) {\n                if (isNullOrUndefined(ganttProp.endDate) && isNullOrUndefined(ganttProp.duration)) {\n                    taskbar.unscheduledTaskBy = 'startDate';\n                }\n                else if (isNullOrUndefined(ganttProp.startDate) && isNullOrUndefined(ganttProp.duration)) {\n                    taskbar.unscheduledTaskBy = 'endDate';\n                }\n                else {\n                    taskbar.unscheduledTaskBy = 'duration';\n                    taskbar.unscheduleStarteDate = _this.parent.dateValidationModule.getValidStartDate(data.ganttProperties);\n                    taskbar.unscheduleEndDate = _this.parent.dateValidationModule.getValidEndDate(data.ganttProperties);\n                }\n            }\n            // else {\n            //     taskbar.unscheduleStarteDate = null;\n            //     taskbar.unscheduleEndDate = null;\n            // }\n            taskbar.startDate = ganttProp.startDate;\n            taskbar.endDate = ganttProp.endDate;\n            taskbar.height = _this.parent.chartRowsModule.taskBarHeight;\n            // if (this.parent.renderBaseline) {\n            //     let height: number;\n            //     if ((taskbar.height + this.baselineHeight) <= this.parent.rowHeight) {\n            //         height = taskbar.height;\n            //     } else {\n            //         height = taskbar.height - (this.baselineHeight + 1);\n            //     }\n            //     taskbar.height = height;\n            // }\n            taskbar.indicators = ganttProp.indicators;\n            taskbar.autoStartDate = ganttProp.autoStartDate;\n            taskbar.autoEndDate = ganttProp.autoEndDate;\n            taskbar.isAutoSchedule = ganttProp.isAutoSchedule;\n            taskbar.autoWidth = ganttProp.autoWidth;\n            taskbar.autoLeft = ganttProp.autoLeft;\n            taskbar.segment = ganttProp.segments;\n            taskbar.isSpliterTask = (isNullOrUndefined(ganttProp.segments) || ganttProp.segments.length === 0) ? false : true;\n            if (taskbar.isSpliterTask) {\n                taskbar.segmentCollection = taskbar.segment.map(function (obj) { return (__assign({}, obj)); });\n            }\n            taskbar.baselineTop = _this.parent.chartRowsModule.baselineTop;\n            taskbar.isMilestone = ganttProp.isMilestone;\n            taskbar.baselineStartDate = ganttProp.baselineStartDate;\n            taskbar.baselineEndDate = ganttProp.baselineEndDate;\n            taskbar.baselineLeft = ganttProp.baselineLeft;\n            taskbar.baselineWidth = ganttProp.baselineWidth;\n            if (taskbar.baselineLeft < 0) {\n                taskbar.baselineWidth = taskbar.baselineWidth + taskbar.baselineLeft;\n                taskbar.baselineLeft = 0;\n            }\n            taskbar.milestoneColor = new PdfColor(_this.ganttStyle.taskbar.milestoneColor);\n            taskbar.isParentTask = data.hasChildRecords;\n            if (ganttProp.isMilestone) {\n                taskbar.height = ganttProp.width;\n            }\n            if (data[_this.parent.labelSettings.leftLabel]) {\n                taskbar.leftTaskLabel.value = data[_this.parent.labelSettings.leftLabel].toString();\n            }\n            if (data[_this.parent.labelSettings.rightLabel]) {\n                taskbar.rightTaskLabel.value = data[_this.parent.labelSettings.rightLabel].toString();\n            }\n            if (!isNullOrUndefined(data[_this.parent.labelSettings.taskLabel])) {\n                taskbar.taskLabel = data[_this.parent.labelSettings.taskLabel].toString();\n            }\n            var reduceLeft = ganttProp.isMilestone ? Math.floor(_this.parent.chartRowsModule.taskBarHeight / 2) + 33 : 33; // 33 indicates default timeline cell width\n            taskbar.rightTaskLabel.left = ganttProp.left + ganttProp.width + reduceLeft; // right label left value\n            taskbar.fontFamily = _this.ganttStyle.fontFamily;\n            taskbar.progressWidth = ganttProp.progressWidth;\n            taskbar.labelColor = new PdfColor(_this.ganttStyle.label.fontColor);\n            taskbar.progressFontColor = new PdfColor(_this.ganttStyle.taskbar.progressFontColor);\n            if (taskbar.isParentTask) {\n                taskbar.taskColor = new PdfColor(_this.ganttStyle.taskbar.parentTaskColor);\n                taskbar.taskBorderColor = new PdfColor(_this.ganttStyle.taskbar.parentTaskBorderColor);\n                taskbar.progressColor = new PdfColor(_this.ganttStyle.taskbar.parentProgressColor);\n            }\n            else {\n                if (data.isCritical) {\n                    taskbar.taskColor = new PdfColor(_this.ganttStyle.taskbar.criticalTaskColor);\n                    taskbar.progressColor = new PdfColor(_this.ganttStyle.taskbar.criticalProgressColor);\n                    taskbar.taskBorderColor = new PdfColor(_this.ganttStyle.taskbar.criticalTaskBorderColor);\n                    taskbar.milestoneColor = new PdfColor(_this.ganttStyle.taskbar.criticalTaskColor);\n                }\n                else {\n                    taskbar.taskColor = new PdfColor(_this.ganttStyle.taskbar.taskColor);\n                    taskbar.progressColor = new PdfColor(_this.ganttStyle.taskbar.progressColor);\n                    taskbar.taskBorderColor = new PdfColor(_this.ganttStyle.taskbar.taskBorderColor);\n                }\n            }\n            taskbar.manualParentBorder = new PdfColor(_this.ganttStyle.taskbar.manualParentBorder);\n            taskbar.manualChildBorder = new PdfColor(_this.ganttStyle.taskbar.manualChildBorder);\n            taskbar.manuallineColor = new PdfColor(_this.ganttStyle.taskbar.manualLineColor);\n            taskbar.unscheduledTaskBarColor = new PdfColor(_this.ganttStyle.taskbar.unscheduledTaskBarColor);\n            taskbar.manualParentBackground = new PdfColor(_this.ganttStyle.taskbar.manualParentBackground);\n            taskbar.manualParentProgress = new PdfColor(_this.ganttStyle.taskbar.manualParentProgress);\n            taskbar.manualChildBackground = new PdfColor(_this.ganttStyle.taskbar.manualChildBackground);\n            taskbar.manualChildProgress = new PdfColor(_this.ganttStyle.taskbar.manualChildProgress);\n            taskbar.splitLineBackground = new PdfColor(_this.ganttStyle.taskbar.splitLineBackground);\n            taskbar.baselineColor = new PdfColor(_this.ganttStyle.taskbar.baselineColor);\n            taskbar.baselineBorderColor = new PdfColor(_this.ganttStyle.taskbar.baselineBorderColor);\n            taskbar.gridLineColor = new PdfColor(_this.ganttStyle.chartGridLineColor);\n            var labelTemplateStyle = {};\n            labelTemplateStyle.leftLabel = { value: null, image: null, fontStyle: { fontBrush: null } };\n            labelTemplateStyle.rightLabel = { value: null, image: null, fontStyle: { fontBrush: null } };\n            labelTemplateStyle.taskLabel = { value: null, image: null, fontStyle: { fontBrush: null } };\n            taskbar.labelSettings = labelTemplateStyle;\n            var taskbarTemplate = {\n                value: null,\n                image: null,\n                fontStyle: { fontBrush: null }\n            };\n            taskbar.taskbarTemplate = taskbarTemplate;\n            _this.gantt.taskbarCollection.push(taskbar);\n            var taskStyle = {};\n            taskStyle.progressFontColor = taskbar.progressFontColor;\n            taskStyle.taskColor = taskbar.taskColor;\n            taskStyle.taskBorderColor = taskbar.taskBorderColor;\n            taskStyle.progressColor = taskbar.progressColor;\n            taskStyle.milestoneColor = taskbar.milestoneColor;\n            taskStyle.baselineColor = taskbar.baselineColor;\n            taskStyle.baselineBorderColor = taskbar.baselineBorderColor;\n            var args = {\n                taskbar: taskStyle,\n                data: data,\n                indicators: data.ganttProperties.indicators,\n                labelSettings: labelTemplateStyle,\n                taskbarTemplate: taskbarTemplate\n            };\n            if (_this.parent.pdfQueryTaskbarInfo) {\n                _this.parent.trigger('pdfQueryTaskbarInfo', args);\n                taskbar.progressFontColor = args.taskbar.progressFontColor;\n                taskbar.taskColor = args.taskbar.taskColor;\n                taskbar.taskBorderColor = args.taskbar.taskBorderColor;\n                taskbar.progressColor = args.taskbar.progressColor;\n                taskbar.milestoneColor = args.taskbar.milestoneColor;\n                taskbar.baselineColor = args.taskbar.baselineColor;\n                taskbar.baselineBorderColor = args.taskbar.baselineBorderColor;\n                taskbar.indicators = args.indicators;\n                taskbar.labelSettings.leftLabel.value = args.labelSettings.leftLabel.value;\n                var leftImages = args.labelSettings.leftLabel.image;\n                taskbar.labelSettings.rightLabel.value = args.labelSettings.rightLabel.value;\n                var rightImage = args.labelSettings.rightLabel.image;\n                if (!isNullOrUndefined(args.labelSettings.taskLabel.value)) {\n                    taskbar.taskLabel = args.labelSettings.taskLabel.value;\n                }\n                if (!isNullOrUndefined(args.labelSettings.leftLabel.image) && Array.isArray(args.labelSettings.leftLabel.image[0].base64)\n                    && args.labelSettings.leftLabel.image[0].base64.length > 0) {\n                    var baseCount = args.labelSettings.leftLabel.image[0].base64.length;\n                    taskbar.labelSettings.leftLabel.image = [];\n                    for (var i = 0; i < baseCount; i++) {\n                        // Create separate objects for each element of the base64 array\n                        taskbar.labelSettings.leftLabel.image.push({\n                            base64: leftImages[0].base64[i],\n                            width: leftImages[0].width,\n                            height: leftImages[0].height\n                        });\n                    }\n                }\n                else if (!isNullOrUndefined(args.labelSettings.leftLabel.image)) {\n                    taskbar.labelSettings.leftLabel.image = args.labelSettings.leftLabel.image;\n                }\n                if (!isNullOrUndefined(args.labelSettings.rightLabel.image) && Array.isArray(args.labelSettings.rightLabel.image[0].base64)\n                    && args.labelSettings.rightLabel.image[0].base64.length > 0) {\n                    var baseCount = args.labelSettings.rightLabel.image[0].base64.length;\n                    taskbar.labelSettings.rightLabel.image = [];\n                    for (var i = 0; i < baseCount; i++) {\n                        // Create separate objects for each element of the base64 array\n                        taskbar.labelSettings.rightLabel.image.push({\n                            base64: rightImage[0].base64[i],\n                            width: rightImage[0].width,\n                            height: rightImage[0].height\n                        });\n                    }\n                }\n                else if (!isNullOrUndefined(args.labelSettings.rightLabel.image)) {\n                    taskbar.labelSettings.rightLabel.image = args.labelSettings.rightLabel.image;\n                }\n                /* eslint-disable-next-line */\n                var applyTemplate = function (target, source) {\n                    target.progressFontColor = source.taskbar.progressFontColor;\n                    target.taskColor = new PdfColor(source.taskbar.taskColor);\n                    target.taskBorderColor = source.taskbar.taskBorderColor;\n                    target.progressColor = source.taskbar.progressColor;\n                    target.milestoneColor = source.taskbar.milestoneColor;\n                    if (!isNullOrUndefined(source.taskbarTemplate.image) && !isNullOrUndefined(source.taskbarTemplate.image[0].base64)) {\n                        var width = source.taskbarTemplate.image[0].width;\n                        var milestoneHeight = taskbar.isMilestone ? ((source.taskbarTemplate.image[0].height <\n                            (_this.parent.chartRowsModule.taskBarHeight * 0.7)) ? source.taskbarTemplate.image[0].height :\n                            (_this.parent.chartRowsModule.taskBarHeight * 0.7) - 2) : (_this.parent.chartRowsModule.taskBarHeight * 0.7) - 2;\n                        var taskbarHeight = !isNullOrUndefined(source.taskbarTemplate.image[0].height) ?\n                            ((source.taskbarTemplate.image[0].height < taskbar.height) ?\n                                source.taskbarTemplate.image[0].height : taskbar.height - 2) : taskbar.height - 2;\n                        var height = taskbar.isMilestone ? milestoneHeight : taskbarHeight;\n                        target.taskbarTemplate.image = source.taskbarTemplate.image;\n                        target.taskbarTemplate.image[0].width = width;\n                        target.taskbarTemplate.image[0].height = height;\n                    }\n                    if (!isNullOrUndefined(source.taskbarTemplate.value)) {\n                        target.taskbarTemplate.value = source.taskbarTemplate.value;\n                        target.taskbarTemplate.value = source.taskbarTemplate.value;\n                        target.taskbarTemplate.fontStyle.fontColor = source.taskbarTemplate.fontStyle.fontColor;\n                        target.taskbarTemplate.fontStyle.fontSize = source.taskbarTemplate.fontStyle.fontSize;\n                        target.taskbarTemplate.fontStyle.fontFamily = source.taskbarTemplate.fontStyle.fontFamily;\n                        target.taskbarTemplate.fontStyle.fontStyle = source.taskbarTemplate.fontStyle.fontStyle;\n                        target.taskbarTemplate.fontStyle.fontBrush = source.taskbarTemplate.fontStyle.fontBrush;\n                    }\n                };\n                if (!args.data.hasChildRecords && args.data.ganttProperties.duration !== 0) {\n                    applyTemplate(taskbar, args);\n                }\n                else if (args.data.hasChildRecords && args.data.ganttProperties.duration !== 0) {\n                    applyTemplate(taskbar, args);\n                }\n                else if (args.data.ganttProperties.duration === 0) {\n                    applyTemplate(taskbar, args);\n                }\n            }\n        });\n    };\n    /**\n     * set text alignment of each columns in exporting grid\n     *\n     * @param {string} textAlign .\n     * @param {PdfStringFormat} format .\n     * @returns {PdfStringFormat} .\n     * @private\n     */\n    ExportHelper.prototype.getHorizontalAlignment = function (textAlign, format) {\n        if (format === undefined) {\n            format = new PdfStringFormat();\n        }\n        switch (textAlign) {\n            case 'Right':\n                format.alignment = PdfTextAlignment.Right;\n                break;\n            case 'Center':\n                format.alignment = PdfTextAlignment.Center;\n                break;\n            case 'Justify':\n                format.alignment = PdfTextAlignment.Justify;\n                break;\n            case 'Left':\n                format.alignment = PdfTextAlignment.Left;\n                break;\n        }\n        return format;\n    };\n    /**\n     * set vertical alignment of each columns in exporting grid\n     *\n     * @param {string} verticalAlign .\n     * @param {PdfStringFormat} format .\n     * @param {string} textAlign .\n     * @returns {PdfStringFormat} .\n     * @private\n     */\n    ExportHelper.prototype.getVerticalAlignment = function (verticalAlign, format, textAlign) {\n        if (format === undefined) {\n            format = new PdfStringFormat();\n            format = this.getHorizontalAlignment(textAlign, format);\n        }\n        switch (verticalAlign) {\n            case 'Bottom':\n                format.lineAlignment = PdfVerticalAlignment.Bottom;\n                break;\n            case 'Middle':\n                format.lineAlignment = PdfVerticalAlignment.Middle;\n                break;\n            case 'Top':\n                format.lineAlignment = PdfVerticalAlignment.Top;\n                break;\n        }\n        return format;\n    };\n    ExportHelper.prototype.getFontFamily = function (fontFamily) {\n        switch (fontFamily) {\n            case 'TimesRoman':\n                return 2;\n            case 'Courier':\n                return 1;\n            case 'Symbol':\n                return 3;\n            case 'ZapfDingbats':\n                return 4;\n            default:\n                return 0;\n        }\n    };\n    ExportHelper.prototype.getFontStyle = function (fontStyle) {\n        switch (fontStyle) {\n            case 'Strikeout':\n                return 8;\n            case 'Underline':\n                return 4;\n            case 'Italic':\n                return 2;\n            case 'Bold':\n                return 1;\n            default:\n                return 0;\n        }\n    };\n    /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n    ExportHelper.prototype.getFont = function (content) {\n        if (content.font) {\n            return content.font;\n        }\n        var defaultFontFamily = this.exportProps.ganttStyle && this.exportProps.ganttStyle.fontFamily ?\n            this.exportProps.ganttStyle.fontFamily : PdfFontFamily.TimesRoman;\n        var fontSize = (!isNullOrUndefined(content.style.fontSize)) ? (content.style.fontSize * 0.75) : 9.75;\n        var fontFamily = (!isNullOrUndefined(content.style.fontFamily)) ?\n            (this.getFontFamily(content.style.fontFamily)) : defaultFontFamily;\n        var fontStyle = PdfFontStyle.Regular;\n        // if (!isNullOrUndefined(content.style.bold) && content.style.bold) {\n        //     fontStyle |= PdfFontStyle.Bold;\n        // }\n        // if (!isNullOrUndefined(content.style.italic) && content.style.italic) {\n        //     fontStyle |= PdfFontStyle.Italic;\n        // }\n        // if (!isNullOrUndefined(content.style.underline) && content.style.underline) {\n        //     fontStyle |= PdfFontStyle.Underline;\n        // }\n        // if (!isNullOrUndefined(content.style.strikeout) && content.style.strikeout) {\n        //     fontStyle |= PdfFontStyle.Strikeout;\n        // }\n        return new PdfStandardFont(fontFamily, fontSize, fontStyle);\n    };\n    ExportHelper.prototype.renderEmptyGantt = function () {\n        var row = this.gantt.rows.addRow();\n        row.cells.getCell(0).isHeaderCell = false;\n        row.height = pixelToPoint(this.parent.rowHeight);\n        this.copyStyles(this.ganttStyle.columnHeader, row.cells.getCell(0), row.isParentRow);\n        var count = this.columns.length;\n        row.cells.getCell(0).value = this.parent.localeObj.getConstant('emptyRecord');\n        this.mergeCells(1, 0, count);\n    };\n    ExportHelper.prototype.mergeCells = function (rowIndex, colIndex, lastColIndex) {\n        this.gantt.rows.getRow(rowIndex).cells.getCell(colIndex).columnSpan = lastColIndex;\n    };\n    /* eslint-disable-next-line */\n    ExportHelper.prototype.copyStyles = function (style, cell, isParentRow) {\n        cell.style.fontColor = new PdfColor(style.fontColor);\n        cell.style.backgroundColor = new PdfColor(style.backgroundColor);\n        cell.style.borderColor = new PdfColor(style.borderColor);\n        cell.style.fontSize = style.fontSize;\n        cell.style.fontStyle = style.fontStyle;\n        /* eslint-disable-next-line */\n        cell.style.format = Object.assign(new PdfStringFormat(), style.format);\n        cell.style.borders = new PdfBorders();\n        cell.style.borders.all = new PdfPen(cell.style.borderColor);\n        cell.style.padding = new PdfPaddings();\n        var padding = 0;\n        if (cell.isHeaderCell) {\n            padding = this.parent.timelineModule.isSingleTier ? 45 / 2 : 60 / 2;\n        }\n        else {\n            padding = this.parent.rowHeight / 2;\n        }\n        cell.style.padding.top = (padding - style.fontSize > 0) ? padding - style.fontSize : padding;\n        cell.style.padding.bottom = (padding - style.fontSize > 0) ? padding - style.fontSize : 0;\n        cell.style.padding.left = 10;\n        cell.style.padding.right = 10;\n        if (style.padding) {\n            cell.style.padding = style.padding;\n        }\n        if (style.borders) {\n            cell.style.borders = style.borders;\n        }\n    };\n    /**\n     * @param {PdfDocument} pdfDoc .\n     * @returns {void} .\n     * @private\n     */\n    ExportHelper.prototype.initializePdf = function (pdfDoc) {\n        this.pdfDoc = pdfDoc;\n        var widths = [];\n        var treeColumnIndex = 0;\n        var tWidth = (this.pdfDoc.pageSettings.width - 82);\n        if (this.exportProps && this.exportProps.fitToWidthSettings && this.exportProps.fitToWidthSettings.isFitToWidth) {\n            var gridWidth = void 0;\n            if (this.exportProps.fitToWidthSettings.gridWidth) {\n                gridWidth = parseInt(this.exportProps.fitToWidthSettings.gridWidth.split('%')[0], 10);\n            }\n            else {\n                if (this.exportProps.fitToWidthSettings.chartWidth) {\n                    var chartWidth = parseInt(this.exportProps.fitToWidthSettings.chartWidth.split('%')[0], 10);\n                    gridWidth = 100 - chartWidth;\n                }\n                else {\n                    gridWidth = 30;\n                }\n            }\n            var pdfwidth = (this.parent.pdfExportModule['pdfPageDimensions'].width * gridWidth) / 100;\n            var perColumnWidth = pdfwidth / this.gantt.columns.columns.length;\n            for (var i = 0; i < this.gantt.columns.columns.length; i++) {\n                this.gantt.columns.getColumn(i).width = perColumnWidth;\n            }\n        }\n        /* eslint-disable-next-line */\n        var PdfPage = this.parent.pdfExportModule.pdfPage;\n        if (this.totalColumnWidth > (this.pdfDoc.pageSettings.width - 82) && this.totalColumnWidth < PdfPage.getClientSize().width) {\n            this.gantt.style.allowHorizontalOverflow = true;\n        }\n        else if ((tWidth / this.columns.length) < widths[treeColumnIndex]) {\n            this.gantt.columns.getColumn(treeColumnIndex).width = widths[treeColumnIndex];\n        }\n        if (this.exportProps.enableFooter || isNullOrUndefined(this.exportProps.enableFooter)) {\n            //code for draw the footer content\n            var pageSize_1 = this.parent.pdfExportModule.getPageSize(this.exportProps.pageSize);\n            var bounds = new RectangleF(0, 0, pageSize_1.width, 35);\n            var pen = new PdfPen(this.ganttStyle.chartGridLineColor);\n            var footer = new PdfPageTemplateElement(bounds);\n            var footerBrush = new PdfSolidBrush(this.ganttStyle.footer.backgroundColor);\n            footer.graphics.drawRectangle(pen, footerBrush, 0, 0, pageSize_1.width, 35);\n            /* eslint-disable-next-line */\n            var font = new PdfStandardFont(this.ganttStyle.fontFamily, this.ganttStyle.footer.fontSize, this.ganttStyle.footer.fontStyle);\n            if (this.ganttStyle.font) {\n                font = this.ganttStyle.font;\n            }\n            var brush = new PdfSolidBrush(this.ganttStyle.footer.fontColor);\n            var pageNumber = new PdfPageNumberField(font);\n            var count = new PdfPageCountField(font, brush);\n            var compositeField = new PdfCompositeField(font, brush, 'Page {0}', pageNumber, count);\n            compositeField.stringFormat = this.ganttStyle.footer.format;\n            compositeField.bounds = bounds;\n            compositeField.draw(footer.graphics, new PointF(0, 0));\n            pdfDoc.template.bottom = footer;\n        }\n        /* eslint-disable-next-line */\n        var pageSize = PdfPage.size;\n        var clientSize = !isNullOrUndefined(pageSize) ? pageSize : this.pdfDoc.pageSettings.size;\n        // code for draw header content\n        if (!isNullOrUndefined(this.exportProps.header)) {\n            var headerProp = this.exportProps.header;\n            var position = new PointF(0, headerProp.fromTop);\n            var size = new SizeF((clientSize.width * 1.1), ((headerProp && headerProp.height) ? headerProp.height * 0.75 : 50));\n            var bounds = new RectangleF(position, size);\n            pdfDoc.template.top = this.drawPageTemplate(new PdfPageTemplateElement(bounds), headerProp);\n        }\n        // code for customization of footer\n        if (!this.exportProps.enableFooter && !isNullOrUndefined(this.exportProps.footer)) {\n            var footer = this.exportProps.footer;\n            var position = new PointF(0, ((clientSize.width - 80) - ((footer && footer.fromBottom) ?\n                footer.fromBottom * 0.75 : 0)));\n            var size = new SizeF((clientSize.width * 1.1), ((footer && footer.height) ? footer.height * 0.75 : 50));\n            var bounds = new RectangleF(position, size);\n            this.pdfDoc.template.bottom = this.drawPageTemplate(new PdfPageTemplateElement(bounds), footer);\n        }\n    };\n    ExportHelper.prototype.drawPageTemplate = function (template, element) {\n        for (var _i = 0, _a = element.contents; _i < _a.length; _i++) {\n            var content = _a[_i];\n            switch (content.type) {\n                case 'Text':\n                    if (content.value === '' || content.value === undefined || content.value === null || typeof content.value !== 'string') {\n                        throw new Error('please enter the valid input value in text content...');\n                    }\n                    this.drawText(template, content);\n                    break;\n                case 'PageNumber':\n                    this.drawPageNumber(template, content);\n                    break;\n                case 'Image':\n                    if (content.src === undefined || content.src === null || content.src === '') {\n                        throw new Error('please enter the valid base64 string in image content...');\n                    }\n                    this.drawImage(template, content);\n                    break;\n                case 'Line':\n                    this.drawLine(template, content);\n                    break;\n                default:\n                    throw new Error('Please set valid content type...');\n            }\n        }\n        return template;\n    };\n    // code for draw text\n    /* eslint-disable-next-line */\n    ExportHelper.prototype.drawText = function (pageTemplate, content) {\n        var font = this.getFont(content);\n        if (this.ganttStyle.font) {\n            font = this.ganttStyle.font;\n        }\n        var brush = this.getBrushFromContent(content);\n        var pen = null;\n        if (!isNullOrUndefined(content.style.textPenColor)) {\n            var penColor = this.hexToRgb(content.style.textPenColor);\n            pen = new PdfPen(new PdfColor(penColor.r, penColor.g, penColor.b));\n        }\n        if (brush === null && pen === null) {\n            brush = new PdfSolidBrush(new PdfColor(0, 0, 0));\n        }\n        var value = content.value.toString();\n        var x = content.position.x * 0.75;\n        var y = content.position.y * 0.75;\n        var format = new PdfStringFormat();\n        if (!isNullOrUndefined(content.style.stringFormat)) {\n            format.alignment = content.style.stringFormat.alignment;\n        }\n        var result = this.setContentFormat(content, format);\n        if (result !== null && !isNullOrUndefined(result.format) && !isNullOrUndefined(result.size)) {\n            pageTemplate.graphics.drawString(value, font, pen, brush, x, y, result.size.width, result.size.height, result.format);\n        }\n        else {\n            pageTemplate.graphics.drawString(value, font, pen, brush, x, y, format);\n        }\n    };\n    // code for draw pagenumber\n    /* eslint-disable-next-line */\n    ExportHelper.prototype.drawPageNumber = function (documentHeader, content) {\n        var font = this.getFont(content);\n        var brush = null;\n        if (!isNullOrUndefined(content.style.textBrushColor)) {\n            var brushColor = this.hexToRgb(content.style.textBrushColor);\n            brush = new PdfSolidBrush(new PdfColor(brushColor.r, brushColor.g, brushColor.b));\n        }\n        else {\n            brush = new PdfSolidBrush(new PdfColor(0, 0, 0));\n        }\n        var pageNumber = new PdfPageNumberField(font, brush);\n        pageNumber.numberStyle = this.getPageNumberStyle(content.pageNumberType);\n        var compositeField;\n        var format;\n        if (!isNullOrUndefined(content.format)) {\n            var total = '$total';\n            var current = '$current';\n            if (content.format.indexOf(total) !== -1 && content.format.indexOf(current) !== -1) {\n                var pageCount = new PdfPageCountField(font);\n                pageCount.numberStyle = this.getPageNumberStyle(content.pageNumberType);\n                if (content.format.indexOf(total) > content.format.indexOf(current)) {\n                    format = content.format.replace(current, '0');\n                    format = format.replace(total, '1');\n                }\n                else {\n                    format = content.format.replace(current, '1');\n                    format = format.replace(total, '0');\n                }\n                compositeField = new PdfCompositeField(font, brush, format, pageNumber, pageCount);\n            }\n            else if (content.format.indexOf(current) !== -1 && content.format.indexOf(total) === -1) {\n                format = content.format.replace(current, '0');\n                compositeField = new PdfCompositeField(font, brush, format, pageNumber);\n            }\n            else {\n                var pageCount = new PdfPageCountField(font);\n                format = content.format.replace(total, '0');\n                compositeField = new PdfCompositeField(font, brush, format, pageCount);\n            }\n        }\n        else {\n            format = '{0}';\n            compositeField = new PdfCompositeField(font, brush, format, pageNumber);\n        }\n        var x = content.position.x * 0.75;\n        var y = content.position.y * 0.75;\n        var result = this.setContentFormat(content, compositeField.stringFormat);\n        if (result !== null && !isNullOrUndefined(result.format) && !isNullOrUndefined(result.size)) {\n            compositeField.stringFormat = result.format;\n            compositeField.bounds = new RectangleF(x, y, result.size.width, result.size.height);\n        }\n        compositeField.draw(documentHeader.graphics, x, y);\n    };\n    // code for draw image\n    /* eslint-disable-next-line */\n    ExportHelper.prototype.drawImage = function (documentHeader, content) {\n        var x = content.position.x * 0.75;\n        var y = content.position.y * 0.75;\n        var width = (!isNullOrUndefined(content.size) && !isNullOrUndefined(content.size.width)) ?\n            (content.size.width * 0.50) : undefined;\n        var height = (!isNullOrUndefined(content.size) && !isNullOrUndefined(content.size.height)) ?\n            (content.size.height * 0.75) : undefined;\n        var image = new PdfBitmap(content.src);\n        if (!isNullOrUndefined(width)) {\n            documentHeader.graphics.drawImage(image, x, y, width, height);\n        }\n        else {\n            documentHeader.graphics.drawImage(image, x, y);\n        }\n    };\n    // code for draw line\n    /* eslint-disable-next-line */\n    ExportHelper.prototype.drawLine = function (documentHeader, content) {\n        var x1 = content.points.x1 * 0.75;\n        var y1 = content.points.y1 * 0.75;\n        var x2 = content.points.x2 * 0.75;\n        var y2 = content.points.y2 * 0.75;\n        var pen = this.getPenFromContent(content);\n        if (!isNullOrUndefined(content.style)) {\n            if (!isNullOrUndefined(content.style.penSize) && typeof content.style.penSize === 'number') {\n                pen.width = content.style.penSize * 0.75;\n            }\n            pen.dashStyle = this.getDashStyle(content.style.dashStyle);\n        }\n        documentHeader.graphics.drawLine(pen, x1, y1, x2, y2);\n    };\n    ExportHelper.prototype.getPenFromContent = function (content) {\n        var pen = new PdfPen(new PdfColor(0, 0, 0));\n        if (!isNullOrUndefined(content.style) && content.style !== null && !isNullOrUndefined(content.style.penColor)) {\n            var penColor = this.hexToRgb(content.style.penColor);\n            pen = new PdfPen(new PdfColor(penColor.r, penColor.g, penColor.b));\n        }\n        return pen;\n    };\n    ExportHelper.prototype.getDashStyle = function (dashStyle) {\n        switch (dashStyle) {\n            case 'Dash':\n                return 1;\n            case 'Dot':\n                return 2;\n            case 'DashDot':\n                return 3;\n            case 'DashDotDot':\n                return 4;\n            default:\n                return 0;\n        }\n    };\n    ExportHelper.prototype.getBrushFromContent = function (content) {\n        var brush = null;\n        if (!isNullOrUndefined(content.style.textBrushColor)) {\n            /* tslint:disable-next-line:max-line-length */\n            var brushColor = this.hexToRgb(content.style.textBrushColor);\n            brush = new PdfSolidBrush(new PdfColor(brushColor.r, brushColor.g, brushColor.b));\n        }\n        return brush;\n    };\n    ExportHelper.prototype.hexToRgb = function (hex) {\n        if (hex === null || hex === '' || hex.length !== 7) {\n            throw new Error('please set valid hex value for color...');\n        }\n        hex = hex.substring(1);\n        var bigint = parseInt(hex, 16);\n        var r = (bigint >> 16) & 255;\n        var g = (bigint >> 8) & 255;\n        var b = bigint & 255;\n        return { r: r, g: g, b: b };\n    };\n    ExportHelper.prototype.setContentFormat = function (content, format) {\n        var width = (content.size) ? content.size.width * 0.75 : this.pdfDoc.pageSettings.size.width;\n        var height = (content.size) ? content.size.height * 0.75 : (!isNullOrUndefined(this.exportProps.footer) ?\n            this.exportProps.footer.height * 0.50 : 0);\n        format = new PdfStringFormat(PdfTextAlignment.Left, PdfVerticalAlignment.Middle);\n        if (!isNullOrUndefined(content.style.hAlign)) {\n            switch (content.style.hAlign) {\n                case 'Right':\n                    format.alignment = PdfTextAlignment.Right;\n                    break;\n                case 'Center':\n                    format.alignment = PdfTextAlignment.Center;\n                    break;\n                case 'Justify':\n                    format.alignment = PdfTextAlignment.Justify;\n                    break;\n                default:\n                    format.alignment = PdfTextAlignment.Left;\n            }\n        }\n        if (!isNullOrUndefined(content.style.vAlign)) {\n            format = this.getVerticalAlignment(content.style.vAlign, format);\n        }\n        return { format: format, size: new SizeF(width, height) };\n    };\n    ExportHelper.prototype.getPageNumberStyle = function (pageNumberType) {\n        switch (pageNumberType) {\n            case 'LowerLatin':\n                return 2;\n            case 'LowerRoman':\n                return 3;\n            case 'UpperLatin':\n                return 4;\n            case 'UpperRoman':\n                return 5;\n            default:\n                return 1;\n        }\n    };\n    return ExportHelper;\n}());\nexport { ExportHelper };\n/**\n * @hidden\n * `ExportValueFormatter` for `PdfExport` & `ExcelExport`\n */\nvar ExportValueFormatter = /** @class */ (function () {\n    function ExportValueFormatter(culture) {\n        this.valueFormatter = new ValueFormatter(culture);\n        this.internationalization = new Internationalization(culture);\n    }\n    /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n    ExportValueFormatter.prototype.returnFormattedValue = function (args, customFormat) {\n        if (!isNullOrUndefined(args.value) && args.value) {\n            return this.valueFormatter.getFormatFunction(customFormat)(args.value);\n        }\n        else {\n            return '';\n        }\n    };\n    /**\n     * @private\n     */\n    /* eslint-disable-next-line  */\n    ExportValueFormatter.prototype.formatCellValue = function (args) {\n        if (args.isForeignKey) {\n            args.value = getValue(args.column.foreignKeyValue, getForeignData(args.column, {}, args.value)[0]);\n        }\n        if (args.column.type === 'number' && args.column.format !== undefined && args.column.format !== '') {\n            return args.value ? this.internationalization.getNumberFormat({ format: args.column.format })(args.value) : '';\n        }\n        else if (args.column.type === 'boolean') {\n            return args.value ? 'true' : 'false';\n        }\n        else if ((args.column.type === 'date' || args.column.type === 'datetime' || args.column.type === 'time') && args.column.format !== undefined) {\n            if (typeof args.value === 'string') {\n                args.value = new Date(args.value);\n            }\n            if (typeof args.column.format === 'string') {\n                var format = void 0;\n                if (args.column.type === 'date') {\n                    format = { type: 'date', format: args.column.format };\n                }\n                else if (args.column.type === 'time') {\n                    format = { type: 'time', format: args.column.format };\n                }\n                else {\n                    format = { type: 'dateTime', format: args.column.format };\n                }\n                return this.returnFormattedValue(args, format);\n            }\n            else {\n                if (args.column.format instanceof Object && args.column.format.type === undefined) {\n                    return (args.value.toString());\n                }\n                else {\n                    var customFormat = void 0;\n                    if (args.column.type === 'date') {\n                        /* eslint-disable-next-line max-len */\n                        customFormat = { type: args.column.format.type, format: args.column.format.format, skeleton: args.column.format.skeleton };\n                    }\n                    else if (args.column.type === 'time') {\n                        customFormat = { type: 'time', format: args.column.format.format, skeleton: args.column.format.skeleton };\n                    }\n                    else {\n                        customFormat = { type: 'dateTime', format: args.column.format.format, skeleton: args.column.format.skeleton };\n                    }\n                    return this.returnFormattedValue(args, customFormat);\n                }\n            }\n        }\n        else {\n            if ((!isNullOrUndefined(args.column.type) && !isNullOrUndefined(args.value)) || !isNullOrUndefined(args.value)) {\n                return (args.value).toString();\n            }\n            else {\n                return '';\n            }\n        }\n    };\n    return ExportValueFormatter;\n}());\nexport { ExportValueFormatter };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}