{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, vShow as _vShow, normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, withDirectives as _withDirectives, withModifiers as _withModifiers, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_task_list = _resolveComponent(\"task-list\");\n  const _component_chart = _resolveComponent(\"chart\");\n  return _openBlock(), _createElementBlock(\"div\", {\n    class: \"gantt-elastic__main-view\",\n    style: _normalizeStyle({\n      ...$options.root.style['main-view']\n    })\n  }, [_createElementVNode(\"div\", {\n    class: \"gantt-elastic__main-container-wrapper\",\n    style: _normalizeStyle({\n      ...$options.root.style['main-container-wrapper'],\n      height: $options.root.state.options.height + 'px'\n    })\n  }, [_createElementVNode(\"div\", {\n    class: \"gantt-elastic__main-container\",\n    style: _normalizeStyle({\n      ...$options.root.style['main-container'],\n      width: $options.root.state.options.clientWidth + 'px',\n      height: $options.root.state.options.height + 'px'\n    }),\n    ref: \"mainView\"\n  }, [_createElementVNode(\"div\", {\n    class: \"gantt-elastic__container\",\n    style: _normalizeStyle({\n      ...$options.root.style['container']\n    }),\n    onMousemove: _cache[7] || (_cache[7] = (...args) => $options.mouseMove && $options.mouseMove(...args)),\n    onMouseup: _cache[8] || (_cache[8] = (...args) => $options.mouseUp && $options.mouseUp(...args))\n  }, [_withDirectives(_createElementVNode(\"div\", {\n    ref: \"taskList\",\n    class: \"gantt-elastic__task-list-container\",\n    style: _normalizeStyle({\n      ...$options.root.style['task-list-container'],\n      width: $options.root.state.options.taskList.finalWidth + 'px',\n      height: $options.root.state.options.height + 'px'\n    })\n  }, [_createVNode(_component_task_list)], 4 /* STYLE */), [[_vShow, $options.root.state.options.taskList.display]]), _createElementVNode(\"div\", {\n    class: \"gantt-elastic__main-view-container\",\n    style: _normalizeStyle({\n      ...$options.root.style['main-view-container']\n    }),\n    ref: \"chartContainer\",\n    onMousedown: _cache[0] || (_cache[0] = (...args) => $options.chartMouseDown && $options.chartMouseDown(...args)),\n    onTouchstart: _cache[1] || (_cache[1] = (...args) => $options.chartMouseDown && $options.chartMouseDown(...args)),\n    onMouseup: _cache[2] || (_cache[2] = (...args) => $options.chartMouseUp && $options.chartMouseUp(...args)),\n    onTouchend: _cache[3] || (_cache[3] = (...args) => $options.chartMouseUp && $options.chartMouseUp(...args)),\n    onMousemove: _cache[4] || (_cache[4] = _withModifiers((...args) => $options.chartMouseMove && $options.chartMouseMove(...args), [\"prevent\"])),\n    onTouchmove: _cache[5] || (_cache[5] = _withModifiers((...args) => $options.chartMouseMove && $options.chartMouseMove(...args), [\"prevent\"])),\n    onWheel: _cache[6] || (_cache[6] = _withModifiers((...args) => $options.chartWheel && $options.chartWheel(...args), [\"prevent\"]))\n  }, [_createVNode(_component_chart)], 36 /* STYLE, NEED_HYDRATION */)], 36 /* STYLE, NEED_HYDRATION */)], 4 /* STYLE */), _createElementVNode(\"div\", {\n    class: \"gantt-elastic__chart-scroll-container gantt-elastic__chart-scroll-container--vertical\",\n    style: _normalizeStyle({\n      ...$options.root.style['chart-scroll-container'],\n      ...$options.root.style['chart-scroll-container--vertical'],\n      ...$options.verticalStyle\n    }),\n    ref: \"chartScrollContainerVertical\",\n    onScroll: _cache[9] || (_cache[9] = (...args) => $options.onVerticalScroll && $options.onVerticalScroll(...args))\n  }, [_createElementVNode(\"div\", {\n    class: \"gantt-elastic__chart-scroll--vertical\",\n    style: _normalizeStyle({\n      width: '1px',\n      height: $options.root.state.options.allVisibleTasksHeight + 'px'\n    })\n  }, null, 4 /* STYLE */)], 36 /* STYLE, NEED_HYDRATION */)], 4 /* STYLE */), _createElementVNode(\"div\", {\n    class: \"gantt-elastic__chart-scroll-container gantt-elastic__chart-scroll-container--horizontal\",\n    style: _normalizeStyle({\n      ...$options.root.style['chart-scroll-container'],\n      ...$options.root.style['chart-scroll-container--horizontal'],\n      marginLeft: $options.getMarginLeft\n    }),\n    onScroll: _cache[10] || (_cache[10] = (...args) => $options.onHorizontalScroll && $options.onHorizontalScroll(...args)),\n    ref: \"chartScrollContainerHorizontal\"\n  }, [_createElementVNode(\"div\", {\n    class: \"gantt-elastic__chart-scroll--horizontal\",\n    style: _normalizeStyle({\n      height: '1px',\n      width: $options.root.state.options.width + 'px'\n    })\n  }, null, 4 /* STYLE */)], 36 /* STYLE, NEED_HYDRATION */)], 4 /* STYLE */);\n}","map":{"version":3,"names":["_createElementBlock","class","style","_normalizeStyle","$options","root","_createElementVNode","height","state","options","clientWidth","ref","onMousemove","_cache","args","mouseMove","onMouseup","mouseUp","taskList","finalWidth","_createVNode","_component_task_list","display","onMousedown","chartMouseDown","onTouchstart","chartMouseUp","onTouchend","_withModifiers","chartMouseMove","onTouchmove","onWheel","chartWheel","_component_chart","verticalStyle","onScroll","onVerticalScroll","width","allVisibleTasksHeight","getMarginLeft","onHorizontalScroll"],"sources":["/var/www/vue/vue-gantt-chart/node_modules/gantt-elastic/src/components/MainView.vue"],"sourcesContent":["<!--\n/**\n * @fileoverview MainView component\n * @license MIT\n * @author Rafal Pospiech <neuronet.io@gmail.com>\n * @package GanttElastic\n */\n-->\n<template>\n  <div class=\"gantt-elastic__main-view\" :style=\"{ ...root.style['main-view'] }\">\n    <div\n      class=\"gantt-elastic__main-container-wrapper\"\n      :style=\"{ ...root.style['main-container-wrapper'], height: root.state.options.height + 'px' }\"\n    >\n      <div\n        class=\"gantt-elastic__main-container\"\n        :style=\"{\n          ...root.style['main-container'],\n          width: root.state.options.clientWidth + 'px',\n          height: root.state.options.height + 'px'\n        }\"\n        ref=\"mainView\"\n      >\n        <div\n          class=\"gantt-elastic__container\"\n          :style=\"{ ...root.style['container'] }\"\n          @mousemove=\"mouseMove\"\n          @mouseup=\"mouseUp\"\n        >\n          <div\n            ref=\"taskList\"\n            class=\"gantt-elastic__task-list-container\"\n            :style=\"{\n              ...root.style['task-list-container'],\n              width: root.state.options.taskList.finalWidth + 'px',\n              height: root.state.options.height + 'px'\n            }\"\n            v-show=\"root.state.options.taskList.display\"\n          >\n            <task-list></task-list>\n          </div>\n          <div\n            class=\"gantt-elastic__main-view-container\"\n            :style=\"{ ...root.style['main-view-container'] }\"\n            ref=\"chartContainer\"\n            @mousedown=\"chartMouseDown\"\n            @touchstart=\"chartMouseDown\"\n            @mouseup=\"chartMouseUp\"\n            @touchend=\"chartMouseUp\"\n            @mousemove.prevent=\"chartMouseMove\"\n            @touchmove.prevent=\"chartMouseMove\"\n            @wheel.prevent=\"chartWheel\"\n          >\n            <chart></chart>\n          </div>\n        </div>\n      </div>\n      <div\n        class=\"gantt-elastic__chart-scroll-container gantt-elastic__chart-scroll-container--vertical\"\n        :style=\"{\n          ...root.style['chart-scroll-container'],\n          ...root.style['chart-scroll-container--vertical'],\n          ...verticalStyle\n        }\"\n        ref=\"chartScrollContainerVertical\"\n        @scroll=\"onVerticalScroll\"\n      >\n        <div\n          class=\"gantt-elastic__chart-scroll--vertical\"\n          :style=\"{ width: '1px', height: root.state.options.allVisibleTasksHeight + 'px' }\"\n        ></div>\n      </div>\n    </div>\n    <div\n      class=\"gantt-elastic__chart-scroll-container gantt-elastic__chart-scroll-container--horizontal\"\n      :style=\"{\n        ...root.style['chart-scroll-container'],\n        ...root.style['chart-scroll-container--horizontal'],\n        marginLeft: getMarginLeft\n      }\"\n      @scroll=\"onHorizontalScroll\"\n      ref=\"chartScrollContainerHorizontal\"\n    >\n      <div\n        class=\"gantt-elastic__chart-scroll--horizontal\"\n        :style=\"{ height: '1px', width: root.state.options.width + 'px' }\"\n      ></div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport TaskList from './TaskList/TaskList.vue';\nimport Chart from './Chart/Chart.vue';\n\nlet ignoreScrollEvents = false;\n\nexport default {\n  name: 'MainView',\n  components: {\n    TaskList,\n    Chart\n  },\n  inject: ['root'],\n  data() {\n    return {\n      defs: '',\n      mousePos: {\n        x: 0,\n        y: 0,\n        movementX: 0,\n        movementY: 0,\n        lastX: 0,\n        lastY: 0,\n        positiveX: 0,\n        positiveY: 0,\n        currentX: 0,\n        currentY: 0\n      }\n    };\n  },\n  /**\n   * Mounted\n   */\n  mounted() {\n    this.viewBoxWidth = this.$el.clientWidth;\n    this.root.state.refs.mainView = this.$refs.mainView;\n    this.root.state.refs.chartContainer = this.$refs.chartContainer;\n    this.root.state.refs.taskList = this.$refs.taskList;\n    this.root.state.refs.chartScrollContainerHorizontal = this.$refs.chartScrollContainerHorizontal;\n    this.root.state.refs.chartScrollContainerVertical = this.$refs.chartScrollContainerVertical;\n    document.addEventListener('mouseup', this.chartMouseUp.bind(this));\n    document.addEventListener('mousemove', this.chartMouseMove.bind(this));\n    document.addEventListener('touchmove', this.chartMouseMove.bind(this));\n    document.addEventListener('touchend', this.chartMouseUp.bind(this));\n  },\n  computed: {\n    /**\n     * Get margin left\n     *\n     * @returns {string}\n     */\n    getMarginLeft() {\n      if (!this.root.state.options.taskList.display) {\n        return '0px';\n      }\n      return this.root.state.options.taskList.finalWidth + 'px';\n    },\n\n    /**\n     * Get vertical style\n     *\n     * @returns {object}\n     */\n    verticalStyle() {\n      return {\n        width: this.root.state.options.scrollBarHeight + 'px',\n        height: this.root.state.options.rowsHeight + 'px',\n        'margin-top': this.root.state.options.calendar.height + this.root.state.options.calendar.gap + 'px'\n      };\n    },\n\n    /**\n     * Get view box\n     *\n     * @returns {string}\n     */\n    getViewBox() {\n      if (this.root.state.options.clientWidth) {\n        return `0 0 ${this.root.state.options.clientWidth - this.root.state.options.scrollBarHeight} ${\n          this.root.state.options.height\n        }`;\n      }\n      return `0 0 0 ${this.root.state.options.height}`;\n    }\n  },\n  methods: {\n    /**\n     * Emit event when mouse is moving inside main view\n     */\n    mouseMove(event) {\n      this.root.$emit('main-view-mousemove', event);\n    },\n\n    /**\n     * Emit mouseup event inside main view\n     */\n    mouseUp(event) {\n      this.root.$emit('main-view-mouseup', event);\n    },\n\n    /**\n     * Horizontal scroll event handler\n     */\n    onHorizontalScroll(ev) {\n      this.root.$emit('chart-scroll-horizontal', ev);\n    },\n\n    /**\n     * Vertical scroll event handler\n     */\n    onVerticalScroll(ev) {\n      this.root.$emit('chart-scroll-vertical', ev);\n    },\n\n    /**\n     * Mouse wheel event handler\n     */\n    chartWheel(ev) {\n      this.root.$emit('chart-wheel', ev);\n    },\n\n    /**\n     * Chart mousedown event handler\n     * Initiates drag scrolling mode\n     */\n    chartMouseDown(ev) {\n      if (typeof ev.touches !== 'undefined') {\n        this.mousePos.x = this.mousePos.lastX = ev.touches[0].screenX;\n        this.mousePos.y = this.mousePos.lastY = ev.touches[0].screenY;\n        this.mousePos.movementX = 0;\n        this.mousePos.movementY = 0;\n        this.mousePos.currentX = this.$refs.chartScrollContainerHorizontal.scrollLeft;\n        this.mousePos.currentY = this.$refs.chartScrollContainerVertical.scrollTop;\n      }\n      this.root.state.options.scroll.scrolling = true;\n    },\n\n    /**\n     * Chart mouseup event handler\n     * Deactivates drag scrolling mode\n     */\n    chartMouseUp(ev) {\n      this.root.state.options.scroll.scrolling = false;\n    },\n\n    /**\n     * Chart mousemove event handler\n     * When in drag scrolling mode this method calculate scroll movement\n     */\n    chartMouseMove(ev) {\n      if (this.root.state.options.scroll.scrolling) {\n        ev.preventDefault();\n        ev.stopImmediatePropagation();\n        ev.stopPropagation();\n        const touch = typeof ev.touches !== 'undefined';\n        let movementX, movementY;\n        if (touch) {\n          const screenX = ev.touches[0].screenX;\n          const screenY = ev.touches[0].screenY;\n          movementX = this.mousePos.x - screenX;\n          movementY = this.mousePos.y - screenY;\n          this.mousePos.lastX = screenX;\n          this.mousePos.lastY = screenY;\n        } else {\n          movementX = ev.movementX;\n          movementY = ev.movementY;\n        }\n        const horizontal = this.$refs.chartScrollContainerHorizontal;\n        const vertical = this.$refs.chartScrollContainerVertical;\n        let x = 0,\n          y = 0;\n        if (touch) {\n          x = this.mousePos.currentX + movementX * this.root.state.options.scroll.dragXMoveMultiplier;\n        } else {\n          x = horizontal.scrollLeft - movementX * this.root.state.options.scroll.dragXMoveMultiplier;\n        }\n        horizontal.scrollLeft = x;\n        if (touch) {\n          y = this.mousePos.currentY + movementY * this.root.state.options.scroll.dragYMoveMultiplier;\n        } else {\n          y = vertical.scrollTop - movementY * this.root.state.options.scroll.dragYMoveMultiplier;\n        }\n        vertical.scrollTop = y;\n      }\n    }\n  },\n\n  /**\n   * Before destroy event - clean up\n   */\n  beforeDestroy() {\n    document.removeEventListener('mouseup', this.chartMouseUp);\n    document.removeEventListener('mousemove', this.chartMouseMove);\n    document.removeEventListener('touchmove', this.chartMouseMove);\n    document.removeEventListener('touchend', this.chartMouseUp);\n  }\n};\n</script>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}