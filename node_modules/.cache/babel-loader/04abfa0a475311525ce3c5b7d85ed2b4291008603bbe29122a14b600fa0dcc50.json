{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.filter.js\";\nimport { TreeView as BaseTreeView } from '@syncfusion/ej2-navigations';\nimport { isNullOrUndefined as isNOU, select, setValue, getValue, Draggable } from '@syncfusion/ej2-base';\nimport { KeyboardEvents, closest } from '@syncfusion/ej2-base';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\nimport * as events from '../base/constant';\nimport * as CLS from '../base/classes';\nimport { read, Download, GetDetails, Delete, isFileSystemData } from '../common/operations';\nimport { createDialog } from '../pop-up/dialog';\nimport { updatePath, getPath, getDirectories } from '../common/utility';\nimport { createVirtualDragElement, dragStopHandler, dragStartHandler, draggingHandler, getDirectoryPath, getModule, getPathId } from '../common/index';\nimport { copyFiles, cutFiles, removeActive, pasteHandler, getParentPath, readDropPath } from '../common/index';\nimport { hasEditAccess, createDeniedDialog, hasDownloadAccess, getAccessClass } from '../common/index';\n/**\n * NavigationPane module\n */\nvar NavigationPane = /** @class */function () {\n  /**\n   * Constructor for the TreeView module\n   *\n   * @param {IFileManager} parent - specifies the parent element.\n   * @hidden\n   */\n  /* istanbul ignore next */\n  function NavigationPane(parent) {\n    this.removeNodes = [];\n    this.moveNames = [];\n    // Specifies the previously selected nodes in the treeview control.\n    this.previousSelected = [];\n    this.expandTree = false;\n    this.isDrag = false;\n    this.isPathDragged = false;\n    this.isRenameParent = false;\n    this.isRightClick = false;\n    this.isSameNodeClicked = false;\n    this.isNodeExpandCalled = false;\n    this.renameParent = null;\n    // Specifies whether the nodeClicked event of the treeview control is triggered or not.\n    this.isNodeClickCalled = false;\n    // Specifies whether to restrict node selection in the treeview control.\n    this.restrictSelecting = false;\n    this.parent = parent;\n    this.addEventListener();\n    this.keyConfigs = {\n      altEnter: 'alt+enter',\n      esc: 'escape',\n      del: 'delete',\n      ctrlX: this.parent.isMac ? 'cmd+x' : 'ctrl+x',\n      ctrlC: this.parent.isMac ? 'cmd+c' : 'ctrl+c',\n      ctrlV: this.parent.isMac ? 'cmd+v' : 'ctrl+v',\n      ctrlShiftN: 'ctrl+shift+n',\n      shiftF10: 'shift+F10',\n      f2: 'f2'\n    };\n  }\n  NavigationPane.prototype.onInit = function () {\n    if (!isNOU(this.treeObj)) {\n      return;\n    }\n    var rootData = getValue(this.parent.pathId[0], this.parent.feParent);\n    setValue('_fm_icon', 'e-fe-folder', rootData);\n    var attr = {};\n    var id = getValue('id', rootData);\n    if (!isNOU(id)) {\n      setValue('data-id', id, attr);\n    }\n    if (!hasEditAccess(rootData)) {\n      setValue('class', getAccessClass(rootData), attr);\n    }\n    if (!isNOU(attr)) {\n      setValue('_fm_htmlAttr', attr, rootData);\n    }\n    this.treeObj = new BaseTreeView({\n      fields: {\n        dataSource: [rootData],\n        id: '_fm_id',\n        parentID: '_fm_pId',\n        expanded: '_fm_expanded',\n        selected: '_fm_selected',\n        text: 'name',\n        hasChildren: 'hasChild',\n        iconCss: '_fm_icon',\n        htmlAttributes: '_fm_htmlAttr',\n        tooltip: 'name'\n      },\n      enableHtmlSanitizer: this.parent.enableHtmlSanitizer,\n      sortOrder: this.parent.navigationPaneSettings.sortOrder,\n      nodeSelecting: this.onNodeSelecting.bind(this),\n      nodeSelected: this.onNodeSelected.bind(this),\n      nodeExpanding: this.onNodeExpand.bind(this),\n      nodeClicked: this.onNodeClicked.bind(this),\n      allowEditing: true,\n      nodeEditing: this.onNodeEditing.bind(this),\n      drawNode: this.onDrowNode.bind(this),\n      enableRtl: this.parent.enableRtl,\n      dataBound: this.addDragDrop.bind(this)\n    });\n    this.treeObj.isStringTemplate = true;\n    this.treeObj.appendTo('#' + this.parent.element.id + CLS.TREE_ID);\n    this.wireEvents();\n  };\n  NavigationPane.prototype.addDragDrop = function () {\n    var _this = this;\n    if (!this.parent.isMobile && this.treeObj) {\n      if (this.parent.allowDragAndDrop && isNOU(this.dragObj)) {\n        this.dragObj = new Draggable(this.treeObj.element, {\n          cursorAt: this.parent.dragCursorPosition,\n          dragTarget: '.' + CLS.FULLROW,\n          distance: 5,\n          dragArea: this.parent.element,\n          drag: draggingHandler.bind(this, this.parent),\n          dragStart: function (args) {\n            dragStartHandler(_this.parent, args, _this.dragObj);\n          },\n          dragStop: dragStopHandler.bind(this, this.parent),\n          enableTailMode: true,\n          enableAutoScroll: false,\n          helper: this.dragHelper.bind(this)\n        });\n      } else if (!this.parent.allowDragAndDrop && this.dragObj) {\n        this.dragObj.destroy();\n        this.dragObj = null;\n      }\n    }\n  };\n  NavigationPane.prototype.dragHelper = function (args) {\n    var dragTarget = args.sender.target;\n    if (!dragTarget.classList.contains(CLS.FULLROW)) {\n      return null;\n    }\n    var dragLi = closest(dragTarget, 'li');\n    this.parent.dragPath = '';\n    this.parent.dragData = [];\n    this.parent.activeElements = [];\n    this.parent.activeElements = [dragLi];\n    this.parent.dragNodes = [];\n    getModule(this.parent, dragLi);\n    this.parent.dragData = this.getTreeData(dragLi);\n    this.parent.dragPath = this.getDragPath(dragLi, this.parent.dragData[0].name);\n    this.parent.dragNodes.push(this.parent.dragData[0].name);\n    createVirtualDragElement(this.parent);\n    return this.parent.virtualDragElement;\n  };\n  NavigationPane.prototype.getDragPath = function (dragLi, text) {\n    var path = this.getDropPath(dragLi, text);\n    return getParentPath(path);\n  };\n  NavigationPane.prototype.getDropPath = function (node, text) {\n    var id = node.getAttribute('data-id');\n    var newText = this.parent.hasId ? id : text;\n    return getPath(node, newText, this.parent.hasId);\n  };\n  NavigationPane.prototype.onDrowNode = function (args) {\n    var eventArgs = {\n      element: args.node,\n      fileDetails: args.nodeData,\n      module: 'NavigationPane'\n    };\n    this.parent.trigger('fileLoad', eventArgs);\n  };\n  NavigationPane.prototype.addChild = function (files, target, prevent) {\n    var directories = getDirectories(files);\n    var targetDirectory = this.getTreeData(target);\n    if (directories.length > 0 && targetDirectory.length > 0 && (directories[0].filterPath == null || isNOU(targetDirectory[0]) && targetDirectory[0].filterPath == null || directories[0].filterPath !== targetDirectory[0].filterPath)) {\n      var length_1 = 0;\n      var folders = directories;\n      while (length_1 < directories.length) {\n        // eslint-disable-next-line camelcase\n        folders[parseInt(length_1.toString(), 10)]._fm_icon = 'e-fe-folder';\n        var attr = {};\n        var id = getValue('id', folders[length_1]);\n        if (!isNOU(id)) {\n          setValue('data-id', id, attr);\n        }\n        if (!hasEditAccess(folders[length_1])) {\n          setValue('class', getAccessClass(folders[length_1]), attr);\n        }\n        if (!isNOU(attr)) {\n          setValue('_fm_htmlAttr', attr, folders[length_1]);\n        }\n        length_1++;\n      }\n      var element = select('[data-uid=\"' + target + '\"]', this.treeObj.element);\n      var childElements = select('ul', element);\n      if (isNOU(childElements)) {\n        this.treeObj.addNodes(directories, target, null, prevent);\n      }\n    }\n  };\n  // Node Selecting event handler\n  NavigationPane.prototype.onNodeSelecting = function (args) {\n    if (!args.isInteracted && !this.isRightClick && !this.isSameNodeClicked && !this.isPathDragged && !this.isRenameParent || this.restrictSelecting) {\n      this.restrictSelecting = false;\n      this.isNodeClickCalled = false;\n      return;\n    }\n    if (!this.renameParent) {\n      this.parent.activeModule = 'navigationpane';\n      var nodeData = this.getTreeData(getValue('id', args.nodeData));\n      if (args.node.getAttribute('data-uid') !== this.parent.pathId[this.parent.pathId.length - 1] && !this.isRightClick && !this.isNodeClickCalled || this.isSameNodeClicked) {\n        this.isNodeClickCalled = false;\n        if (!this.isSameNodeClicked) {\n          this.isSameNodeClicked = true;\n          var selecEventArgs = {\n            action: args.action,\n            fileDetails: nodeData[0],\n            isInteracted: args.isInteracted\n          };\n          this.parent.trigger('fileSelect', selecEventArgs);\n        }\n        if (!this.isRightClick) {\n          var eventArgs = {\n            cancel: false,\n            fileDetails: nodeData[0],\n            module: 'NavigationPane'\n          };\n          this.parent.trigger('fileOpen', eventArgs);\n          args.cancel = eventArgs.cancel;\n        }\n        if (args.cancel) {\n          this.restrictSelecting = this.isNodeClickCalled ? this.previousSelected[0] !== args.node.getAttribute('data-uid') : false;\n          this.isNodeClickCalled = true;\n          this.isSameNodeClicked = false;\n          this.previousSelected = this.treeObj.selectedNodes;\n          this.treeObj.setProperties({\n            selectedNodes: [args.node.getAttribute('data-uid')]\n          });\n        }\n      } else if (this.previousSelected[0] !== args.node.getAttribute('data-uid')) {\n        var selecEventArgs = {\n          action: args.action,\n          fileDetails: nodeData[0],\n          isInteracted: this.isNodeClickCalled\n        };\n        this.parent.trigger('fileSelect', selecEventArgs);\n      }\n    }\n  };\n  // Opens the folder while clicking open context menu item in the treeview.\n  NavigationPane.prototype.openFileOnContextMenuClick = function (node) {\n    var data = this.treeObj.getTreeData(node);\n    this.parent.selectedItems = [];\n    this.parent.itemData = data;\n    this.activeNode = node;\n    this.parent.activeModule = 'navigationpane';\n    var eventArgs = {\n      cancel: false,\n      fileDetails: data[0],\n      module: 'NavigationPane'\n    };\n    this.parent.trigger('fileOpen', eventArgs);\n    this.isNodeClickCalled = true;\n    if (!eventArgs.cancel) {\n      updatePath(node, this.parent.itemData[0], this.parent);\n      read(this.parent, this.isPathDragged ? events.pasteEnd : events.pathChanged, this.parent.path);\n      this.parent.visitedItem = node;\n      this.isPathDragged = this.isRenameParent = this.isRightClick = false;\n      this.treeObj.setProperties({\n        selectedNodes: [node.getAttribute('data-uid')]\n      });\n    }\n  };\n  NavigationPane.prototype.onNodeSelected = function (args) {\n    if (this.parent.breadcrumbbarModule && this.parent.breadcrumbbarModule.searchObj && !this.renameParent) {\n      this.parent.breadcrumbbarModule.searchObj.element.value = '';\n      this.parent.isFiltered = false;\n      this.isNodeClickCalled = false;\n    }\n    this.parent.searchedItems = [];\n    if (!args.isInteracted && !this.isRightClick && !this.isSameNodeClicked && !this.isPathDragged && !this.isRenameParent) {\n      this.parent.pathId = getPathId(args.node);\n      return;\n    }\n    this.activeNode = args.node;\n    this.parent.activeModule = 'navigationpane';\n    var nodeData = this.getTreeData(getValue('id', args.nodeData));\n    this.parent.selectedItems = [];\n    this.parent.itemData = nodeData;\n    var previousPath = this.parent.path;\n    if (!this.isRightClick && this.isSameNodeClicked) {\n      updatePath(args.node, this.parent.itemData[0], this.parent);\n    } else {\n      this.parent.pathId = getPathId(args.node);\n      this.parent.visitedItem = args.node;\n    }\n    if (args.node.querySelector('.' + CLS.ICONS) && args.node.querySelector('.' + CLS.LIST_ITEM) === null) {\n      this.expandNodeTarget = 'add';\n    }\n    if (previousPath !== this.parent.path) {\n      if (!this.isRightClick && this.isSameNodeClicked) {\n        read(this.parent, this.isPathDragged ? events.pasteEnd : events.pathChanged, this.parent.path);\n        this.isNodeClickCalled = true;\n      }\n      this.parent.visitedItem = args.node;\n    }\n    this.isPathDragged = this.isRenameParent = this.isRightClick = this.isSameNodeClicked = false;\n  };\n  /* istanbul ignore next */\n  NavigationPane.prototype.onPathDrag = function (args) {\n    this.isPathDragged = true;\n    this.selectResultNode(args[0]);\n  };\n  /* istanbul ignore next */\n  NavigationPane.prototype.onNodeExpand = function (args) {\n    if (!args.isInteracted && !this.isDrag) {\n      return;\n    }\n    if (args.node.querySelector('.' + CLS.LIST_ITEM) === null) {\n      this.isNodeExpandCalled = true;\n      var text = getValue('text', args.nodeData);\n      var id = args.node.getAttribute('data-id');\n      var isId = isNOU(id) ? false : true;\n      var newText = isNOU(id) ? text : id;\n      var path = getPath(args.node, newText, isId);\n      this.expandNodeTarget = args.node.getAttribute('data-uid');\n      this.parent.expandedId = this.expandNodeTarget;\n      this.parent.itemData = this.getTreeData(getValue('id', args.nodeData));\n      this.parent.pathId.push(getValue('id', args.nodeData));\n      read(this.parent, events.nodeExpand, path);\n    }\n  };\n  /* istanbul ignore next */\n  NavigationPane.prototype.onNodeExpanded = function (args) {\n    this.addChild(args.files, this.expandNodeTarget, false);\n    this.parent.expandedId = null;\n    this.isNodeExpandCalled = false;\n  };\n  NavigationPane.prototype.onNodeClicked = function (args) {\n    this.parent.activeModule = 'navigationpane';\n    this.previousSelected = this.treeObj.selectedNodes;\n    this.activeNode = args.node;\n    if (args.event.which === 3 && args.node.getAttribute('data-uid') !== this.treeObj.selectedNodes[0]) {\n      this.isRightClick = true;\n      this.isNodeClickCalled = true;\n      this.treeObj.setProperties({\n        selectedNodes: [args.node.getAttribute('data-uid')]\n      });\n    } else if (args.node.getAttribute('data-uid') === this.treeObj.selectedNodes[0] && this.parent.selectedItems.length !== 0) {\n      this.parent.setProperties({\n        selectedItems: []\n      }, true);\n      var layout = this.parent.view === 'LargeIcons' ? 'largeiconsview' : 'detailsview';\n      this.parent.notify(events.modelChanged, {\n        module: layout,\n        newProp: {\n          selectedItems: []\n        }\n      });\n    } else if (args.node.getAttribute('data-uid') === this.treeObj.selectedNodes[0] && !this.isNodeClickCalled && !this.isNodeExpandCalled) {\n      if (args.event.which === 3) {\n        this.isRightClick = true;\n      }\n      this.isSameNodeClicked = true;\n      this.isNodeClickCalled = true;\n      this.treeObj.setProperties({\n        selectedNodes: [args.node.getAttribute('data-uid')]\n      });\n    }\n  };\n  /* istanbul ignore next */\n  NavigationPane.prototype.onNodeEditing = function (args) {\n    if (!isNOU(args.innerHtml)) {\n      args.cancel = true;\n    }\n  };\n  NavigationPane.prototype.onPathChanged = function (args) {\n    this.parent.isCut = false;\n    var currFiles = getValue(this.parent.pathId[this.parent.pathId.length - 1], this.parent.feFiles);\n    if (this.expandNodeTarget === 'add') {\n      var sNode = select('[data-uid=\"' + this.treeObj.selectedNodes[0] + '\"]', this.treeObj.element);\n      var ul = !isNOU(sNode) ? select('.' + CLS.LIST_PARENT, sNode) : null;\n      if (isNOU(ul)) {\n        this.addChild(args.files, this.treeObj.selectedNodes[0], !this.expandTree);\n      }\n      this.expandNodeTarget = '';\n    }\n    this.expandTree = false;\n    if (isNOU(currFiles)) {\n      setValue(this.parent.pathId[this.parent.pathId.length - 1], args.files, this.parent.feFiles);\n    }\n    if (this.parent.uploadObj.directoryUpload && !this.parent.hasId) {\n      this.updateTree(args);\n    }\n  };\n  NavigationPane.prototype.updateTree = function (args) {\n    if (this.treeObj) {\n      var id = this.treeObj.selectedNodes[0];\n      this.updateTreeNode(args, id);\n    }\n  };\n  NavigationPane.prototype.updateTreeNode = function (args, id) {\n    var toExpand = this.treeObj.expandedNodes.indexOf(id) === -1 ? false : true;\n    this.removeChildNodes(id);\n    this.addChild(args.files, id, !toExpand);\n  };\n  NavigationPane.prototype.removeChildNodes = function (id) {\n    var sNode = select('[data-uid=\"' + id + '\"]', this.treeObj.element);\n    var parent = select('.' + CLS.LIST_PARENT, sNode);\n    var childs = parent ? Array.prototype.slice.call(parent.children) : null;\n    if (childs) {\n      this.treeObj.removeNodes(childs);\n    }\n  };\n  NavigationPane.prototype.onOpenEnd = function (args) {\n    var sleId = this.parent.pathId[this.parent.pathId.length - 1];\n    this.treeObj.expandAll(this.treeObj.selectedNodes);\n    this.treeObj.setProperties({\n      selectedNodes: [sleId]\n    });\n    this.expandNodeTarget = 'add';\n    this.onPathChanged(args);\n  };\n  NavigationPane.prototype.onOpenInit = function (args) {\n    if (this.parent.activeModule === 'navigationpane') {\n      if (args.target.querySelector('.' + CLS.ICONS)) {\n        this.treeObj.expandAll(this.treeObj.selectedNodes);\n      }\n    }\n  };\n  NavigationPane.prototype.onInitialEnd = function (args) {\n    this.onInit();\n    this.addChild(args.files, getValue('_fm_id', args.cwd), false);\n  };\n  NavigationPane.prototype.onFinalizeEnd = function (args) {\n    this.onInit();\n    var id = getValue('_fm_id', args.cwd);\n    this.addChild(args.files, id, false);\n    this.treeObj.setProperties({\n      selectedNodes: [this.parent.pathId[this.parent.pathId.length - 1]]\n    });\n  };\n  NavigationPane.prototype.onCreateEnd = function (args) {\n    this.updateTree(args);\n  };\n  NavigationPane.prototype.onSelectedData = function () {\n    if (this.parent.activeModule === 'navigationpane') {\n      this.updateItemData();\n    }\n  };\n  NavigationPane.prototype.onDeleteInit = function () {\n    if (this.parent.activeModule === 'navigationpane') {\n      this.updateActionData();\n      var name_1 = getValue('name', this.parent.itemData[0]);\n      Delete(this.parent, [name_1], this.parent.path, 'delete');\n    }\n  };\n  /* istanbul ignore next */\n  NavigationPane.prototype.onDeleteEnd = function (args) {\n    if (this.parent.activeModule === 'navigationpane') {\n      var selectedNode = this.treeObj.selectedNodes[0];\n      var selcetedEle = select('[data-uid=\"' + selectedNode + '\"]', this.treeObj.element);\n      var selectedNodeEle = closest(selcetedEle, '.' + CLS.LIST_PARENT).parentElement;\n      this.treeObj.selectedNodes = [selectedNodeEle.getAttribute('data-uid')];\n      this.treeObj.dataBind();\n    }\n    this.updateTree(args);\n  };\n  NavigationPane.prototype.onRefreshEnd = function (args) {\n    this.updateTree(args);\n  };\n  NavigationPane.prototype.onRenameInit = function () {\n    if (this.parent.activeModule === 'navigationpane') {\n      this.updateRenameData();\n    }\n  };\n  /* istanbul ignore next */\n  NavigationPane.prototype.onRenameEndParent = function (args) {\n    var id = this.renameParent ? this.renameParent : this.parent.pathId[this.parent.pathId.length - 1];\n    this.expandTree = this.treeObj.expandedNodes.indexOf(this.treeObj.selectedNodes[0]) !== -1;\n    this.updateTreeNode(args, id);\n    this.parent.expandedId = null;\n    if (this.renameParent) {\n      this.renameParent = null;\n    } else {\n      var resultData = [];\n      if (this.parent.hasId) {\n        resultData = new DataManager(this.treeObj.getTreeData()).executeLocal(new Query().where('id', 'equal', this.parent.renamedId, false));\n      } else {\n        var nData = new DataManager(this.treeObj.getTreeData()).executeLocal(new Query().where(this.treeObj.fields.text, 'equal', this.parent.renameText, false));\n        if (nData.length > 0) {\n          resultData = new DataManager(nData).executeLocal(new Query().where('_fm_pId', 'equal', id, false));\n        }\n      }\n      if (resultData.length > 0) {\n        var id_1 = this.previousSelected.length > 0 && this.treeObj.getTreeData(this.previousSelected[0]).length !== 0 ? this.previousSelected[0] : getValue(this.treeObj.fields.id, resultData[0]);\n        this.treeObj.selectedNodes = [id_1];\n        this.treeObj.dataBind();\n        this.updateItemData();\n      }\n    }\n  };\n  /* istanbul ignore next */\n  NavigationPane.prototype.onRenameEnd = function (args) {\n    if (this.parent.breadcrumbbarModule.searchObj.element.value === '' && !this.parent.isFiltered) {\n      this.updateTree(args);\n    } else {\n      var data = this.treeObj.getTreeData();\n      var resultData = [];\n      if (this.parent.hasId) {\n        resultData = new DataManager(data).executeLocal(new Query().where('id', 'equal', this.parent.renamedId, false));\n      } else {\n        var nData = new DataManager(data).executeLocal(new Query().where(this.treeObj.fields.text, 'equal', this.parent.currentItemText, false));\n        if (nData.length > 0) {\n          resultData = new DataManager(nData).executeLocal(new Query().where('filterPath', 'equal', this.parent.filterPath, false));\n        }\n      }\n      if (resultData.length > 0) {\n        this.renameParent = getValue(this.treeObj.fields.parentID, resultData[0]);\n        this.parent.expandedId = this.renameParent;\n        this.parent.itemData = this.getTreeData(this.renameParent);\n        read(this.parent, events.renameEndParent, this.parent.filterPath.replace(/\\\\/g, '/'));\n      }\n    }\n  };\n  NavigationPane.prototype.onPropertyChanged = function (e) {\n    if (e.module !== this.getModuleName() && e.module !== 'common') {\n      /* istanbul ignore next */\n      return;\n    }\n    for (var _i = 0, _a = Object.keys(e.newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n      switch (prop) {\n        case 'allowDragAndDrop':\n          this.addDragDrop();\n          break;\n        case 'navigationPaneSettings':\n          read(this.parent, events.finalizeEnd, this.parent.path);\n          if (e.oldProp.navigationPaneSettings.sortOrder !== e.newProp.navigationPaneSettings.sortOrder) {\n            this.treeObj.sortOrder = e.newProp.navigationPaneSettings.sortOrder;\n          }\n          break;\n      }\n    }\n  };\n  /* istanbul ignore next */\n  NavigationPane.prototype.onDownLoadInit = function () {\n    this.doDownload();\n  };\n  NavigationPane.prototype.onSelectionChanged = function (e) {\n    this.treeObj.setProperties({\n      selectedNodes: [e.selectedNode]\n    });\n  };\n  NavigationPane.prototype.onClearPathInit = function (e) {\n    this.removeChildNodes(e.selectedNode);\n  };\n  NavigationPane.prototype.onDragEnd = function (args) {\n    var moveNames = [];\n    if (this.parent.isPasteError || this.parent.isSearchDrag) {\n      moveNames = this.getMoveNames(args.files, this.parent.isSearchDrag, this.parent.dragPath);\n    } else {\n      moveNames = this.moveNames;\n    }\n    this.treeObj.removeNodes(moveNames);\n  };\n  NavigationPane.prototype.getMoveNames = function (files, flag, path) {\n    var moveNames = [];\n    for (var i = 0; i < files.length; i++) {\n      if (!files[i].isFile) {\n        if (!this.parent.hasId) {\n          var name_2 = files[i].previousName;\n          if (flag) {\n            path = path + files[i].previousName;\n            var index = path.lastIndexOf('/');\n            name_2 = path.substring(index + 1);\n            path = path.substring(0, index + 1);\n          }\n          var resultData = new DataManager(this.treeObj.getTreeData()).executeLocal(new Query().where(this.treeObj.fields.text, 'equal', name_2, false));\n          for (var j = 0; j < resultData.length; j++) {\n            var fPath = getValue('filterPath', resultData[j]);\n            fPath = fPath.replace(/\\\\/g, '/');\n            if (fPath === path) {\n              moveNames.push(getValue(this.treeObj.fields.id, resultData[j]));\n              break;\n            }\n          }\n        }\n      }\n    }\n    return moveNames;\n  };\n  NavigationPane.prototype.onCutEnd = function (args) {\n    var moveNames = [];\n    if (this.parent.isPasteError || this.parent.isSearchCut) {\n      this.moveNames = this.getMoveNames(args.files, this.parent.isSearchCut, this.parent.targetPath);\n    } else {\n      moveNames = this.moveNames;\n    }\n    this.treeObj.removeNodes(moveNames);\n  };\n  /* istanbul ignore next */\n  NavigationPane.prototype.selectResultNode = function (resultObj) {\n    if (!this.parent.hasId) {\n      var path = getValue('filterPath', resultObj);\n      var itemname = getValue('name', resultObj);\n      var data = new DataManager(this.treeObj.getTreeData()).executeLocal(new Query().where(this.treeObj.fields.text, 'equal', itemname, false));\n      if (data.length > 0) {\n        var resultData = new DataManager(data).executeLocal(new Query().where('filterPath', 'equal', path, false));\n        if (resultData.length > 0) {\n          var id = getValue(this.treeObj.fields.id, resultData[0]);\n          this.treeObj.selectedNodes = [id];\n          this.treeObj.dataBind();\n        }\n      }\n    } else {\n      var selectedNode = this.treeObj.getTreeData().filter(function (obj) {\n        return obj.name === resultObj.name;\n      })[0];\n      this.treeObj.selectedNodes = [getValue('_fm_id', selectedNode)];\n      this.treeObj.dataBind();\n    }\n  };\n  NavigationPane.prototype.onDropPath = function (args) {\n    this.onpasteEnd(args);\n    this.selectResultNode(this.parent.dropData);\n    this.parent.isDropEnd = !this.parent.isPasteError;\n  };\n  NavigationPane.prototype.onpasteEnd = function (args) {\n    var resultData = [];\n    if (this.parent.hasId) {\n      resultData = new DataManager(this.treeObj.getTreeData()).executeLocal(new Query().where('id', 'equal', getValue('id', args.cwd), false));\n    } else {\n      var nData = new DataManager(this.treeObj.getTreeData()).executeLocal(new Query().where(this.treeObj.fields.text, 'equal', getValue('name', args.cwd), false));\n      if (nData.length > 0) {\n        resultData = new DataManager(nData).executeLocal(new Query().where('filterPath', 'equal', getValue('filterPath', args.cwd), false));\n      }\n    }\n    if (resultData.length > 0) {\n      var id = getValue(this.treeObj.fields.id, resultData[0]);\n      var toExpand = this.treeObj.expandedNodes.indexOf(id) === -1;\n      this.removeChildNodes(id);\n      this.addChild(args.files, id, toExpand);\n    }\n    this.parent.expandedId = null;\n    this.onPathChanged(args);\n    if (this.parent.isDragDrop) {\n      this.checkDropPath(args);\n    }\n  };\n  /* istanbul ignore next */\n  NavigationPane.prototype.checkDropPath = function (args) {\n    if (isFileSystemData(this.parent) && (this.parent.path === this.parent.dropPath || this.parent.targetModule === 'navigationpane')) {\n      return;\n    }\n    if (this.parent.hasId) {\n      this.parent.isDropEnd = !this.parent.isPasteError;\n      readDropPath(this.parent);\n      return;\n    }\n    if (this.parent.dropPath.indexOf(getDirectoryPath(this.parent, args)) === -1) {\n      this.parent.isDropEnd = false;\n      readDropPath(this.parent);\n    } else {\n      this.parent.isDropEnd = !this.parent.isPasteError;\n    }\n  };\n  NavigationPane.prototype.onpasteInit = function () {\n    if (this.parent.activeModule === this.getModuleName()) {\n      this.updateItemData();\n    }\n    this.moveNames = [];\n    var obj = this.parent.isDragDrop || isFileSystemData(this.parent) ? this.parent.dragData : this.parent.actionRecords;\n    for (var i = 0; i < obj.length; i++) {\n      if (getValue('isFile', obj[i]) === false) {\n        this.moveNames.push(getValue('_fm_id', obj[i]));\n      }\n    }\n  };\n  NavigationPane.prototype.oncutCopyInit = function () {\n    if (this.parent.activeModule === this.getModuleName()) {\n      this.parent.activeRecords = this.getTreeData(this.treeObj.selectedNodes[0]);\n      this.parent.activeElements = [this.activeNode];\n    }\n  };\n  NavigationPane.prototype.addEventListener = function () {\n    this.parent.on(events.modelChanged, this.onPropertyChanged, this);\n    this.parent.on(events.downloadInit, this.onDownLoadInit, this);\n    this.parent.on(events.initialEnd, this.onInitialEnd, this);\n    this.parent.on(events.finalizeEnd, this.onFinalizeEnd, this);\n    this.parent.on(events.pathChanged, this.onPathChanged, this);\n    this.parent.on(events.pasteEnd, this.onpasteEnd, this);\n    this.parent.on(events.cutEnd, this.onCutEnd, this);\n    this.parent.on(events.pasteInit, this.onpasteInit, this);\n    this.parent.on(events.nodeExpand, this.onNodeExpanded, this);\n    this.parent.on(events.createEnd, this.onCreateEnd, this);\n    this.parent.on(events.selectedData, this.onSelectedData, this);\n    this.parent.on(events.deleteInit, this.onDeleteInit, this);\n    this.parent.on(events.deleteEnd, this.onDeleteEnd, this);\n    this.parent.on(events.refreshEnd, this.onRefreshEnd, this);\n    this.parent.on(events.updateTreeSelection, this.onSelectionChanged, this);\n    this.parent.on(events.openInit, this.onOpenInit, this);\n    this.parent.on(events.openEnd, this.onOpenEnd, this);\n    this.parent.on(events.destroy, this.destroy, this);\n    this.parent.on(events.renameInit, this.onRenameInit, this);\n    this.parent.on(events.renameEnd, this.onRenameEnd, this);\n    this.parent.on(events.renameEndParent, this.onRenameEndParent, this);\n    this.parent.on(events.clearPathInit, this.onClearPathInit, this);\n    this.parent.on(events.cutCopyInit, this.oncutCopyInit, this);\n    this.parent.on(events.dropInit, this.onDropInit, this);\n    this.parent.on(events.menuItemData, this.onMenuItemData, this);\n    this.parent.on(events.dragEnd, this.onDragEnd, this);\n    this.parent.on(events.dragging, this.onDragging, this);\n    this.parent.on(events.dropPath, this.onDropPath, this);\n    this.parent.on(events.detailsInit, this.onDetailsInit, this);\n    this.parent.on(events.pathDrag, this.onPathDrag, this);\n  };\n  NavigationPane.prototype.removeEventListener = function () {\n    this.parent.off(events.initialEnd, this.onInitialEnd);\n    this.parent.off(events.downloadInit, this.onDownLoadInit);\n    this.parent.off(events.finalizeEnd, this.onFinalizeEnd);\n    this.parent.off(events.selectedData, this.onSelectedData);\n    this.parent.off(events.modelChanged, this.onPropertyChanged);\n    this.parent.off(events.pathChanged, this.onPathChanged);\n    this.parent.off(events.pasteEnd, this.onpasteEnd);\n    this.parent.off(events.cutEnd, this.onCutEnd);\n    this.parent.off(events.pasteInit, this.onpasteInit);\n    this.parent.off(events.updateTreeSelection, this.onSelectionChanged);\n    this.parent.off(events.nodeExpand, this.onNodeExpanded);\n    this.parent.off(events.createEnd, this.onCreateEnd);\n    this.parent.off(events.refreshEnd, this.onRefreshEnd);\n    this.parent.off(events.openInit, this.onOpenInit);\n    this.parent.off(events.openEnd, this.onOpenEnd);\n    this.parent.off(events.destroy, this.destroy);\n    this.parent.off(events.renameInit, this.onRenameInit);\n    this.parent.off(events.renameEnd, this.onRenameEnd);\n    this.parent.off(events.renameEndParent, this.onRenameEndParent);\n    this.parent.off(events.clearPathInit, this.onClearPathInit);\n    this.parent.off(events.deleteInit, this.onDeleteInit);\n    this.parent.off(events.deleteEnd, this.onDeleteEnd);\n    this.parent.off(events.cutCopyInit, this.oncutCopyInit);\n    this.parent.off(events.dropInit, this.onDropInit);\n    this.parent.off(events.dragEnd, this.onDragEnd);\n    this.parent.off(events.dragging, this.onDragging);\n    this.parent.off(events.dropPath, this.onDropPath);\n    this.parent.off(events.detailsInit, this.onDetailsInit);\n    this.parent.off(events.menuItemData, this.onMenuItemData);\n    this.parent.off(events.pathDrag, this.onPathDrag);\n  };\n  /* istanbul ignore next */\n  NavigationPane.prototype.onDetailsInit = function () {\n    if (this.parent.activeModule === this.getModuleName()) {\n      var dataobj = this.getTreeData(this.treeObj.selectedNodes[0]);\n      this.parent.itemData = dataobj;\n    }\n  };\n  NavigationPane.prototype.onMenuItemData = function (args) {\n    if (this.parent.activeModule === this.getModuleName()) {\n      var liEle = closest(args.target, 'li');\n      this.parent.itemData = this.getTreeData(liEle.getAttribute('data-uid'));\n    }\n  };\n  /* istanbul ignore next */\n  NavigationPane.prototype.onDragging = function (args) {\n    var ele = closest(args.target, 'li');\n    if (ele.classList.contains('e-node-collapsed')) {\n      this.isDrag = true;\n      var level = parseInt(ele.getAttribute('aria-level'), 10);\n      this.treeObj.expandAll([ele.getAttribute('data-uid')], level + 1);\n      this.isDrag = false;\n    }\n  };\n  NavigationPane.prototype.onDropInit = function (args) {\n    if (this.parent.targetModule === this.getModuleName()) {\n      var dropLi = closest(args.target, 'li');\n      this.parent.dropData = this.getTreeData(dropLi)[0];\n      this.parent.dropPath = this.getDropPath(dropLi, getValue('name', this.parent.dropData));\n    }\n  };\n  /**\n   * For internal use only - Get the module name.\n   *\n   * @returns {string} - returns the module name.\n   * @private\n   */\n  NavigationPane.prototype.getModuleName = function () {\n    return 'navigationpane';\n  };\n  NavigationPane.prototype.destroy = function () {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n    this.removeEventListener();\n    if (this.treeObj) {\n      this.unWireEvents();\n      this.treeObj.destroy();\n    }\n  };\n  NavigationPane.prototype.wireEvents = function () {\n    this.keyboardModule = new KeyboardEvents(this.treeObj.element, {\n      keyAction: this.keyDown.bind(this),\n      keyConfigs: this.keyConfigs,\n      eventName: 'keydown'\n    });\n  };\n  NavigationPane.prototype.unWireEvents = function () {\n    this.keyboardModule.destroy();\n  };\n  /* istanbul ignore next */\n  NavigationPane.prototype.keyDown = function (e) {\n    var action = e.action;\n    switch (action) {\n      case 'altEnter':\n        this.parent.notify(events.detailsInit, {});\n        GetDetails(this.parent, [], this.parent.path, 'details');\n        break;\n      case 'esc':\n        removeActive(this.parent);\n        break;\n      case 'del':\n        if (this.parent.pathId[0] !== this.activeNode.getAttribute('data-uid')) {\n          this.updateItemData();\n          if (!hasEditAccess(this.parent.itemData[0])) {\n            createDeniedDialog(this.parent, this.parent.itemData[0], events.permissionEdit);\n          } else {\n            this.removeNodes = [];\n            createDialog(this.parent, 'Delete');\n          }\n        }\n        break;\n      case 'ctrlC':\n        copyFiles(this.parent);\n        break;\n      case 'ctrlV':\n        this.parent.folderPath = '';\n        pasteHandler(this.parent);\n        break;\n      case 'ctrlX':\n        cutFiles(this.parent);\n        break;\n      case 'shiftF10':\n        this.updateItemData();\n        if (!hasDownloadAccess(this.parent.itemData[0])) {\n          createDeniedDialog(this.parent, this.parent.itemData[0], events.permissionDownload);\n          return;\n        }\n        if (this.parent.selectedItems.length !== 0) {\n          this.doDownload();\n        }\n        break;\n      case 'f2':\n        if (this.parent.selectedItems.length === 0) {\n          var data = this.getTreeData(this.treeObj.selectedNodes[0])[0];\n          if (!hasEditAccess(data)) {\n            createDeniedDialog(this.parent, data, events.permissionEdit);\n          } else {\n            this.updateRenameData();\n            createDialog(this.parent, 'Rename');\n          }\n        }\n        break;\n    }\n  };\n  NavigationPane.prototype.getTreeData = function (args) {\n    var data = this.treeObj.getTreeData(args);\n    for (var i = 0; i < data.length; i++) {\n      if (isNOU(getValue('hasChild', data[i]))) {\n        setValue('hasChild', false, data[i]);\n      }\n    }\n    return data;\n  };\n  NavigationPane.prototype.updateRenameData = function () {\n    this.updateItemData();\n    this.parent.currentItemText = getValue('name', this.parent.itemData[0]);\n  };\n  NavigationPane.prototype.updateItemData = function () {\n    var data = this.getTreeData(this.treeObj.selectedNodes[0])[0];\n    this.parent.itemData = [data];\n    this.parent.isFile = false;\n  };\n  NavigationPane.prototype.updateActionData = function () {\n    this.updateItemData();\n    var node = select('[data-uid=\"' + this.parent.pathId[this.parent.pathId.length - 1] + '\"]', this.treeObj.element);\n    updatePath(node, this.parent.itemData[0], this.parent);\n    var newPath = getParentPath(this.parent.path);\n    this.parent.setProperties({\n      path: newPath\n    }, true);\n    this.parent.pathId.pop();\n    this.parent.pathNames.pop();\n  };\n  /* istanbul ignore next */\n  NavigationPane.prototype.doDownload = function () {\n    var newPath = getParentPath(this.parent.path);\n    var itemId = this.treeObj.selectedNodes[0];\n    var name = itemId === this.parent.pathId[0] ? '' : getValue('name', this.parent.itemData[0]);\n    Download(this.parent, newPath, [name]);\n  };\n  return NavigationPane;\n}();\nexport { NavigationPane };","map":{"version":3,"names":["TreeView","BaseTreeView","isNullOrUndefined","isNOU","select","setValue","getValue","Draggable","KeyboardEvents","closest","DataManager","Query","events","CLS","read","Download","GetDetails","Delete","isFileSystemData","createDialog","updatePath","getPath","getDirectories","createVirtualDragElement","dragStopHandler","dragStartHandler","draggingHandler","getDirectoryPath","getModule","getPathId","copyFiles","cutFiles","removeActive","pasteHandler","getParentPath","readDropPath","hasEditAccess","createDeniedDialog","hasDownloadAccess","getAccessClass","NavigationPane","parent","removeNodes","moveNames","previousSelected","expandTree","isDrag","isPathDragged","isRenameParent","isRightClick","isSameNodeClicked","isNodeExpandCalled","renameParent","isNodeClickCalled","restrictSelecting","addEventListener","keyConfigs","altEnter","esc","del","ctrlX","isMac","ctrlC","ctrlV","ctrlShiftN","shiftF10","f2","prototype","onInit","treeObj","rootData","pathId","feParent","attr","id","fields","dataSource","parentID","expanded","selected","text","hasChildren","iconCss","htmlAttributes","tooltip","enableHtmlSanitizer","sortOrder","navigationPaneSettings","nodeSelecting","onNodeSelecting","bind","nodeSelected","onNodeSelected","nodeExpanding","onNodeExpand","nodeClicked","onNodeClicked","allowEditing","nodeEditing","onNodeEditing","drawNode","onDrowNode","enableRtl","dataBound","addDragDrop","isStringTemplate","appendTo","element","TREE_ID","wireEvents","_this","isMobile","allowDragAndDrop","dragObj","cursorAt","dragCursorPosition","dragTarget","FULLROW","distance","dragArea","drag","dragStart","args","dragStop","enableTailMode","enableAutoScroll","helper","dragHelper","destroy","sender","target","classList","contains","dragLi","dragPath","dragData","activeElements","dragNodes","getTreeData","getDragPath","name","push","virtualDragElement","path","getDropPath","node","getAttribute","newText","hasId","eventArgs","fileDetails","nodeData","module","trigger","addChild","files","prevent","directories","targetDirectory","length","filterPath","length_1","folders","parseInt","toString","_fm_icon","childElements","addNodes","isInteracted","activeModule","selecEventArgs","action","cancel","selectedNodes","setProperties","openFileOnContextMenuClick","data","selectedItems","itemData","activeNode","pasteEnd","pathChanged","visitedItem","breadcrumbbarModule","searchObj","value","isFiltered","searchedItems","previousPath","querySelector","ICONS","LIST_ITEM","expandNodeTarget","onPathDrag","selectResultNode","isId","expandedId","nodeExpand","onNodeExpanded","event","which","layout","view","notify","modelChanged","newProp","innerHtml","onPathChanged","isCut","currFiles","feFiles","sNode","ul","LIST_PARENT","uploadObj","directoryUpload","updateTree","updateTreeNode","toExpand","expandedNodes","indexOf","removeChildNodes","childs","Array","slice","call","children","onOpenEnd","sleId","expandAll","onOpenInit","onInitialEnd","cwd","onFinalizeEnd","onCreateEnd","onSelectedData","updateItemData","onDeleteInit","updateActionData","name_1","onDeleteEnd","selectedNode","selcetedEle","selectedNodeEle","parentElement","dataBind","onRefreshEnd","onRenameInit","updateRenameData","onRenameEndParent","resultData","executeLocal","where","renamedId","nData","renameText","id_1","onRenameEnd","currentItemText","renameEndParent","replace","onPropertyChanged","e","getModuleName","_i","_a","Object","keys","prop","finalizeEnd","oldProp","onDownLoadInit","doDownload","onSelectionChanged","onClearPathInit","onDragEnd","isPasteError","isSearchDrag","getMoveNames","flag","i","isFile","name_2","previousName","index","lastIndexOf","substring","j","fPath","onCutEnd","isSearchCut","targetPath","resultObj","itemname","filter","obj","onDropPath","onpasteEnd","dropData","isDropEnd","isDragDrop","checkDropPath","dropPath","targetModule","onpasteInit","actionRecords","oncutCopyInit","activeRecords","on","downloadInit","initialEnd","cutEnd","pasteInit","createEnd","selectedData","deleteInit","deleteEnd","refreshEnd","updateTreeSelection","openInit","openEnd","renameInit","renameEnd","clearPathInit","cutCopyInit","dropInit","onDropInit","menuItemData","onMenuItemData","dragEnd","dragging","onDragging","detailsInit","onDetailsInit","pathDrag","removeEventListener","off","dataobj","liEle","ele","level","dropLi","isDestroyed","unWireEvents","keyboardModule","keyAction","keyDown","eventName","permissionEdit","folderPath","permissionDownload","newPath","pop","pathNames","itemId"],"sources":["/var/www/vue/vue-gantt-chart/node_modules/@syncfusion/ej2-filemanager/src/file-manager/layout/navigation-pane.js"],"sourcesContent":["import { TreeView as BaseTreeView } from '@syncfusion/ej2-navigations';\nimport { isNullOrUndefined as isNOU, select, setValue, getValue, Draggable } from '@syncfusion/ej2-base';\nimport { KeyboardEvents, closest } from '@syncfusion/ej2-base';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\nimport * as events from '../base/constant';\nimport * as CLS from '../base/classes';\nimport { read, Download, GetDetails, Delete, isFileSystemData } from '../common/operations';\nimport { createDialog } from '../pop-up/dialog';\nimport { updatePath, getPath, getDirectories } from '../common/utility';\nimport { createVirtualDragElement, dragStopHandler, dragStartHandler, draggingHandler, getDirectoryPath, getModule, getPathId } from '../common/index';\nimport { copyFiles, cutFiles, removeActive, pasteHandler, getParentPath, readDropPath } from '../common/index';\nimport { hasEditAccess, createDeniedDialog, hasDownloadAccess, getAccessClass } from '../common/index';\n/**\n * NavigationPane module\n */\nvar NavigationPane = /** @class */ (function () {\n    /**\n     * Constructor for the TreeView module\n     *\n     * @param {IFileManager} parent - specifies the parent element.\n     * @hidden\n     */\n    /* istanbul ignore next */\n    function NavigationPane(parent) {\n        this.removeNodes = [];\n        this.moveNames = [];\n        // Specifies the previously selected nodes in the treeview control.\n        this.previousSelected = [];\n        this.expandTree = false;\n        this.isDrag = false;\n        this.isPathDragged = false;\n        this.isRenameParent = false;\n        this.isRightClick = false;\n        this.isSameNodeClicked = false;\n        this.isNodeExpandCalled = false;\n        this.renameParent = null;\n        // Specifies whether the nodeClicked event of the treeview control is triggered or not.\n        this.isNodeClickCalled = false;\n        // Specifies whether to restrict node selection in the treeview control.\n        this.restrictSelecting = false;\n        this.parent = parent;\n        this.addEventListener();\n        this.keyConfigs = {\n            altEnter: 'alt+enter',\n            esc: 'escape',\n            del: 'delete',\n            ctrlX: this.parent.isMac ? 'cmd+x' : 'ctrl+x',\n            ctrlC: this.parent.isMac ? 'cmd+c' : 'ctrl+c',\n            ctrlV: this.parent.isMac ? 'cmd+v' : 'ctrl+v',\n            ctrlShiftN: 'ctrl+shift+n',\n            shiftF10: 'shift+F10',\n            f2: 'f2'\n        };\n    }\n    NavigationPane.prototype.onInit = function () {\n        if (!isNOU(this.treeObj)) {\n            return;\n        }\n        var rootData = getValue(this.parent.pathId[0], this.parent.feParent);\n        setValue('_fm_icon', 'e-fe-folder', rootData);\n        var attr = {};\n        var id = getValue('id', rootData);\n        if (!isNOU(id)) {\n            setValue('data-id', id, attr);\n        }\n        if (!hasEditAccess(rootData)) {\n            setValue('class', getAccessClass(rootData), attr);\n        }\n        if (!isNOU(attr)) {\n            setValue('_fm_htmlAttr', attr, rootData);\n        }\n        this.treeObj = new BaseTreeView({\n            fields: {\n                dataSource: [rootData], id: '_fm_id', parentID: '_fm_pId', expanded: '_fm_expanded', selected: '_fm_selected', text: 'name',\n                hasChildren: 'hasChild', iconCss: '_fm_icon', htmlAttributes: '_fm_htmlAttr', tooltip: 'name'\n            },\n            enableHtmlSanitizer: this.parent.enableHtmlSanitizer,\n            sortOrder: this.parent.navigationPaneSettings.sortOrder,\n            nodeSelecting: this.onNodeSelecting.bind(this),\n            nodeSelected: this.onNodeSelected.bind(this),\n            nodeExpanding: this.onNodeExpand.bind(this),\n            nodeClicked: this.onNodeClicked.bind(this),\n            allowEditing: true,\n            nodeEditing: this.onNodeEditing.bind(this),\n            drawNode: this.onDrowNode.bind(this),\n            enableRtl: this.parent.enableRtl,\n            dataBound: this.addDragDrop.bind(this)\n        });\n        this.treeObj.isStringTemplate = true;\n        this.treeObj.appendTo('#' + this.parent.element.id + CLS.TREE_ID);\n        this.wireEvents();\n    };\n    NavigationPane.prototype.addDragDrop = function () {\n        var _this = this;\n        if (!this.parent.isMobile && this.treeObj) {\n            if (this.parent.allowDragAndDrop && isNOU(this.dragObj)) {\n                this.dragObj = new Draggable(this.treeObj.element, {\n                    cursorAt: this.parent.dragCursorPosition,\n                    dragTarget: '.' + CLS.FULLROW,\n                    distance: 5,\n                    dragArea: this.parent.element,\n                    drag: draggingHandler.bind(this, this.parent),\n                    dragStart: function (args) {\n                        dragStartHandler(_this.parent, args, _this.dragObj);\n                    },\n                    dragStop: dragStopHandler.bind(this, this.parent),\n                    enableTailMode: true,\n                    enableAutoScroll: false,\n                    helper: this.dragHelper.bind(this)\n                });\n            }\n            else if (!this.parent.allowDragAndDrop && this.dragObj) {\n                this.dragObj.destroy();\n                this.dragObj = null;\n            }\n        }\n    };\n    NavigationPane.prototype.dragHelper = function (args) {\n        var dragTarget = args.sender.target;\n        if (!dragTarget.classList.contains(CLS.FULLROW)) {\n            return null;\n        }\n        var dragLi = closest(dragTarget, 'li');\n        this.parent.dragPath = '';\n        this.parent.dragData = [];\n        this.parent.activeElements = [];\n        this.parent.activeElements = [dragLi];\n        this.parent.dragNodes = [];\n        getModule(this.parent, dragLi);\n        this.parent.dragData = this.getTreeData(dragLi);\n        this.parent.dragPath = this.getDragPath(dragLi, this.parent.dragData[0].name);\n        this.parent.dragNodes.push(this.parent.dragData[0].name);\n        createVirtualDragElement(this.parent);\n        return this.parent.virtualDragElement;\n    };\n    NavigationPane.prototype.getDragPath = function (dragLi, text) {\n        var path = this.getDropPath(dragLi, text);\n        return getParentPath(path);\n    };\n    NavigationPane.prototype.getDropPath = function (node, text) {\n        var id = node.getAttribute('data-id');\n        var newText = this.parent.hasId ? id : text;\n        return getPath(node, newText, this.parent.hasId);\n    };\n    NavigationPane.prototype.onDrowNode = function (args) {\n        var eventArgs = {\n            element: args.node,\n            fileDetails: args.nodeData,\n            module: 'NavigationPane'\n        };\n        this.parent.trigger('fileLoad', eventArgs);\n    };\n    NavigationPane.prototype.addChild = function (files, target, prevent) {\n        var directories = getDirectories(files);\n        var targetDirectory = this.getTreeData(target);\n        if (directories.length > 0 && targetDirectory.length > 0 &&\n            (directories[0].filterPath == null ||\n                isNOU(targetDirectory[0])\n                    && targetDirectory[0].filterPath == null\n                || directories[0].filterPath !==\n                    targetDirectory[0].filterPath)) {\n            var length_1 = 0;\n            var folders = directories;\n            while (length_1 < directories.length) {\n                // eslint-disable-next-line camelcase\n                folders[parseInt(length_1.toString(), 10)]._fm_icon = 'e-fe-folder';\n                var attr = {};\n                var id = getValue('id', folders[length_1]);\n                if (!isNOU(id)) {\n                    setValue('data-id', id, attr);\n                }\n                if (!hasEditAccess(folders[length_1])) {\n                    setValue('class', getAccessClass(folders[length_1]), attr);\n                }\n                if (!isNOU(attr)) {\n                    setValue('_fm_htmlAttr', attr, folders[length_1]);\n                }\n                length_1++;\n            }\n            var element = select('[data-uid=\"' + target + '\"]', this.treeObj.element);\n            var childElements = select('ul', element);\n            if (isNOU(childElements)) {\n                this.treeObj.addNodes(directories, target, null, prevent);\n            }\n        }\n    };\n    // Node Selecting event handler\n    NavigationPane.prototype.onNodeSelecting = function (args) {\n        if (!args.isInteracted && !this.isRightClick &&\n            !this.isSameNodeClicked && !this.isPathDragged && !this.isRenameParent || this.restrictSelecting) {\n            this.restrictSelecting = false;\n            this.isNodeClickCalled = false;\n            return;\n        }\n        if (!this.renameParent) {\n            this.parent.activeModule = 'navigationpane';\n            var nodeData = this.getTreeData(getValue('id', args.nodeData));\n            if (args.node.getAttribute('data-uid') !== this.parent.pathId[this.parent.pathId.length - 1] && !this.isRightClick && !this.isNodeClickCalled || this.isSameNodeClicked) {\n                this.isNodeClickCalled = false;\n                if (!this.isSameNodeClicked) {\n                    this.isSameNodeClicked = true;\n                    var selecEventArgs = { action: args.action, fileDetails: nodeData[0], isInteracted: args.isInteracted };\n                    this.parent.trigger('fileSelect', selecEventArgs);\n                }\n                if (!this.isRightClick) {\n                    var eventArgs = { cancel: false, fileDetails: nodeData[0], module: 'NavigationPane' };\n                    this.parent.trigger('fileOpen', eventArgs);\n                    args.cancel = eventArgs.cancel;\n                }\n                if (args.cancel) {\n                    this.restrictSelecting = this.isNodeClickCalled ? this.previousSelected[0] !== args.node.getAttribute('data-uid') : false;\n                    this.isNodeClickCalled = true;\n                    this.isSameNodeClicked = false;\n                    this.previousSelected = this.treeObj.selectedNodes;\n                    this.treeObj.setProperties({ selectedNodes: [args.node.getAttribute('data-uid')] });\n                }\n            }\n            else if (this.previousSelected[0] !== args.node.getAttribute('data-uid')) {\n                var selecEventArgs = { action: args.action, fileDetails: nodeData[0], isInteracted: this.isNodeClickCalled };\n                this.parent.trigger('fileSelect', selecEventArgs);\n            }\n        }\n    };\n    // Opens the folder while clicking open context menu item in the treeview.\n    NavigationPane.prototype.openFileOnContextMenuClick = function (node) {\n        var data = this.treeObj.getTreeData(node);\n        this.parent.selectedItems = [];\n        this.parent.itemData = data;\n        this.activeNode = node;\n        this.parent.activeModule = 'navigationpane';\n        var eventArgs = { cancel: false, fileDetails: data[0], module: 'NavigationPane' };\n        this.parent.trigger('fileOpen', eventArgs);\n        this.isNodeClickCalled = true;\n        if (!eventArgs.cancel) {\n            updatePath(node, this.parent.itemData[0], this.parent);\n            read(this.parent, this.isPathDragged ? events.pasteEnd : events.pathChanged, this.parent.path);\n            this.parent.visitedItem = node;\n            this.isPathDragged = this.isRenameParent = this.isRightClick = false;\n            this.treeObj.setProperties({ selectedNodes: [node.getAttribute('data-uid')] });\n        }\n    };\n    NavigationPane.prototype.onNodeSelected = function (args) {\n        if (this.parent.breadcrumbbarModule && this.parent.breadcrumbbarModule.searchObj && !this.renameParent) {\n            this.parent.breadcrumbbarModule.searchObj.element.value = '';\n            this.parent.isFiltered = false;\n            this.isNodeClickCalled = false;\n        }\n        this.parent.searchedItems = [];\n        if (!args.isInteracted && !this.isRightClick && !this.isSameNodeClicked && !this.isPathDragged && !this.isRenameParent) {\n            this.parent.pathId = getPathId(args.node);\n            return;\n        }\n        this.activeNode = args.node;\n        this.parent.activeModule = 'navigationpane';\n        var nodeData = this.getTreeData(getValue('id', args.nodeData));\n        this.parent.selectedItems = [];\n        this.parent.itemData = nodeData;\n        var previousPath = this.parent.path;\n        if (!this.isRightClick && this.isSameNodeClicked) {\n            updatePath(args.node, this.parent.itemData[0], this.parent);\n        }\n        else {\n            this.parent.pathId = getPathId(args.node);\n            this.parent.visitedItem = args.node;\n        }\n        if (args.node.querySelector('.' + CLS.ICONS) && args.node.querySelector('.' + CLS.LIST_ITEM) === null) {\n            this.expandNodeTarget = 'add';\n        }\n        if (previousPath !== this.parent.path) {\n            if (!this.isRightClick && this.isSameNodeClicked) {\n                read(this.parent, this.isPathDragged ? events.pasteEnd : events.pathChanged, this.parent.path);\n                this.isNodeClickCalled = true;\n            }\n            this.parent.visitedItem = args.node;\n        }\n        this.isPathDragged = this.isRenameParent = this.isRightClick = this.isSameNodeClicked = false;\n    };\n    /* istanbul ignore next */\n    NavigationPane.prototype.onPathDrag = function (args) {\n        this.isPathDragged = true;\n        this.selectResultNode(args[0]);\n    };\n    /* istanbul ignore next */\n    NavigationPane.prototype.onNodeExpand = function (args) {\n        if (!args.isInteracted && !this.isDrag) {\n            return;\n        }\n        if (args.node.querySelector('.' + CLS.LIST_ITEM) === null) {\n            this.isNodeExpandCalled = true;\n            var text = getValue('text', args.nodeData);\n            var id = args.node.getAttribute('data-id');\n            var isId = isNOU(id) ? false : true;\n            var newText = isNOU(id) ? text : id;\n            var path = getPath(args.node, newText, isId);\n            this.expandNodeTarget = args.node.getAttribute('data-uid');\n            this.parent.expandedId = this.expandNodeTarget;\n            this.parent.itemData = this.getTreeData(getValue('id', args.nodeData));\n            this.parent.pathId.push(getValue('id', args.nodeData));\n            read(this.parent, events.nodeExpand, path);\n        }\n    };\n    /* istanbul ignore next */\n    NavigationPane.prototype.onNodeExpanded = function (args) {\n        this.addChild(args.files, this.expandNodeTarget, false);\n        this.parent.expandedId = null;\n        this.isNodeExpandCalled = false;\n    };\n    NavigationPane.prototype.onNodeClicked = function (args) {\n        this.parent.activeModule = 'navigationpane';\n        this.previousSelected = this.treeObj.selectedNodes;\n        this.activeNode = args.node;\n        if ((args.event.which === 3) && (args.node.getAttribute('data-uid') !== this.treeObj.selectedNodes[0])) {\n            this.isRightClick = true;\n            this.isNodeClickCalled = true;\n            this.treeObj.setProperties({ selectedNodes: [args.node.getAttribute('data-uid')] });\n        }\n        else if (args.node.getAttribute('data-uid') === this.treeObj.selectedNodes[0] && this.parent.selectedItems.length !== 0) {\n            this.parent.setProperties({ selectedItems: [] }, true);\n            var layout = (this.parent.view === 'LargeIcons') ? 'largeiconsview' : 'detailsview';\n            this.parent.notify(events.modelChanged, { module: layout, newProp: { selectedItems: [] } });\n        }\n        else if (args.node.getAttribute('data-uid') === this.treeObj.selectedNodes[0] && !this.isNodeClickCalled && !this.isNodeExpandCalled) {\n            if (args.event.which === 3) {\n                this.isRightClick = true;\n            }\n            this.isSameNodeClicked = true;\n            this.isNodeClickCalled = true;\n            this.treeObj.setProperties({ selectedNodes: [args.node.getAttribute('data-uid')] });\n        }\n    };\n    /* istanbul ignore next */\n    NavigationPane.prototype.onNodeEditing = function (args) {\n        if (!isNOU(args.innerHtml)) {\n            args.cancel = true;\n        }\n    };\n    NavigationPane.prototype.onPathChanged = function (args) {\n        this.parent.isCut = false;\n        var currFiles = getValue(this.parent.pathId[this.parent.pathId.length - 1], this.parent.feFiles);\n        if (this.expandNodeTarget === 'add') {\n            var sNode = select('[data-uid=\"' + this.treeObj.selectedNodes[0] + '\"]', this.treeObj.element);\n            var ul = (!isNOU(sNode)) ? select('.' + CLS.LIST_PARENT, sNode) : null;\n            if (isNOU(ul)) {\n                this.addChild(args.files, this.treeObj.selectedNodes[0], !this.expandTree);\n            }\n            this.expandNodeTarget = '';\n        }\n        this.expandTree = false;\n        if (isNOU(currFiles)) {\n            setValue(this.parent.pathId[this.parent.pathId.length - 1], args.files, this.parent.feFiles);\n        }\n        if (this.parent.uploadObj.directoryUpload && !(this.parent.hasId)) {\n            this.updateTree(args);\n        }\n    };\n    NavigationPane.prototype.updateTree = function (args) {\n        if (this.treeObj) {\n            var id = this.treeObj.selectedNodes[0];\n            this.updateTreeNode(args, id);\n        }\n    };\n    NavigationPane.prototype.updateTreeNode = function (args, id) {\n        var toExpand = this.treeObj.expandedNodes.indexOf(id) === -1 ? false : true;\n        this.removeChildNodes(id);\n        this.addChild(args.files, id, !toExpand);\n    };\n    NavigationPane.prototype.removeChildNodes = function (id) {\n        var sNode = select('[data-uid=\"' + id + '\"]', this.treeObj.element);\n        var parent = select('.' + CLS.LIST_PARENT, sNode);\n        var childs = parent ? Array.prototype.slice.call(parent.children) : null;\n        if (childs) {\n            this.treeObj.removeNodes(childs);\n        }\n    };\n    NavigationPane.prototype.onOpenEnd = function (args) {\n        var sleId = this.parent.pathId[this.parent.pathId.length - 1];\n        this.treeObj.expandAll(this.treeObj.selectedNodes);\n        this.treeObj.setProperties({ selectedNodes: [sleId] });\n        this.expandNodeTarget = 'add';\n        this.onPathChanged(args);\n    };\n    NavigationPane.prototype.onOpenInit = function (args) {\n        if (this.parent.activeModule === 'navigationpane') {\n            if (args.target.querySelector('.' + CLS.ICONS)) {\n                this.treeObj.expandAll(this.treeObj.selectedNodes);\n            }\n        }\n    };\n    NavigationPane.prototype.onInitialEnd = function (args) {\n        this.onInit();\n        this.addChild(args.files, getValue('_fm_id', args.cwd), false);\n    };\n    NavigationPane.prototype.onFinalizeEnd = function (args) {\n        this.onInit();\n        var id = getValue('_fm_id', args.cwd);\n        this.addChild(args.files, id, false);\n        this.treeObj.setProperties({ selectedNodes: [this.parent.pathId[this.parent.pathId.length - 1]] });\n    };\n    NavigationPane.prototype.onCreateEnd = function (args) {\n        this.updateTree(args);\n    };\n    NavigationPane.prototype.onSelectedData = function () {\n        if (this.parent.activeModule === 'navigationpane') {\n            this.updateItemData();\n        }\n    };\n    NavigationPane.prototype.onDeleteInit = function () {\n        if (this.parent.activeModule === 'navigationpane') {\n            this.updateActionData();\n            var name_1 = getValue('name', this.parent.itemData[0]);\n            Delete(this.parent, [name_1], this.parent.path, 'delete');\n        }\n    };\n    /* istanbul ignore next */\n    NavigationPane.prototype.onDeleteEnd = function (args) {\n        if (this.parent.activeModule === 'navigationpane') {\n            var selectedNode = this.treeObj.selectedNodes[0];\n            var selcetedEle = select('[data-uid=\"' + selectedNode + '\"]', this.treeObj.element);\n            var selectedNodeEle = closest(selcetedEle, '.' + CLS.LIST_PARENT).parentElement;\n            this.treeObj.selectedNodes = [selectedNodeEle.getAttribute('data-uid')];\n            this.treeObj.dataBind();\n        }\n        this.updateTree(args);\n    };\n    NavigationPane.prototype.onRefreshEnd = function (args) {\n        this.updateTree(args);\n    };\n    NavigationPane.prototype.onRenameInit = function () {\n        if (this.parent.activeModule === 'navigationpane') {\n            this.updateRenameData();\n        }\n    };\n    /* istanbul ignore next */\n    NavigationPane.prototype.onRenameEndParent = function (args) {\n        var id = this.renameParent ? this.renameParent : this.parent.pathId[this.parent.pathId.length - 1];\n        this.expandTree = this.treeObj.expandedNodes.indexOf(this.treeObj.selectedNodes[0]) !== -1;\n        this.updateTreeNode(args, id);\n        this.parent.expandedId = null;\n        if (this.renameParent) {\n            this.renameParent = null;\n        }\n        else {\n            var resultData = [];\n            if (this.parent.hasId) {\n                resultData = new DataManager(this.treeObj.getTreeData()).\n                    executeLocal(new Query().where('id', 'equal', this.parent.renamedId, false));\n            }\n            else {\n                var nData = new DataManager(this.treeObj.getTreeData()).\n                    executeLocal(new Query().where(this.treeObj.fields.text, 'equal', this.parent.renameText, false));\n                if (nData.length > 0) {\n                    resultData = new DataManager(nData).\n                        executeLocal(new Query().where('_fm_pId', 'equal', id, false));\n                }\n            }\n            if (resultData.length > 0) {\n                var id_1 = this.previousSelected.length > 0 && this.treeObj.getTreeData(this.previousSelected[0]).length !== 0\n                    ? this.previousSelected[0] : getValue(this.treeObj.fields.id, resultData[0]);\n                this.treeObj.selectedNodes = [id_1];\n                this.treeObj.dataBind();\n                this.updateItemData();\n            }\n        }\n    };\n    /* istanbul ignore next */\n    NavigationPane.prototype.onRenameEnd = function (args) {\n        if (this.parent.breadcrumbbarModule.searchObj.element.value === '' && !this.parent.isFiltered) {\n            this.updateTree(args);\n        }\n        else {\n            var data = this.treeObj.getTreeData();\n            var resultData = [];\n            if (this.parent.hasId) {\n                resultData = new DataManager(data).\n                    executeLocal(new Query().where('id', 'equal', this.parent.renamedId, false));\n            }\n            else {\n                var nData = new DataManager(data).\n                    executeLocal(new Query().where(this.treeObj.fields.text, 'equal', this.parent.currentItemText, false));\n                if (nData.length > 0) {\n                    resultData = new DataManager(nData).\n                        executeLocal(new Query().where('filterPath', 'equal', this.parent.filterPath, false));\n                }\n            }\n            if (resultData.length > 0) {\n                this.renameParent = getValue(this.treeObj.fields.parentID, resultData[0]);\n                this.parent.expandedId = this.renameParent;\n                this.parent.itemData = this.getTreeData(this.renameParent);\n                read(this.parent, events.renameEndParent, this.parent.filterPath.replace(/\\\\/g, '/'));\n            }\n        }\n    };\n    NavigationPane.prototype.onPropertyChanged = function (e) {\n        if (e.module !== this.getModuleName() && e.module !== 'common') {\n            /* istanbul ignore next */\n            return;\n        }\n        for (var _i = 0, _a = Object.keys(e.newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'allowDragAndDrop':\n                    this.addDragDrop();\n                    break;\n                case 'navigationPaneSettings':\n                    read(this.parent, events.finalizeEnd, this.parent.path);\n                    if (e.oldProp.navigationPaneSettings.sortOrder !== e.newProp.navigationPaneSettings.sortOrder) {\n                        this.treeObj.sortOrder = e.newProp.navigationPaneSettings.sortOrder;\n                    }\n                    break;\n            }\n        }\n    };\n    /* istanbul ignore next */\n    NavigationPane.prototype.onDownLoadInit = function () {\n        this.doDownload();\n    };\n    NavigationPane.prototype.onSelectionChanged = function (e) {\n        this.treeObj.setProperties({ selectedNodes: [e.selectedNode] });\n    };\n    NavigationPane.prototype.onClearPathInit = function (e) {\n        this.removeChildNodes(e.selectedNode);\n    };\n    NavigationPane.prototype.onDragEnd = function (args) {\n        var moveNames = [];\n        if (this.parent.isPasteError || this.parent.isSearchDrag) {\n            moveNames = this.getMoveNames(args.files, this.parent.isSearchDrag, this.parent.dragPath);\n        }\n        else {\n            moveNames = this.moveNames;\n        }\n        this.treeObj.removeNodes(moveNames);\n    };\n    NavigationPane.prototype.getMoveNames = function (files, flag, path) {\n        var moveNames = [];\n        for (var i = 0; i < files.length; i++) {\n            if (!files[i].isFile) {\n                if (!this.parent.hasId) {\n                    var name_2 = (files[i].previousName);\n                    if (flag) {\n                        path = path + files[i].previousName;\n                        var index = path.lastIndexOf('/');\n                        name_2 = path.substring(index + 1);\n                        path = path.substring(0, index + 1);\n                    }\n                    var resultData = new DataManager(this.treeObj.getTreeData()).\n                        executeLocal(new Query().where(this.treeObj.fields.text, 'equal', name_2, false));\n                    for (var j = 0; j < resultData.length; j++) {\n                        var fPath = getValue('filterPath', resultData[j]);\n                        fPath = fPath.replace(/\\\\/g, '/');\n                        if (fPath === path) {\n                            moveNames.push(getValue(this.treeObj.fields.id, resultData[j]));\n                            break;\n                        }\n                    }\n                }\n            }\n        }\n        return moveNames;\n    };\n    NavigationPane.prototype.onCutEnd = function (args) {\n        var moveNames = [];\n        if (this.parent.isPasteError || this.parent.isSearchCut) {\n            this.moveNames = this.getMoveNames(args.files, this.parent.isSearchCut, this.parent.targetPath);\n        }\n        else {\n            moveNames = this.moveNames;\n        }\n        this.treeObj.removeNodes(moveNames);\n    };\n    /* istanbul ignore next */\n    NavigationPane.prototype.selectResultNode = function (resultObj) {\n        if (!this.parent.hasId) {\n            var path = getValue('filterPath', resultObj);\n            var itemname = getValue('name', resultObj);\n            var data = new DataManager(this.treeObj.getTreeData()).\n                executeLocal(new Query().where(this.treeObj.fields.text, 'equal', itemname, false));\n            if (data.length > 0) {\n                var resultData = new DataManager(data).\n                    executeLocal(new Query().where('filterPath', 'equal', path, false));\n                if (resultData.length > 0) {\n                    var id = getValue(this.treeObj.fields.id, resultData[0]);\n                    this.treeObj.selectedNodes = [id];\n                    this.treeObj.dataBind();\n                }\n            }\n        }\n        else {\n            var selectedNode = this.treeObj.getTreeData().filter(function (obj) { return obj.name === resultObj.name; })[0];\n            this.treeObj.selectedNodes = [getValue('_fm_id', selectedNode)];\n            this.treeObj.dataBind();\n        }\n    };\n    NavigationPane.prototype.onDropPath = function (args) {\n        this.onpasteEnd(args);\n        this.selectResultNode(this.parent.dropData);\n        this.parent.isDropEnd = !this.parent.isPasteError;\n    };\n    NavigationPane.prototype.onpasteEnd = function (args) {\n        var resultData = [];\n        if (this.parent.hasId) {\n            resultData = new DataManager(this.treeObj.getTreeData()).\n                executeLocal(new Query().where('id', 'equal', getValue('id', args.cwd), false));\n        }\n        else {\n            var nData = new DataManager(this.treeObj.getTreeData()).\n                executeLocal(new Query().where(this.treeObj.fields.text, 'equal', getValue('name', args.cwd), false));\n            if (nData.length > 0) {\n                resultData = new DataManager(nData).\n                    executeLocal(new Query().where('filterPath', 'equal', getValue('filterPath', args.cwd), false));\n            }\n        }\n        if (resultData.length > 0) {\n            var id = getValue(this.treeObj.fields.id, resultData[0]);\n            var toExpand = this.treeObj.expandedNodes.indexOf(id) === -1;\n            this.removeChildNodes(id);\n            this.addChild(args.files, id, toExpand);\n        }\n        this.parent.expandedId = null;\n        this.onPathChanged(args);\n        if (this.parent.isDragDrop) {\n            this.checkDropPath(args);\n        }\n    };\n    /* istanbul ignore next */\n    NavigationPane.prototype.checkDropPath = function (args) {\n        if (isFileSystemData(this.parent) && (this.parent.path === this.parent.dropPath || this.parent.targetModule === 'navigationpane')) {\n            return;\n        }\n        if (this.parent.hasId) {\n            this.parent.isDropEnd = !this.parent.isPasteError;\n            readDropPath(this.parent);\n            return;\n        }\n        if ((this.parent.dropPath.indexOf(getDirectoryPath(this.parent, args)) === -1)) {\n            this.parent.isDropEnd = false;\n            readDropPath(this.parent);\n        }\n        else {\n            this.parent.isDropEnd = !this.parent.isPasteError;\n        }\n    };\n    NavigationPane.prototype.onpasteInit = function () {\n        if (this.parent.activeModule === this.getModuleName()) {\n            this.updateItemData();\n        }\n        this.moveNames = [];\n        var obj = this.parent.isDragDrop || isFileSystemData(this.parent) ? this.parent.dragData : this.parent.actionRecords;\n        for (var i = 0; i < obj.length; i++) {\n            if (getValue('isFile', obj[i]) === false) {\n                this.moveNames.push(getValue('_fm_id', obj[i]));\n            }\n        }\n    };\n    NavigationPane.prototype.oncutCopyInit = function () {\n        if (this.parent.activeModule === this.getModuleName()) {\n            this.parent.activeRecords = this.getTreeData(this.treeObj.selectedNodes[0]);\n            this.parent.activeElements = [this.activeNode];\n        }\n    };\n    NavigationPane.prototype.addEventListener = function () {\n        this.parent.on(events.modelChanged, this.onPropertyChanged, this);\n        this.parent.on(events.downloadInit, this.onDownLoadInit, this);\n        this.parent.on(events.initialEnd, this.onInitialEnd, this);\n        this.parent.on(events.finalizeEnd, this.onFinalizeEnd, this);\n        this.parent.on(events.pathChanged, this.onPathChanged, this);\n        this.parent.on(events.pasteEnd, this.onpasteEnd, this);\n        this.parent.on(events.cutEnd, this.onCutEnd, this);\n        this.parent.on(events.pasteInit, this.onpasteInit, this);\n        this.parent.on(events.nodeExpand, this.onNodeExpanded, this);\n        this.parent.on(events.createEnd, this.onCreateEnd, this);\n        this.parent.on(events.selectedData, this.onSelectedData, this);\n        this.parent.on(events.deleteInit, this.onDeleteInit, this);\n        this.parent.on(events.deleteEnd, this.onDeleteEnd, this);\n        this.parent.on(events.refreshEnd, this.onRefreshEnd, this);\n        this.parent.on(events.updateTreeSelection, this.onSelectionChanged, this);\n        this.parent.on(events.openInit, this.onOpenInit, this);\n        this.parent.on(events.openEnd, this.onOpenEnd, this);\n        this.parent.on(events.destroy, this.destroy, this);\n        this.parent.on(events.renameInit, this.onRenameInit, this);\n        this.parent.on(events.renameEnd, this.onRenameEnd, this);\n        this.parent.on(events.renameEndParent, this.onRenameEndParent, this);\n        this.parent.on(events.clearPathInit, this.onClearPathInit, this);\n        this.parent.on(events.cutCopyInit, this.oncutCopyInit, this);\n        this.parent.on(events.dropInit, this.onDropInit, this);\n        this.parent.on(events.menuItemData, this.onMenuItemData, this);\n        this.parent.on(events.dragEnd, this.onDragEnd, this);\n        this.parent.on(events.dragging, this.onDragging, this);\n        this.parent.on(events.dropPath, this.onDropPath, this);\n        this.parent.on(events.detailsInit, this.onDetailsInit, this);\n        this.parent.on(events.pathDrag, this.onPathDrag, this);\n    };\n    NavigationPane.prototype.removeEventListener = function () {\n        this.parent.off(events.initialEnd, this.onInitialEnd);\n        this.parent.off(events.downloadInit, this.onDownLoadInit);\n        this.parent.off(events.finalizeEnd, this.onFinalizeEnd);\n        this.parent.off(events.selectedData, this.onSelectedData);\n        this.parent.off(events.modelChanged, this.onPropertyChanged);\n        this.parent.off(events.pathChanged, this.onPathChanged);\n        this.parent.off(events.pasteEnd, this.onpasteEnd);\n        this.parent.off(events.cutEnd, this.onCutEnd);\n        this.parent.off(events.pasteInit, this.onpasteInit);\n        this.parent.off(events.updateTreeSelection, this.onSelectionChanged);\n        this.parent.off(events.nodeExpand, this.onNodeExpanded);\n        this.parent.off(events.createEnd, this.onCreateEnd);\n        this.parent.off(events.refreshEnd, this.onRefreshEnd);\n        this.parent.off(events.openInit, this.onOpenInit);\n        this.parent.off(events.openEnd, this.onOpenEnd);\n        this.parent.off(events.destroy, this.destroy);\n        this.parent.off(events.renameInit, this.onRenameInit);\n        this.parent.off(events.renameEnd, this.onRenameEnd);\n        this.parent.off(events.renameEndParent, this.onRenameEndParent);\n        this.parent.off(events.clearPathInit, this.onClearPathInit);\n        this.parent.off(events.deleteInit, this.onDeleteInit);\n        this.parent.off(events.deleteEnd, this.onDeleteEnd);\n        this.parent.off(events.cutCopyInit, this.oncutCopyInit);\n        this.parent.off(events.dropInit, this.onDropInit);\n        this.parent.off(events.dragEnd, this.onDragEnd);\n        this.parent.off(events.dragging, this.onDragging);\n        this.parent.off(events.dropPath, this.onDropPath);\n        this.parent.off(events.detailsInit, this.onDetailsInit);\n        this.parent.off(events.menuItemData, this.onMenuItemData);\n        this.parent.off(events.pathDrag, this.onPathDrag);\n    };\n    /* istanbul ignore next */\n    NavigationPane.prototype.onDetailsInit = function () {\n        if (this.parent.activeModule === this.getModuleName()) {\n            var dataobj = this.getTreeData(this.treeObj.selectedNodes[0]);\n            this.parent.itemData = dataobj;\n        }\n    };\n    NavigationPane.prototype.onMenuItemData = function (args) {\n        if (this.parent.activeModule === this.getModuleName()) {\n            var liEle = closest(args.target, 'li');\n            this.parent.itemData = this.getTreeData(liEle.getAttribute('data-uid'));\n        }\n    };\n    /* istanbul ignore next */\n    NavigationPane.prototype.onDragging = function (args) {\n        var ele = closest(args.target, 'li');\n        if (ele.classList.contains('e-node-collapsed')) {\n            this.isDrag = true;\n            var level = parseInt(ele.getAttribute('aria-level'), 10);\n            this.treeObj.expandAll([ele.getAttribute('data-uid')], level + 1);\n            this.isDrag = false;\n        }\n    };\n    NavigationPane.prototype.onDropInit = function (args) {\n        if (this.parent.targetModule === this.getModuleName()) {\n            var dropLi = closest(args.target, 'li');\n            this.parent.dropData = this.getTreeData(dropLi)[0];\n            this.parent.dropPath = this.getDropPath(dropLi, getValue('name', this.parent.dropData));\n        }\n    };\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} - returns the module name.\n     * @private\n     */\n    NavigationPane.prototype.getModuleName = function () {\n        return 'navigationpane';\n    };\n    NavigationPane.prototype.destroy = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.removeEventListener();\n        if (this.treeObj) {\n            this.unWireEvents();\n            this.treeObj.destroy();\n        }\n    };\n    NavigationPane.prototype.wireEvents = function () {\n        this.keyboardModule = new KeyboardEvents(this.treeObj.element, {\n            keyAction: this.keyDown.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keydown'\n        });\n    };\n    NavigationPane.prototype.unWireEvents = function () {\n        this.keyboardModule.destroy();\n    };\n    /* istanbul ignore next */\n    NavigationPane.prototype.keyDown = function (e) {\n        var action = e.action;\n        switch (action) {\n            case 'altEnter':\n                this.parent.notify(events.detailsInit, {});\n                GetDetails(this.parent, [], this.parent.path, 'details');\n                break;\n            case 'esc':\n                removeActive(this.parent);\n                break;\n            case 'del':\n                if (this.parent.pathId[0] !== this.activeNode.getAttribute('data-uid')) {\n                    this.updateItemData();\n                    if (!hasEditAccess(this.parent.itemData[0])) {\n                        createDeniedDialog(this.parent, this.parent.itemData[0], events.permissionEdit);\n                    }\n                    else {\n                        this.removeNodes = [];\n                        createDialog(this.parent, 'Delete');\n                    }\n                }\n                break;\n            case 'ctrlC':\n                copyFiles(this.parent);\n                break;\n            case 'ctrlV':\n                this.parent.folderPath = '';\n                pasteHandler(this.parent);\n                break;\n            case 'ctrlX':\n                cutFiles(this.parent);\n                break;\n            case 'shiftF10':\n                this.updateItemData();\n                if (!hasDownloadAccess(this.parent.itemData[0])) {\n                    createDeniedDialog(this.parent, this.parent.itemData[0], events.permissionDownload);\n                    return;\n                }\n                if (this.parent.selectedItems.length !== 0) {\n                    this.doDownload();\n                }\n                break;\n            case 'f2':\n                if (this.parent.selectedItems.length === 0) {\n                    var data = this.getTreeData(this.treeObj.selectedNodes[0])[0];\n                    if (!hasEditAccess(data)) {\n                        createDeniedDialog(this.parent, data, events.permissionEdit);\n                    }\n                    else {\n                        this.updateRenameData();\n                        createDialog(this.parent, 'Rename');\n                    }\n                }\n                break;\n        }\n    };\n    NavigationPane.prototype.getTreeData = function (args) {\n        var data = this.treeObj.getTreeData(args);\n        for (var i = 0; i < data.length; i++) {\n            if (isNOU(getValue('hasChild', data[i]))) {\n                setValue('hasChild', false, data[i]);\n            }\n        }\n        return data;\n    };\n    NavigationPane.prototype.updateRenameData = function () {\n        this.updateItemData();\n        this.parent.currentItemText = getValue('name', this.parent.itemData[0]);\n    };\n    NavigationPane.prototype.updateItemData = function () {\n        var data = this.getTreeData(this.treeObj.selectedNodes[0])[0];\n        this.parent.itemData = [data];\n        this.parent.isFile = false;\n    };\n    NavigationPane.prototype.updateActionData = function () {\n        this.updateItemData();\n        var node = select('[data-uid=\"' + this.parent.pathId[this.parent.pathId.length - 1] + '\"]', this.treeObj.element);\n        updatePath(node, this.parent.itemData[0], this.parent);\n        var newPath = getParentPath(this.parent.path);\n        this.parent.setProperties({ path: newPath }, true);\n        this.parent.pathId.pop();\n        this.parent.pathNames.pop();\n    };\n    /* istanbul ignore next */\n    NavigationPane.prototype.doDownload = function () {\n        var newPath = getParentPath(this.parent.path);\n        var itemId = this.treeObj.selectedNodes[0];\n        var name = (itemId === this.parent.pathId[0]) ? '' : getValue('name', this.parent.itemData[0]);\n        Download(this.parent, newPath, [name]);\n    };\n    return NavigationPane;\n}());\nexport { NavigationPane };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}