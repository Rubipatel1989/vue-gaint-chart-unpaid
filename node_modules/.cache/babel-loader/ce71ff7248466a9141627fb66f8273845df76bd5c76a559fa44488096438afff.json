{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.for-each.js\";\nimport \"core-js/modules/esnext.iterator.map.js\";\nimport { Toolbar as NavToolbar } from '@syncfusion/ej2-navigations';\nimport { createElement, extend, isNullOrUndefined, remove, getValue, EventHandler, addClass } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\nimport * as events from '../base/constant';\nimport { TextBox } from '@syncfusion/ej2-inputs';\nvar Toolbar = /** @class */function () {\n  function Toolbar(parent) {\n    this.predefinedItems = {};\n    this.items = ['Add', 'Edit', 'Update', 'Delete', 'Cancel', 'ExpandAll', 'CollapseAll', 'Search', 'PrevTimeSpan', 'NextTimeSpan', 'ZoomIn', 'ZoomOut', 'ZoomToFit', 'ExcelExport', 'CsvExport', 'PdfExport', 'Indent', 'Outdent', 'CriticalPath'];\n    this.parent = parent;\n    this.id = this.parent.element.id;\n    this.parent.on('ui-toolbarupdate', this.propertyChanged, this);\n  }\n  Toolbar.prototype.getModuleName = function () {\n    return 'toolbar';\n  };\n  /**\n   * @returns {void} .\n   * @private\n   */\n  Toolbar.prototype.renderToolbar = function () {\n    var toolbarItems = this.parent.toolbar || [];\n    if (toolbarItems.length > 0) {\n      this.element = createElement('div', {\n        id: this.parent.controlId + '_Gantt_Toolbar',\n        className: cls.toolbar\n      });\n      if (this.parent.treeGrid.grid.headerModule) {\n        this.parent.element.insertBefore(this.element, this.parent.treeGridPane.offsetParent);\n      } else {\n        this.parent.element.appendChild(this.element);\n      }\n      var preItems = ['Add', 'Edit', 'Update', 'Delete', 'Cancel', 'ExpandAll', 'CollapseAll', 'PrevTimeSpan', 'NextTimeSpan', 'ZoomIn', 'ZoomOut', 'ZoomToFit', 'ExcelExport', 'CsvExport', 'PdfExport', 'Indent', 'Outdent', 'CriticalPath', 'Undo', 'Redo'];\n      for (var _i = 0, preItems_1 = preItems; _i < preItems_1.length; _i++) {\n        var item = preItems_1[_i];\n        var itemStr = void 0;\n        var localeName = void 0;\n        if (item === 'CriticalPath') {\n          itemStr = 'critical-path';\n          localeName = 'criticalPath';\n        } else {\n          itemStr = item.toLowerCase();\n          localeName = item[0].toLowerCase() + item.slice(1);\n        }\n        this.predefinedItems[item] = {\n          id: this.parent.element.id + '_' + itemStr,\n          prefixIcon: 'e-' + itemStr,\n          text: this.parent.isAdaptive ? '' : this.parent.localeObj.getConstant(localeName),\n          tooltipText: this.parent.localeObj.getConstant(localeName) + (localeName === 'add' || localeName === 'edit' || localeName === 'delete' ? this.parent.localeObj.getConstant('task') : localeName === 'expandAll' || localeName === 'collapseAll' ? this.parent.localeObj.getConstant('tasks') : ''),\n          align: this.parent.isAdaptive ? 'Right' : 'Left'\n        };\n        if (this.parent.enableRtl) {\n          if (item === 'PrevTimeSpan') {\n            this.predefinedItems[item].prefixIcon = 'e-nexttimespan';\n          }\n          if (item === 'NextTimeSpan') {\n            this.predefinedItems[item].prefixIcon = 'e-prevtimespan';\n          }\n        }\n      }\n      var searchLocalText = this.parent.localeObj.getConstant('search');\n      if (this.parent.isAdaptive) {\n        this.predefinedItems.Search = {\n          id: this.id + '_searchbutton',\n          prefixIcon: 'e-search-icon',\n          tooltipText: searchLocalText,\n          align: 'Right'\n        };\n      } else {\n        this.predefinedItems.Search = {\n          id: this.id + '_search',\n          template: '<div class=\"e-input-group e-search\" role=\"search\">' + '<input id=\"' + this.id + '_searchbar\" class=\"e-input\" name=\"input\" type=\"search\"' +\n          // eslint-disable-next-line\n          'placeholder= \\\"' + searchLocalText + '\\\"/>' + '<span id=\"' + this.id + '_searchbutton\" class=\"e-input-group-icon e-search-icon e-icons\"' + 'tabindex=\"-1\" title=\"' + searchLocalText + '\" aria-label= \"search\" role=\"button\"></span>' + '</div>',\n          tooltipText: searchLocalText,\n          align: 'Right',\n          cssClass: 'e-search-wrapper'\n        };\n      }\n      this.createToolbar();\n    }\n  };\n  Toolbar.prototype.addReactToolbarPortals = function (args) {\n    if (this.parent.isReact && args) {\n      this.parent.portals = this.parent.portals.concat(args);\n      this.parent.renderTemplates();\n    }\n  };\n  Toolbar.prototype.createToolbar = function () {\n    var items = this.getItems();\n    this.toolbar = new NavToolbar({\n      items: items,\n      enableRtl: this.parent.enableRtl,\n      clicked: this.toolbarClickHandler.bind(this),\n      height: this.parent.isAdaptive ? 48 : 'auto'\n    });\n    this.toolbar.isStringTemplate = true;\n    this.toolbar.isReact = this.parent.isReact;\n    this.toolbar.on('render-react-toolbar-template', this.addReactToolbarPortals, this);\n    this.toolbar.appendTo(this.element);\n    if (this.parent.treeGrid.grid && this.parent.isReact) {\n      this.parent.treeGrid.grid.portals = this.parent.portals;\n    }\n    var cancelItem = this.element.querySelector('#' + this.parent.element.id + '_cancel');\n    var updateItem = this.element.querySelector('#' + this.parent.element.id + '_update');\n    if (cancelItem) {\n      addClass([cancelItem], cls.focusCell);\n    }\n    if (updateItem) {\n      addClass([updateItem], cls.focusCell);\n    }\n    var template = false;\n    this.parent.toolbar.map(function (e) {\n      if (e === 'Search') {\n        template = true;\n      }\n    });\n    if (this.parent.isAdaptive && template) {\n      this.element.insertBefore(this.getSearchBarElement(), this.element.childNodes[0]);\n      this.searchElement = this.element.querySelector('#' + this.parent.element.id + '_searchbar');\n      var textObj = new TextBox({\n        placeholder: this.parent.localeObj.getConstant('search'),\n        enableRtl: this.parent.enableRtl,\n        floatLabelType: 'Never',\n        showClearButton: true\n      });\n      textObj.appendTo(this.searchElement);\n    } else {\n      this.searchElement = this.element.querySelector('#' + this.parent.element.id + '_searchbar');\n    }\n    if (this.parent.filterModule) {\n      this.wireEvent();\n      if (this.parent.searchSettings) {\n        this.updateSearchTextBox();\n      }\n    }\n    this.enableItems([this.parent.controlId + '_redo', this.parent.controlId + '_undo'], false); // disable toolbar items.\n    if (this.parent.readOnly) {\n      this.enableItems([this.parent.element.id + '_add', this.parent.element.id + '_update', this.parent.element.id + '_delete', this.parent.element.id + '_cancel', this.parent.element.id + '_indent', this.parent.element.id + '_outdent'], false);\n    }\n  };\n  Toolbar.prototype.getSearchBarElement = function () {\n    var _this = this;\n    var div = createElement('div', {\n      className: 'e-adaptive-searchbar',\n      styles: 'display: none'\n    });\n    var textbox = createElement('input', {\n      attrs: {\n        type: 'text'\n      },\n      id: this.parent.element.id + '_searchbar'\n    });\n    var span = createElement('span', {\n      className: 'e-backarrowspan e-icons'\n    });\n    span.onclick = function () {\n      div.style.display = 'none';\n      _this.element.childNodes[1].style.display = 'block';\n    };\n    div.appendChild(span);\n    div.appendChild(textbox);\n    return div;\n  };\n  Toolbar.prototype.wireEvent = function () {\n    if (this.searchElement) {\n      EventHandler.add(this.searchElement, 'keyup', this.keyUpHandler, this);\n      EventHandler.add(this.searchElement, 'focus', this.focusHandler, this);\n      EventHandler.add(this.searchElement, 'blur', this.blurHandler, this);\n    }\n  };\n  Toolbar.prototype.propertyChanged = function (property) {\n    var module = getValue('module', property);\n    if (module !== this.getModuleName() || !this.parent.toolbar) {\n      return;\n    }\n    if (this.element && this.element.parentNode) {\n      remove(this.element);\n    }\n    this.renderToolbar();\n    this.refreshToolbarItems();\n  };\n  Toolbar.prototype.unWireEvent = function () {\n    if (this.searchElement) {\n      EventHandler.remove(this.searchElement, 'keyup', this.keyUpHandler);\n      EventHandler.remove(this.searchElement, 'focus', this.focusHandler);\n      EventHandler.remove(this.searchElement, 'blur', this.blurHandler);\n      this.searchElement = null;\n    }\n    this.parent.off('ui-toolbarupdate', this.propertyChanged);\n  };\n  Toolbar.prototype.keyUpHandler = function (e) {\n    if (e.keyCode === 13 && this.parent.searchSettings.key !== this.searchElement.value) {\n      this.parent.searchSettings.key = this.searchElement.value;\n      this.parent.dataBind();\n    }\n  };\n  Toolbar.prototype.focusHandler = function (e) {\n    e.target.parentElement.classList.add('e-input-focus');\n  };\n  Toolbar.prototype.blurHandler = function (e) {\n    e.target.parentElement.classList.remove('e-input-focus');\n  };\n  /**\n   * Method to set value for search input box\n   *\n   * @returns {void} .\n   * @hidden\n   */\n  Toolbar.prototype.updateSearchTextBox = function () {\n    if (this.searchElement && this.searchElement.value !== this.parent.searchSettings.key) {\n      this.searchElement.value = this.parent.searchSettings.key;\n    }\n  };\n  Toolbar.prototype.getItems = function () {\n    var items = [];\n    var toolbarItems = this.parent.toolbar;\n    var searchIndex = -1;\n    toolbarItems.forEach(function (item, index) {\n      if (typeof item === 'string' && item === 'Search' || typeof item === 'object' && item.text === 'Search') {\n        searchIndex = index;\n      }\n    });\n    if (searchIndex > -1) {\n      var searchItem = toolbarItems.splice(searchIndex, 1);\n      toolbarItems.push(searchItem[0]);\n    }\n    for (var _i = 0, toolbarItems_1 = toolbarItems; _i < toolbarItems_1.length; _i++) {\n      var item = toolbarItems_1[_i];\n      if (typeof item === 'string') {\n        items.push(this.getItemObject(item));\n      } else {\n        items.push(this.getItem(item));\n      }\n    }\n    return items;\n  };\n  Toolbar.prototype.getItem = function (itemObject) {\n    var item = this.predefinedItems[itemObject.text];\n    return item ? extend(item, item, itemObject) : itemObject;\n  };\n  Toolbar.prototype.getItemObject = function (itemName) {\n    return this.predefinedItems[itemName] || {\n      text: itemName,\n      id: this.id + '_' + itemName\n    };\n  };\n  Toolbar.prototype.toolbarClickHandler = function (arg) {\n    var _this = this;\n    var gObj = this.parent;\n    var gID = this.id;\n    this.parent.isToolBarClick = false;\n    extend(arg, {\n      cancel: false\n    });\n    if (arg.item['properties'].id === this.parent.element.id + '_pdfexport' || arg.item['properties'].id === this.parent.element.id + '_critical-path') {\n      if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n        this.parent.showMaskRow();\n      } else {\n        this.parent.showSpinner();\n      }\n    }\n    gObj.trigger(events.toolbarClick, arg, function (args) {\n      if (args.cancel) {\n        return;\n      } else {\n        if (_this.parent.isAdaptive === true) {\n          if (args.item.id === gID + '_edit' || args.item.id === gID + '_add' || args.item.id === gID + '_delete' || args.item.id === gID + '_searchbutton' || args.item.id === gID + '_expandall' || args.item.id === gID + '_collapseall') {\n            if (_this.parent.selectionModule && _this.parent.selectionSettings.type === 'Multiple') {\n              _this.parent.selectionModule.hidePopUp();\n              document.getElementsByClassName('e-gridpopup')[0].style.display = 'none';\n            }\n          }\n        }\n        switch (!isNullOrUndefined(args.item) && args.item.id) {\n          case gID + '_edit':\n            if (gObj.editModule && gObj.editSettings.allowEditing) {\n              gObj.editModule.dialogModule.openToolbarEditDialog();\n            }\n            break;\n          case gID + '_indent':\n            if (gObj.editModule && gObj.selectionModule.getSelectedRecords().length) {\n              gObj.indent();\n            }\n            break;\n          case gID + '_critical-path':\n            if (gObj.enableCriticalPath) {\n              gObj.enableCriticalPath = false;\n            } else {\n              gObj.enableCriticalPath = true;\n            }\n            break;\n          case gID + '_outdent':\n            if (gObj.editModule && gObj.selectionModule.getSelectedRecords().length) {\n              gObj.outdent();\n            }\n            break;\n          case gID + '_update':\n            gObj.editModule.cellEditModule.isCellEdit = false;\n            gObj.treeGrid.grid.saveCell();\n            break;\n          case gID + '_cancel':\n            gObj.cancelEdit();\n            break;\n          case gID + '_add':\n            if (gObj.editModule && gObj.editSettings.allowAdding) {\n              gObj.editModule.dialogModule.openAddDialog();\n            }\n            break;\n          case gID + '_delete':\n            if (_this.parent.selectionModule && _this.parent.editModule) {\n              if (_this.parent.selectionSettings.mode !== 'Cell' && _this.parent.selectionModule.selectedRowIndexes.length || _this.parent.selectionSettings.mode === 'Cell' && _this.parent.selectionModule.getSelectedRowCellIndexes().length) {\n                _this.parent.editModule.startDeleteAction();\n              }\n            }\n            break;\n          case gID + '_search':\n            {\n              var searchButtonId = getValue('originalEvent.target.id', args);\n              if (searchButtonId === _this.parent.element.id + '_searchbutton' && _this.parent.filterModule) {\n                var keyVal = _this.element.querySelector('#' + _this.parent.element.id + '_searchbar').value;\n                if (_this.parent.searchSettings.key !== keyVal) {\n                  _this.parent.searchSettings.key = keyVal;\n                  _this.parent.dataBind();\n                }\n              }\n              break;\n            }\n          case gID + '_searchbutton':\n            {\n              var adaptiveSearchbar = _this.element.querySelector('.e-adaptive-searchbar');\n              adaptiveSearchbar.parentElement.childNodes[1].style.display = 'none';\n              adaptiveSearchbar.style.display = 'block';\n              break;\n            }\n          case gID + '_expandall':\n            _this.parent.ganttChartModule.expandCollapseAll('expand');\n            _this.parent.isCollapseAll = false;\n            break;\n          case gID + '_collapseall':\n            _this.parent.ganttChartModule.expandCollapseAll('collapse');\n            _this.parent.isCollapseAll = true;\n            break;\n          case gID + '_prevtimespan':\n            _this.parent.previousTimeSpan();\n            break;\n          case gID + '_nexttimespan':\n            _this.parent.nextTimeSpan();\n            break;\n          case gID + '_zoomin':\n            _this.zoomIn();\n            break;\n          case gID + '_zoomout':\n            _this.zoomOut();\n            break;\n          case gID + '_zoomtofit':\n            _this.zoomToFit();\n            break;\n          case gID + '_undo':\n            _this.parent.undo();\n            break;\n          case gID + '_redo':\n            _this.parent.redo();\n            break;\n        }\n      }\n    });\n  };\n  /**\n   *\n   * @returns {void} .\n   * @private\n   */\n  Toolbar.prototype.zoomIn = function () {\n    this.parent.timelineModule.processZooming(true);\n    this.parent.timelineModule.isZooming = false;\n  };\n  /**\n   *\n   * @returns {void} .\n   * @private\n   */\n  Toolbar.prototype.zoomToFit = function () {\n    if (this.parent.timelineModule.isZoomIn) {\n      this.parent.timelineModule.isZoomIn = false;\n    }\n    this.parent.timelineModule.processZoomToFit();\n    this.parent.ganttChartModule.updateScrollLeft(0);\n    this.parent.timelineModule.isZoomToFit = false;\n  };\n  /**\n   *\n   * @returns {void} .\n   * @private\n   */\n  Toolbar.prototype.zoomOut = function () {\n    this.parent.timelineModule.processZooming(false);\n    this.parent.timelineModule.isZooming = false;\n  };\n  /**\n   * To refresh toolbar items bases current state of tasks\n   *\n   * @param {RowSelectEventArgs} args .\n   * @returns {void} .\n   */\n  Toolbar.prototype.refreshToolbarItems = function (args) {\n    var gObj = this.parent;\n    var enableItems = [];\n    var disableItems = [];\n    var edit = gObj.editSettings;\n    var gID = this.id;\n    var ind = gObj.selectedRowIndex;\n    if (this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping) {\n      for (var i = 0; i < gObj.updatedRecords.length; i++) {\n        if (gObj.updatedRecords[i].index === ind) {\n          ind = i;\n          break;\n        }\n      }\n    }\n    var previousGanttRecord;\n    var isSelected = false;\n    if (gObj.selectionModule) {\n      if (gObj.selectionModule.getSelectedRecords().length === 1 || gObj.selectionModule.getSelectedRowCellIndexes().length === 1) {\n        isSelected = true;\n      }\n    }\n    if (gObj.selectionModule && gObj.selectionSettings.type === 'Multiple' && gObj.selectionModule.selectedRowIndexes.length > 1) {\n      isSelected = false;\n    }\n    var isPersist = false;\n    if (gObj.selectionModule && gObj.selectionSettings.persistSelection) {\n      var selectedRecords = gObj.selectionModule.getSelectedRecords().length;\n      if (gObj.selectionSettings.persistSelection && selectedRecords === 1) {\n        for (var i = 0; i < selectedRecords; i++) {\n          var index = gObj.currentViewData.indexOf(gObj.selectionModule.getSelectedRecords()[i]);\n          if (index === -1) {\n            isPersist = true;\n          }\n        }\n      }\n      if (isPersist) {\n        isSelected = false;\n      }\n    }\n    var toolbarItems = this.toolbar ? this.toolbar.items : [];\n    var toolbarDefaultItems = [gID + '_add', gID + '_edit', gID + '_delete', gID + '_update', gID + '_cancel', gID + '_indent', gID + '_outdent'];\n    var isResouceParent = this.parent.viewType === 'ResourceView' && getValue('data.level', args) !== 0 || this.parent.viewType === 'ProjectView';\n    if (!isNullOrUndefined(this.parent.editModule)) {\n      var touchEdit = gObj.editModule.taskbarEditModule ? gObj.editModule.taskbarEditModule.touchEdit : false;\n      var hasData = gObj.flatData && gObj.flatData.length;\n      // eslint-disable-next-line\n      edit.allowAdding && !touchEdit ? enableItems.push(gID + '_add') : disableItems.push(gID + '_add');\n      // eslint-disable-next-line\n      edit.allowEditing && isResouceParent && hasData && isSelected && !touchEdit ? enableItems.push(gID + '_edit') : disableItems.push(gID + '_edit');\n      if (!edit.allowEditing || ind === 0 || ind === -1 || !hasData || !isSelected || this.parent.viewType === 'ResourceView') {\n        disableItems.push(gID + '_indent');\n        disableItems.push(gID + '_outdent');\n      } else {\n        if (!isNullOrUndefined(gObj.updatedRecords[ind]) && gObj.updatedRecords[ind].level === 0 && hasData && !touchEdit) {\n          enableItems.push(gID + '_indent');\n          disableItems.push(gID + '_outdent');\n        } else {\n          previousGanttRecord = gObj.updatedRecords[ind - 1];\n          if (!isNullOrUndefined(gObj.updatedRecords[ind]) && gObj.updatedRecords[ind].level - previousGanttRecord.level === 1 && ind !== -1) {\n            disableItems.push(gID + '_indent');\n            enableItems.push(gID + '_outdent');\n          } else if (ind !== -1) {\n            enableItems.push(gID + '_indent');\n            enableItems.push(gID + '_outdent');\n          }\n        }\n      }\n      var isDeleteSelected = gObj.selectionModule ? gObj.selectionModule.getSelectedRecords().length > 0 || gObj.selectionModule.getSelectedRowCellIndexes().length > 0 ? true : false : false;\n      if (gObj.selectionModule && gObj.selectionSettings.persistSelection) {\n        if (isPersist) {\n          isDeleteSelected = false;\n        }\n        var selectedRecords = gObj.selectionModule.getSelectedRecords();\n        var selectedRecordsCount = selectedRecords.length;\n        if (gObj.selectionSettings.persistSelection && selectedRecordsCount > 1) {\n          for (var i = 0; i < selectedRecordsCount; i++) {\n            var index = gObj.currentViewData.indexOf(selectedRecords[i]);\n            if (index > -1) {\n              isDeleteSelected = true;\n              break;\n            } else {\n              isDeleteSelected = false;\n            }\n          }\n        }\n      }\n      if (edit.allowDeleting && hasData && isDeleteSelected && !touchEdit) {\n        enableItems.push(gID + '_delete');\n      } else {\n        disableItems.push(gID + '_delete');\n      }\n      if (gObj.editSettings.mode === 'Auto' && !isNullOrUndefined(gObj.editModule.cellEditModule) && gObj.editModule.cellEditModule.isCellEdit) {\n        // New initialization for enableItems and disableItems during isCellEdit\n        enableItems = [];\n        enableItems.push(gID + '_update', gID + '_cancel');\n        disableItems = [];\n        for (var t = 0; t < toolbarItems.length; t++) {\n          if (toolbarItems[t].id !== gID + '_update' && toolbarItems[t].id !== gID + '_cancel' && toolbarDefaultItems.indexOf(toolbarItems[t].id) !== -1) {\n            disableItems.push(toolbarItems[t].id);\n          }\n        }\n      } else {\n        disableItems.push(gID + '_update', gID + '_cancel');\n        for (var t = 0; t < toolbarItems.length; t++) {\n          if (enableItems.indexOf(toolbarItems[t].id) === -1 && disableItems.indexOf(toolbarItems[t].id) === -1) {\n            enableItems.push(toolbarItems[t].id);\n          }\n        }\n      }\n    } else {\n      disableItems.push(gID + '_delete');\n      disableItems.push(gID + '_add');\n      disableItems.push(gID + '_edit');\n      disableItems.push(gID + '_update');\n      disableItems.push(gID + '_cancel');\n      disableItems.push(gID + '_indent');\n      disableItems.push(gID + '_outdent');\n    }\n    for (var e = 0; e < enableItems.length; e++) {\n      var index = void 0;\n      for (var t = 0; t < toolbarItems.length; t++) {\n        if (toolbarItems[t].id === enableItems[e]) {\n          index = t;\n          break;\n        }\n      }\n      if (toolbarItems.length > 0) {\n        this.toolbar.hideItem(index, false);\n      }\n    }\n    for (var d = 0; d < disableItems.length; d++) {\n      var index = void 0;\n      for (var t = 0; t < toolbarItems.length; t++) {\n        if (toolbarItems[t].id === disableItems[d]) {\n          index = t;\n          break;\n        }\n      }\n      if (toolbarItems.length > 0) {\n        this.toolbar.hideItem(index, true);\n      }\n    }\n  };\n  /**\n   * Enables or disables ToolBar items.\n   *\n   * @param {string[]} items - Defines the collection of itemID of ToolBar items.\n   * @param {boolean} isEnable - Defines the items to be enabled or disabled.\n   * @returns {void} .\n   * @hidden\n   */\n  Toolbar.prototype.enableItems = function (items, isEnable) {\n    for (var _i = 0, items_1 = items; _i < items_1.length; _i++) {\n      var item = items_1[_i];\n      var element = this.element.querySelector('#' + item);\n      if (element) {\n        this.toolbar.enableItems(element.parentElement, isEnable);\n      }\n    }\n  };\n  /**\n   * Destroys the Sorting of TreeGrid.\n   *\n   * @function destroy\n   * @returns {void} .\n   * @private\n   */\n  Toolbar.prototype.destroy = function () {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n    if (this.toolbar) {\n      this.toolbar.off('render-react-toolbar-template', this.addReactToolbarPortals);\n    }\n    this.toolbar.destroy();\n    if (this.parent.filterModule) {\n      this.unWireEvent();\n    }\n    remove(this.element);\n  };\n  return Toolbar;\n}();\nexport { Toolbar };","map":{"version":3,"names":["Toolbar","NavToolbar","createElement","extend","isNullOrUndefined","remove","getValue","EventHandler","addClass","cls","events","TextBox","parent","predefinedItems","items","id","element","on","propertyChanged","prototype","getModuleName","renderToolbar","toolbarItems","toolbar","length","controlId","className","treeGrid","grid","headerModule","insertBefore","treeGridPane","offsetParent","appendChild","preItems","_i","preItems_1","item","itemStr","localeName","toLowerCase","slice","prefixIcon","text","isAdaptive","localeObj","getConstant","tooltipText","align","enableRtl","searchLocalText","Search","template","cssClass","createToolbar","addReactToolbarPortals","args","isReact","portals","concat","renderTemplates","getItems","clicked","toolbarClickHandler","bind","height","isStringTemplate","appendTo","cancelItem","querySelector","updateItem","focusCell","map","e","getSearchBarElement","childNodes","searchElement","textObj","placeholder","floatLabelType","showClearButton","filterModule","wireEvent","searchSettings","updateSearchTextBox","enableItems","readOnly","_this","div","styles","textbox","attrs","type","span","onclick","style","display","add","keyUpHandler","focusHandler","blurHandler","property","module","parentNode","refreshToolbarItems","unWireEvent","off","keyCode","key","value","dataBind","target","parentElement","classList","searchIndex","forEach","index","searchItem","splice","push","toolbarItems_1","getItemObject","getItem","itemObject","itemName","arg","gObj","gID","isToolBarClick","cancel","loadingIndicator","indicatorType","showMaskRow","showSpinner","trigger","toolbarClick","selectionModule","selectionSettings","hidePopUp","document","getElementsByClassName","editModule","editSettings","allowEditing","dialogModule","openToolbarEditDialog","getSelectedRecords","indent","enableCriticalPath","outdent","cellEditModule","isCellEdit","saveCell","cancelEdit","allowAdding","openAddDialog","mode","selectedRowIndexes","getSelectedRowCellIndexes","startDeleteAction","searchButtonId","keyVal","adaptiveSearchbar","ganttChartModule","expandCollapseAll","isCollapseAll","previousTimeSpan","nextTimeSpan","zoomIn","zoomOut","zoomToFit","undo","redo","timelineModule","processZooming","isZooming","isZoomIn","processZoomToFit","updateScrollLeft","isZoomToFit","disableItems","edit","ind","selectedRowIndex","loadChildOnDemand","taskFields","hasChildMapping","i","updatedRecords","previousGanttRecord","isSelected","isPersist","persistSelection","selectedRecords","currentViewData","indexOf","toolbarDefaultItems","isResouceParent","viewType","touchEdit","taskbarEditModule","hasData","flatData","level","isDeleteSelected","selectedRecordsCount","allowDeleting","t","hideItem","d","isEnable","items_1","destroy","isDestroyed"],"sources":["/var/www/vue/vue-gantt-chart/node_modules/@syncfusion/ej2-gantt/src/gantt/actions/toolbar.js"],"sourcesContent":["import { Toolbar as NavToolbar } from '@syncfusion/ej2-navigations';\nimport { createElement, extend, isNullOrUndefined, remove, getValue, EventHandler, addClass } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\nimport * as events from '../base/constant';\nimport { TextBox } from '@syncfusion/ej2-inputs';\nvar Toolbar = /** @class */ (function () {\n    function Toolbar(parent) {\n        this.predefinedItems = {};\n        this.items = ['Add', 'Edit', 'Update', 'Delete', 'Cancel', 'ExpandAll', 'CollapseAll', 'Search',\n            'PrevTimeSpan', 'NextTimeSpan', 'ZoomIn', 'ZoomOut', 'ZoomToFit', 'ExcelExport',\n            'CsvExport', 'PdfExport', 'Indent', 'Outdent', 'CriticalPath'];\n        this.parent = parent;\n        this.id = this.parent.element.id;\n        this.parent.on('ui-toolbarupdate', this.propertyChanged, this);\n    }\n    Toolbar.prototype.getModuleName = function () {\n        return 'toolbar';\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Toolbar.prototype.renderToolbar = function () {\n        var toolbarItems = this.parent.toolbar || [];\n        if (toolbarItems.length > 0) {\n            this.element = createElement('div', { id: this.parent.controlId + '_Gantt_Toolbar', className: cls.toolbar });\n            if (this.parent.treeGrid.grid.headerModule) {\n                this.parent.element.insertBefore(this.element, this.parent.treeGridPane.offsetParent);\n            }\n            else {\n                this.parent.element.appendChild(this.element);\n            }\n            var preItems = ['Add', 'Edit', 'Update', 'Delete', 'Cancel', 'ExpandAll', 'CollapseAll',\n                'PrevTimeSpan', 'NextTimeSpan', 'ZoomIn', 'ZoomOut', 'ZoomToFit', 'ExcelExport', 'CsvExport',\n                'PdfExport', 'Indent', 'Outdent', 'CriticalPath', 'Undo', 'Redo'];\n            for (var _i = 0, preItems_1 = preItems; _i < preItems_1.length; _i++) {\n                var item = preItems_1[_i];\n                var itemStr = void 0;\n                var localeName = void 0;\n                if (item === 'CriticalPath') {\n                    itemStr = 'critical-path';\n                    localeName = 'criticalPath';\n                }\n                else {\n                    itemStr = item.toLowerCase();\n                    localeName = item[0].toLowerCase() + item.slice(1);\n                }\n                this.predefinedItems[item] = {\n                    id: this.parent.element.id + '_' + itemStr, prefixIcon: 'e-' + itemStr,\n                    text: this.parent.isAdaptive ? '' : this.parent.localeObj.getConstant(localeName),\n                    tooltipText: this.parent.localeObj.getConstant(localeName) + ((localeName === 'add' ||\n                        localeName === 'edit' || localeName === 'delete') ? this.parent.localeObj.getConstant('task') :\n                        (localeName === 'expandAll' || localeName === 'collapseAll') ?\n                            this.parent.localeObj.getConstant('tasks') : ''),\n                    align: this.parent.isAdaptive ? 'Right' : 'Left'\n                };\n                if (this.parent.enableRtl) {\n                    if (item === 'PrevTimeSpan') {\n                        this.predefinedItems[item].prefixIcon = 'e-nexttimespan';\n                    }\n                    if (item === 'NextTimeSpan') {\n                        this.predefinedItems[item].prefixIcon = 'e-prevtimespan';\n                    }\n                }\n            }\n            var searchLocalText = this.parent.localeObj.getConstant('search');\n            if (this.parent.isAdaptive) {\n                this.predefinedItems.Search = {\n                    id: this.id + '_searchbutton',\n                    prefixIcon: 'e-search-icon',\n                    tooltipText: searchLocalText,\n                    align: 'Right'\n                };\n            }\n            else {\n                this.predefinedItems.Search = {\n                    id: this.id + '_search',\n                    template: '<div class=\"e-input-group e-search\" role=\"search\">' +\n                        '<input id=\"' + this.id + '_searchbar\" class=\"e-input\" name=\"input\" type=\"search\"' +\n                        // eslint-disable-next-line\n                        'placeholder= \\\"' + searchLocalText + '\\\"/>' +\n                        '<span id=\"' + this.id + '_searchbutton\" class=\"e-input-group-icon e-search-icon e-icons\"' +\n                        'tabindex=\"-1\" title=\"' + searchLocalText + '\" aria-label= \"search\" role=\"button\"></span>' +\n                        '</div>',\n                    tooltipText: searchLocalText,\n                    align: 'Right', cssClass: 'e-search-wrapper'\n                };\n            }\n            this.createToolbar();\n        }\n    };\n    Toolbar.prototype.addReactToolbarPortals = function (args) {\n        if (this.parent.isReact && args) {\n            this.parent.portals = this.parent.portals.concat(args);\n            this.parent.renderTemplates();\n        }\n    };\n    Toolbar.prototype.createToolbar = function () {\n        var items = this.getItems();\n        this.toolbar = new NavToolbar({\n            items: items,\n            enableRtl: this.parent.enableRtl,\n            clicked: this.toolbarClickHandler.bind(this),\n            height: this.parent.isAdaptive ? 48 : 'auto'\n        });\n        this.toolbar.isStringTemplate = true;\n        this.toolbar.isReact = this.parent.isReact;\n        this.toolbar.on('render-react-toolbar-template', this.addReactToolbarPortals, this);\n        this.toolbar.appendTo(this.element);\n        if (this.parent.treeGrid.grid && this.parent.isReact) {\n            (this.parent.treeGrid.grid).portals = this.parent.portals;\n        }\n        var cancelItem = this.element.querySelector('#' + this.parent.element.id + '_cancel');\n        var updateItem = this.element.querySelector('#' + this.parent.element.id + '_update');\n        if (cancelItem) {\n            addClass([cancelItem], cls.focusCell);\n        }\n        if (updateItem) {\n            addClass([updateItem], cls.focusCell);\n        }\n        var template = false;\n        this.parent.toolbar.map(function (e) {\n            if (e === 'Search') {\n                template = true;\n            }\n        });\n        if (this.parent.isAdaptive && template) {\n            this.element.insertBefore(this.getSearchBarElement(), this.element.childNodes[0]);\n            this.searchElement = this.element.querySelector('#' + this.parent.element.id + '_searchbar');\n            var textObj = new TextBox({\n                placeholder: this.parent.localeObj.getConstant('search'),\n                enableRtl: this.parent.enableRtl,\n                floatLabelType: 'Never',\n                showClearButton: true\n            });\n            textObj.appendTo(this.searchElement);\n        }\n        else {\n            this.searchElement = this.element.querySelector('#' + this.parent.element.id + '_searchbar');\n        }\n        if (this.parent.filterModule) {\n            this.wireEvent();\n            if (this.parent.searchSettings) {\n                this.updateSearchTextBox();\n            }\n        }\n        this.enableItems([this.parent.controlId + '_redo', this.parent.controlId + '_undo'], false); // disable toolbar items.\n        if (this.parent.readOnly) {\n            this.enableItems([this.parent.element.id + '_add', this.parent.element.id + '_update', this.parent.element.id + '_delete',\n                this.parent.element.id + '_cancel', this.parent.element.id + '_indent', this.parent.element.id + '_outdent'], false);\n        }\n    };\n    Toolbar.prototype.getSearchBarElement = function () {\n        var _this = this;\n        var div = createElement('div', { className: 'e-adaptive-searchbar', styles: 'display: none' });\n        var textbox = createElement('input', { attrs: { type: 'text' }, id: this.parent.element.id + '_searchbar' });\n        var span = createElement('span', { className: 'e-backarrowspan e-icons' });\n        span.onclick = function () {\n            div.style.display = 'none';\n            _this.element.childNodes[1].style.display = 'block';\n        };\n        div.appendChild(span);\n        div.appendChild(textbox);\n        return div;\n    };\n    Toolbar.prototype.wireEvent = function () {\n        if (this.searchElement) {\n            EventHandler.add(this.searchElement, 'keyup', this.keyUpHandler, this);\n            EventHandler.add(this.searchElement, 'focus', this.focusHandler, this);\n            EventHandler.add(this.searchElement, 'blur', this.blurHandler, this);\n        }\n    };\n    Toolbar.prototype.propertyChanged = function (property) {\n        var module = getValue('module', property);\n        if (module !== this.getModuleName() || !this.parent.toolbar) {\n            return;\n        }\n        if (this.element && this.element.parentNode) {\n            remove(this.element);\n        }\n        this.renderToolbar();\n        this.refreshToolbarItems();\n    };\n    Toolbar.prototype.unWireEvent = function () {\n        if (this.searchElement) {\n            EventHandler.remove(this.searchElement, 'keyup', this.keyUpHandler);\n            EventHandler.remove(this.searchElement, 'focus', this.focusHandler);\n            EventHandler.remove(this.searchElement, 'blur', this.blurHandler);\n            this.searchElement = null;\n        }\n        this.parent.off('ui-toolbarupdate', this.propertyChanged);\n    };\n    Toolbar.prototype.keyUpHandler = function (e) {\n        if (e.keyCode === 13 && this.parent.searchSettings.key !== this.searchElement.value) {\n            this.parent.searchSettings.key = this.searchElement.value;\n            this.parent.dataBind();\n        }\n    };\n    Toolbar.prototype.focusHandler = function (e) {\n        e.target.parentElement.classList.add('e-input-focus');\n    };\n    Toolbar.prototype.blurHandler = function (e) {\n        e.target.parentElement.classList.remove('e-input-focus');\n    };\n    /**\n     * Method to set value for search input box\n     *\n     * @returns {void} .\n     * @hidden\n     */\n    Toolbar.prototype.updateSearchTextBox = function () {\n        if (this.searchElement && this.searchElement.value !== this.parent.searchSettings.key) {\n            this.searchElement.value = this.parent.searchSettings.key;\n        }\n    };\n    Toolbar.prototype.getItems = function () {\n        var items = [];\n        var toolbarItems = this.parent.toolbar;\n        var searchIndex = -1;\n        toolbarItems.forEach(function (item, index) {\n            if ((typeof (item) === 'string' && item === 'Search') ||\n                ((typeof (item) === 'object') && item.text === 'Search')) {\n                searchIndex = index;\n            }\n        });\n        if (searchIndex > -1) {\n            var searchItem = toolbarItems.splice(searchIndex, 1);\n            toolbarItems.push(searchItem[0]);\n        }\n        for (var _i = 0, toolbarItems_1 = toolbarItems; _i < toolbarItems_1.length; _i++) {\n            var item = toolbarItems_1[_i];\n            if (typeof item === 'string') {\n                items.push(this.getItemObject(item));\n            }\n            else {\n                items.push(this.getItem(item));\n            }\n        }\n        return items;\n    };\n    Toolbar.prototype.getItem = function (itemObject) {\n        var item = this.predefinedItems[itemObject.text];\n        return item ? extend(item, item, itemObject) : itemObject;\n    };\n    Toolbar.prototype.getItemObject = function (itemName) {\n        return this.predefinedItems[itemName] || { text: itemName, id: this.id + '_' + itemName };\n    };\n    Toolbar.prototype.toolbarClickHandler = function (arg) {\n        var _this = this;\n        var gObj = this.parent;\n        var gID = this.id;\n        this.parent.isToolBarClick = false;\n        extend(arg, { cancel: false });\n        if (arg.item['properties'].id === this.parent.element.id + '_pdfexport' || arg.item['properties'].id === this.parent.element.id + '_critical-path') {\n            if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                this.parent.showMaskRow();\n            }\n            else {\n                this.parent.showSpinner();\n            }\n        }\n        gObj.trigger(events.toolbarClick, arg, function (args) {\n            if (args.cancel) {\n                return;\n            }\n            else {\n                if (_this.parent.isAdaptive === true) {\n                    if (args.item.id === gID + '_edit' || args.item.id === gID + '_add' || args.item.id === gID + '_delete'\n                        || args.item.id === gID + '_searchbutton' || args.item.id === gID + '_expandall'\n                        || args.item.id === gID + '_collapseall') {\n                        if (_this.parent.selectionModule && _this.parent.selectionSettings.type === 'Multiple') {\n                            _this.parent.selectionModule.hidePopUp();\n                            document.getElementsByClassName('e-gridpopup')[0].style.display = 'none';\n                        }\n                    }\n                }\n                switch (!isNullOrUndefined(args.item) && args.item.id) {\n                    case gID + '_edit':\n                        if (gObj.editModule && gObj.editSettings.allowEditing) {\n                            gObj.editModule.dialogModule.openToolbarEditDialog();\n                        }\n                        break;\n                    case gID + '_indent':\n                        if (gObj.editModule && gObj.selectionModule.getSelectedRecords().length) {\n                            gObj.indent();\n                        }\n                        break;\n                    case gID + '_critical-path':\n                        if (gObj.enableCriticalPath) {\n                            gObj.enableCriticalPath = false;\n                        }\n                        else {\n                            gObj.enableCriticalPath = true;\n                        }\n                        break;\n                    case gID + '_outdent':\n                        if (gObj.editModule && gObj.selectionModule.getSelectedRecords().length) {\n                            gObj.outdent();\n                        }\n                        break;\n                    case gID + '_update':\n                        gObj.editModule.cellEditModule.isCellEdit = false;\n                        gObj.treeGrid.grid.saveCell();\n                        break;\n                    case gID + '_cancel':\n                        gObj.cancelEdit();\n                        break;\n                    case gID + '_add':\n                        if (gObj.editModule && gObj.editSettings.allowAdding) {\n                            gObj.editModule.dialogModule.openAddDialog();\n                        }\n                        break;\n                    case gID + '_delete':\n                        if (_this.parent.selectionModule && _this.parent.editModule) {\n                            if ((_this.parent.selectionSettings.mode !== 'Cell' && _this.parent.selectionModule.selectedRowIndexes.length)\n                                || (_this.parent.selectionSettings.mode === 'Cell' &&\n                                    _this.parent.selectionModule.getSelectedRowCellIndexes().length)) {\n                                _this.parent.editModule.startDeleteAction();\n                            }\n                        }\n                        break;\n                    case gID + '_search':\n                        {\n                            var searchButtonId = getValue('originalEvent.target.id', args);\n                            if (searchButtonId === _this.parent.element.id + '_searchbutton' && _this.parent.filterModule) {\n                                var keyVal = _this.element.querySelector('#' + _this.parent.element.id + '_searchbar').value;\n                                if (_this.parent.searchSettings.key !== keyVal) {\n                                    _this.parent.searchSettings.key = keyVal;\n                                    _this.parent.dataBind();\n                                }\n                            }\n                            break;\n                        }\n                    case gID + '_searchbutton':\n                        {\n                            var adaptiveSearchbar = _this.element.querySelector('.e-adaptive-searchbar');\n                            adaptiveSearchbar.parentElement.childNodes[1].style.display = 'none';\n                            adaptiveSearchbar.style.display = 'block';\n                            break;\n                        }\n                    case gID + '_expandall':\n                        _this.parent.ganttChartModule.expandCollapseAll('expand');\n                        _this.parent.isCollapseAll = false;\n                        break;\n                    case gID + '_collapseall':\n                        _this.parent.ganttChartModule.expandCollapseAll('collapse');\n                        _this.parent.isCollapseAll = true;\n                        break;\n                    case gID + '_prevtimespan':\n                        _this.parent.previousTimeSpan();\n                        break;\n                    case gID + '_nexttimespan':\n                        _this.parent.nextTimeSpan();\n                        break;\n                    case gID + '_zoomin':\n                        _this.zoomIn();\n                        break;\n                    case gID + '_zoomout':\n                        _this.zoomOut();\n                        break;\n                    case gID + '_zoomtofit':\n                        _this.zoomToFit();\n                        break;\n                    case gID + '_undo':\n                        _this.parent.undo();\n                        break;\n                    case gID + '_redo':\n                        _this.parent.redo();\n                        break;\n                }\n            }\n        });\n    };\n    /**\n     *\n     * @returns {void} .\n     * @private\n     */\n    Toolbar.prototype.zoomIn = function () {\n        this.parent.timelineModule.processZooming(true);\n        this.parent.timelineModule.isZooming = false;\n    };\n    /**\n     *\n     * @returns {void} .\n     * @private\n     */\n    Toolbar.prototype.zoomToFit = function () {\n        if (this.parent.timelineModule.isZoomIn) {\n            this.parent.timelineModule.isZoomIn = false;\n        }\n        this.parent.timelineModule.processZoomToFit();\n        this.parent.ganttChartModule.updateScrollLeft(0);\n        this.parent.timelineModule.isZoomToFit = false;\n    };\n    /**\n     *\n     * @returns {void} .\n     * @private\n     */\n    Toolbar.prototype.zoomOut = function () {\n        this.parent.timelineModule.processZooming(false);\n        this.parent.timelineModule.isZooming = false;\n    };\n    /**\n     * To refresh toolbar items bases current state of tasks\n     *\n     * @param {RowSelectEventArgs} args .\n     * @returns {void} .\n     */\n    Toolbar.prototype.refreshToolbarItems = function (args) {\n        var gObj = this.parent;\n        var enableItems = [];\n        var disableItems = [];\n        var edit = gObj.editSettings;\n        var gID = this.id;\n        var ind = gObj.selectedRowIndex;\n        if (this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping) {\n            for (var i = 0; i < gObj.updatedRecords.length; i++) {\n                if (gObj.updatedRecords[i].index === ind) {\n                    ind = i;\n                    break;\n                }\n            }\n        }\n        var previousGanttRecord;\n        var isSelected = false;\n        if (gObj.selectionModule) {\n            if (gObj.selectionModule.getSelectedRecords().length === 1 || gObj.selectionModule.getSelectedRowCellIndexes().length === 1) {\n                isSelected = true;\n            }\n        }\n        if (gObj.selectionModule && gObj.selectionSettings.type === 'Multiple' && gObj.selectionModule.selectedRowIndexes.length > 1) {\n            isSelected = false;\n        }\n        var isPersist = false;\n        if (gObj.selectionModule && gObj.selectionSettings.persistSelection) {\n            var selectedRecords = gObj.selectionModule.getSelectedRecords().length;\n            if (gObj.selectionSettings.persistSelection && selectedRecords === 1) {\n                for (var i = 0; i < selectedRecords; i++) {\n                    var index = gObj.currentViewData.indexOf(gObj.selectionModule.getSelectedRecords()[i]);\n                    if (index === -1) {\n                        isPersist = true;\n                    }\n                }\n            }\n            if (isPersist) {\n                isSelected = false;\n            }\n        }\n        var toolbarItems = this.toolbar ? this.toolbar.items : [];\n        var toolbarDefaultItems = [gID + '_add', gID + '_edit', gID + '_delete',\n            gID + '_update', gID + '_cancel', gID + '_indent', gID + '_outdent'];\n        var isResouceParent = (this.parent.viewType === 'ResourceView' && getValue('data.level', args) !== 0\n            || this.parent.viewType === 'ProjectView');\n        if (!isNullOrUndefined(this.parent.editModule)) {\n            var touchEdit = gObj.editModule.taskbarEditModule ?\n                gObj.editModule.taskbarEditModule.touchEdit : false;\n            var hasData = gObj.flatData && gObj.flatData.length;\n            // eslint-disable-next-line\n            edit.allowAdding && !touchEdit ? enableItems.push(gID + '_add') : disableItems.push(gID + '_add');\n            // eslint-disable-next-line\n            edit.allowEditing && isResouceParent && hasData && isSelected && !touchEdit ?\n                enableItems.push(gID + '_edit') : disableItems.push(gID + '_edit');\n            if (!edit.allowEditing || ind === 0 || ind === -1 || !hasData || !isSelected || this.parent.viewType === 'ResourceView') {\n                disableItems.push(gID + '_indent');\n                disableItems.push(gID + '_outdent');\n            }\n            else {\n                if (!isNullOrUndefined(gObj.updatedRecords[ind]) &&\n                    gObj.updatedRecords[ind].level === 0 && hasData && !touchEdit) {\n                    enableItems.push(gID + '_indent');\n                    disableItems.push(gID + '_outdent');\n                }\n                else {\n                    previousGanttRecord = gObj.updatedRecords[ind - 1];\n                    if (!isNullOrUndefined(gObj.updatedRecords[ind]) &&\n                        (gObj.updatedRecords[ind].level - previousGanttRecord.level === 1) && ind !== -1) {\n                        disableItems.push(gID + '_indent');\n                        enableItems.push(gID + '_outdent');\n                    }\n                    else if (ind !== -1) {\n                        enableItems.push(gID + '_indent');\n                        enableItems.push(gID + '_outdent');\n                    }\n                }\n            }\n            var isDeleteSelected = gObj.selectionModule ? gObj.selectionModule.getSelectedRecords().length > 0 ||\n                gObj.selectionModule.getSelectedRowCellIndexes().length > 0 ? true : false : false;\n            if (gObj.selectionModule && gObj.selectionSettings.persistSelection) {\n                if (isPersist) {\n                    isDeleteSelected = false;\n                }\n                var selectedRecords = gObj.selectionModule.getSelectedRecords();\n                var selectedRecordsCount = selectedRecords.length;\n                if (gObj.selectionSettings.persistSelection && selectedRecordsCount > 1) {\n                    for (var i = 0; i < selectedRecordsCount; i++) {\n                        var index = gObj.currentViewData.indexOf(selectedRecords[i]);\n                        if (index > -1) {\n                            isDeleteSelected = true;\n                            break;\n                        }\n                        else {\n                            isDeleteSelected = false;\n                        }\n                    }\n                }\n            }\n            if (edit.allowDeleting && hasData && isDeleteSelected && !touchEdit) {\n                enableItems.push(gID + '_delete');\n            }\n            else {\n                disableItems.push(gID + '_delete');\n            }\n            if (gObj.editSettings.mode === 'Auto' && !isNullOrUndefined(gObj.editModule.cellEditModule)\n                && gObj.editModule.cellEditModule.isCellEdit) {\n                // New initialization for enableItems and disableItems during isCellEdit\n                enableItems = [];\n                enableItems.push(gID + '_update', gID + '_cancel');\n                disableItems = [];\n                for (var t = 0; t < toolbarItems.length; t++) {\n                    if (toolbarItems[t].id !== gID + '_update' && toolbarItems[t].id !== gID + '_cancel' &&\n                        toolbarDefaultItems.indexOf(toolbarItems[t].id) !== -1) {\n                        disableItems.push(toolbarItems[t].id);\n                    }\n                }\n            }\n            else {\n                disableItems.push(gID + '_update', gID + '_cancel');\n                for (var t = 0; t < toolbarItems.length; t++) {\n                    if (enableItems.indexOf(toolbarItems[t].id) === -1 &&\n                        disableItems.indexOf(toolbarItems[t].id) === -1) {\n                        enableItems.push(toolbarItems[t].id);\n                    }\n                }\n            }\n        }\n        else {\n            disableItems.push(gID + '_delete');\n            disableItems.push(gID + '_add');\n            disableItems.push(gID + '_edit');\n            disableItems.push(gID + '_update');\n            disableItems.push(gID + '_cancel');\n            disableItems.push(gID + '_indent');\n            disableItems.push(gID + '_outdent');\n        }\n        for (var e = 0; e < enableItems.length; e++) {\n            var index = void 0;\n            for (var t = 0; t < toolbarItems.length; t++) {\n                if (toolbarItems[t].id === enableItems[e]) {\n                    index = t;\n                    break;\n                }\n            }\n            if (toolbarItems.length > 0) {\n                this.toolbar.hideItem(index, false);\n            }\n        }\n        for (var d = 0; d < disableItems.length; d++) {\n            var index = void 0;\n            for (var t = 0; t < toolbarItems.length; t++) {\n                if (toolbarItems[t].id === disableItems[d]) {\n                    index = t;\n                    break;\n                }\n            }\n            if (toolbarItems.length > 0) {\n                this.toolbar.hideItem(index, true);\n            }\n        }\n    };\n    /**\n     * Enables or disables ToolBar items.\n     *\n     * @param {string[]} items - Defines the collection of itemID of ToolBar items.\n     * @param {boolean} isEnable - Defines the items to be enabled or disabled.\n     * @returns {void} .\n     * @hidden\n     */\n    Toolbar.prototype.enableItems = function (items, isEnable) {\n        for (var _i = 0, items_1 = items; _i < items_1.length; _i++) {\n            var item = items_1[_i];\n            var element = this.element.querySelector('#' + item);\n            if (element) {\n                this.toolbar.enableItems(element.parentElement, isEnable);\n            }\n        }\n    };\n    /**\n     * Destroys the Sorting of TreeGrid.\n     *\n     * @function destroy\n     * @returns {void} .\n     * @private\n     */\n    Toolbar.prototype.destroy = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        if (this.toolbar) {\n            this.toolbar.off('render-react-toolbar-template', this.addReactToolbarPortals);\n        }\n        this.toolbar.destroy();\n        if (this.parent.filterModule) {\n            this.unWireEvent();\n        }\n        remove(this.element);\n    };\n    return Toolbar;\n}());\nexport { Toolbar };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}