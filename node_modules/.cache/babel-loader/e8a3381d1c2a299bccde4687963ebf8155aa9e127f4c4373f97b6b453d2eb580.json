{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { ListBase } from '@syncfusion/ej2-lists';\nimport { createElement, select, selectAll, EventHandler, KeyboardEvents, closest, Draggable } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined as isNOU, addClass, removeClass, Touch, isVisible } from '@syncfusion/ej2-base';\nimport { getValue, setValue, remove } from '@syncfusion/ej2-base';\nimport { DataManager, Query, DataUtil } from '@syncfusion/ej2-data';\nimport { hideSpinner, showSpinner } from '@syncfusion/ej2-popups';\nimport * as events from '../base/constant';\nimport * as CLS from '../base/classes';\nimport { createCheckBox } from '@syncfusion/ej2-buttons';\nimport { read, GetDetails, Delete } from '../common/operations';\nimport { doRename, getAccessClass, getPathObject, getFullPath, getDirectoryPath, rename, doDownload, getItemName } from '../common/index';\nimport { removeBlur, cutFiles, copyFiles, addBlur, openSearchFolder, removeActive, pasteHandler } from '../common/index';\nimport { createVirtualDragElement, dragStopHandler, dragStartHandler, draggingHandler, getModule } from '../common/index';\nimport { updateRenamingData, doDeleteFiles, doDownloadFiles } from '../common/index';\nimport { openAction, fileType, refresh, getImageUrl, getSortedData, createDeniedDialog, updateLayout } from '../common/utility';\nimport { createEmptyElement, hasReadAccess, hasEditAccess } from '../common/utility';\nimport { createDialog, createImageDialog } from '../pop-up/dialog';\n/**\n * LargeIconsView module\n */\nvar LargeIconsView = /** @class */function () {\n  /**\n   * Constructor for the LargeIcons module.\n   *\n   * @param {IFileManager} parent - specifies the parent element.\n   * @hidden\n   */\n  function LargeIconsView(parent) {\n    this.isInteraction = true;\n    this.uploadOperation = false;\n    this.count = 0;\n    this.isRendered = true;\n    this.tapCount = 0;\n    this.isSelectAllCalled = false;\n    this.isPasteOperation = false;\n    this.isInteracted = true;\n    this.parent = parent;\n    this.element = select('#' + this.parent.element.id + CLS.LARGEICON_ID, this.parent.element);\n    addClass([this.element], CLS.LARGE_ICONS);\n    this.addEventListener();\n    this.keyConfigs = {\n      end: 'end',\n      home: 'home',\n      tab: 'tab',\n      moveDown: 'downarrow',\n      moveLeft: 'leftarrow',\n      moveRight: 'rightarrow',\n      moveUp: 'uparrow',\n      ctrlEnd: 'ctrl+end',\n      ctrlHome: 'ctrl+home',\n      ctrlDown: 'ctrl+downarrow',\n      ctrlLeft: 'ctrl+leftarrow',\n      ctrlRight: 'ctrl+rightarrow',\n      ctrlUp: 'ctrl+uparrow',\n      shiftEnd: 'shift+end',\n      shiftHome: 'shift+home',\n      shiftDown: 'shift+downarrow',\n      shiftLeft: 'shift+leftarrow',\n      shiftRight: 'shift+rightarrow',\n      shiftUp: 'shift+uparrow',\n      csEnd: 'ctrl+shift+end',\n      csHome: 'ctrl+shift+home',\n      csDown: 'ctrl+shift+downarrow',\n      csLeft: 'ctrl+shift+leftarrow',\n      csRight: 'ctrl+shift+rightarrow',\n      csUp: 'ctrl+shift+uparrow',\n      space: 'space',\n      ctrlSpace: 'ctrl+space',\n      shiftSpace: 'shift+space',\n      csSpace: 'ctrl+shift+space',\n      ctrlA: 'ctrl+a',\n      enter: 'enter',\n      altEnter: 'alt+enter',\n      esc: 'escape',\n      del: 'delete',\n      ctrlX: this.parent.isMac ? 'cmd+x' : 'ctrl+x',\n      ctrlC: this.parent.isMac ? 'cmd+c' : 'ctrl+c',\n      ctrlV: this.parent.isMac ? 'cmd+v' : 'ctrl+v',\n      f2: 'f2',\n      shiftdel: 'shift+delete',\n      back: 'backspace',\n      ctrlD: 'ctrl+d'\n    };\n  }\n  LargeIconsView.prototype.render = function (args) {\n    this.parent.visitedItem = null;\n    this.startItem = null;\n    showSpinner(this.parent.element);\n    if (this.parent.view === 'LargeIcons') {\n      this.resetMultiSelect();\n      this.element.setAttribute('tabindex', '0');\n      if (this.listObj) {\n        this.unWireEvents();\n        this.removeEventListener();\n      }\n      this.parent.notify(events.hideLayout, {});\n      var iconsView = select('#' + this.parent.element.id + CLS.LARGEICON_ID, this.parent.element);\n      var ul = select('ul', iconsView);\n      if (ul) {\n        remove(ul);\n      }\n      this.listObj = {\n        ariaAttributes: {\n          itemRole: 'option',\n          listRole: 'listbox',\n          itemText: '',\n          groupItemRole: 'group',\n          wrapperRole: ''\n        },\n        showIcon: true,\n        fields: {\n          text: 'name',\n          iconCss: '_fm_icon',\n          imageUrl: '_fm_imageUrl',\n          htmlAttributes: '_fm_htmlAttr'\n        },\n        sortOrder: this.parent.sortOrder,\n        itemCreated: this.onItemCreated.bind(this),\n        enableHtmlSanitizer: this.parent.enableHtmlSanitizer\n      };\n      this.items = [];\n      this.items = this.renderList(args);\n      if (this.parent.sortComparer && this.parent.sortBy !== 'None') {\n        this.items = this.allItems = DataUtil.sort(this.items, this.parent.sortBy, this.comparer.bind(this));\n      } else {\n        this.items = this.allItems = getSortedData(this.parent, this.items);\n      }\n      iconsView.classList.remove(CLS.DISPLAY_NONE);\n      if (this.parent.enableVirtualization && this.allItems.length > 0) {\n        this.parent.virtualizationModule.setUIVirtualization();\n      }\n      this.listElements = ListBase.createListFromJson(createElement, this.items, this.listObj);\n      this.itemList = Array.prototype.slice.call(selectAll('.' + CLS.LIST_ITEM, this.listElements));\n      this.element.appendChild(this.listElements);\n      this.listElements.setAttribute('aria-label', 'listbox');\n      this.preventImgDrag();\n      this.createDragObj();\n      if (this.itemList.length === 0) {\n        var emptyList = this.element.querySelector('.' + CLS.LIST_PARENT);\n        this.element.removeChild(emptyList);\n        createEmptyElement(this.parent, this.element, args);\n      } else if (this.itemList.length !== 0 && this.element.querySelector('.' + CLS.EMPTY)) {\n        this.element.removeChild(this.element.querySelector('.' + CLS.EMPTY));\n      }\n      if (this.isPasteOperation === true) {\n        this.selectItems(this.parent.pasteNodes);\n        this.isPasteOperation = false;\n      }\n      /* istanbul ignore next */\n      if (this.uploadOperation === true) {\n        this.selectItems(this.parent.uploadItem);\n        this.parent.setProperties({\n          selectedItems: []\n        }, true);\n        this.count++;\n        if (this.count === this.parent.uploadItem.length) {\n          this.uploadOperation = false;\n          this.parent.uploadItem = [];\n        }\n      }\n      var activeEle = this.element.querySelectorAll('.' + CLS.ACTIVE);\n      if (activeEle.length !== 0) {\n        this.parent.activeModule = 'largeiconsview';\n      }\n      for (var i = 0; i < activeEle.length; i++) {\n        activeEle[i].setAttribute('aria-selected', 'true');\n      }\n      this.element.style.maxHeight = '100%';\n      this.getItemCount();\n      this.addEventListener();\n      this.wireEvents();\n      if (this.parent.enableVirtualization && this.allItems.length > 0) {\n        this.parent.virtualizationModule.setUlElementHeight();\n        this.parent.virtualizationModule.wireScrollEvent(false);\n      }\n      this.isRendered = true;\n      hideSpinner(this.parent.element);\n      if (this.parent.selectedItems.length) {\n        this.checkItem();\n      }\n    }\n  };\n  LargeIconsView.prototype.comparer = function (x, y) {\n    if (this.parent.sortOrder === 'Descending') {\n      var z = x;\n      x = y;\n      y = z;\n    }\n    return this.parent.sortComparer(x, y);\n  };\n  LargeIconsView.prototype.preventImgDrag = function () {\n    var i = 0;\n    while (i < this.itemList.length) {\n      if (this.itemList[i].querySelector('img')) {\n        /* istanbul ignore next */\n        this.itemList[i].ondragstart = function () {\n          return false;\n        };\n      }\n      i++;\n    }\n  };\n  LargeIconsView.prototype.createDragObj = function () {\n    var _this = this;\n    if (this.listObj) {\n      if (this.parent.allowDragAndDrop) {\n        if (this.dragObj) {\n          this.dragObj.destroy();\n        }\n        this.dragObj = new Draggable(this.listElements, {\n          enableTailMode: true,\n          distance: 5,\n          enableAutoScroll: false,\n          dragTarget: '.' + CLS.LARGE_ICON,\n          helper: this.dragHelper.bind(this),\n          cursorAt: this.parent.dragCursorPosition,\n          dragArea: this.parent.element,\n          dragStop: dragStopHandler.bind(this, this.parent),\n          drag: draggingHandler.bind(this, this.parent),\n          clone: true,\n          dragStart: function (args) {\n            dragStartHandler(_this.parent, args, _this.dragObj);\n          }\n        });\n      } else if (this.dragObj && !this.parent.allowDragAndDrop) {\n        this.dragObj.destroy();\n      }\n    }\n  };\n  LargeIconsView.prototype.dragHelper = function (args) {\n    var dragTarget = args.sender.target;\n    var dragLi = closest(dragTarget, '.e-list-item');\n    if (!dragLi) {\n      return null;\n    }\n    if (dragLi && !dragLi.classList.contains('e-active')) {\n      this.setFocus(dragLi);\n    }\n    var activeEle = this.element.querySelectorAll('.' + CLS.ACTIVE);\n    this.parent.activeElements = [];\n    this.parent.dragData = [];\n    for (var i = 0; i < activeEle.length; i++) {\n      this.parent.dragData.push(this.getItemObject(activeEle[parseInt(i.toString(), 10)]));\n      this.parent.activeElements.push(activeEle[i]);\n    }\n    getModule(this.parent, dragLi);\n    this.parent.dragPath = this.parent.path;\n    createVirtualDragElement(this.parent);\n    return this.parent.virtualDragElement;\n  };\n  LargeIconsView.prototype.onDropInit = function (args) {\n    if (this.parent.targetModule === this.getModuleName()) {\n      var dropLi = closest(args.target, '.e-list-item');\n      var cwdData = getValue(this.parent.pathId[this.parent.pathId.length - 1], this.parent.feParent);\n      if (dropLi) {\n        var info = this.getItemObject(dropLi);\n        this.parent.dropPath = info.isFile ? this.parent.path : getFullPath(this.parent, info, this.parent.path);\n        this.parent.dropData = info.isFile ? cwdData : info;\n      } else {\n        this.parent.dropPath = this.parent.path;\n        this.parent.dropData = cwdData;\n      }\n    }\n  };\n  /**\n   * For internal use only - Get the module name.\n   *\n   * @returns {string} - returns the module name.\n   * @private\n   */\n  LargeIconsView.prototype.getModuleName = function () {\n    return 'largeiconsview';\n  };\n  LargeIconsView.prototype.onItemCreated = function (args) {\n    args.item.removeAttribute('aria-level');\n    if (!this.parent.showFileExtension && getValue('isFile', args.curData)) {\n      var textEle = args.item.querySelector('.' + CLS.LIST_TEXT);\n      var txt = getValue('name', args.curData);\n      var type = getValue('type', args.curData);\n      if (txt.indexOf(type) !== -1) {\n        textEle.innerHTML = txt.substr(0, txt.length - type.length);\n      }\n    }\n    this.renderCheckbox(args);\n    var eventArgs = {\n      element: args.item,\n      fileDetails: args.curData,\n      module: 'LargeIconsView'\n    };\n    this.parent.trigger('fileLoad', eventArgs);\n  };\n  LargeIconsView.prototype.renderCheckbox = function (args) {\n    if (!this.parent.showItemCheckBoxes) {\n      return;\n    }\n    var checkElement = createCheckBox(createElement, false, {\n      checked: false,\n      cssClass: 'e-small'\n    });\n    checkElement.setAttribute('role', 'checkbox');\n    checkElement.setAttribute('aria-checked', 'false');\n    checkElement.setAttribute('aria-label', 'checkbox');\n    args.item.firstElementChild.insertBefore(checkElement, args.item.firstElementChild.childNodes[0]);\n  };\n  LargeIconsView.prototype.onLayoutChange = function (args) {\n    if (this.parent.view === 'LargeIcons') {\n      this.destroy();\n      if (this.parent.enableVirtualization) {\n        this.parent.setProperties({\n          selectedItems: []\n        }, true);\n      }\n      this.render(args);\n      /* istanbul ignore next */\n      if (getValue('name', args) === 'layout-change' && this.parent.fileAction === 'move' && this.parent.isCut && this.parent.selectedNodes && this.parent.selectedNodes.length !== 0) {\n        var indexes = this.getIndexes(this.parent.selectedNodes);\n        var length_1 = 0;\n        while (length_1 < indexes.length) {\n          addBlur(this.itemList[indexes[length_1]]);\n          length_1++;\n        }\n      }\n      var activeEle = this.element.querySelectorAll('.' + CLS.ACTIVE);\n      if (activeEle.length !== 0) {\n        this.element.focus();\n      }\n      this.checkItem();\n      this.parent.isLayoutChange = false;\n    } else {\n      this.element.setAttribute('tabindex', '-1');\n    }\n  };\n  LargeIconsView.prototype.checkItem = function () {\n    var checkEle = this.element.querySelectorAll('.' + CLS.ACTIVE);\n    if (checkEle) {\n      var checkLength = 0;\n      while (checkLength < checkEle.length) {\n        this.checkState(checkEle[checkLength], true);\n        checkLength++;\n      }\n    }\n  };\n  LargeIconsView.prototype.renderList = function (args) {\n    var i = 0;\n    var items = JSON.parse(JSON.stringify(args.files));\n    while (i < items.length) {\n      var icon = fileType(items[i]);\n      var name_1 = getValue('name', items[i]);\n      var selected = getItemName(this.parent, items[i]);\n      var className = this.parent.selectedItems && this.parent.selectedItems.indexOf(selected) !== -1 ? CLS.LARGE_ICON + ' e-active' : CLS.LARGE_ICON;\n      if (!hasEditAccess(items[i])) {\n        className += ' ' + getAccessClass(items[i]);\n      }\n      if (icon === CLS.ICON_IMAGE && this.parent.showThumbnail && hasReadAccess(items[i])) {\n        var imgUrl = getImageUrl(this.parent, items[i]);\n        setValue('_fm_imageUrl', imgUrl, items[i]);\n        setValue('_fm_imageAttr', {\n          alt: name_1\n        }, items[i]);\n      } else {\n        setValue('_fm_icon', icon, items[i]);\n      }\n      setValue('_fm_htmlAttr', {\n        class: className,\n        title: name_1\n      }, items[i]);\n      i++;\n    }\n    return items;\n  };\n  LargeIconsView.prototype.onFinalizeEnd = function (args) {\n    this.render(args);\n  };\n  LargeIconsView.prototype.onCreateEnd = function (args) {\n    if (this.parent.view !== 'LargeIcons') {\n      return;\n    }\n    this.onLayoutChange(args);\n    this.clearSelect();\n    this.selectItems([getValue(this.parent.hasId ? 'id' : 'name', this.parent.createdItem)]);\n    this.parent.createdItem = null;\n    this.parent.largeiconsviewModule.element.focus();\n    this.parent.activeModule = 'largeiconsview';\n  };\n  LargeIconsView.prototype.onSelectedData = function () {\n    if (this.parent.activeModule === 'largeiconsview') {\n      this.updateSelectedData();\n    }\n  };\n  LargeIconsView.prototype.onDeleteInit = function () {\n    if (this.parent.activeModule === 'largeiconsview') {\n      Delete(this.parent, this.parent.selectedItems, this.parent.path, 'delete');\n    }\n  };\n  /* istanbul ignore next */\n  LargeIconsView.prototype.onDeleteEnd = function (args) {\n    if (this.parent.view !== 'LargeIcons') {\n      return;\n    }\n    this.onLayoutChange(args);\n    this.parent.setProperties({\n      selectedItems: []\n    }, true);\n    this.clearSelect();\n  };\n  LargeIconsView.prototype.onRefreshEnd = function (args) {\n    if (this.parent.view !== 'LargeIcons') {\n      return;\n    }\n    this.onLayoutChange(args);\n  };\n  LargeIconsView.prototype.onRenameInit = function () {\n    if (this.parent.activeModule === 'largeiconsview' && this.parent.selectedItems.length === 1) {\n      this.updateRenameData();\n    }\n  };\n  LargeIconsView.prototype.onPathChanged = function (args) {\n    this.parent.isCut = false;\n    /* istanbul ignore next */\n    if (this.parent.breadcrumbbarModule.searchObj.element.value === '') {\n      this.parent.searchedItems = [];\n    }\n    if (this.parent.view === 'LargeIcons') {\n      removeBlur(this.parent);\n      this.parent.setProperties({\n        selectedItems: []\n      }, true);\n      this.onLayoutChange(args);\n      if (this.parent.renamedItem && this.parent.activeModule === 'largeiconsview') {\n        this.clearSelect();\n        this.addSelection(this.parent.renamedItem);\n      }\n    }\n  };\n  LargeIconsView.prototype.onOpenInit = function (args) {\n    if (this.parent.activeModule === 'largeiconsview') {\n      this.doOpenAction(args.target);\n    }\n  };\n  LargeIconsView.prototype.onHideLayout = function () {\n    if (this.parent.view !== 'LargeIcons' && this.element) {\n      this.element.classList.add(CLS.DISPLAY_NONE);\n    }\n  };\n  LargeIconsView.prototype.onSelectAllInit = function () {\n    if (this.parent.view === 'LargeIcons') {\n      this.startItem = this.getFirstItem();\n      var lastItem = this.getLastItem();\n      var eveArgs = {\n        ctrlKey: true,\n        shiftKey: true\n      };\n      this.doSelection(lastItem, eveArgs);\n      this.isInteraction = true;\n      this.isInteracted = true;\n    }\n  };\n  LargeIconsView.prototype.onClearAllInit = function () {\n    if (this.parent.view === 'LargeIcons') {\n      this.clearSelection();\n      this.isInteraction = true;\n      this.isInteracted = true;\n    }\n  };\n  LargeIconsView.prototype.onBeforeRequest = function () {\n    this.isRendered = false;\n  };\n  LargeIconsView.prototype.onAfterRequest = function () {\n    this.isRendered = true;\n  };\n  /* istanbul ignore next */\n  LargeIconsView.prototype.onSearch = function (args) {\n    if (this.parent.view === 'LargeIcons') {\n      this.parent.setProperties({\n        selectedItems: []\n      }, true);\n      this.parent.notify(events.selectionChanged, {});\n      this.parent.searchedItems = args.files;\n      this.onLayoutChange(args);\n    }\n  };\n  LargeIconsView.prototype.onLayoutRefresh = function () {\n    if (this.parent.view !== 'LargeIcons') {\n      return;\n    }\n  };\n  LargeIconsView.prototype.onUpdateSelectionData = function () {\n    if (this.parent.view !== 'LargeIcons') {\n      return;\n    }\n    this.updateSelectedData();\n  };\n  LargeIconsView.prototype.onPathColumn = function () {\n    if (this.parent.view === 'LargeIcons' && !isNOU(this.listObj) && this.parent.breadcrumbbarModule.searchObj.element.value === '' && !this.parent.isFiltered && this.parent.sortBy === 'filterPath') {\n      this.parent.sortBy = 'name';\n      this.parent.notify(events.sortByChange, {});\n    }\n  };\n  LargeIconsView.prototype.removeEventListener = function () {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n    this.parent.off(events.pathColumn, this.onPathColumn);\n    this.parent.off(events.finalizeEnd, this.onFinalizeEnd);\n    this.parent.off(events.createEnd, this.onCreateEnd);\n    this.parent.off(events.selectedData, this.onSelectedData);\n    this.parent.off(events.deleteInit, this.onDeleteInit);\n    this.parent.off(events.deleteEnd, this.onDeleteEnd);\n    this.parent.off(events.refreshEnd, this.onRefreshEnd);\n    this.parent.off(events.pathChanged, this.onPathChanged);\n    this.parent.off(events.layoutChange, this.onLayoutChange);\n    this.parent.off(events.search, this.onSearch);\n    this.parent.off(events.openInit, this.onOpenInit);\n    this.parent.off(events.openEnd, this.onPathChanged);\n    this.parent.off(events.modelChanged, this.onPropertyChanged);\n    this.parent.off(events.methodCall, this.onMethodCall);\n    this.parent.off(events.actionFailure, this.onActionFailure);\n    this.parent.off(events.renameInit, this.onRenameInit);\n    this.parent.off(events.renameEnd, this.onPathChanged);\n    this.parent.off(events.hideLayout, this.onHideLayout);\n    this.parent.off(events.selectAllInit, this.onSelectAllInit);\n    this.parent.off(events.clearAllInit, this.onClearAllInit);\n    this.parent.off(events.menuItemData, this.onMenuItemData);\n    this.parent.off(events.beforeRequest, this.onBeforeRequest);\n    this.parent.off(events.afterRequest, this.onAfterRequest);\n    this.parent.off(events.splitterResize, this.splitterResizeHandler);\n    this.parent.off(events.resizeEnd, this.resizeHandler);\n    this.parent.off(events.pasteInit, this.onpasteInit);\n    this.parent.off(events.pasteEnd, this.onpasteEnd);\n    this.parent.off(events.cutCopyInit, this.oncutCopyInit);\n    this.parent.off(events.dropInit, this.onDropInit);\n    this.parent.off(events.detailsInit, this.onDetailsInit);\n    this.parent.off(events.layoutRefresh, this.onLayoutRefresh);\n    this.parent.off(events.dropPath, this.onDropPath);\n    this.parent.off(events.updateSelectionData, this.onUpdateSelectionData);\n    this.parent.off(events.filterEnd, this.onPathChanged);\n  };\n  LargeIconsView.prototype.addEventListener = function () {\n    this.parent.on(events.pathColumn, this.onPathColumn, this);\n    this.parent.on(events.finalizeEnd, this.onFinalizeEnd, this);\n    this.parent.on(events.createEnd, this.onCreateEnd, this);\n    this.parent.on(events.refreshEnd, this.onRefreshEnd, this);\n    this.parent.on(events.selectedData, this.onSelectedData, this);\n    this.parent.on(events.pathChanged, this.onPathChanged, this);\n    this.parent.on(events.deleteInit, this.onDeleteInit, this);\n    this.parent.on(events.pasteInit, this.onpasteInit, this);\n    this.parent.on(events.deleteEnd, this.onDeleteEnd, this);\n    this.parent.on(events.layoutChange, this.onLayoutChange, this);\n    this.parent.on(events.search, this.onSearch, this);\n    this.parent.on(events.openInit, this.onOpenInit, this);\n    this.parent.on(events.renameInit, this.onRenameInit, this);\n    this.parent.on(events.renameEnd, this.onPathChanged, this);\n    this.parent.on(events.openEnd, this.onPathChanged, this);\n    this.parent.on(events.modelChanged, this.onPropertyChanged, this);\n    this.parent.on(events.methodCall, this.onMethodCall, this);\n    this.parent.on(events.actionFailure, this.onActionFailure, this);\n    this.parent.on(events.hideLayout, this.onHideLayout, this);\n    this.parent.on(events.selectAllInit, this.onSelectAllInit, this);\n    this.parent.on(events.clearAllInit, this.onClearAllInit, this);\n    this.parent.on(events.menuItemData, this.onMenuItemData, this);\n    this.parent.on(events.beforeRequest, this.onBeforeRequest, this);\n    this.parent.on(events.afterRequest, this.onAfterRequest, this);\n    this.parent.on(events.dropInit, this.onDropInit, this);\n    this.parent.on(events.detailsInit, this.onDetailsInit, this);\n    this.parent.on(events.splitterResize, this.splitterResizeHandler, this);\n    this.parent.on(events.resizeEnd, this.resizeHandler, this);\n    this.parent.on(events.pasteEnd, this.onpasteEnd, this);\n    this.parent.on(events.cutCopyInit, this.oncutCopyInit, this);\n    this.parent.on(events.layoutRefresh, this.onLayoutRefresh, this);\n    this.parent.on(events.dropPath, this.onDropPath, this);\n    this.parent.on(events.updateSelectionData, this.onUpdateSelectionData, this);\n    this.parent.on(events.filterEnd, this.onPathChanged, this);\n  };\n  LargeIconsView.prototype.onActionFailure = function () {\n    this.isInteraction = true;\n    this.isInteracted = true;\n  };\n  LargeIconsView.prototype.onMenuItemData = function (args) {\n    if (this.parent.activeModule === this.getModuleName()) {\n      var ele = closest(args.target, 'li');\n      this.parent.itemData = [this.getItemObject(ele)];\n    }\n  };\n  LargeIconsView.prototype.onDetailsInit = function () {\n    if (this.parent.activeModule === this.getModuleName()) {\n      if (this.parent.selectedItems.length !== 0) {\n        this.updateSelectedData();\n      } else {\n        this.parent.itemData = [getValue(this.parent.pathId[this.parent.pathId.length - 1], this.parent.feParent)];\n      }\n    }\n  };\n  LargeIconsView.prototype.onpasteInit = function () {\n    if (this.parent.activeModule === this.getModuleName()) {\n      this.parent.itemData = this.parent.folderPath === '' ? [getPathObject(this.parent)] : [this.getItemObject(select('.e-active', this.element))];\n    }\n  };\n  LargeIconsView.prototype.oncutCopyInit = function () {\n    if (this.parent.activeModule === this.getModuleName()) {\n      var activeEle = this.element.querySelectorAll('.' + CLS.ACTIVE);\n      this.parent.activeRecords = [];\n      this.parent.activeElements = [];\n      for (var i = 0; i < activeEle.length; i++) {\n        this.parent.activeElements.push(activeEle[i]);\n        this.parent.activeRecords.push(this.getItemObject(activeEle[i]));\n      }\n    }\n  };\n  LargeIconsView.prototype.onpasteEnd = function (args) {\n    if (this.parent.view === 'LargeIcons') {\n      this.isPasteOperation = true;\n      if (this.parent.path === this.parent.destinationPath || this.parent.path === getDirectoryPath(this.parent, args) || this.parent.hasId) {\n        this.onPathChanged(args);\n      }\n    }\n  };\n  LargeIconsView.prototype.onDropPath = function (args) {\n    if (this.parent.view === 'LargeIcons') {\n      this.isPasteOperation = true;\n      this.onPathChanged(args);\n    }\n  };\n  LargeIconsView.prototype.onPropertyChanged = function (e) {\n    var currentSelected;\n    if (e.module !== this.getModuleName() && e.module !== 'common') {\n      return;\n    }\n    for (var _i = 0, _a = Object.keys(e.newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n      switch (prop) {\n        case 'allowDragAndDrop':\n          this.createDragObj();\n          break;\n        case 'selectedItems':\n          this.isInteraction = false;\n          this.isInteracted = false;\n          currentSelected = isNOU(this.parent.selectedItems) ? [] : this.parent.selectedItems.slice(0);\n          currentSelected = this.parent.allowMultiSelection ? currentSelected : currentSelected.slice(currentSelected.length - 1);\n          this.parent.setProperties({\n            selectedItems: []\n          }, true);\n          this.onClearAllInit();\n          if (currentSelected.length) {\n            this.selectItems(currentSelected);\n          }\n          this.parent.setProperties({\n            selectedItems: this.parent.selectedItems\n          }, true);\n          this.isInteraction = true;\n          this.isInteracted = true;\n          break;\n        case 'showThumbnail':\n          refresh(this.parent);\n          break;\n        case 'showFileExtension':\n          read(this.parent, events.pathChanged, this.parent.path);\n          break;\n        case 'showHiddenItems':\n          read(this.parent, events.pathChanged, this.parent.path);\n          break;\n        case 'allowMultiSelection':\n        case 'showItemCheckBoxes':\n          if (this.parent.view !== 'LargeIcons') {\n            break;\n          }\n          refresh(this.parent);\n          break;\n        case 'view':\n          updateLayout(this.parent, 'LargeIcons');\n          break;\n      }\n    }\n  };\n  LargeIconsView.prototype.destroy = function () {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n    this.removeEventListener();\n    if (this.listObj) {\n      this.unWireEvents();\n    }\n    this.startItem = null;\n    this.listElements = null;\n  };\n  LargeIconsView.prototype.wireEvents = function () {\n    this.wireClickEvent(true);\n    this.keyboardModule = new KeyboardEvents(this.element, {\n      keyAction: this.keyActionHandler.bind(this),\n      keyConfigs: this.keyConfigs,\n      eventName: 'keyup'\n    });\n    this.keyboardDownModule = new KeyboardEvents(this.element, {\n      keyAction: this.keydownActionHandler.bind(this),\n      keyConfigs: this.keyConfigs,\n      eventName: 'keydown'\n    });\n    EventHandler.add(this.element, 'mouseover', this.onMouseOver, this);\n  };\n  LargeIconsView.prototype.unWireEvents = function () {\n    this.wireClickEvent(false);\n    EventHandler.remove(this.element, 'mouseover', this.onMouseOver);\n    this.keyboardModule.destroy();\n    this.keyboardDownModule.destroy();\n  };\n  /* istanbul ignore next */\n  LargeIconsView.prototype.onMouseOver = function (e) {\n    var targetEle = closest(e.target, '.e-list-item');\n    removeBlur(this.parent, 'hover');\n    if (targetEle !== null) {\n      targetEle.classList.add(CLS.HOVER);\n    }\n  };\n  LargeIconsView.prototype.wireClickEvent = function (toBind) {\n    var _this = this;\n    if (toBind) {\n      this.clickObj = new Touch(this.element, {\n        tap: function (eve) {\n          if (_this.parent.isDevice) {\n            _this.tapCount = eve.tapCount;\n            _this.tapEvent = eve;\n            setTimeout(function () {\n              if (_this.tapCount > 0) {\n                _this.doTapAction(_this.tapEvent);\n              }\n              _this.tapCount = 0;\n            }, 350);\n          } else {\n            if (eve.tapCount === 2 && eve.originalEvent.which !== 3) {\n              _this.dblClickHandler(eve);\n            } else {\n              _this.clickHandler(eve);\n            }\n          }\n        },\n        tapHold: function (e) {\n          if (_this.parent.isDevice) {\n            _this.multiSelect = _this.parent.allowMultiSelection ? true : false;\n            if (_this.parent.allowMultiSelection) {\n              addClass([_this.parent.element], CLS.MULTI_SELECT);\n            }\n            _this.clickHandler(e);\n          }\n        }\n      });\n    } else {\n      if (this.clickObj) {\n        this.clickObj.destroy();\n      }\n    }\n  };\n  LargeIconsView.prototype.doTapAction = function (eve) {\n    var target = eve.originalEvent.target;\n    var item = closest(target, '.' + CLS.LIST_ITEM);\n    if (this.multiSelect || target.classList.contains(CLS.LIST_PARENT) || isNOU(item)) {\n      this.clickHandler(eve);\n    } else {\n      this.parent.isFile = false;\n      this.updateType(item);\n      if (!this.parent.isFile) {\n        this.dblClickHandler(eve);\n      } else if (eve.tapCount === 2) {\n        this.clickHandler(eve);\n        this.dblClickHandler(eve);\n      } else {\n        this.clickHandler(eve);\n      }\n    }\n  };\n  LargeIconsView.prototype.clickHandler = function (e) {\n    var target = e.originalEvent.target;\n    removeBlur(this.parent, 'hover');\n    this.doSelection(target, e.originalEvent);\n    this.parent.activeModule = 'largeiconsview';\n  };\n  /**\n   *\n   * @param {Element} target - specifies the target element.\n   * @param {TouchEventArgs | MouseEventArgs | KeyboardEventArgs} e - specifies event arguements.\n   * @returns {void}\n   * @hidden\n   */\n  LargeIconsView.prototype.doSelection = function (target, e) {\n    var item = closest(target, '.' + CLS.LIST_ITEM);\n    var cList = target.classList;\n    this.parent.isFile = false;\n    var action = 'select';\n    if (e.which === 3 && !isNOU(item) && item.classList.contains(CLS.ACTIVE)) {\n      this.addActive(item);\n      this.updateType(item);\n      return;\n    } else if (!isNOU(item)) {\n      if (this.parent.allowMultiSelection && item.classList.contains(CLS.ACTIVE) && (e.ctrlKey || target.classList.contains(CLS.CHECK))) {\n        action = 'unselect';\n      }\n      if (e.ctrlKey && e.shiftKey) {\n        this.isSelectAllCalled = true;\n      }\n      var fileSelectionArgs = this.triggerSelection(action, item);\n      if (fileSelectionArgs.cancel !== true) {\n        if ((!this.parent.allowMultiSelection || !this.multiSelect && e && !e.ctrlKey) && !cList.contains(CLS.FRAME)) {\n          this.updateType(item);\n          this.clearSelect();\n        }\n        if (this.parent.allowMultiSelection && e.shiftKey) {\n          if (!(e && e.ctrlKey)) {\n            this.clearSelect();\n          }\n          if (!this.startItem) {\n            this.startItem = item;\n          }\n          var startIndex = this.itemList.indexOf(this.startItem);\n          var endIndex = this.itemList.indexOf(item);\n          if (startIndex > endIndex) {\n            for (var i = startIndex; i >= endIndex; i--) {\n              this.addActive(this.itemList[i]);\n            }\n          } else {\n            for (var i = startIndex; i <= endIndex; i++) {\n              this.addActive(this.itemList[i]);\n            }\n          }\n          this.addFocus(this.itemList[endIndex]);\n        } else {\n          this.startItem = item;\n          if (this.parent.allowMultiSelection && item.classList.contains(CLS.ACTIVE)) {\n            this.removeActive(item);\n          } else {\n            this.addActive(item);\n          }\n          this.addFocus(item);\n        }\n        if (this.parent.selectedItems.length === 0) {\n          this.resetMultiSelect();\n        }\n        this.parent.notify(events.selectionChanged, {});\n        this.triggerSelect(action, item);\n      }\n    } else {\n      if (this.parent.selectedItems.length === this.itemList.length) {\n        this.isSelectAllCalled = true;\n      }\n      this.clearSelection();\n    }\n    if (!isNOU(item)) {\n      this.isSelectAllCalled = false;\n      this.updateType(item);\n    }\n  };\n  LargeIconsView.prototype.dblClickHandler = function (e) {\n    this.parent.activeModule = 'largeiconsview';\n    var target = e.originalEvent.target;\n    this.doOpenAction(target);\n  };\n  LargeIconsView.prototype.clearSelection = function () {\n    this.clearSelect();\n    this.resetMultiSelect();\n    this.parent.notify(events.selectionChanged, {});\n  };\n  LargeIconsView.prototype.resetMultiSelect = function () {\n    this.multiSelect = false;\n    removeClass([this.parent.element], CLS.MULTI_SELECT);\n  };\n  LargeIconsView.prototype.doOpenAction = function (target) {\n    var _this = this;\n    if (isNOU(target)) {\n      return;\n    }\n    var item = closest(target, '.' + CLS.LIST_ITEM);\n    this.parent.isFile = false;\n    if (!isNOU(item)) {\n      this.updateType(item);\n      var details_1 = this.getItemObject(item);\n      if (!hasReadAccess(details_1)) {\n        createDeniedDialog(this.parent, details_1, events.permissionRead);\n        return;\n      }\n      var eventArgs = {\n        cancel: false,\n        fileDetails: details_1,\n        module: 'LargeIconsView'\n      };\n      this.parent.trigger('fileOpen', eventArgs, function (fileOpenArgs) {\n        if (!fileOpenArgs.cancel) {\n          var text = getValue('name', details_1);\n          if (!_this.parent.isFile) {\n            var val = _this.parent.breadcrumbbarModule.searchObj.element.value;\n            if (val === '' && !_this.parent.isFiltered) {\n              var id = getValue('id', details_1);\n              _this.parent.oldPath = _this.parent.path;\n              var newPath = _this.parent.path + (isNOU(id) ? text : id) + '/';\n              _this.parent.setProperties({\n                path: newPath\n              }, true);\n              _this.parent.pathNames.push(text);\n              _this.parent.pathId.push(getValue('_fm_id', details_1));\n              _this.parent.itemData = [details_1];\n              openAction(_this.parent);\n            } else {\n              openSearchFolder(_this.parent, details_1);\n            }\n            _this.parent.isFiltered = false;\n            _this.parent.setProperties({\n              selectedItems: []\n            }, true);\n          } else {\n            var icon = fileType(details_1);\n            if (icon === CLS.ICON_IMAGE) {\n              var imgUrl = getImageUrl(_this.parent, details_1);\n              createImageDialog(_this.parent, text, imgUrl);\n            }\n          }\n        }\n      });\n    }\n  };\n  LargeIconsView.prototype.updateType = function (item) {\n    var folder = select('.' + CLS.FOLDER, item);\n    this.parent.isFile = isNOU(folder) ? true : false;\n  };\n  /* istanbul ignore next */\n  LargeIconsView.prototype.keydownActionHandler = function (e) {\n    if (!this.isRendered) {\n      return;\n    }\n    switch (e.action) {\n      case 'end':\n      case 'home':\n      case 'moveDown':\n      case 'moveLeft':\n      case 'moveRight':\n      case 'moveUp':\n      case 'ctrlEnd':\n      case 'shiftEnd':\n      case 'csEnd':\n      case 'ctrlHome':\n      case 'shiftHome':\n      case 'csHome':\n      case 'ctrlDown':\n      case 'shiftDown':\n      case 'csDown':\n      case 'ctrlLeft':\n      case 'shiftLeft':\n      case 'csLeft':\n      case 'ctrlRight':\n      case 'shiftRight':\n      case 'csRight':\n      case 'space':\n      case 'ctrlSpace':\n      case 'shiftSpace':\n      case 'csSpace':\n      case 'ctrlA':\n      case 'enter':\n      case 'altEnter':\n      case 'esc':\n      case 'del':\n      case 'shiftdel':\n      case 'ctrlC':\n      case 'ctrlV':\n      case 'ctrlX':\n      case 'f2':\n      case 'ctrlD':\n        e.preventDefault();\n        break;\n      default:\n        break;\n    }\n  };\n  /* istanbul ignore next */\n  LargeIconsView.prototype.keyActionHandler = function (e) {\n    var _this = this;\n    if (!this.isRendered) {\n      return;\n    }\n    var fItem = this.getFocusedItem();\n    var firstItem = this.getFirstItem();\n    var lastItem = this.getLastItem();\n    switch (e.action) {\n      case 'end':\n        if (this.parent.enableVirtualization) {\n          this.clearSelect();\n          this.element.firstElementChild.scrollTo(0, this.element.firstElementChild.scrollHeight);\n          setTimeout(function () {\n            _this.navigateItem(_this.itemList[_this.itemList.length - 1]);\n          }, 10);\n        } else {\n          this.navigateItem(lastItem);\n        }\n        break;\n      case 'home':\n        if (this.parent.enableVirtualization) {\n          this.clearSelect();\n          this.element.firstElementChild.scrollTop = 0;\n          setTimeout(function () {\n            _this.navigateItem(_this.itemList[0]);\n          }, 10);\n        } else {\n          this.navigateItem(firstItem);\n        }\n        break;\n      case 'tab':\n        if (!isNOU(fItem)) {\n          this.addFocus(fItem);\n        } else if (!isNOU(firstItem)) {\n          this.addFocus(firstItem);\n        }\n        break;\n      case 'moveDown':\n        this.navigateDown(fItem, true);\n        break;\n      case 'moveLeft':\n        this.navigateRight(fItem, false);\n        break;\n      case 'moveRight':\n        this.navigateRight(fItem, true);\n        break;\n      case 'moveUp':\n        this.navigateDown(fItem, false);\n        break;\n      case 'ctrlEnd':\n      case 'shiftEnd':\n      case 'csEnd':\n        this.csEndKey(lastItem, e);\n        break;\n      case 'ctrlHome':\n      case 'shiftHome':\n      case 'csHome':\n        this.csHomeKey(firstItem, e);\n        break;\n      case 'ctrlDown':\n      case 'shiftDown':\n      case 'csDown':\n        this.csDownKey(fItem, e);\n        break;\n      case 'ctrlLeft':\n      case 'shiftLeft':\n      case 'csLeft':\n        this.csLeftKey(fItem, e);\n        break;\n      case 'ctrlRight':\n      case 'shiftRight':\n      case 'csRight':\n        this.csRightKey(fItem, e);\n        break;\n      case 'ctrlUp':\n      case 'shiftUp':\n      case 'csUp':\n        this.csUpKey(fItem, e);\n        break;\n      case 'space':\n        this.spaceKey(fItem);\n        break;\n      case 'ctrlSpace':\n      case 'shiftSpace':\n      case 'csSpace':\n        if (!isNOU(fItem)) {\n          this.doSelection(fItem, e);\n        }\n        break;\n      case 'ctrlA':\n        this.ctrlAKey(firstItem, lastItem);\n        break;\n      case 'enter':\n        this.doOpenAction(this.parent.visitedItem ? this.parent.visitedItem : this.getVisitedItem());\n        break;\n      case 'altEnter':\n        this.parent.notify(events.detailsInit, {});\n        GetDetails(this.parent, this.parent.selectedItems, this.parent.path, 'details');\n        break;\n      case 'esc':\n        removeActive(this.parent);\n        break;\n      case 'del':\n      case 'shiftdel':\n        this.performDelete();\n        break;\n      case 'ctrlC':\n        copyFiles(this.parent);\n        break;\n      case 'ctrlV':\n        this.parent.folderPath = '';\n        pasteHandler(this.parent);\n        break;\n      case 'ctrlX':\n        cutFiles(this.parent);\n        break;\n      case 'f2':\n        this.performRename();\n        break;\n      case 'ctrlD':\n        this.doDownload();\n        break;\n      case 'back':\n        this.parent.traverseBackward();\n        break;\n    }\n  };\n  LargeIconsView.prototype.doDownload = function () {\n    this.updateSelectedData();\n    doDownload(this.parent);\n  };\n  LargeIconsView.prototype.performDelete = function () {\n    if (this.parent.selectedItems && this.parent.selectedItems.length > 0) {\n      this.updateSelectedData();\n      var data = this.parent.itemData;\n      for (var i = 0; i < data.length; i++) {\n        if (!hasEditAccess(data[i])) {\n          createDeniedDialog(this.parent, data[i], events.permissionEdit);\n          return;\n        }\n      }\n      createDialog(this.parent, 'Delete');\n    }\n  };\n  LargeIconsView.prototype.performRename = function () {\n    if (this.parent.selectedItems.length === 1) {\n      this.updateRenameData();\n      doRename(this.parent);\n    }\n  };\n  LargeIconsView.prototype.updateRenameData = function () {\n    var item = select('.' + CLS.LIST_ITEM + '.' + CLS.ACTIVE, this.element);\n    var data = this.getItemObject(item);\n    updateRenamingData(this.parent, data);\n  };\n  LargeIconsView.prototype.getVisitedItem = function () {\n    var item = this.parent.selectedItems[this.parent.selectedItems.length - 1];\n    var indexes = this.getIndexes([item], this.parent.hasId);\n    return this.itemList[indexes[0]];\n  };\n  LargeIconsView.prototype.getFocusedItem = function () {\n    return select('.' + CLS.LIST_ITEM + '.' + CLS.FOCUS, this.element);\n  };\n  LargeIconsView.prototype.getActiveItem = function () {\n    return select('.' + CLS.LIST_ITEM + '.' + CLS.ACTIVE, this.element);\n  };\n  LargeIconsView.prototype.getFirstItem = function () {\n    return this.itemList[0];\n  };\n  LargeIconsView.prototype.getLastItem = function () {\n    return this.itemList[this.itemList.length - 1];\n  };\n  LargeIconsView.prototype.navigateItem = function (item) {\n    this.setFocus(item);\n  };\n  LargeIconsView.prototype.navigateDown = function (fItem, isTowards) {\n    var nItem = this.getNextItem(fItem, isTowards, this.perRow);\n    this.setFocus(nItem);\n  };\n  LargeIconsView.prototype.navigateRight = function (fItem, isTowards) {\n    var nItem = this.getNextItem(fItem, isTowards);\n    this.setFocus(nItem);\n  };\n  LargeIconsView.prototype.getNextItem = function (li, isTowards, perRow) {\n    if (isNOU(li)) {\n      return this.getFocusedItem() || this.getActiveItem() || this.getFirstItem();\n    }\n    var index = this.itemList.indexOf(li);\n    var nextItem;\n    do {\n      if (isTowards) {\n        index = perRow ? index + perRow : index + 1;\n      } else {\n        index = perRow ? index - perRow : index - 1;\n      }\n      nextItem = this.itemList[index];\n      if (this.parent.enableVirtualization && isNOU(nextItem)) {\n        var marginValue = parseInt(window.getComputedStyle(this.itemList[0]).getPropertyValue('margin-top'), 10) + parseInt(window.getComputedStyle(this.itemList[0]).getPropertyValue('margin-bottom'), 10);\n        var scrollHeight = this.itemList[0].getBoundingClientRect().height + marginValue;\n        this.element.firstElementChild.scrollTo(this.element.firstElementChild.scrollTop, this.element.firstElementChild.scrollTop + scrollHeight);\n      }\n      if (isNOU(nextItem)) {\n        return li;\n      }\n    } while (!isVisible(nextItem));\n    return nextItem;\n  };\n  LargeIconsView.prototype.setFocus = function (nextItem) {\n    if (!isNOU(nextItem)) {\n      var fileSelectionArgs = this.triggerSelection('select', nextItem);\n      if (fileSelectionArgs.cancel !== true) {\n        this.startItem = nextItem;\n        this.clearSelect();\n        this.addActive(nextItem);\n        this.addFocus(nextItem);\n        this.parent.notify(events.selectionChanged, {});\n        this.triggerSelect('select', nextItem);\n      }\n    }\n  };\n  LargeIconsView.prototype.spaceKey = function (fItem) {\n    if (!isNOU(fItem) && !fItem.classList.contains(CLS.ACTIVE)) {\n      var fileSelectionArgs = this.triggerSelection('select', fItem);\n      if (fileSelectionArgs.cancel !== true) {\n        this.addActive(fItem);\n        this.parent.notify(events.selectionChanged, {});\n        this.triggerSelect('select', fItem);\n      }\n    }\n  };\n  LargeIconsView.prototype.ctrlAKey = function (firstItem, lastItem) {\n    if (this.parent.allowMultiSelection && !isNOU(firstItem)) {\n      this.startItem = firstItem;\n      var eveArgs = {\n        ctrlKey: true,\n        shiftKey: true\n      };\n      var liParent = this.element.querySelector('.' + CLS.LIST_PARENT);\n      var liScrPos = liParent.scrollTop;\n      var getCurFocusedItem = this.getFocusedItem();\n      this.doSelection(lastItem, eveArgs);\n      liParent.scrollTop = liScrPos;\n      if (!isNOU(getCurFocusedItem)) {\n        this.addFocus(getCurFocusedItem);\n      }\n    }\n  };\n  LargeIconsView.prototype.csEndKey = function (lastItem, e) {\n    if (!this.parent.allowMultiSelection) {\n      this.navigateItem(lastItem);\n    } else if (!isNOU(lastItem)) {\n      if (e.action === 'ctrlEnd') {\n        this.addFocus(lastItem);\n      } else {\n        this.doSelection(lastItem, e);\n      }\n    }\n  };\n  LargeIconsView.prototype.csHomeKey = function (firstItem, e) {\n    if (!this.parent.allowMultiSelection) {\n      this.navigateItem(firstItem);\n    } else if (!isNOU(firstItem)) {\n      if (e.action === 'ctrlHome') {\n        this.addFocus(firstItem);\n      } else {\n        this.doSelection(firstItem, e);\n      }\n    }\n  };\n  LargeIconsView.prototype.csDownKey = function (fItem, e) {\n    if (!this.parent.allowMultiSelection) {\n      this.navigateDown(fItem, true);\n    } else {\n      var dItem = this.getNextItem(fItem, true, this.perRow);\n      if (!isNOU(dItem)) {\n        if (e.action === 'ctrlDown') {\n          this.addFocus(dItem);\n        } else {\n          this.doSelection(dItem, e);\n        }\n      }\n    }\n  };\n  LargeIconsView.prototype.csLeftKey = function (fItem, e) {\n    if (!this.parent.allowMultiSelection) {\n      this.navigateRight(fItem, false);\n    } else {\n      var lItem = this.getNextItem(fItem, false);\n      if (!isNOU(lItem)) {\n        if (e.action === 'ctrlLeft') {\n          this.addFocus(lItem);\n        } else {\n          this.doSelection(lItem, e);\n        }\n      }\n    }\n  };\n  LargeIconsView.prototype.csRightKey = function (fItem, e) {\n    if (!this.parent.allowMultiSelection) {\n      this.navigateRight(fItem, true);\n    } else {\n      var rItem = this.getNextItem(fItem, true);\n      if (!isNOU(rItem)) {\n        if (e.action === 'ctrlRight') {\n          this.addFocus(rItem);\n        } else {\n          this.doSelection(rItem, e);\n        }\n      }\n    }\n  };\n  LargeIconsView.prototype.csUpKey = function (fItem, e) {\n    if (!this.parent.allowMultiSelection) {\n      this.navigateDown(fItem, false);\n    } else {\n      var uItem = this.getNextItem(fItem, false, this.perRow);\n      if (!isNOU(uItem)) {\n        if (e.action === 'ctrlUp') {\n          this.addFocus(uItem);\n        } else {\n          this.doSelection(uItem, e);\n        }\n      }\n    }\n  };\n  LargeIconsView.prototype.addActive = function (nextItem) {\n    if (!isNOU(nextItem)) {\n      if (!nextItem.classList.contains(CLS.ACTIVE)) {\n        this.parent.selectedItems.push(this.getDataName(nextItem));\n        this.parent.setProperties({\n          selectedItems: this.parent.selectedItems\n        }, true);\n        addClass([nextItem], [CLS.ACTIVE]);\n        nextItem.setAttribute('aria-selected', 'true');\n        this.checkState(nextItem, true);\n      }\n      this.parent.visitedItem = nextItem;\n    }\n  };\n  LargeIconsView.prototype.removeActive = function (preItem) {\n    if (!isNOU(preItem)) {\n      removeClass([preItem], [CLS.ACTIVE]);\n      if (this.parent.allowMultiSelection) {\n        preItem.setAttribute('aria-selected', 'false');\n      } else {\n        preItem.removeAttribute('aria-selected');\n      }\n      this.checkState(preItem, false);\n      var index = this.parent.selectedItems.indexOf(this.getDataName(preItem));\n      if (index > -1) {\n        this.parent.selectedItems.splice(index, 1);\n        this.parent.setProperties({\n          selectedItems: this.parent.selectedItems\n        }, true);\n      }\n      this.parent.visitedItem = null;\n    }\n  };\n  LargeIconsView.prototype.getDataName = function (item) {\n    var data = this.getItemObject(item);\n    return getItemName(this.parent, data);\n  };\n  LargeIconsView.prototype.addFocus = function (item) {\n    this.element.setAttribute('tabindex', '-1');\n    var fItem = this.getFocusedItem();\n    if (fItem) {\n      fItem.removeAttribute('tabindex');\n      removeClass([fItem], [CLS.FOCUS]);\n    }\n    addClass([item], [CLS.FOCUS]);\n    item.setAttribute('tabindex', '0');\n    item.focus();\n  };\n  LargeIconsView.prototype.checkState = function (item, toCheck) {\n    if (!this.parent.showItemCheckBoxes) {\n      return;\n    }\n    var checkEle = select('.' + CLS.FRAME, item);\n    if (isNOU(checkEle)) {\n      return;\n    }\n    if (toCheck) {\n      if (!checkEle.classList.contains(CLS.CHECK)) {\n        addClass([checkEle], CLS.CHECK);\n        closest(checkEle, '.' + CLS.CB_WRAP).setAttribute('aria-checked', 'true');\n      }\n    } else {\n      if (checkEle.classList.contains(CLS.CHECK)) {\n        removeClass([checkEle], CLS.CHECK);\n        closest(checkEle, '.' + CLS.CB_WRAP).setAttribute('aria-checked', 'false');\n      }\n    }\n  };\n  LargeIconsView.prototype.clearSelect = function () {\n    var eles = Array.prototype.slice.call(selectAll('.' + CLS.ACTIVE, this.listElements));\n    var fileSelectionArgs;\n    if (eles.length !== 0) {\n      fileSelectionArgs = this.triggerSelection('unselect', eles[0]);\n      if (fileSelectionArgs.cancel !== true) {\n        for (var i = 0, len = eles.length; i < len; i++) {\n          this.removeActive(eles[i]);\n        }\n      }\n      this.triggerSelect('unselect', eles[0]);\n    }\n  };\n  LargeIconsView.prototype.resizeHandler = function () {\n    this.getItemCount();\n  };\n  LargeIconsView.prototype.splitterResizeHandler = function () {\n    this.getItemCount();\n  };\n  LargeIconsView.prototype.getItemCount = function () {\n    var perRow = 1;\n    if (this.itemList) {\n      for (var i = 0, len = this.itemList.length - 1; i < len; i++) {\n        if (this.itemList[i].getBoundingClientRect().top === this.itemList[i + 1].getBoundingClientRect().top) {\n          perRow++;\n        } else {\n          break;\n        }\n      }\n    }\n    this.perRow = perRow;\n  };\n  LargeIconsView.prototype.triggerSelection = function (action, item) {\n    var data = [];\n    if (this.isSelectAllCalled) {\n      for (var i = 0, len = this.itemList.length; i < len; i++) {\n        data[i] = this.getItemObject(this.itemList[i]);\n      }\n    } else {\n      data[0] = this.getItemObject(item);\n    }\n    var eventArgs = {\n      action: action,\n      fileDetails: data.length > 1 ? data : data[0],\n      isInteracted: this.isInteraction,\n      cancel: false,\n      target: this.isSelectAllCalled ? null : item\n    };\n    this.parent.trigger('fileSelection', eventArgs);\n    this.isInteraction = true;\n    return eventArgs;\n  };\n  LargeIconsView.prototype.triggerSelect = function (action, item) {\n    var data = [];\n    if (this.isSelectAllCalled) {\n      for (var i = 0, len = this.itemList.length; i < len; i++) {\n        data[i] = this.getItemObject(this.itemList[i]);\n      }\n      this.isSelectAllCalled = false;\n    } else {\n      data[0] = this.getItemObject(item);\n    }\n    this.parent.visitedData = data.length > 1 ? data[data.length - 1] : data[0];\n    var eventArgs = {\n      action: action,\n      fileDetails: data.length > 1 ? data : data[0],\n      isInteracted: this.isInteracted\n    };\n    this.parent.trigger('fileSelect', eventArgs);\n    this.isInteracted = true;\n  };\n  LargeIconsView.prototype.selectItems = function (items) {\n    var indexes = this.getIndexes(items, this.parent.hasId);\n    for (var j = 0, len = indexes.length; j < len; j++) {\n      var eveArgs = {\n        ctrlKey: true,\n        shiftKey: false\n      };\n      this.doSelection(this.itemList[indexes[j]], eveArgs);\n    }\n  };\n  LargeIconsView.prototype.getIndexes = function (items, byId) {\n    var indexes = [];\n    var filter = byId ? 'id' : 'name';\n    for (var i = 0, len = this.items.length; i < len; i++) {\n      if (items.indexOf(getValue(filter, this.items[i])) !== -1) {\n        indexes.push(i);\n      }\n    }\n    return indexes;\n  };\n  LargeIconsView.prototype.getItemObject = function (item) {\n    var index = this.itemList.indexOf(item);\n    return this.items[index];\n  };\n  LargeIconsView.prototype.addSelection = function (data) {\n    var resultData = [];\n    if (this.parent.hasId) {\n      resultData = new DataManager(this.items).executeLocal(new Query().where('id', 'equal', this.parent.renamedId, false));\n    } else {\n      var newData = new DataManager(this.items).executeLocal(new Query().where('name', 'equal', getValue('name', data), false));\n      if (newData.length > 0) {\n        resultData = new DataManager(newData).executeLocal(new Query().where('filterPath', 'equal', this.parent.filterPath, false));\n      }\n    }\n    if (resultData.length > 0) {\n      var index = this.items.indexOf(resultData[0]);\n      var eveArgs = {\n        ctrlKey: true,\n        shiftKey: false\n      };\n      this.doSelection(this.itemList[index], eveArgs);\n    }\n  };\n  LargeIconsView.prototype.updateSelectedData = function () {\n    var data = [];\n    var items = selectAll('.' + CLS.LIST_ITEM + '.' + CLS.ACTIVE, this.element);\n    for (var i = 0; i < items.length; i++) {\n      data[i] = this.getItemObject(items[i]);\n    }\n    this.parent.itemData = data;\n  };\n  LargeIconsView.prototype.onMethodCall = function (args) {\n    if (this.parent.view !== 'LargeIcons') {\n      return;\n    }\n    var action = getValue('action', args);\n    switch (action) {\n      case 'deleteFiles':\n        this.deleteFiles(getValue('ids', args));\n        break;\n      case 'downloadFiles':\n        this.downloadFiles(getValue('ids', args));\n        break;\n      case 'openFile':\n        this.openFile(getValue('id', args));\n        break;\n      case 'renameFile':\n        this.isInteraction = false;\n        this.isInteracted = false;\n        this.renameFile(getValue('id', args), getValue('newName', args));\n        break;\n      case 'createFolder':\n        this.isInteraction = false;\n        this.isInteracted = false;\n        break;\n      case 'clearSelection':\n        this.isInteraction = false;\n        this.isInteracted = false;\n        this.onClearAllInit();\n        break;\n      case 'selectAll':\n        this.isInteraction = false;\n        this.isInteracted = false;\n        this.onSelectAllInit();\n        break;\n    }\n  };\n  LargeIconsView.prototype.getItemsIndex = function (items) {\n    var indexes = [];\n    var isFilter = this.parent.breadcrumbbarModule.searchObj.element.value !== '' || this.parent.isFiltered ? true : false;\n    var filterName = this.parent.hasId ? 'id' : 'name';\n    if (this.parent.hasId || !isFilter) {\n      for (var i = 0, len = this.items.length; i < len; i++) {\n        if (items.indexOf(getValue(filterName, this.items[i])) !== -1) {\n          indexes.push(i);\n        }\n      }\n    } else {\n      for (var i = 0, len = this.items.length; i < len; i++) {\n        var name_2 = getValue('filterPath', this.items[i]) + getValue('name', this.items[i]);\n        if (items.indexOf(name_2) !== -1 || items.indexOf(getValue(filterName, this.items[i])) !== -1) {\n          indexes.push(i);\n        }\n      }\n    }\n    return indexes;\n  };\n  LargeIconsView.prototype.deleteFiles = function (ids) {\n    this.parent.activeModule = 'largeiconsview';\n    if (isNOU(ids)) {\n      this.performDelete();\n      return;\n    }\n    var indexes = this.getItemsIndex(ids);\n    if (indexes.length === 0) {\n      return;\n    }\n    var data = [];\n    var newIds = [];\n    for (var i = 0; i < indexes.length; i++) {\n      data[i] = this.items[indexes[i]];\n      newIds[i] = getItemName(this.parent, data[i]);\n    }\n    doDeleteFiles(this.parent, data, newIds);\n  };\n  LargeIconsView.prototype.downloadFiles = function (ids) {\n    if (isNOU(ids)) {\n      this.doDownload();\n      return;\n    }\n    var index = this.getItemsIndex(ids);\n    if (index.length === 0) {\n      return;\n    }\n    var data = [];\n    var newIds = [];\n    for (var i = 0; i < index.length; i++) {\n      data[i] = this.items[index[i]];\n      newIds[i] = getItemName(this.parent, data[i]);\n    }\n    doDownloadFiles(this.parent, data, newIds);\n  };\n  LargeIconsView.prototype.openFile = function (id) {\n    if (isNOU(id)) {\n      return;\n    }\n    var indexes = this.getItemsIndex([id]);\n    if (indexes.length > 0) {\n      this.doOpenAction(this.itemList[indexes[0]]);\n    }\n  };\n  LargeIconsView.prototype.renameFile = function (id, name) {\n    this.parent.activeModule = 'largeiconsview';\n    if (isNOU(id)) {\n      this.performRename();\n      return;\n    }\n    var indexes = this.getItemsIndex([id]);\n    if (indexes.length > 0) {\n      updateRenamingData(this.parent, this.items[indexes[0]]);\n      if (isNOU(name)) {\n        doRename(this.parent);\n      } else {\n        if (!hasEditAccess(this.parent.itemData[0])) {\n          createDeniedDialog(this.parent, this.parent.itemData[0], events.permissionEdit);\n        } else {\n          rename(this.parent, this.parent.path, name);\n        }\n      }\n    }\n  };\n  return LargeIconsView;\n}();\nexport { LargeIconsView };","map":{"version":3,"names":["ListBase","createElement","select","selectAll","EventHandler","KeyboardEvents","closest","Draggable","isNullOrUndefined","isNOU","addClass","removeClass","Touch","isVisible","getValue","setValue","remove","DataManager","Query","DataUtil","hideSpinner","showSpinner","events","CLS","createCheckBox","read","GetDetails","Delete","doRename","getAccessClass","getPathObject","getFullPath","getDirectoryPath","rename","doDownload","getItemName","removeBlur","cutFiles","copyFiles","addBlur","openSearchFolder","removeActive","pasteHandler","createVirtualDragElement","dragStopHandler","dragStartHandler","draggingHandler","getModule","updateRenamingData","doDeleteFiles","doDownloadFiles","openAction","fileType","refresh","getImageUrl","getSortedData","createDeniedDialog","updateLayout","createEmptyElement","hasReadAccess","hasEditAccess","createDialog","createImageDialog","LargeIconsView","parent","isInteraction","uploadOperation","count","isRendered","tapCount","isSelectAllCalled","isPasteOperation","isInteracted","element","id","LARGEICON_ID","LARGE_ICONS","addEventListener","keyConfigs","end","home","tab","moveDown","moveLeft","moveRight","moveUp","ctrlEnd","ctrlHome","ctrlDown","ctrlLeft","ctrlRight","ctrlUp","shiftEnd","shiftHome","shiftDown","shiftLeft","shiftRight","shiftUp","csEnd","csHome","csDown","csLeft","csRight","csUp","space","ctrlSpace","shiftSpace","csSpace","ctrlA","enter","altEnter","esc","del","ctrlX","isMac","ctrlC","ctrlV","f2","shiftdel","back","ctrlD","prototype","render","args","visitedItem","startItem","view","resetMultiSelect","setAttribute","listObj","unWireEvents","removeEventListener","notify","hideLayout","iconsView","ul","ariaAttributes","itemRole","listRole","itemText","groupItemRole","wrapperRole","showIcon","fields","text","iconCss","imageUrl","htmlAttributes","sortOrder","itemCreated","onItemCreated","bind","enableHtmlSanitizer","items","renderList","sortComparer","sortBy","allItems","sort","comparer","classList","DISPLAY_NONE","enableVirtualization","length","virtualizationModule","setUIVirtualization","listElements","createListFromJson","itemList","Array","slice","call","LIST_ITEM","appendChild","preventImgDrag","createDragObj","emptyList","querySelector","LIST_PARENT","removeChild","EMPTY","selectItems","pasteNodes","uploadItem","setProperties","selectedItems","activeEle","querySelectorAll","ACTIVE","activeModule","i","style","maxHeight","getItemCount","wireEvents","setUlElementHeight","wireScrollEvent","checkItem","x","y","z","ondragstart","_this","allowDragAndDrop","dragObj","destroy","enableTailMode","distance","enableAutoScroll","dragTarget","LARGE_ICON","helper","dragHelper","cursorAt","dragCursorPosition","dragArea","dragStop","drag","clone","dragStart","sender","target","dragLi","contains","setFocus","activeElements","dragData","push","getItemObject","parseInt","toString","dragPath","path","virtualDragElement","onDropInit","targetModule","getModuleName","dropLi","cwdData","pathId","feParent","info","dropPath","isFile","dropData","item","removeAttribute","showFileExtension","curData","textEle","LIST_TEXT","txt","type","indexOf","innerHTML","substr","renderCheckbox","eventArgs","fileDetails","module","trigger","showItemCheckBoxes","checkElement","checked","cssClass","firstElementChild","insertBefore","childNodes","onLayoutChange","fileAction","isCut","selectedNodes","indexes","getIndexes","length_1","focus","isLayoutChange","checkEle","checkLength","checkState","JSON","parse","stringify","files","icon","name_1","selected","className","ICON_IMAGE","showThumbnail","imgUrl","alt","class","title","onFinalizeEnd","onCreateEnd","clearSelect","hasId","createdItem","largeiconsviewModule","onSelectedData","updateSelectedData","onDeleteInit","onDeleteEnd","onRefreshEnd","onRenameInit","updateRenameData","onPathChanged","breadcrumbbarModule","searchObj","value","searchedItems","renamedItem","addSelection","onOpenInit","doOpenAction","onHideLayout","add","onSelectAllInit","getFirstItem","lastItem","getLastItem","eveArgs","ctrlKey","shiftKey","doSelection","onClearAllInit","clearSelection","onBeforeRequest","onAfterRequest","onSearch","selectionChanged","onLayoutRefresh","onUpdateSelectionData","onPathColumn","isFiltered","sortByChange","isDestroyed","off","pathColumn","finalizeEnd","createEnd","selectedData","deleteInit","deleteEnd","refreshEnd","pathChanged","layoutChange","search","openInit","openEnd","modelChanged","onPropertyChanged","methodCall","onMethodCall","actionFailure","onActionFailure","renameInit","renameEnd","selectAllInit","clearAllInit","menuItemData","onMenuItemData","beforeRequest","afterRequest","splitterResize","splitterResizeHandler","resizeEnd","resizeHandler","pasteInit","onpasteInit","pasteEnd","onpasteEnd","cutCopyInit","oncutCopyInit","dropInit","detailsInit","onDetailsInit","layoutRefresh","onDropPath","updateSelectionData","filterEnd","on","ele","itemData","folderPath","activeRecords","destinationPath","e","currentSelected","_i","_a","Object","keys","newProp","prop","allowMultiSelection","wireClickEvent","keyboardModule","keyAction","keyActionHandler","eventName","keyboardDownModule","keydownActionHandler","onMouseOver","targetEle","HOVER","toBind","clickObj","tap","eve","isDevice","tapEvent","setTimeout","doTapAction","originalEvent","which","dblClickHandler","clickHandler","tapHold","multiSelect","MULTI_SELECT","updateType","cList","action","addActive","CHECK","fileSelectionArgs","triggerSelection","cancel","FRAME","startIndex","endIndex","addFocus","triggerSelect","details_1","permissionRead","fileOpenArgs","val","oldPath","newPath","pathNames","folder","FOLDER","preventDefault","fItem","getFocusedItem","firstItem","scrollTo","scrollHeight","navigateItem","scrollTop","navigateDown","navigateRight","csEndKey","csHomeKey","csDownKey","csLeftKey","csRightKey","csUpKey","spaceKey","ctrlAKey","getVisitedItem","performDelete","performRename","traverseBackward","data","permissionEdit","FOCUS","getActiveItem","isTowards","nItem","getNextItem","perRow","li","index","nextItem","marginValue","window","getComputedStyle","getPropertyValue","getBoundingClientRect","height","liParent","liScrPos","getCurFocusedItem","dItem","lItem","rItem","uItem","getDataName","preItem","splice","toCheck","CB_WRAP","eles","len","top","visitedData","j","byId","filter","resultData","executeLocal","where","renamedId","newData","filterPath","deleteFiles","downloadFiles","openFile","renameFile","getItemsIndex","isFilter","filterName","name_2","ids","newIds","name"],"sources":["/var/www/vue/vue-gantt-chart/node_modules/@syncfusion/ej2-filemanager/src/file-manager/layout/large-icons-view.js"],"sourcesContent":["import { ListBase } from '@syncfusion/ej2-lists';\nimport { createElement, select, selectAll, EventHandler, KeyboardEvents, closest, Draggable } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined as isNOU, addClass, removeClass, Touch, isVisible } from '@syncfusion/ej2-base';\nimport { getValue, setValue, remove } from '@syncfusion/ej2-base';\nimport { DataManager, Query, DataUtil } from '@syncfusion/ej2-data';\nimport { hideSpinner, showSpinner } from '@syncfusion/ej2-popups';\nimport * as events from '../base/constant';\nimport * as CLS from '../base/classes';\nimport { createCheckBox } from '@syncfusion/ej2-buttons';\nimport { read, GetDetails, Delete } from '../common/operations';\nimport { doRename, getAccessClass, getPathObject, getFullPath, getDirectoryPath, rename, doDownload, getItemName } from '../common/index';\nimport { removeBlur, cutFiles, copyFiles, addBlur, openSearchFolder, removeActive, pasteHandler } from '../common/index';\nimport { createVirtualDragElement, dragStopHandler, dragStartHandler, draggingHandler, getModule } from '../common/index';\nimport { updateRenamingData, doDeleteFiles, doDownloadFiles } from '../common/index';\nimport { openAction, fileType, refresh, getImageUrl, getSortedData, createDeniedDialog, updateLayout } from '../common/utility';\nimport { createEmptyElement, hasReadAccess, hasEditAccess } from '../common/utility';\nimport { createDialog, createImageDialog } from '../pop-up/dialog';\n/**\n * LargeIconsView module\n */\nvar LargeIconsView = /** @class */ (function () {\n    /**\n     * Constructor for the LargeIcons module.\n     *\n     * @param {IFileManager} parent - specifies the parent element.\n     * @hidden\n     */\n    function LargeIconsView(parent) {\n        this.isInteraction = true;\n        this.uploadOperation = false;\n        this.count = 0;\n        this.isRendered = true;\n        this.tapCount = 0;\n        this.isSelectAllCalled = false;\n        this.isPasteOperation = false;\n        this.isInteracted = true;\n        this.parent = parent;\n        this.element = select('#' + this.parent.element.id + CLS.LARGEICON_ID, this.parent.element);\n        addClass([this.element], CLS.LARGE_ICONS);\n        this.addEventListener();\n        this.keyConfigs = {\n            end: 'end',\n            home: 'home',\n            tab: 'tab',\n            moveDown: 'downarrow',\n            moveLeft: 'leftarrow',\n            moveRight: 'rightarrow',\n            moveUp: 'uparrow',\n            ctrlEnd: 'ctrl+end',\n            ctrlHome: 'ctrl+home',\n            ctrlDown: 'ctrl+downarrow',\n            ctrlLeft: 'ctrl+leftarrow',\n            ctrlRight: 'ctrl+rightarrow',\n            ctrlUp: 'ctrl+uparrow',\n            shiftEnd: 'shift+end',\n            shiftHome: 'shift+home',\n            shiftDown: 'shift+downarrow',\n            shiftLeft: 'shift+leftarrow',\n            shiftRight: 'shift+rightarrow',\n            shiftUp: 'shift+uparrow',\n            csEnd: 'ctrl+shift+end',\n            csHome: 'ctrl+shift+home',\n            csDown: 'ctrl+shift+downarrow',\n            csLeft: 'ctrl+shift+leftarrow',\n            csRight: 'ctrl+shift+rightarrow',\n            csUp: 'ctrl+shift+uparrow',\n            space: 'space',\n            ctrlSpace: 'ctrl+space',\n            shiftSpace: 'shift+space',\n            csSpace: 'ctrl+shift+space',\n            ctrlA: 'ctrl+a',\n            enter: 'enter',\n            altEnter: 'alt+enter',\n            esc: 'escape',\n            del: 'delete',\n            ctrlX: this.parent.isMac ? 'cmd+x' : 'ctrl+x',\n            ctrlC: this.parent.isMac ? 'cmd+c' : 'ctrl+c',\n            ctrlV: this.parent.isMac ? 'cmd+v' : 'ctrl+v',\n            f2: 'f2',\n            shiftdel: 'shift+delete',\n            back: 'backspace',\n            ctrlD: 'ctrl+d'\n        };\n    }\n    LargeIconsView.prototype.render = function (args) {\n        this.parent.visitedItem = null;\n        this.startItem = null;\n        showSpinner(this.parent.element);\n        if (this.parent.view === 'LargeIcons') {\n            this.resetMultiSelect();\n            this.element.setAttribute('tabindex', '0');\n            if (this.listObj) {\n                this.unWireEvents();\n                this.removeEventListener();\n            }\n            this.parent.notify(events.hideLayout, {});\n            var iconsView = select('#' + this.parent.element.id + CLS.LARGEICON_ID, this.parent.element);\n            var ul = select('ul', iconsView);\n            if (ul) {\n                remove(ul);\n            }\n            this.listObj = {\n                ariaAttributes: {\n                    itemRole: 'option', listRole: 'listbox', itemText: '',\n                    groupItemRole: 'group', wrapperRole: ''\n                },\n                showIcon: true,\n                fields: { text: 'name', iconCss: '_fm_icon', imageUrl: '_fm_imageUrl', htmlAttributes: '_fm_htmlAttr' },\n                sortOrder: this.parent.sortOrder,\n                itemCreated: this.onItemCreated.bind(this),\n                enableHtmlSanitizer: this.parent.enableHtmlSanitizer\n            };\n            this.items = [];\n            this.items = this.renderList(args);\n            if (this.parent.sortComparer && this.parent.sortBy !== 'None') {\n                this.items = this.allItems = DataUtil.sort(this.items, this.parent.sortBy, this.comparer.bind(this));\n            }\n            else {\n                this.items = this.allItems = getSortedData(this.parent, this.items);\n            }\n            iconsView.classList.remove(CLS.DISPLAY_NONE);\n            if (this.parent.enableVirtualization && this.allItems.length > 0) {\n                this.parent.virtualizationModule.setUIVirtualization();\n            }\n            this.listElements = ListBase.createListFromJson(createElement, this.items, this.listObj);\n            this.itemList = Array.prototype.slice.call(selectAll('.' + CLS.LIST_ITEM, this.listElements));\n            this.element.appendChild(this.listElements);\n            this.listElements.setAttribute('aria-label', 'listbox');\n            this.preventImgDrag();\n            this.createDragObj();\n            if (this.itemList.length === 0) {\n                var emptyList = this.element.querySelector('.' + CLS.LIST_PARENT);\n                this.element.removeChild(emptyList);\n                createEmptyElement(this.parent, this.element, args);\n            }\n            else if (this.itemList.length !== 0 && this.element.querySelector('.' + CLS.EMPTY)) {\n                this.element.removeChild(this.element.querySelector('.' + CLS.EMPTY));\n            }\n            if (this.isPasteOperation === true) {\n                this.selectItems(this.parent.pasteNodes);\n                this.isPasteOperation = false;\n            }\n            /* istanbul ignore next */\n            if (this.uploadOperation === true) {\n                this.selectItems(this.parent.uploadItem);\n                this.parent.setProperties({ selectedItems: [] }, true);\n                this.count++;\n                if (this.count === this.parent.uploadItem.length) {\n                    this.uploadOperation = false;\n                    this.parent.uploadItem = [];\n                }\n            }\n            var activeEle = this.element.querySelectorAll('.' + CLS.ACTIVE);\n            if (activeEle.length !== 0) {\n                this.parent.activeModule = 'largeiconsview';\n            }\n            for (var i = 0; i < activeEle.length; i++) {\n                activeEle[i].setAttribute('aria-selected', 'true');\n            }\n            this.element.style.maxHeight = '100%';\n            this.getItemCount();\n            this.addEventListener();\n            this.wireEvents();\n            if (this.parent.enableVirtualization && this.allItems.length > 0) {\n                this.parent.virtualizationModule.setUlElementHeight();\n                this.parent.virtualizationModule.wireScrollEvent(false);\n            }\n            this.isRendered = true;\n            hideSpinner(this.parent.element);\n            if (this.parent.selectedItems.length) {\n                this.checkItem();\n            }\n        }\n    };\n    LargeIconsView.prototype.comparer = function (x, y) {\n        if (this.parent.sortOrder === 'Descending') {\n            var z = x;\n            x = y;\n            y = z;\n        }\n        return this.parent.sortComparer(x, y);\n    };\n    LargeIconsView.prototype.preventImgDrag = function () {\n        var i = 0;\n        while (i < this.itemList.length) {\n            if (this.itemList[i].querySelector('img')) {\n                /* istanbul ignore next */\n                this.itemList[i].ondragstart = function () { return false; };\n            }\n            i++;\n        }\n    };\n    LargeIconsView.prototype.createDragObj = function () {\n        var _this = this;\n        if (this.listObj) {\n            if (this.parent.allowDragAndDrop) {\n                if (this.dragObj) {\n                    this.dragObj.destroy();\n                }\n                this.dragObj = new Draggable(this.listElements, {\n                    enableTailMode: true,\n                    distance: 5,\n                    enableAutoScroll: false,\n                    dragTarget: '.' + CLS.LARGE_ICON,\n                    helper: this.dragHelper.bind(this),\n                    cursorAt: this.parent.dragCursorPosition,\n                    dragArea: this.parent.element,\n                    dragStop: dragStopHandler.bind(this, this.parent),\n                    drag: draggingHandler.bind(this, this.parent),\n                    clone: true,\n                    dragStart: function (args) {\n                        dragStartHandler(_this.parent, args, _this.dragObj);\n                    }\n                });\n            }\n            else if (this.dragObj && !this.parent.allowDragAndDrop) {\n                this.dragObj.destroy();\n            }\n        }\n    };\n    LargeIconsView.prototype.dragHelper = function (args) {\n        var dragTarget = args.sender.target;\n        var dragLi = closest(dragTarget, '.e-list-item');\n        if (!dragLi) {\n            return null;\n        }\n        if (dragLi && !dragLi.classList.contains('e-active')) {\n            this.setFocus(dragLi);\n        }\n        var activeEle = this.element.querySelectorAll('.' + CLS.ACTIVE);\n        this.parent.activeElements = [];\n        this.parent.dragData = [];\n        for (var i = 0; i < activeEle.length; i++) {\n            this.parent.dragData.push(this.getItemObject(activeEle[parseInt(i.toString(), 10)]));\n            this.parent.activeElements.push(activeEle[i]);\n        }\n        getModule(this.parent, dragLi);\n        this.parent.dragPath = this.parent.path;\n        createVirtualDragElement(this.parent);\n        return this.parent.virtualDragElement;\n    };\n    LargeIconsView.prototype.onDropInit = function (args) {\n        if (this.parent.targetModule === this.getModuleName()) {\n            var dropLi = closest(args.target, '.e-list-item');\n            var cwdData = getValue(this.parent.pathId[this.parent.pathId.length - 1], this.parent.feParent);\n            if (dropLi) {\n                var info = this.getItemObject(dropLi);\n                this.parent.dropPath = info.isFile ? this.parent.path : getFullPath(this.parent, info, this.parent.path);\n                this.parent.dropData = info.isFile ? cwdData : info;\n            }\n            else {\n                this.parent.dropPath = this.parent.path;\n                this.parent.dropData = cwdData;\n            }\n        }\n    };\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} - returns the module name.\n     * @private\n     */\n    LargeIconsView.prototype.getModuleName = function () {\n        return 'largeiconsview';\n    };\n    LargeIconsView.prototype.onItemCreated = function (args) {\n        args.item.removeAttribute('aria-level');\n        if (!this.parent.showFileExtension && getValue('isFile', args.curData)) {\n            var textEle = args.item.querySelector('.' + CLS.LIST_TEXT);\n            var txt = getValue('name', args.curData);\n            var type = getValue('type', args.curData);\n            if (txt.indexOf(type) !== -1) {\n                textEle.innerHTML = txt.substr(0, txt.length - type.length);\n            }\n        }\n        this.renderCheckbox(args);\n        var eventArgs = {\n            element: args.item,\n            fileDetails: args.curData,\n            module: 'LargeIconsView'\n        };\n        this.parent.trigger('fileLoad', eventArgs);\n    };\n    LargeIconsView.prototype.renderCheckbox = function (args) {\n        if (!this.parent.showItemCheckBoxes) {\n            return;\n        }\n        var checkElement = createCheckBox(createElement, false, {\n            checked: false,\n            cssClass: 'e-small'\n        });\n        checkElement.setAttribute('role', 'checkbox');\n        checkElement.setAttribute('aria-checked', 'false');\n        checkElement.setAttribute('aria-label', 'checkbox');\n        args.item.firstElementChild.insertBefore(checkElement, args.item.firstElementChild.childNodes[0]);\n    };\n    LargeIconsView.prototype.onLayoutChange = function (args) {\n        if (this.parent.view === 'LargeIcons') {\n            this.destroy();\n            if (this.parent.enableVirtualization) {\n                this.parent.setProperties({ selectedItems: [] }, true);\n            }\n            this.render(args);\n            /* istanbul ignore next */\n            if (getValue('name', args) === 'layout-change' && this.parent.fileAction === 'move' &&\n                this.parent.isCut && this.parent.selectedNodes && this.parent.selectedNodes.length !== 0) {\n                var indexes = this.getIndexes(this.parent.selectedNodes);\n                var length_1 = 0;\n                while (length_1 < indexes.length) {\n                    addBlur(this.itemList[indexes[length_1]]);\n                    length_1++;\n                }\n            }\n            var activeEle = this.element.querySelectorAll('.' + CLS.ACTIVE);\n            if (activeEle.length !== 0) {\n                this.element.focus();\n            }\n            this.checkItem();\n            this.parent.isLayoutChange = false;\n        }\n        else {\n            this.element.setAttribute('tabindex', '-1');\n        }\n    };\n    LargeIconsView.prototype.checkItem = function () {\n        var checkEle = this.element.querySelectorAll('.' + CLS.ACTIVE);\n        if (checkEle) {\n            var checkLength = 0;\n            while (checkLength < checkEle.length) {\n                this.checkState(checkEle[checkLength], true);\n                checkLength++;\n            }\n        }\n    };\n    LargeIconsView.prototype.renderList = function (args) {\n        var i = 0;\n        var items = JSON.parse(JSON.stringify(args.files));\n        while (i < items.length) {\n            var icon = fileType(items[i]);\n            var name_1 = getValue('name', items[i]);\n            var selected = getItemName(this.parent, items[i]);\n            var className = ((this.parent.selectedItems &&\n                this.parent.selectedItems.indexOf(selected) !== -1)) ?\n                CLS.LARGE_ICON + ' e-active' : CLS.LARGE_ICON;\n            if (!hasEditAccess(items[i])) {\n                className += ' ' + getAccessClass(items[i]);\n            }\n            if (icon === CLS.ICON_IMAGE && this.parent.showThumbnail && hasReadAccess(items[i])) {\n                var imgUrl = getImageUrl(this.parent, items[i]);\n                setValue('_fm_imageUrl', imgUrl, items[i]);\n                setValue('_fm_imageAttr', { alt: name_1 }, items[i]);\n            }\n            else {\n                setValue('_fm_icon', icon, items[i]);\n            }\n            setValue('_fm_htmlAttr', { class: className, title: name_1 }, items[i]);\n            i++;\n        }\n        return items;\n    };\n    LargeIconsView.prototype.onFinalizeEnd = function (args) {\n        this.render(args);\n    };\n    LargeIconsView.prototype.onCreateEnd = function (args) {\n        if (this.parent.view !== 'LargeIcons') {\n            return;\n        }\n        this.onLayoutChange(args);\n        this.clearSelect();\n        this.selectItems([getValue(this.parent.hasId ? 'id' : 'name', this.parent.createdItem)]);\n        this.parent.createdItem = null;\n        this.parent.largeiconsviewModule.element.focus();\n        this.parent.activeModule = 'largeiconsview';\n    };\n    LargeIconsView.prototype.onSelectedData = function () {\n        if (this.parent.activeModule === 'largeiconsview') {\n            this.updateSelectedData();\n        }\n    };\n    LargeIconsView.prototype.onDeleteInit = function () {\n        if (this.parent.activeModule === 'largeiconsview') {\n            Delete(this.parent, this.parent.selectedItems, this.parent.path, 'delete');\n        }\n    };\n    /* istanbul ignore next */\n    LargeIconsView.prototype.onDeleteEnd = function (args) {\n        if (this.parent.view !== 'LargeIcons') {\n            return;\n        }\n        this.onLayoutChange(args);\n        this.parent.setProperties({ selectedItems: [] }, true);\n        this.clearSelect();\n    };\n    LargeIconsView.prototype.onRefreshEnd = function (args) {\n        if (this.parent.view !== 'LargeIcons') {\n            return;\n        }\n        this.onLayoutChange(args);\n    };\n    LargeIconsView.prototype.onRenameInit = function () {\n        if (this.parent.activeModule === 'largeiconsview' && this.parent.selectedItems.length === 1) {\n            this.updateRenameData();\n        }\n    };\n    LargeIconsView.prototype.onPathChanged = function (args) {\n        this.parent.isCut = false;\n        /* istanbul ignore next */\n        if (this.parent.breadcrumbbarModule.searchObj.element.value === '') {\n            this.parent.searchedItems = [];\n        }\n        if (this.parent.view === 'LargeIcons') {\n            removeBlur(this.parent);\n            this.parent.setProperties({ selectedItems: [] }, true);\n            this.onLayoutChange(args);\n            if (this.parent.renamedItem && this.parent.activeModule === 'largeiconsview') {\n                this.clearSelect();\n                this.addSelection(this.parent.renamedItem);\n            }\n        }\n    };\n    LargeIconsView.prototype.onOpenInit = function (args) {\n        if (this.parent.activeModule === 'largeiconsview') {\n            this.doOpenAction(args.target);\n        }\n    };\n    LargeIconsView.prototype.onHideLayout = function () {\n        if (this.parent.view !== 'LargeIcons' && this.element) {\n            this.element.classList.add(CLS.DISPLAY_NONE);\n        }\n    };\n    LargeIconsView.prototype.onSelectAllInit = function () {\n        if (this.parent.view === 'LargeIcons') {\n            this.startItem = this.getFirstItem();\n            var lastItem = this.getLastItem();\n            var eveArgs = { ctrlKey: true, shiftKey: true };\n            this.doSelection(lastItem, eveArgs);\n            this.isInteraction = true;\n            this.isInteracted = true;\n        }\n    };\n    LargeIconsView.prototype.onClearAllInit = function () {\n        if (this.parent.view === 'LargeIcons') {\n            this.clearSelection();\n            this.isInteraction = true;\n            this.isInteracted = true;\n        }\n    };\n    LargeIconsView.prototype.onBeforeRequest = function () {\n        this.isRendered = false;\n    };\n    LargeIconsView.prototype.onAfterRequest = function () {\n        this.isRendered = true;\n    };\n    /* istanbul ignore next */\n    LargeIconsView.prototype.onSearch = function (args) {\n        if (this.parent.view === 'LargeIcons') {\n            this.parent.setProperties({ selectedItems: [] }, true);\n            this.parent.notify(events.selectionChanged, {});\n            this.parent.searchedItems = args.files;\n            this.onLayoutChange(args);\n        }\n    };\n    LargeIconsView.prototype.onLayoutRefresh = function () {\n        if (this.parent.view !== 'LargeIcons') {\n            return;\n        }\n    };\n    LargeIconsView.prototype.onUpdateSelectionData = function () {\n        if (this.parent.view !== 'LargeIcons') {\n            return;\n        }\n        this.updateSelectedData();\n    };\n    LargeIconsView.prototype.onPathColumn = function () {\n        if (this.parent.view === 'LargeIcons' && !isNOU(this.listObj) &&\n            this.parent.breadcrumbbarModule.searchObj.element.value === '' && !this.parent.isFiltered\n            && this.parent.sortBy === 'filterPath') {\n            this.parent.sortBy = 'name';\n            this.parent.notify(events.sortByChange, {});\n        }\n    };\n    LargeIconsView.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off(events.pathColumn, this.onPathColumn);\n        this.parent.off(events.finalizeEnd, this.onFinalizeEnd);\n        this.parent.off(events.createEnd, this.onCreateEnd);\n        this.parent.off(events.selectedData, this.onSelectedData);\n        this.parent.off(events.deleteInit, this.onDeleteInit);\n        this.parent.off(events.deleteEnd, this.onDeleteEnd);\n        this.parent.off(events.refreshEnd, this.onRefreshEnd);\n        this.parent.off(events.pathChanged, this.onPathChanged);\n        this.parent.off(events.layoutChange, this.onLayoutChange);\n        this.parent.off(events.search, this.onSearch);\n        this.parent.off(events.openInit, this.onOpenInit);\n        this.parent.off(events.openEnd, this.onPathChanged);\n        this.parent.off(events.modelChanged, this.onPropertyChanged);\n        this.parent.off(events.methodCall, this.onMethodCall);\n        this.parent.off(events.actionFailure, this.onActionFailure);\n        this.parent.off(events.renameInit, this.onRenameInit);\n        this.parent.off(events.renameEnd, this.onPathChanged);\n        this.parent.off(events.hideLayout, this.onHideLayout);\n        this.parent.off(events.selectAllInit, this.onSelectAllInit);\n        this.parent.off(events.clearAllInit, this.onClearAllInit);\n        this.parent.off(events.menuItemData, this.onMenuItemData);\n        this.parent.off(events.beforeRequest, this.onBeforeRequest);\n        this.parent.off(events.afterRequest, this.onAfterRequest);\n        this.parent.off(events.splitterResize, this.splitterResizeHandler);\n        this.parent.off(events.resizeEnd, this.resizeHandler);\n        this.parent.off(events.pasteInit, this.onpasteInit);\n        this.parent.off(events.pasteEnd, this.onpasteEnd);\n        this.parent.off(events.cutCopyInit, this.oncutCopyInit);\n        this.parent.off(events.dropInit, this.onDropInit);\n        this.parent.off(events.detailsInit, this.onDetailsInit);\n        this.parent.off(events.layoutRefresh, this.onLayoutRefresh);\n        this.parent.off(events.dropPath, this.onDropPath);\n        this.parent.off(events.updateSelectionData, this.onUpdateSelectionData);\n        this.parent.off(events.filterEnd, this.onPathChanged);\n    };\n    LargeIconsView.prototype.addEventListener = function () {\n        this.parent.on(events.pathColumn, this.onPathColumn, this);\n        this.parent.on(events.finalizeEnd, this.onFinalizeEnd, this);\n        this.parent.on(events.createEnd, this.onCreateEnd, this);\n        this.parent.on(events.refreshEnd, this.onRefreshEnd, this);\n        this.parent.on(events.selectedData, this.onSelectedData, this);\n        this.parent.on(events.pathChanged, this.onPathChanged, this);\n        this.parent.on(events.deleteInit, this.onDeleteInit, this);\n        this.parent.on(events.pasteInit, this.onpasteInit, this);\n        this.parent.on(events.deleteEnd, this.onDeleteEnd, this);\n        this.parent.on(events.layoutChange, this.onLayoutChange, this);\n        this.parent.on(events.search, this.onSearch, this);\n        this.parent.on(events.openInit, this.onOpenInit, this);\n        this.parent.on(events.renameInit, this.onRenameInit, this);\n        this.parent.on(events.renameEnd, this.onPathChanged, this);\n        this.parent.on(events.openEnd, this.onPathChanged, this);\n        this.parent.on(events.modelChanged, this.onPropertyChanged, this);\n        this.parent.on(events.methodCall, this.onMethodCall, this);\n        this.parent.on(events.actionFailure, this.onActionFailure, this);\n        this.parent.on(events.hideLayout, this.onHideLayout, this);\n        this.parent.on(events.selectAllInit, this.onSelectAllInit, this);\n        this.parent.on(events.clearAllInit, this.onClearAllInit, this);\n        this.parent.on(events.menuItemData, this.onMenuItemData, this);\n        this.parent.on(events.beforeRequest, this.onBeforeRequest, this);\n        this.parent.on(events.afterRequest, this.onAfterRequest, this);\n        this.parent.on(events.dropInit, this.onDropInit, this);\n        this.parent.on(events.detailsInit, this.onDetailsInit, this);\n        this.parent.on(events.splitterResize, this.splitterResizeHandler, this);\n        this.parent.on(events.resizeEnd, this.resizeHandler, this);\n        this.parent.on(events.pasteEnd, this.onpasteEnd, this);\n        this.parent.on(events.cutCopyInit, this.oncutCopyInit, this);\n        this.parent.on(events.layoutRefresh, this.onLayoutRefresh, this);\n        this.parent.on(events.dropPath, this.onDropPath, this);\n        this.parent.on(events.updateSelectionData, this.onUpdateSelectionData, this);\n        this.parent.on(events.filterEnd, this.onPathChanged, this);\n    };\n    LargeIconsView.prototype.onActionFailure = function () { this.isInteraction = true; this.isInteracted = true; };\n    LargeIconsView.prototype.onMenuItemData = function (args) {\n        if (this.parent.activeModule === this.getModuleName()) {\n            var ele = closest(args.target, 'li');\n            this.parent.itemData = [this.getItemObject(ele)];\n        }\n    };\n    LargeIconsView.prototype.onDetailsInit = function () {\n        if (this.parent.activeModule === this.getModuleName()) {\n            if (this.parent.selectedItems.length !== 0) {\n                this.updateSelectedData();\n            }\n            else {\n                this.parent.itemData = [getValue(this.parent.pathId[this.parent.pathId.length - 1], this.parent.feParent)];\n            }\n        }\n    };\n    LargeIconsView.prototype.onpasteInit = function () {\n        if (this.parent.activeModule === this.getModuleName()) {\n            this.parent.itemData = (this.parent.folderPath === '') ? [getPathObject(this.parent)] :\n                [this.getItemObject(select('.e-active', this.element))];\n        }\n    };\n    LargeIconsView.prototype.oncutCopyInit = function () {\n        if (this.parent.activeModule === this.getModuleName()) {\n            var activeEle = this.element.querySelectorAll('.' + CLS.ACTIVE);\n            this.parent.activeRecords = [];\n            this.parent.activeElements = [];\n            for (var i = 0; i < activeEle.length; i++) {\n                this.parent.activeElements.push(activeEle[i]);\n                this.parent.activeRecords.push(this.getItemObject(activeEle[i]));\n            }\n        }\n    };\n    LargeIconsView.prototype.onpasteEnd = function (args) {\n        if (this.parent.view === 'LargeIcons') {\n            this.isPasteOperation = true;\n            if (this.parent.path === this.parent.destinationPath ||\n                this.parent.path === getDirectoryPath(this.parent, args) || this.parent.hasId) {\n                this.onPathChanged(args);\n            }\n        }\n    };\n    LargeIconsView.prototype.onDropPath = function (args) {\n        if (this.parent.view === 'LargeIcons') {\n            this.isPasteOperation = true;\n            this.onPathChanged(args);\n        }\n    };\n    LargeIconsView.prototype.onPropertyChanged = function (e) {\n        var currentSelected;\n        if (e.module !== this.getModuleName() && e.module !== 'common') {\n            return;\n        }\n        for (var _i = 0, _a = Object.keys(e.newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'allowDragAndDrop':\n                    this.createDragObj();\n                    break;\n                case 'selectedItems':\n                    this.isInteraction = false;\n                    this.isInteracted = false;\n                    currentSelected = isNOU(this.parent.selectedItems) ? [] : this.parent.selectedItems.slice(0);\n                    currentSelected = this.parent.allowMultiSelection ? currentSelected :\n                        currentSelected.slice(currentSelected.length - 1);\n                    this.parent.setProperties({ selectedItems: [] }, true);\n                    this.onClearAllInit();\n                    if (currentSelected.length) {\n                        this.selectItems(currentSelected);\n                    }\n                    this.parent.setProperties({ selectedItems: this.parent.selectedItems }, true);\n                    this.isInteraction = true;\n                    this.isInteracted = true;\n                    break;\n                case 'showThumbnail':\n                    refresh(this.parent);\n                    break;\n                case 'showFileExtension':\n                    read(this.parent, events.pathChanged, this.parent.path);\n                    break;\n                case 'showHiddenItems':\n                    read(this.parent, events.pathChanged, this.parent.path);\n                    break;\n                case 'allowMultiSelection':\n                case 'showItemCheckBoxes':\n                    if (this.parent.view !== 'LargeIcons') {\n                        break;\n                    }\n                    refresh(this.parent);\n                    break;\n                case 'view':\n                    updateLayout(this.parent, 'LargeIcons');\n                    break;\n            }\n        }\n    };\n    LargeIconsView.prototype.destroy = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.removeEventListener();\n        if (this.listObj) {\n            this.unWireEvents();\n        }\n        this.startItem = null;\n        this.listElements = null;\n    };\n    LargeIconsView.prototype.wireEvents = function () {\n        this.wireClickEvent(true);\n        this.keyboardModule = new KeyboardEvents(this.element, {\n            keyAction: this.keyActionHandler.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keyup'\n        });\n        this.keyboardDownModule = new KeyboardEvents(this.element, {\n            keyAction: this.keydownActionHandler.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keydown'\n        });\n        EventHandler.add(this.element, 'mouseover', this.onMouseOver, this);\n    };\n    LargeIconsView.prototype.unWireEvents = function () {\n        this.wireClickEvent(false);\n        EventHandler.remove(this.element, 'mouseover', this.onMouseOver);\n        this.keyboardModule.destroy();\n        this.keyboardDownModule.destroy();\n    };\n    /* istanbul ignore next */\n    LargeIconsView.prototype.onMouseOver = function (e) {\n        var targetEle = closest(e.target, '.e-list-item');\n        removeBlur(this.parent, 'hover');\n        if (targetEle !== null) {\n            targetEle.classList.add(CLS.HOVER);\n        }\n    };\n    LargeIconsView.prototype.wireClickEvent = function (toBind) {\n        var _this = this;\n        if (toBind) {\n            this.clickObj = new Touch(this.element, {\n                tap: function (eve) {\n                    if (_this.parent.isDevice) {\n                        _this.tapCount = eve.tapCount;\n                        _this.tapEvent = eve;\n                        setTimeout(function () {\n                            if (_this.tapCount > 0) {\n                                _this.doTapAction(_this.tapEvent);\n                            }\n                            _this.tapCount = 0;\n                        }, 350);\n                    }\n                    else {\n                        if (eve.tapCount === 2 && eve.originalEvent.which !== 3) {\n                            _this.dblClickHandler(eve);\n                        }\n                        else {\n                            _this.clickHandler(eve);\n                        }\n                    }\n                },\n                tapHold: function (e) {\n                    if (_this.parent.isDevice) {\n                        _this.multiSelect = _this.parent.allowMultiSelection ? true : false;\n                        if (_this.parent.allowMultiSelection) {\n                            addClass([_this.parent.element], CLS.MULTI_SELECT);\n                        }\n                        _this.clickHandler(e);\n                    }\n                }\n            });\n        }\n        else {\n            if (this.clickObj) {\n                this.clickObj.destroy();\n            }\n        }\n    };\n    LargeIconsView.prototype.doTapAction = function (eve) {\n        var target = eve.originalEvent.target;\n        var item = closest(target, '.' + CLS.LIST_ITEM);\n        if (this.multiSelect || target.classList.contains(CLS.LIST_PARENT) || isNOU(item)) {\n            this.clickHandler(eve);\n        }\n        else {\n            this.parent.isFile = false;\n            this.updateType(item);\n            if (!this.parent.isFile) {\n                this.dblClickHandler(eve);\n            }\n            else if (eve.tapCount === 2) {\n                this.clickHandler(eve);\n                this.dblClickHandler(eve);\n            }\n            else {\n                this.clickHandler(eve);\n            }\n        }\n    };\n    LargeIconsView.prototype.clickHandler = function (e) {\n        var target = e.originalEvent.target;\n        removeBlur(this.parent, 'hover');\n        this.doSelection(target, e.originalEvent);\n        this.parent.activeModule = 'largeiconsview';\n    };\n    /**\n     *\n     * @param {Element} target - specifies the target element.\n     * @param {TouchEventArgs | MouseEventArgs | KeyboardEventArgs} e - specifies event arguements.\n     * @returns {void}\n     * @hidden\n     */\n    LargeIconsView.prototype.doSelection = function (target, e) {\n        var item = closest(target, '.' + CLS.LIST_ITEM);\n        var cList = target.classList;\n        this.parent.isFile = false;\n        var action = 'select';\n        if (e.which === 3 && !isNOU(item) && item.classList.contains(CLS.ACTIVE)) {\n            this.addActive(item);\n            this.updateType(item);\n            return;\n        }\n        else if (!isNOU(item)) {\n            if (this.parent.allowMultiSelection && item.classList.contains(CLS.ACTIVE)\n                && (e.ctrlKey || target.classList.contains(CLS.CHECK))) {\n                action = 'unselect';\n            }\n            if (e.ctrlKey && e.shiftKey) {\n                this.isSelectAllCalled = true;\n            }\n            var fileSelectionArgs = this.triggerSelection(action, item);\n            if (fileSelectionArgs.cancel !== true) {\n                if ((!this.parent.allowMultiSelection || (!this.multiSelect && (e && !e.ctrlKey)))\n                    && !cList.contains(CLS.FRAME)) {\n                    this.updateType(item);\n                    this.clearSelect();\n                }\n                if (this.parent.allowMultiSelection && e.shiftKey) {\n                    if (!(e && e.ctrlKey)) {\n                        this.clearSelect();\n                    }\n                    if (!this.startItem) {\n                        this.startItem = item;\n                    }\n                    var startIndex = this.itemList.indexOf(this.startItem);\n                    var endIndex = this.itemList.indexOf(item);\n                    if (startIndex > endIndex) {\n                        for (var i = startIndex; i >= endIndex; i--) {\n                            this.addActive(this.itemList[i]);\n                        }\n                    }\n                    else {\n                        for (var i = startIndex; i <= endIndex; i++) {\n                            this.addActive(this.itemList[i]);\n                        }\n                    }\n                    this.addFocus(this.itemList[endIndex]);\n                }\n                else {\n                    this.startItem = item;\n                    if (this.parent.allowMultiSelection && item.classList.contains(CLS.ACTIVE)) {\n                        this.removeActive(item);\n                    }\n                    else {\n                        this.addActive(item);\n                    }\n                    this.addFocus(item);\n                }\n                if (this.parent.selectedItems.length === 0) {\n                    this.resetMultiSelect();\n                }\n                this.parent.notify(events.selectionChanged, {});\n                this.triggerSelect(action, item);\n            }\n        }\n        else {\n            if (this.parent.selectedItems.length === this.itemList.length) {\n                this.isSelectAllCalled = true;\n            }\n            this.clearSelection();\n        }\n        if (!isNOU(item)) {\n            this.isSelectAllCalled = false;\n            this.updateType(item);\n        }\n    };\n    LargeIconsView.prototype.dblClickHandler = function (e) {\n        this.parent.activeModule = 'largeiconsview';\n        var target = e.originalEvent.target;\n        this.doOpenAction(target);\n    };\n    LargeIconsView.prototype.clearSelection = function () {\n        this.clearSelect();\n        this.resetMultiSelect();\n        this.parent.notify(events.selectionChanged, {});\n    };\n    LargeIconsView.prototype.resetMultiSelect = function () {\n        this.multiSelect = false;\n        removeClass([this.parent.element], CLS.MULTI_SELECT);\n    };\n    LargeIconsView.prototype.doOpenAction = function (target) {\n        var _this = this;\n        if (isNOU(target)) {\n            return;\n        }\n        var item = closest(target, '.' + CLS.LIST_ITEM);\n        this.parent.isFile = false;\n        if (!isNOU(item)) {\n            this.updateType(item);\n            var details_1 = this.getItemObject(item);\n            if (!hasReadAccess(details_1)) {\n                createDeniedDialog(this.parent, details_1, events.permissionRead);\n                return;\n            }\n            var eventArgs = { cancel: false, fileDetails: details_1, module: 'LargeIconsView' };\n            this.parent.trigger('fileOpen', eventArgs, function (fileOpenArgs) {\n                if (!fileOpenArgs.cancel) {\n                    var text = getValue('name', details_1);\n                    if (!_this.parent.isFile) {\n                        var val = _this.parent.breadcrumbbarModule.searchObj.element.value;\n                        if (val === '' && !_this.parent.isFiltered) {\n                            var id = getValue('id', details_1);\n                            _this.parent.oldPath = _this.parent.path;\n                            var newPath = _this.parent.path + (isNOU(id) ? text : id) + '/';\n                            _this.parent.setProperties({ path: newPath }, true);\n                            _this.parent.pathNames.push(text);\n                            _this.parent.pathId.push(getValue('_fm_id', details_1));\n                            _this.parent.itemData = [details_1];\n                            openAction(_this.parent);\n                        }\n                        else {\n                            openSearchFolder(_this.parent, details_1);\n                        }\n                        _this.parent.isFiltered = false;\n                        _this.parent.setProperties({ selectedItems: [] }, true);\n                    }\n                    else {\n                        var icon = fileType(details_1);\n                        if (icon === CLS.ICON_IMAGE) {\n                            var imgUrl = getImageUrl(_this.parent, details_1);\n                            createImageDialog(_this.parent, text, imgUrl);\n                        }\n                    }\n                }\n            });\n        }\n    };\n    LargeIconsView.prototype.updateType = function (item) {\n        var folder = select('.' + CLS.FOLDER, item);\n        this.parent.isFile = isNOU(folder) ? true : false;\n    };\n    /* istanbul ignore next */\n    LargeIconsView.prototype.keydownActionHandler = function (e) {\n        if (!this.isRendered) {\n            return;\n        }\n        switch (e.action) {\n            case 'end':\n            case 'home':\n            case 'moveDown':\n            case 'moveLeft':\n            case 'moveRight':\n            case 'moveUp':\n            case 'ctrlEnd':\n            case 'shiftEnd':\n            case 'csEnd':\n            case 'ctrlHome':\n            case 'shiftHome':\n            case 'csHome':\n            case 'ctrlDown':\n            case 'shiftDown':\n            case 'csDown':\n            case 'ctrlLeft':\n            case 'shiftLeft':\n            case 'csLeft':\n            case 'ctrlRight':\n            case 'shiftRight':\n            case 'csRight':\n            case 'space':\n            case 'ctrlSpace':\n            case 'shiftSpace':\n            case 'csSpace':\n            case 'ctrlA':\n            case 'enter':\n            case 'altEnter':\n            case 'esc':\n            case 'del':\n            case 'shiftdel':\n            case 'ctrlC':\n            case 'ctrlV':\n            case 'ctrlX':\n            case 'f2':\n            case 'ctrlD':\n                e.preventDefault();\n                break;\n            default:\n                break;\n        }\n    };\n    /* istanbul ignore next */\n    LargeIconsView.prototype.keyActionHandler = function (e) {\n        var _this = this;\n        if (!this.isRendered) {\n            return;\n        }\n        var fItem = this.getFocusedItem();\n        var firstItem = this.getFirstItem();\n        var lastItem = this.getLastItem();\n        switch (e.action) {\n            case 'end':\n                if (this.parent.enableVirtualization) {\n                    this.clearSelect();\n                    this.element.firstElementChild.scrollTo(0, this.element.firstElementChild.scrollHeight);\n                    setTimeout(function () {\n                        _this.navigateItem(_this.itemList[_this.itemList.length - 1]);\n                    }, 10);\n                }\n                else {\n                    this.navigateItem(lastItem);\n                }\n                break;\n            case 'home':\n                if (this.parent.enableVirtualization) {\n                    this.clearSelect();\n                    this.element.firstElementChild.scrollTop = 0;\n                    setTimeout(function () {\n                        _this.navigateItem(_this.itemList[0]);\n                    }, 10);\n                }\n                else {\n                    this.navigateItem(firstItem);\n                }\n                break;\n            case 'tab':\n                if (!isNOU(fItem)) {\n                    this.addFocus(fItem);\n                }\n                else if (!isNOU(firstItem)) {\n                    this.addFocus(firstItem);\n                }\n                break;\n            case 'moveDown':\n                this.navigateDown(fItem, true);\n                break;\n            case 'moveLeft':\n                this.navigateRight(fItem, false);\n                break;\n            case 'moveRight':\n                this.navigateRight(fItem, true);\n                break;\n            case 'moveUp':\n                this.navigateDown(fItem, false);\n                break;\n            case 'ctrlEnd':\n            case 'shiftEnd':\n            case 'csEnd':\n                this.csEndKey(lastItem, e);\n                break;\n            case 'ctrlHome':\n            case 'shiftHome':\n            case 'csHome':\n                this.csHomeKey(firstItem, e);\n                break;\n            case 'ctrlDown':\n            case 'shiftDown':\n            case 'csDown':\n                this.csDownKey(fItem, e);\n                break;\n            case 'ctrlLeft':\n            case 'shiftLeft':\n            case 'csLeft':\n                this.csLeftKey(fItem, e);\n                break;\n            case 'ctrlRight':\n            case 'shiftRight':\n            case 'csRight':\n                this.csRightKey(fItem, e);\n                break;\n            case 'ctrlUp':\n            case 'shiftUp':\n            case 'csUp':\n                this.csUpKey(fItem, e);\n                break;\n            case 'space':\n                this.spaceKey(fItem);\n                break;\n            case 'ctrlSpace':\n            case 'shiftSpace':\n            case 'csSpace':\n                if (!isNOU(fItem)) {\n                    this.doSelection(fItem, e);\n                }\n                break;\n            case 'ctrlA':\n                this.ctrlAKey(firstItem, lastItem);\n                break;\n            case 'enter':\n                this.doOpenAction(this.parent.visitedItem ? this.parent.visitedItem : this.getVisitedItem());\n                break;\n            case 'altEnter':\n                this.parent.notify(events.detailsInit, {});\n                GetDetails(this.parent, this.parent.selectedItems, this.parent.path, 'details');\n                break;\n            case 'esc':\n                removeActive(this.parent);\n                break;\n            case 'del':\n            case 'shiftdel':\n                this.performDelete();\n                break;\n            case 'ctrlC':\n                copyFiles(this.parent);\n                break;\n            case 'ctrlV':\n                this.parent.folderPath = '';\n                pasteHandler(this.parent);\n                break;\n            case 'ctrlX':\n                cutFiles(this.parent);\n                break;\n            case 'f2':\n                this.performRename();\n                break;\n            case 'ctrlD':\n                this.doDownload();\n                break;\n            case 'back':\n                this.parent.traverseBackward();\n                break;\n        }\n    };\n    LargeIconsView.prototype.doDownload = function () {\n        this.updateSelectedData();\n        doDownload(this.parent);\n    };\n    LargeIconsView.prototype.performDelete = function () {\n        if (this.parent.selectedItems && this.parent.selectedItems.length > 0) {\n            this.updateSelectedData();\n            var data = this.parent.itemData;\n            for (var i = 0; i < data.length; i++) {\n                if (!hasEditAccess(data[i])) {\n                    createDeniedDialog(this.parent, data[i], events.permissionEdit);\n                    return;\n                }\n            }\n            createDialog(this.parent, 'Delete');\n        }\n    };\n    LargeIconsView.prototype.performRename = function () {\n        if (this.parent.selectedItems.length === 1) {\n            this.updateRenameData();\n            doRename(this.parent);\n        }\n    };\n    LargeIconsView.prototype.updateRenameData = function () {\n        var item = select('.' + CLS.LIST_ITEM + '.' + CLS.ACTIVE, this.element);\n        var data = this.getItemObject(item);\n        updateRenamingData(this.parent, data);\n    };\n    LargeIconsView.prototype.getVisitedItem = function () {\n        var item = this.parent.selectedItems[this.parent.selectedItems.length - 1];\n        var indexes = this.getIndexes([item], this.parent.hasId);\n        return this.itemList[indexes[0]];\n    };\n    LargeIconsView.prototype.getFocusedItem = function () {\n        return select('.' + CLS.LIST_ITEM + '.' + CLS.FOCUS, this.element);\n    };\n    LargeIconsView.prototype.getActiveItem = function () {\n        return select('.' + CLS.LIST_ITEM + '.' + CLS.ACTIVE, this.element);\n    };\n    LargeIconsView.prototype.getFirstItem = function () {\n        return this.itemList[0];\n    };\n    LargeIconsView.prototype.getLastItem = function () {\n        return this.itemList[this.itemList.length - 1];\n    };\n    LargeIconsView.prototype.navigateItem = function (item) {\n        this.setFocus(item);\n    };\n    LargeIconsView.prototype.navigateDown = function (fItem, isTowards) {\n        var nItem = this.getNextItem(fItem, isTowards, this.perRow);\n        this.setFocus(nItem);\n    };\n    LargeIconsView.prototype.navigateRight = function (fItem, isTowards) {\n        var nItem = this.getNextItem(fItem, isTowards);\n        this.setFocus(nItem);\n    };\n    LargeIconsView.prototype.getNextItem = function (li, isTowards, perRow) {\n        if (isNOU(li)) {\n            return this.getFocusedItem() || this.getActiveItem() || this.getFirstItem();\n        }\n        var index = this.itemList.indexOf(li);\n        var nextItem;\n        do {\n            if (isTowards) {\n                index = perRow ? index + perRow : index + 1;\n            }\n            else {\n                index = perRow ? index - perRow : index - 1;\n            }\n            nextItem = this.itemList[index];\n            if (this.parent.enableVirtualization && isNOU(nextItem)) {\n                var marginValue = parseInt(window.getComputedStyle(this.itemList[0]).getPropertyValue('margin-top'), 10) +\n                    parseInt(window.getComputedStyle(this.itemList[0]).getPropertyValue('margin-bottom'), 10);\n                var scrollHeight = this.itemList[0].getBoundingClientRect().height + marginValue;\n                this.element.firstElementChild.scrollTo(this.element.firstElementChild.scrollTop, this.element.firstElementChild.scrollTop + scrollHeight);\n            }\n            if (isNOU(nextItem)) {\n                return li;\n            }\n        } while (!isVisible(nextItem));\n        return nextItem;\n    };\n    LargeIconsView.prototype.setFocus = function (nextItem) {\n        if (!isNOU(nextItem)) {\n            var fileSelectionArgs = this.triggerSelection('select', nextItem);\n            if (fileSelectionArgs.cancel !== true) {\n                this.startItem = nextItem;\n                this.clearSelect();\n                this.addActive(nextItem);\n                this.addFocus(nextItem);\n                this.parent.notify(events.selectionChanged, {});\n                this.triggerSelect('select', nextItem);\n            }\n        }\n    };\n    LargeIconsView.prototype.spaceKey = function (fItem) {\n        if (!isNOU(fItem) && !fItem.classList.contains(CLS.ACTIVE)) {\n            var fileSelectionArgs = this.triggerSelection('select', fItem);\n            if (fileSelectionArgs.cancel !== true) {\n                this.addActive(fItem);\n                this.parent.notify(events.selectionChanged, {});\n                this.triggerSelect('select', fItem);\n            }\n        }\n    };\n    LargeIconsView.prototype.ctrlAKey = function (firstItem, lastItem) {\n        if (this.parent.allowMultiSelection && !isNOU(firstItem)) {\n            this.startItem = firstItem;\n            var eveArgs = { ctrlKey: true, shiftKey: true };\n            var liParent = this.element.querySelector('.' + CLS.LIST_PARENT);\n            var liScrPos = liParent.scrollTop;\n            var getCurFocusedItem = this.getFocusedItem();\n            this.doSelection(lastItem, eveArgs);\n            liParent.scrollTop = liScrPos;\n            if (!isNOU(getCurFocusedItem)) {\n                this.addFocus(getCurFocusedItem);\n            }\n        }\n    };\n    LargeIconsView.prototype.csEndKey = function (lastItem, e) {\n        if (!this.parent.allowMultiSelection) {\n            this.navigateItem(lastItem);\n        }\n        else if (!isNOU(lastItem)) {\n            if (e.action === 'ctrlEnd') {\n                this.addFocus(lastItem);\n            }\n            else {\n                this.doSelection(lastItem, e);\n            }\n        }\n    };\n    LargeIconsView.prototype.csHomeKey = function (firstItem, e) {\n        if (!this.parent.allowMultiSelection) {\n            this.navigateItem(firstItem);\n        }\n        else if (!isNOU(firstItem)) {\n            if (e.action === 'ctrlHome') {\n                this.addFocus(firstItem);\n            }\n            else {\n                this.doSelection(firstItem, e);\n            }\n        }\n    };\n    LargeIconsView.prototype.csDownKey = function (fItem, e) {\n        if (!this.parent.allowMultiSelection) {\n            this.navigateDown(fItem, true);\n        }\n        else {\n            var dItem = this.getNextItem(fItem, true, this.perRow);\n            if (!isNOU(dItem)) {\n                if (e.action === 'ctrlDown') {\n                    this.addFocus(dItem);\n                }\n                else {\n                    this.doSelection(dItem, e);\n                }\n            }\n        }\n    };\n    LargeIconsView.prototype.csLeftKey = function (fItem, e) {\n        if (!this.parent.allowMultiSelection) {\n            this.navigateRight(fItem, false);\n        }\n        else {\n            var lItem = this.getNextItem(fItem, false);\n            if (!isNOU(lItem)) {\n                if (e.action === 'ctrlLeft') {\n                    this.addFocus(lItem);\n                }\n                else {\n                    this.doSelection(lItem, e);\n                }\n            }\n        }\n    };\n    LargeIconsView.prototype.csRightKey = function (fItem, e) {\n        if (!this.parent.allowMultiSelection) {\n            this.navigateRight(fItem, true);\n        }\n        else {\n            var rItem = this.getNextItem(fItem, true);\n            if (!isNOU(rItem)) {\n                if (e.action === 'ctrlRight') {\n                    this.addFocus(rItem);\n                }\n                else {\n                    this.doSelection(rItem, e);\n                }\n            }\n        }\n    };\n    LargeIconsView.prototype.csUpKey = function (fItem, e) {\n        if (!this.parent.allowMultiSelection) {\n            this.navigateDown(fItem, false);\n        }\n        else {\n            var uItem = this.getNextItem(fItem, false, this.perRow);\n            if (!isNOU(uItem)) {\n                if (e.action === 'ctrlUp') {\n                    this.addFocus(uItem);\n                }\n                else {\n                    this.doSelection(uItem, e);\n                }\n            }\n        }\n    };\n    LargeIconsView.prototype.addActive = function (nextItem) {\n        if (!isNOU(nextItem)) {\n            if (!nextItem.classList.contains(CLS.ACTIVE)) {\n                this.parent.selectedItems.push(this.getDataName(nextItem));\n                this.parent.setProperties({ selectedItems: this.parent.selectedItems }, true);\n                addClass([nextItem], [CLS.ACTIVE]);\n                nextItem.setAttribute('aria-selected', 'true');\n                this.checkState(nextItem, true);\n            }\n            this.parent.visitedItem = nextItem;\n        }\n    };\n    LargeIconsView.prototype.removeActive = function (preItem) {\n        if (!isNOU(preItem)) {\n            removeClass([preItem], [CLS.ACTIVE]);\n            if (this.parent.allowMultiSelection) {\n                preItem.setAttribute('aria-selected', 'false');\n            }\n            else {\n                preItem.removeAttribute('aria-selected');\n            }\n            this.checkState(preItem, false);\n            var index = this.parent.selectedItems.indexOf(this.getDataName(preItem));\n            if (index > -1) {\n                this.parent.selectedItems.splice(index, 1);\n                this.parent.setProperties({ selectedItems: this.parent.selectedItems }, true);\n            }\n            this.parent.visitedItem = null;\n        }\n    };\n    LargeIconsView.prototype.getDataName = function (item) {\n        var data = this.getItemObject(item);\n        return getItemName(this.parent, data);\n    };\n    LargeIconsView.prototype.addFocus = function (item) {\n        this.element.setAttribute('tabindex', '-1');\n        var fItem = this.getFocusedItem();\n        if (fItem) {\n            fItem.removeAttribute('tabindex');\n            removeClass([fItem], [CLS.FOCUS]);\n        }\n        addClass([item], [CLS.FOCUS]);\n        item.setAttribute('tabindex', '0');\n        item.focus();\n    };\n    LargeIconsView.prototype.checkState = function (item, toCheck) {\n        if (!this.parent.showItemCheckBoxes) {\n            return;\n        }\n        var checkEle = select('.' + CLS.FRAME, item);\n        if (isNOU(checkEle)) {\n            return;\n        }\n        if (toCheck) {\n            if (!checkEle.classList.contains(CLS.CHECK)) {\n                addClass([checkEle], CLS.CHECK);\n                closest(checkEle, '.' + CLS.CB_WRAP).setAttribute('aria-checked', 'true');\n            }\n        }\n        else {\n            if (checkEle.classList.contains(CLS.CHECK)) {\n                removeClass([checkEle], CLS.CHECK);\n                closest(checkEle, '.' + CLS.CB_WRAP).setAttribute('aria-checked', 'false');\n            }\n        }\n    };\n    LargeIconsView.prototype.clearSelect = function () {\n        var eles = Array.prototype.slice.call(selectAll('.' + CLS.ACTIVE, this.listElements));\n        var fileSelectionArgs;\n        if (eles.length !== 0) {\n            fileSelectionArgs = this.triggerSelection('unselect', eles[0]);\n            if (fileSelectionArgs.cancel !== true) {\n                for (var i = 0, len = eles.length; i < len; i++) {\n                    this.removeActive(eles[i]);\n                }\n            }\n            this.triggerSelect('unselect', eles[0]);\n        }\n    };\n    LargeIconsView.prototype.resizeHandler = function () {\n        this.getItemCount();\n    };\n    LargeIconsView.prototype.splitterResizeHandler = function () {\n        this.getItemCount();\n    };\n    LargeIconsView.prototype.getItemCount = function () {\n        var perRow = 1;\n        if (this.itemList) {\n            for (var i = 0, len = this.itemList.length - 1; i < len; i++) {\n                if (this.itemList[i].getBoundingClientRect().top === this.itemList[i + 1].getBoundingClientRect().top) {\n                    perRow++;\n                }\n                else {\n                    break;\n                }\n            }\n        }\n        this.perRow = perRow;\n    };\n    LargeIconsView.prototype.triggerSelection = function (action, item) {\n        var data = [];\n        if (this.isSelectAllCalled) {\n            for (var i = 0, len = this.itemList.length; i < len; i++) {\n                data[i] = this.getItemObject(this.itemList[i]);\n            }\n        }\n        else {\n            data[0] = this.getItemObject(item);\n        }\n        var eventArgs = { action: action, fileDetails: data.length > 1\n                ? data : data[0], isInteracted: this.isInteraction, cancel: false, target: this.isSelectAllCalled ? null\n                : item\n        };\n        this.parent.trigger('fileSelection', eventArgs);\n        this.isInteraction = true;\n        return eventArgs;\n    };\n    LargeIconsView.prototype.triggerSelect = function (action, item) {\n        var data = [];\n        if (this.isSelectAllCalled) {\n            for (var i = 0, len = this.itemList.length; i < len; i++) {\n                data[i] = this.getItemObject(this.itemList[i]);\n            }\n            this.isSelectAllCalled = false;\n        }\n        else {\n            data[0] = this.getItemObject(item);\n        }\n        this.parent.visitedData = data.length > 1 ? data[data.length - 1] : data[0];\n        var eventArgs = { action: action, fileDetails: data.length > 1\n                ? data\n                : data[0], isInteracted: this.isInteracted };\n        this.parent.trigger('fileSelect', eventArgs);\n        this.isInteracted = true;\n    };\n    LargeIconsView.prototype.selectItems = function (items) {\n        var indexes = this.getIndexes(items, this.parent.hasId);\n        for (var j = 0, len = indexes.length; j < len; j++) {\n            var eveArgs = { ctrlKey: true, shiftKey: false };\n            this.doSelection(this.itemList[indexes[j]], eveArgs);\n        }\n    };\n    LargeIconsView.prototype.getIndexes = function (items, byId) {\n        var indexes = [];\n        var filter = byId ? 'id' : 'name';\n        for (var i = 0, len = this.items.length; i < len; i++) {\n            if (items.indexOf(getValue(filter, this.items[i])) !== -1) {\n                indexes.push(i);\n            }\n        }\n        return indexes;\n    };\n    LargeIconsView.prototype.getItemObject = function (item) {\n        var index = this.itemList.indexOf(item);\n        return this.items[index];\n    };\n    LargeIconsView.prototype.addSelection = function (data) {\n        var resultData = [];\n        if (this.parent.hasId) {\n            resultData = new DataManager(this.items).\n                executeLocal(new Query().where('id', 'equal', this.parent.renamedId, false));\n        }\n        else {\n            var newData = new DataManager(this.items).\n                executeLocal(new Query().where('name', 'equal', getValue('name', data), false));\n            if (newData.length > 0) {\n                resultData = new DataManager(newData).\n                    executeLocal(new Query().where('filterPath', 'equal', this.parent.filterPath, false));\n            }\n        }\n        if (resultData.length > 0) {\n            var index = this.items.indexOf(resultData[0]);\n            var eveArgs = { ctrlKey: true, shiftKey: false };\n            this.doSelection(this.itemList[index], eveArgs);\n        }\n    };\n    LargeIconsView.prototype.updateSelectedData = function () {\n        var data = [];\n        var items = selectAll('.' + CLS.LIST_ITEM + '.' + CLS.ACTIVE, this.element);\n        for (var i = 0; i < items.length; i++) {\n            data[i] = this.getItemObject(items[i]);\n        }\n        this.parent.itemData = data;\n    };\n    LargeIconsView.prototype.onMethodCall = function (args) {\n        if (this.parent.view !== 'LargeIcons') {\n            return;\n        }\n        var action = getValue('action', args);\n        switch (action) {\n            case 'deleteFiles':\n                this.deleteFiles(getValue('ids', args));\n                break;\n            case 'downloadFiles':\n                this.downloadFiles(getValue('ids', args));\n                break;\n            case 'openFile':\n                this.openFile(getValue('id', args));\n                break;\n            case 'renameFile':\n                this.isInteraction = false;\n                this.isInteracted = false;\n                this.renameFile(getValue('id', args), getValue('newName', args));\n                break;\n            case 'createFolder':\n                this.isInteraction = false;\n                this.isInteracted = false;\n                break;\n            case 'clearSelection':\n                this.isInteraction = false;\n                this.isInteracted = false;\n                this.onClearAllInit();\n                break;\n            case 'selectAll':\n                this.isInteraction = false;\n                this.isInteracted = false;\n                this.onSelectAllInit();\n                break;\n        }\n    };\n    LargeIconsView.prototype.getItemsIndex = function (items) {\n        var indexes = [];\n        var isFilter = (this.parent.breadcrumbbarModule.searchObj.element.value !== '' || this.parent.isFiltered) ? true : false;\n        var filterName = this.parent.hasId ? 'id' : 'name';\n        if (this.parent.hasId || !isFilter) {\n            for (var i = 0, len = this.items.length; i < len; i++) {\n                if (items.indexOf(getValue(filterName, this.items[i])) !== -1) {\n                    indexes.push(i);\n                }\n            }\n        }\n        else {\n            for (var i = 0, len = this.items.length; i < len; i++) {\n                var name_2 = getValue('filterPath', this.items[i]) + getValue('name', this.items[i]);\n                if ((items.indexOf(name_2) !== -1) || (items.indexOf(getValue(filterName, this.items[i])) !== -1)) {\n                    indexes.push(i);\n                }\n            }\n        }\n        return indexes;\n    };\n    LargeIconsView.prototype.deleteFiles = function (ids) {\n        this.parent.activeModule = 'largeiconsview';\n        if (isNOU(ids)) {\n            this.performDelete();\n            return;\n        }\n        var indexes = this.getItemsIndex(ids);\n        if (indexes.length === 0) {\n            return;\n        }\n        var data = [];\n        var newIds = [];\n        for (var i = 0; i < indexes.length; i++) {\n            data[i] = this.items[indexes[i]];\n            newIds[i] = getItemName(this.parent, data[i]);\n        }\n        doDeleteFiles(this.parent, data, newIds);\n    };\n    LargeIconsView.prototype.downloadFiles = function (ids) {\n        if (isNOU(ids)) {\n            this.doDownload();\n            return;\n        }\n        var index = this.getItemsIndex(ids);\n        if (index.length === 0) {\n            return;\n        }\n        var data = [];\n        var newIds = [];\n        for (var i = 0; i < index.length; i++) {\n            data[i] = this.items[index[i]];\n            newIds[i] = getItemName(this.parent, data[i]);\n        }\n        doDownloadFiles(this.parent, data, newIds);\n    };\n    LargeIconsView.prototype.openFile = function (id) {\n        if (isNOU(id)) {\n            return;\n        }\n        var indexes = this.getItemsIndex([id]);\n        if (indexes.length > 0) {\n            this.doOpenAction(this.itemList[indexes[0]]);\n        }\n    };\n    LargeIconsView.prototype.renameFile = function (id, name) {\n        this.parent.activeModule = 'largeiconsview';\n        if (isNOU(id)) {\n            this.performRename();\n            return;\n        }\n        var indexes = this.getItemsIndex([id]);\n        if (indexes.length > 0) {\n            updateRenamingData(this.parent, this.items[indexes[0]]);\n            if (isNOU(name)) {\n                doRename(this.parent);\n            }\n            else {\n                if (!hasEditAccess(this.parent.itemData[0])) {\n                    createDeniedDialog(this.parent, this.parent.itemData[0], events.permissionEdit);\n                }\n                else {\n                    rename(this.parent, this.parent.path, name);\n                }\n            }\n        }\n    };\n    return LargeIconsView;\n}());\nexport { LargeIconsView };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}