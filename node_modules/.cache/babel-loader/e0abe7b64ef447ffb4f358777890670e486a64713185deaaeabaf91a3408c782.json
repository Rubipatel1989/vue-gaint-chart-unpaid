{"ast":null,"code":"import { RenderType } from '../base/enum';\nimport * as events from '../base/constant';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\n/**\n * Content module is used to render Rich Text Editor content\n *\n * @hidden\n\n */\nvar Render = /** @class */function () {\n  /**\n   * Constructor for render module\n   *\n   * @param {IRichTextEditor} parent - specifies the parent\n   * @param {ServiceLocator} locator - specifies the locator.\n   * @returns {void}\n   */\n  function Render(parent, locator) {\n    this.parent = parent;\n    this.locator = locator;\n    this.renderer = this.locator.getService('rendererFactory');\n    this.addEventListener();\n  }\n  /**\n   * To initialize Rich Text Editor header, content and footer rendering\n   *\n   * @returns {void}\n   * @hidden\n    */\n  Render.prototype.render = function () {\n    // eslint-disable-next-line\n    var rteObj = this.parent;\n    this.contentRenderer = this.renderer.getRenderer(RenderType.Content);\n    this.contentRenderer.renderPanel();\n  };\n  /**\n   * Refresh the entire RichTextEditor.\n   *\n   * @param {NotifyArgs} e - specifies the arguments.\n   * @returns {void}\n   */\n  Render.prototype.refresh = function (e) {\n    if (e === void 0) {\n      e = {\n        requestType: 'refresh'\n      };\n    }\n    this.parent.notify(e.requestType + \"-begin\", e);\n  };\n  /**\n   * Destroy the entire RichTextEditor.\n   *\n   * @returns {void}\n   */\n  Render.prototype.destroy = function () {\n    if (isNullOrUndefined(this.parent)) {\n      return;\n    }\n    this.removeEventListener();\n    this.locator.destroy();\n    this.renderer.destroy();\n  };\n  Render.prototype.addEventListener = function () {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n    this.parent.on(events.modelChanged, this.refresh, this);\n    this.parent.on(events.keyUp, this.keyUp, this);\n  };\n  Render.prototype.removeEventListener = function () {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n    this.parent.off(events.modelChanged, this.refresh);\n    this.parent.off(events.keyUp, this.keyUp);\n  };\n  Render.prototype.keyUp = function (e) {\n    if (this.parent.editorMode === 'HTML') {\n      switch (e.args.which) {\n        case 46:\n        case 8:\n          // eslint-disable-next-line\n          var childNodes = this.parent.contentModule.getEditPanel().childNodes;\n          if (childNodes.length === 0 || childNodes.length === 1 && childNodes[0].childNodes.length === 0 && (childNodes[0].tagName === 'BR' || (childNodes[0].tagName === 'P' || childNodes[0].tagName === 'DIV') && childNodes[0].textContent === '')) {\n            var node = this.parent.contentModule.getEditPanel();\n            if (this.parent.enterKey === 'DIV') {\n              node.innerHTML = '<div><br/></div>';\n            } else if (this.parent.enterKey === 'BR') {\n              node.innerHTML = '<br/>';\n            } else {\n              node.innerHTML = '<p><br/></p>';\n            }\n            this.parent.formatter.editorManager.nodeSelection.setCursorPoint(this.parent.contentModule.getDocument(), node.childNodes[0], 0);\n          }\n          break;\n      }\n    }\n  };\n  return Render;\n}();\nexport { Render };","map":{"version":3,"names":["RenderType","events","isNullOrUndefined","Render","parent","locator","renderer","getService","addEventListener","prototype","render","rteObj","contentRenderer","getRenderer","Content","renderPanel","refresh","e","requestType","notify","destroy","removeEventListener","isDestroyed","on","modelChanged","keyUp","off","editorMode","args","which","childNodes","contentModule","getEditPanel","length","tagName","textContent","node","enterKey","innerHTML","formatter","editorManager","nodeSelection","setCursorPoint","getDocument"],"sources":["/var/www/vue/vue-gantt-chart/node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/renderer/render.js"],"sourcesContent":["import { RenderType } from '../base/enum';\nimport * as events from '../base/constant';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\n/**\n * Content module is used to render Rich Text Editor content\n *\n * @hidden\n\n */\nvar Render = /** @class */ (function () {\n    /**\n     * Constructor for render module\n     *\n     * @param {IRichTextEditor} parent - specifies the parent\n     * @param {ServiceLocator} locator - specifies the locator.\n     * @returns {void}\n     */\n    function Render(parent, locator) {\n        this.parent = parent;\n        this.locator = locator;\n        this.renderer = this.locator.getService('rendererFactory');\n        this.addEventListener();\n    }\n    /**\n     * To initialize Rich Text Editor header, content and footer rendering\n     *\n     * @returns {void}\n     * @hidden\n\n     */\n    Render.prototype.render = function () {\n        // eslint-disable-next-line\n        var rteObj = this.parent;\n        this.contentRenderer = this.renderer.getRenderer(RenderType.Content);\n        this.contentRenderer.renderPanel();\n    };\n    /**\n     * Refresh the entire RichTextEditor.\n     *\n     * @param {NotifyArgs} e - specifies the arguments.\n     * @returns {void}\n     */\n    Render.prototype.refresh = function (e) {\n        if (e === void 0) { e = { requestType: 'refresh' }; }\n        this.parent.notify(e.requestType + \"-begin\", e);\n    };\n    /**\n     * Destroy the entire RichTextEditor.\n     *\n     * @returns {void}\n     */\n    Render.prototype.destroy = function () {\n        if (isNullOrUndefined(this.parent)) {\n            return;\n        }\n        this.removeEventListener();\n        this.locator.destroy();\n        this.renderer.destroy();\n    };\n    Render.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on(events.modelChanged, this.refresh, this);\n        this.parent.on(events.keyUp, this.keyUp, this);\n    };\n    Render.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off(events.modelChanged, this.refresh);\n        this.parent.off(events.keyUp, this.keyUp);\n    };\n    Render.prototype.keyUp = function (e) {\n        if (this.parent.editorMode === 'HTML') {\n            switch (e.args.which) {\n                case 46:\n                case 8:\n                    // eslint-disable-next-line\n                    var childNodes = this.parent.contentModule.getEditPanel().childNodes;\n                    if ((childNodes.length === 0) ||\n                        (childNodes.length === 1 && childNodes[0].childNodes.length === 0 && ((childNodes[0].tagName === 'BR') ||\n                            ((childNodes[0].tagName === 'P' || childNodes[0].tagName === 'DIV') && childNodes[0].textContent === '')))) {\n                        var node = this.parent.contentModule.getEditPanel();\n                        if (this.parent.enterKey === 'DIV') {\n                            node.innerHTML = '<div><br/></div>';\n                        }\n                        else if (this.parent.enterKey === 'BR') {\n                            node.innerHTML = '<br/>';\n                        }\n                        else {\n                            node.innerHTML = '<p><br/></p>';\n                        }\n                        this.parent.formatter.editorManager.nodeSelection.setCursorPoint(this.parent.contentModule.getDocument(), node.childNodes[0], 0);\n                    }\n                    break;\n            }\n        }\n    };\n    return Render;\n}());\nexport { Render };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}