{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport * as CONSTANT from './../base/constant';\nimport * as EVENTS from './../../common/constant';\nimport { isIDevice, setEditFrameFocus } from '../../common/util';\n/**\n * Indents internal component\n *\n * @hidden\n\n */\nvar Indents = /** @class */function () {\n  /**\n   * Constructor for creating the Formats plugin\n   *\n   * @param {EditorManager} parent - specifies the parent element\n   * @hidden\n    */\n  function Indents(parent) {\n    this.indentValue = 20;\n    this.parent = parent;\n    this.addEventListener();\n  }\n  Indents.prototype.addEventListener = function () {\n    this.parent.observer.on(CONSTANT.INDENT_TYPE, this.applyIndents, this);\n    this.parent.observer.on(EVENTS.KEY_DOWN_HANDLER, this.onKeyDown, this);\n    this.parent.observer.on(EVENTS.INTERNAL_DESTROY, this.destroy, this);\n  };\n  Indents.prototype.removeEventListener = function () {\n    this.parent.observer.off(CONSTANT.INDENT_TYPE, this.applyIndents);\n    this.parent.observer.off(EVENTS.KEY_DOWN_HANDLER, this.onKeyDown);\n    this.parent.observer.off(EVENTS.INTERNAL_DESTROY, this.destroy);\n  };\n  Indents.prototype.onKeyDown = function (e) {\n    switch (e.event.action) {\n      case 'indents':\n        this.applyIndents({\n          subCommand: 'Indent',\n          callBack: e.callBack\n        });\n        e.event.preventDefault();\n        break;\n      case 'outdents':\n        this.applyIndents({\n          subCommand: 'Outdent',\n          callBack: e.callBack\n        });\n        e.event.preventDefault();\n        break;\n    }\n  };\n  Indents.prototype.applyIndents = function (e) {\n    var editEle = this.parent.editableElement;\n    var isRtl = editEle.classList.contains('e-rtl');\n    var range = this.parent.nodeSelection.getRange(this.parent.currentDocument);\n    var save = this.parent.nodeSelection.save(range, this.parent.currentDocument);\n    this.parent.domNode.setMarker(save);\n    var indentsNodes = this.parent.domNode.blockNodes();\n    if (e.enterAction === 'BR') {\n      indentsNodes = this.parent.domNode.convertToBlockNodes(indentsNodes, false);\n    }\n    var parentNodes = indentsNodes.slice();\n    var listsNodes = [];\n    for (var i = 0; i < parentNodes.length; i++) {\n      if (parentNodes[i].tagName !== 'LI' && 'LI' === parentNodes[i].parentNode.tagName) {\n        indentsNodes.splice(indentsNodes.indexOf(parentNodes[i]), 1);\n        listsNodes.push(parentNodes[i].parentNode);\n      } else if (parentNodes[i].tagName === 'LI') {\n        indentsNodes.splice(indentsNodes.indexOf(parentNodes[i]), 1);\n        listsNodes.push(parentNodes[i]);\n      }\n    }\n    if (listsNodes.length > 0) {\n      this.parent.observer.notify(EVENTS.KEY_DOWN_HANDLER, {\n        event: {\n          preventDefault: function () {\n            return;\n          },\n          stopPropagation: function () {\n            return;\n          },\n          shiftKey: e.subCommand === 'Indent' ? false : true,\n          which: 9,\n          action: 'indent'\n        }\n      });\n    }\n    for (var i = 0; i < indentsNodes.length; i++) {\n      var parentNode = indentsNodes[i];\n      var marginLeftOrRight = isRtl ? parentNode.style.marginRight : parentNode.style.marginLeft;\n      var indentsValue = void 0;\n      if (e.subCommand === 'Indent') {\n        /* eslint-disable */\n        indentsValue = marginLeftOrRight === '' ? this.indentValue + 'px' : parseInt(marginLeftOrRight, null) + this.indentValue + 'px';\n        isRtl ? parentNode.style.marginRight = indentsValue : parentNode.style.marginLeft = indentsValue;\n      } else {\n        indentsValue = marginLeftOrRight === '' || marginLeftOrRight === '0px' || marginLeftOrRight === '0in' ? '' : parseInt(marginLeftOrRight, null) - this.indentValue < 0 ? '0px' : parseInt(marginLeftOrRight, null) - this.indentValue + 'px';\n        isRtl ? parentNode.style.marginRight = indentsValue : parentNode.style.marginLeft = indentsValue;\n        /* eslint-enable */\n      }\n    }\n    editEle.focus({\n      preventScroll: true\n    });\n    if (isIDevice()) {\n      setEditFrameFocus(editEle, e.selector);\n    }\n    save = this.parent.domNode.saveMarker(save);\n    save.restore();\n    if (e.callBack) {\n      e.callBack({\n        requestType: e.subCommand,\n        editorMode: 'HTML',\n        event: e.event,\n        range: this.parent.nodeSelection.getRange(this.parent.currentDocument),\n        elements: this.parent.domNode.blockNodes()\n      });\n    }\n  };\n  Indents.prototype.destroy = function () {\n    this.removeEventListener();\n  };\n  return Indents;\n}();\nexport { Indents };","map":{"version":3,"names":["CONSTANT","EVENTS","isIDevice","setEditFrameFocus","Indents","parent","indentValue","addEventListener","prototype","observer","on","INDENT_TYPE","applyIndents","KEY_DOWN_HANDLER","onKeyDown","INTERNAL_DESTROY","destroy","removeEventListener","off","e","event","action","subCommand","callBack","preventDefault","editEle","editableElement","isRtl","classList","contains","range","nodeSelection","getRange","currentDocument","save","domNode","setMarker","indentsNodes","blockNodes","enterAction","convertToBlockNodes","parentNodes","slice","listsNodes","i","length","tagName","parentNode","splice","indexOf","push","notify","stopPropagation","shiftKey","which","marginLeftOrRight","style","marginRight","marginLeft","indentsValue","parseInt","focus","preventScroll","selector","saveMarker","restore","requestType","editorMode","elements"],"sources":["/var/www/vue/vue-gantt-chart/node_modules/@syncfusion/ej2-richtexteditor/src/editor-manager/plugin/indents.js"],"sourcesContent":["import * as CONSTANT from './../base/constant';\nimport * as EVENTS from './../../common/constant';\nimport { isIDevice, setEditFrameFocus } from '../../common/util';\n/**\n * Indents internal component\n *\n * @hidden\n\n */\nvar Indents = /** @class */ (function () {\n    /**\n     * Constructor for creating the Formats plugin\n     *\n     * @param {EditorManager} parent - specifies the parent element\n     * @hidden\n\n     */\n    function Indents(parent) {\n        this.indentValue = 20;\n        this.parent = parent;\n        this.addEventListener();\n    }\n    Indents.prototype.addEventListener = function () {\n        this.parent.observer.on(CONSTANT.INDENT_TYPE, this.applyIndents, this);\n        this.parent.observer.on(EVENTS.KEY_DOWN_HANDLER, this.onKeyDown, this);\n        this.parent.observer.on(EVENTS.INTERNAL_DESTROY, this.destroy, this);\n    };\n    Indents.prototype.removeEventListener = function () {\n        this.parent.observer.off(CONSTANT.INDENT_TYPE, this.applyIndents);\n        this.parent.observer.off(EVENTS.KEY_DOWN_HANDLER, this.onKeyDown);\n        this.parent.observer.off(EVENTS.INTERNAL_DESTROY, this.destroy);\n    };\n    Indents.prototype.onKeyDown = function (e) {\n        switch (e.event.action) {\n            case 'indents':\n                this.applyIndents({ subCommand: 'Indent', callBack: e.callBack });\n                e.event.preventDefault();\n                break;\n            case 'outdents':\n                this.applyIndents({ subCommand: 'Outdent', callBack: e.callBack });\n                e.event.preventDefault();\n                break;\n        }\n    };\n    Indents.prototype.applyIndents = function (e) {\n        var editEle = this.parent.editableElement;\n        var isRtl = editEle.classList.contains('e-rtl');\n        var range = this.parent.nodeSelection.getRange(this.parent.currentDocument);\n        var save = this.parent.nodeSelection.save(range, this.parent.currentDocument);\n        this.parent.domNode.setMarker(save);\n        var indentsNodes = this.parent.domNode.blockNodes();\n        if (e.enterAction === 'BR') {\n            indentsNodes = this.parent.domNode.convertToBlockNodes(indentsNodes, false);\n        }\n        var parentNodes = indentsNodes.slice();\n        var listsNodes = [];\n        for (var i = 0; i < parentNodes.length; i++) {\n            if (parentNodes[i].tagName !== 'LI' && 'LI' === parentNodes[i].parentNode.tagName) {\n                indentsNodes.splice(indentsNodes.indexOf(parentNodes[i]), 1);\n                listsNodes.push(parentNodes[i].parentNode);\n            }\n            else if (parentNodes[i].tagName === 'LI') {\n                indentsNodes.splice(indentsNodes.indexOf(parentNodes[i]), 1);\n                listsNodes.push(parentNodes[i]);\n            }\n        }\n        if (listsNodes.length > 0) {\n            this.parent.observer.notify(EVENTS.KEY_DOWN_HANDLER, {\n                event: {\n                    preventDefault: function () {\n                        return;\n                    },\n                    stopPropagation: function () {\n                        return;\n                    },\n                    shiftKey: (e.subCommand === 'Indent' ? false : true),\n                    which: 9,\n                    action: 'indent'\n                }\n            });\n        }\n        for (var i = 0; i < indentsNodes.length; i++) {\n            var parentNode = indentsNodes[i];\n            var marginLeftOrRight = isRtl ? parentNode.style.marginRight : parentNode.style.marginLeft;\n            var indentsValue = void 0;\n            if (e.subCommand === 'Indent') {\n                /* eslint-disable */\n                indentsValue = marginLeftOrRight === '' ? this.indentValue + 'px' : parseInt(marginLeftOrRight, null) + this.indentValue + 'px';\n                isRtl ? (parentNode.style.marginRight = indentsValue) : (parentNode.style.marginLeft = indentsValue);\n            }\n            else {\n                indentsValue = (marginLeftOrRight === '' || marginLeftOrRight === '0px' || marginLeftOrRight === '0in') ? '' : (parseInt(marginLeftOrRight, null) - this.indentValue < 0) ? '0px' : (parseInt(marginLeftOrRight, null) - this.indentValue) + 'px';\n                isRtl ? (parentNode.style.marginRight = indentsValue) : (parentNode.style.marginLeft = indentsValue);\n                /* eslint-enable */\n            }\n        }\n        editEle.focus({ preventScroll: true });\n        if (isIDevice()) {\n            setEditFrameFocus(editEle, e.selector);\n        }\n        save = this.parent.domNode.saveMarker(save);\n        save.restore();\n        if (e.callBack) {\n            e.callBack({\n                requestType: e.subCommand,\n                editorMode: 'HTML',\n                event: e.event,\n                range: this.parent.nodeSelection.getRange(this.parent.currentDocument),\n                elements: this.parent.domNode.blockNodes()\n            });\n        }\n    };\n    Indents.prototype.destroy = function () {\n        this.removeEventListener();\n    };\n    return Indents;\n}());\nexport { Indents };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}