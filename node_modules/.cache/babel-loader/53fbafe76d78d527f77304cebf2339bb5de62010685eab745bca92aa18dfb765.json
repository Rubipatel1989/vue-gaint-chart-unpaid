{"ast":null,"code":"import \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.filter.js\";\nimport { getObject, appendChildren } from '@syncfusion/ej2-grids';\nimport { templateCompiler, extend, CellRenderer } from '@syncfusion/ej2-grids';\nimport { addClass, createElement, isNullOrUndefined, getValue } from '@syncfusion/ej2-base';\nimport * as events from '../base/constant';\nimport { isRemoteData, isOffline, getExpandStatus, isFilterChildHierarchy } from '../utils';\n/**\n * TreeGrid render module\n *\n * @hidden\n */\nvar Render = /** @class */function () {\n  /**\n   * Constructor for render module\n   *\n   * @param {TreeGrid} parent - Tree Grid instance\n   */\n  function Render(parent) {\n    this.parent = parent;\n    this.templateResult = null;\n    this.parent.grid.on('template-result', this.columnTemplateResult, this);\n    this.parent.grid.on('reactTemplateRender', this.reactTemplateRender, this);\n  }\n  /**\n   * Updated row elements for TreeGrid\n   *\n   * @param {RowDataBoundEventArgs} args - Row details before its bound to DOM\n   * @returns {void}\n   */\n  Render.prototype.RowModifier = function (args) {\n    if (!args.data) {\n      return;\n    }\n    var data = args.data;\n    var parentData = data.parentItem;\n    if (!isNullOrUndefined(data.parentItem) && !isFilterChildHierarchy(this.parent) && (!(this.parent.allowPaging && !(this.parent.pageSettings.pageSizeMode === 'Root')) || isRemoteData(this.parent) && !isOffline(this.parent))) {\n      var collapsed = this.parent.initialRender && (!(isNullOrUndefined(parentData[this.parent.expandStateMapping]) || parentData[this.parent.expandStateMapping]) || this.parent.enableCollapseAll) || !getExpandStatus(this.parent, args.data, this.parent.grid.getCurrentViewRecords());\n      if (collapsed && !isNullOrUndefined(args.row)) {\n        this.parent['toggleRowVisibility'](args.row, 'e-childrow-hidden');\n        var rowsObj = this.parent.grid.getRowsObject();\n        if (!this.parent.grid.isFrozenGrid() && !isNullOrUndefined(args.row.getAttribute('data-uid'))) {\n          rowsObj.filter(function (e) {\n            return e.uid === args.row.getAttribute('data-uid');\n          })[0].visible = false;\n        }\n      }\n    }\n    if (isRemoteData(this.parent) && !isOffline(this.parent)) {\n      var proxy_1 = this.parent;\n      var parentrec = this.parent.getCurrentViewRecords().filter(function (rec) {\n        return getValue(proxy_1.idMapping, rec) === getValue(proxy_1.parentIdMapping, data);\n      });\n      if (parentrec.length > 0 && !parentrec[0].isSummaryRow && !isNullOrUndefined(args.row)) {\n        var display = parentrec[0].expanded ? 'e-childrow-visible' : 'e-childrow-hidden';\n        this.parent['toggleRowVisibility'](args.row, display);\n      }\n    }\n    //addClass([args.row], 'e-gridrowindex' + index + 'level' + (<ITreeData>args.data).level);\n    var summaryRow = getObject('isSummaryRow', args.data);\n    if (summaryRow) {\n      addClass([args.row], 'e-summaryrow');\n    }\n    if (!isNullOrUndefined(args.row)) {\n      if (args.row.querySelector('.e-treegridexpand')) {\n        args.row.setAttribute('aria-expanded', 'true');\n      } else if (args.row.querySelector('.e-treegridcollapse')) {\n        args.row.setAttribute('aria-expanded', 'false');\n      }\n      if (this.parent.enableCollapseAll && this.parent.initialRender) {\n        if (!isNullOrUndefined(data.parentItem)) {\n          this.parent['toggleRowVisibility'](args.row, 'e-childrow-hidden');\n        }\n      }\n    }\n    var dragStartData = 'dragStartData';\n    var draggedRecord = 'draggedRecord';\n    if (this.parent.rowDragAndDropModule && this.parent.grid.rowDragAndDropModule && (this.parent.grid.rowDragAndDropModule[\"\" + dragStartData] || this.parent.rowDragAndDropModule[\"\" + draggedRecord]) && this.parent.getContentTable().scrollHeight <= this.parent.getContent().clientHeight) {\n      var lastRowBorder = 'lastRowBorder';\n      var lastVisualData = this.parent.getVisibleRecords()[this.parent.getVisibleRecords().length - 1];\n      if (lastVisualData.uniqueID === args.data.uniqueID && !isNullOrUndefined(args.row) && !args.row.cells[0].classList.contains('e-lastrowcell')) {\n        this.parent[\"\" + lastRowBorder](args.row, true);\n      }\n    }\n    if (this.parent.isReact) {\n      var renderReactTemplates = 'renderReactTemplates';\n      // eslint-disable-next-line @typescript-eslint/no-this-alias\n      var thisRef_1 = this;\n      // tslint:disable-next-line:typedef\n      thisRef_1.parent[\"\" + renderReactTemplates](function () {\n        thisRef_1.parent.trigger(events.rowDataBound, args);\n      });\n    } else {\n      this.parent.trigger(events.rowDataBound, args);\n    }\n  };\n  /**\n   * cell renderer for tree column index cell\n   *\n   * @param {QueryCellInfoEventArgs} args - Cell detail before its bound to DOM\n   * @returns {void}\n   */\n  Render.prototype.cellRender = function (args) {\n    if (!args.data) {\n      return;\n    }\n    var grid = this.parent.grid;\n    var data = args.data;\n    var index;\n    var ispadfilter = isNullOrUndefined(data.filterLevel);\n    var pad = ispadfilter ? data.level : data.filterLevel;\n    var totalIconsWidth = 0;\n    var cellElement;\n    var column = this.parent.getColumnByUid(args.column.uid);\n    var summaryRow = data.isSummaryRow;\n    var frozenColumns = this.parent.getFrozenColumns();\n    if (!isNullOrUndefined(data.parentItem)) {\n      index = data.parentItem.index;\n    } else {\n      index = data.index;\n    }\n    var columnIndex;\n    var getVirtualColIndexByUid = 'getVirtualColIndexByUid';\n    if (this.parent.enableColumnVirtualization && !this.parent.initialRender) {\n      columnIndex = this.parent[\"\" + getVirtualColIndexByUid](args.column.uid);\n    } else {\n      columnIndex = grid.getColumnIndexByUid(args.column.uid);\n    }\n    if (columnIndex === this.parent.treeColumnIndex && (args.requestType === 'add' || args.requestType === 'rowDragAndDrop' || args.requestType === 'delete' || isNullOrUndefined(args.cell.querySelector('.e-treecell')))) {\n      var container = createElement('div', {\n        className: 'e-treecolumn-container'\n      });\n      var emptyExpandIcon = createElement('span', {\n        className: 'e-icons e-none',\n        styles: 'width: 10px; display: inline-block'\n      });\n      for (var n = 0; n < pad; n++) {\n        totalIconsWidth += 10;\n        container.appendChild(emptyExpandIcon.cloneNode());\n      }\n      var iconRequired = !isNullOrUndefined(data.hasFilteredChildRecords) ? data.hasFilteredChildRecords : data.hasChildRecords;\n      if (iconRequired && !isNullOrUndefined(data.childRecords)) {\n        if (this.parent['isFromGantt'] && this.parent.loadChildOnDemand) {\n          iconRequired = data.hasChildRecords;\n        } else {\n          iconRequired = !(data.childRecords.length === 0);\n        }\n      }\n      if (iconRequired) {\n        addClass([args.cell], 'e-treerowcell');\n        args.cell.setAttribute('aria-expanded', data.expanded ? 'true' : 'false');\n        var expandIcon = createElement('span', {\n          className: 'e-icons'\n        });\n        var expand = void 0;\n        if (this.parent.initialRender) {\n          expand = data.expanded && (isNullOrUndefined(data[this.parent.expandStateMapping]) || data[this.parent.expandStateMapping]) && !this.parent.enableCollapseAll;\n        } else {\n          expand = !(!data.expanded || !getExpandStatus(this.parent, data, this.parent.grid.getCurrentViewRecords()));\n        }\n        addClass([expandIcon], expand ? 'e-treegridexpand' : 'e-treegridcollapse');\n        totalIconsWidth += 18;\n        container.appendChild(expandIcon);\n        emptyExpandIcon.style.width = '4px';\n        totalIconsWidth += 7;\n        container.appendChild(emptyExpandIcon.cloneNode());\n      } else if (pad || !pad && !data.level) {\n        // icons width\n        totalIconsWidth += 20;\n        container.appendChild(emptyExpandIcon.cloneNode());\n        container.appendChild(emptyExpandIcon.cloneNode());\n      }\n      //should add below code when paging funcitonality implemented\n      // if (data.hasChildRecords) {\n      //     addClass([expandIcon], data.expanded ? 'e-treegridexpand' : 'e-treegridcollapse');\n      // }\n      cellElement = createElement('span', {\n        className: 'e-treecell'\n      });\n      if (this.parent.allowTextWrap) {\n        cellElement.style.width = 'Calc(100% - ' + totalIconsWidth + 'px)';\n      }\n      addClass([args.cell], 'e-gridrowindex' + index + 'level' + data.level);\n      this.updateTreeCell(args, cellElement);\n      container.appendChild(cellElement);\n      args.cell.appendChild(container);\n    } else if (this.templateResult) {\n      this.templateResult = null;\n    }\n    var freeze = grid.getFrozenLeftColumnsCount() > 0 || grid.getFrozenRightColumnsCount() > 0 ? true : false;\n    if (!freeze) {\n      if (frozenColumns > this.parent.treeColumnIndex && frozenColumns > 0 && grid.getColumnIndexByUid(args.column.uid) === frozenColumns) {\n        addClass([args.cell], 'e-gridrowindex' + index + 'level' + data.level);\n      } else if (frozenColumns < this.parent.treeColumnIndex && frozenColumns > 0 && (grid.getColumnIndexByUid(args.column.uid) === frozenColumns || grid.getColumnIndexByUid(args.column.uid) === frozenColumns - 1)) {\n        addClass([args.cell], 'e-gridrowindex' + index + 'level' + data.level);\n      } else if (frozenColumns === this.parent.treeColumnIndex && frozenColumns > 0 && grid.getColumnIndexByUid(args.column.uid) === this.parent.treeColumnIndex - 1) {\n        addClass([args.cell], 'e-gridrowindex' + index + 'level' + data.level);\n      }\n    } else {\n      var freezerightColumns = grid.getFrozenRightColumns();\n      var freezeLeftColumns = grid.getFrozenLeftColumns();\n      var movableColumns = grid.getMovableColumns();\n      if (freezerightColumns.length > 0 && freezerightColumns[0].field === args.column.field) {\n        addClass([args.cell], 'e-gridrowindex' + index + 'level' + data.level);\n      } else if (freezeLeftColumns.length > 0 && freezeLeftColumns[0].field === args.column.field) {\n        addClass([args.cell], 'e-gridrowindex' + index + 'level' + data.level);\n      } else if (movableColumns.length > 0 && movableColumns[0].field === args.column.field) {\n        addClass([args.cell], 'e-gridrowindex' + index + 'level' + data.level);\n      }\n    }\n    if (!isNullOrUndefined(column) && column.showCheckbox) {\n      this.parent.notify('columnCheckbox', args);\n      if (this.parent.allowTextWrap) {\n        var checkboxElement = args.cell.querySelectorAll('.e-frame')[0];\n        var width = parseInt(checkboxElement.style.width, 16);\n        totalIconsWidth += width;\n        totalIconsWidth += 10;\n        if (grid.getColumnIndexByUid(args.column.uid) === this.parent.treeColumnIndex) {\n          cellElement = args.cell.querySelector('.e-treecell');\n        } else {\n          cellElement = args.cell.querySelector('.e-treecheckbox');\n        }\n        cellElement.style.width = 'Calc(100% - ' + totalIconsWidth + 'px)';\n      }\n    }\n    if (summaryRow) {\n      addClass([args.cell], 'e-summarycell');\n      var summaryData = getObject(args.column.field, args.data);\n      summaryData = isNullOrUndefined(summaryData) ? null : summaryData;\n      if (args.cell.querySelector('.e-treecell') != null) {\n        args.cell.querySelector('.e-treecell').innerHTML = summaryData;\n      } else {\n        if (args.column.template) {\n          args.cell.innerHTML = null;\n        } else {\n          args.cell.innerHTML = summaryData;\n        }\n      }\n    }\n    this.parent['args'] = args;\n    var columnModel = getValue('columnModel', this.parent);\n    var treeColumn = columnModel[this.parent.treeColumnIndex];\n    if (isNullOrUndefined(this.parent.rowTemplate) && !this.parent.isReact || this.parent.isReact && !args.column['template']) {\n      this.parent.trigger(events.queryCellInfo, args);\n    } else if (this.parent.isReact && treeColumn.field !== args.column.field) {\n      var renderReactTemplates = 'renderReactTemplates';\n      // eslint-disable-next-line @typescript-eslint/no-this-alias\n      var thisRef_2 = this;\n      // tslint:disable-next-line:typedef\n      thisRef_2.parent[\"\" + renderReactTemplates](function () {\n        thisRef_2.parent.trigger(events.queryCellInfo, args);\n      });\n    }\n  };\n  Render.prototype.updateTreeCell = function (args, cellElement) {\n    var columnModel = getValue('columnModel', this.parent);\n    var treeColumn = columnModel[this.parent.treeColumnIndex];\n    var templateFn = 'templateFn';\n    var colindex = args.column.index;\n    if (isNullOrUndefined(treeColumn.field)) {\n      args.cell.setAttribute('data-colindex', colindex + '');\n    }\n    if (treeColumn.field === args.column.field && !isNullOrUndefined(treeColumn.template)) {\n      /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n      args.column.template = treeColumn.template;\n      args.column[\"\" + templateFn] = templateCompiler(args.column.template);\n      args.cell.classList.add('e-templatecell');\n    }\n    var textContent = args.cell.querySelector('.e-treecell') != null ? args.cell.querySelector('.e-treecell').innerHTML : args.cell.innerHTML;\n    if (typeof args.column.template === 'object' && this.templateResult) {\n      appendChildren(cellElement, this.templateResult);\n      this.templateResult = null;\n      args.cell.innerHTML = '';\n    } else if (args.cell.classList.contains('e-templatecell')) {\n      var len = args.cell.children.length;\n      var tempID = this.parent.element.id + args.column.uid;\n      if (treeColumn.field === args.column.field && !isNullOrUndefined(treeColumn.template)) {\n        var portals = 'portals';\n        var renderReactTemplates = 'renderReactTemplates';\n        if (this.parent.isReact && typeof args.column.template !== 'string') {\n          args.column[\"\" + templateFn](args.data, this.parent, 'columnTemplate', tempID, null, null, cellElement);\n          if (isNullOrUndefined(this.parent.grid[\"\" + portals])) {\n            this.parent.grid[\"\" + portals] = this.parent[\"\" + portals];\n          }\n          this.parent.notify('renderReactTemplate', this.parent[\"\" + portals]);\n          // eslint-disable-next-line @typescript-eslint/no-this-alias\n          var thisRef_3 = this;\n          // tslint:disable-next-line:typedef\n          thisRef_3.parent[\"\" + renderReactTemplates](function () {\n            thisRef_3.parent.trigger(events.queryCellInfo, args);\n          });\n        } else {\n          var str = 'isStringTemplate';\n          var result = args.column[\"\" + templateFn](extend({\n            'index': ''\n          }, args.data), this.parent, 'template', tempID, this.parent[\"\" + str]);\n          appendChildren(cellElement, result);\n        }\n        delete args.column.template;\n        delete args.column[\"\" + templateFn];\n        args.cell.innerHTML = '';\n      } else {\n        for (var i = 0; i < len; len = args.cell.children.length) {\n          cellElement.appendChild(args.cell.children[parseInt(i.toString(), 10)]);\n        }\n      }\n    } else {\n      cellElement.innerHTML = textContent;\n      args.cell.innerHTML = '';\n    }\n  };\n  /**\n   * @param {string} columnUid - Defines column uid\n   * @returns {void}\n   * @hidden\n   */\n  Render.prototype.refreshReactColumnTemplateByUid = function (columnUid) {\n    var _this = this;\n    if (this.parent.isReact) {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      this.parent.clearTemplate(['columnTemplate'], undefined, function () {\n        var cells = 'cells';\n        var rowIdx = 'index';\n        var rowsObj = _this.parent.grid.getRowsObject();\n        var rows = _this.parent.getDataRows();\n        var indent = _this.parent.grid.getIndentCount();\n        var cellIndex = _this.parent.grid.getNormalizedColumnIndex(columnUid);\n        if (rows.length !== 0) {\n          for (var j = 0; j < rowsObj.length; j++) {\n            if (rowsObj[parseInt(j.toString(), 10)].isDataRow && !isNullOrUndefined(rowsObj[parseInt(j.toString(), 10)].index)) {\n              var cell = rowsObj[parseInt(j.toString(), 10)][\"\" + cells][parseInt(cellIndex.toString(), 10)];\n              var cellRenderer = new CellRenderer(_this.parent.grid, _this.parent.grid.serviceLocator);\n              var td = rows.length >= rowsObj.length ? _this.parent.getCellFromIndex(rowsObj[parseInt(j.toString(), 10)].index, cellIndex - indent) : rows[rowsObj[parseInt(j.toString(), 10)].index].querySelector('.e-templatecell');\n              cellRenderer.refreshTD(td, cell, rowsObj[parseInt(j.toString(), 10)].data, {\n                index: rowsObj[parseInt(j.toString(), 10)][\"\" + rowIdx]\n              });\n              var treecell = _this.parent.getRows()[parseInt(j.toString(), 10)].cells[parseInt(cellIndex.toString(), 10)];\n              _this.cellRender({\n                data: rowsObj[parseInt(j.toString(), 10)].data,\n                cell: treecell,\n                column: cell.column\n              });\n            }\n          }\n        }\n      });\n    }\n  };\n  Render.prototype.columnTemplateResult = function (args) {\n    this.templateResult = args.template;\n  };\n  // eslint-disable-next-line\n  Render.prototype.reactTemplateRender = function (args, callBack) {\n    var renderReactTemplates = 'renderReactTemplates';\n    var portals = 'portals';\n    this.parent[\"\" + portals] = args;\n    this.parent.notify('renderReactTemplate', this.parent[\"\" + portals]);\n    this.parent[\"\" + renderReactTemplates](callBack);\n  };\n  Render.prototype.destroy = function () {\n    this.parent.grid.off('template-result', this.columnTemplateResult);\n    this.parent.grid.off('reactTemplateRender', this.reactTemplateRender);\n  };\n  return Render;\n}();\nexport { Render };","map":{"version":3,"names":["getObject","appendChildren","templateCompiler","extend","CellRenderer","addClass","createElement","isNullOrUndefined","getValue","events","isRemoteData","isOffline","getExpandStatus","isFilterChildHierarchy","Render","parent","templateResult","grid","on","columnTemplateResult","reactTemplateRender","prototype","RowModifier","args","data","parentData","parentItem","allowPaging","pageSettings","pageSizeMode","collapsed","initialRender","expandStateMapping","enableCollapseAll","getCurrentViewRecords","row","rowsObj","getRowsObject","isFrozenGrid","getAttribute","filter","e","uid","visible","proxy_1","parentrec","rec","idMapping","parentIdMapping","length","isSummaryRow","display","expanded","summaryRow","querySelector","setAttribute","dragStartData","draggedRecord","rowDragAndDropModule","getContentTable","scrollHeight","getContent","clientHeight","lastRowBorder","lastVisualData","getVisibleRecords","uniqueID","cells","classList","contains","isReact","renderReactTemplates","thisRef_1","trigger","rowDataBound","cellRender","index","ispadfilter","filterLevel","pad","level","totalIconsWidth","cellElement","column","getColumnByUid","frozenColumns","getFrozenColumns","columnIndex","getVirtualColIndexByUid","enableColumnVirtualization","getColumnIndexByUid","treeColumnIndex","requestType","cell","container","className","emptyExpandIcon","styles","n","appendChild","cloneNode","iconRequired","hasFilteredChildRecords","hasChildRecords","childRecords","loadChildOnDemand","expandIcon","expand","style","width","allowTextWrap","updateTreeCell","freeze","getFrozenLeftColumnsCount","getFrozenRightColumnsCount","freezerightColumns","getFrozenRightColumns","freezeLeftColumns","getFrozenLeftColumns","movableColumns","getMovableColumns","field","showCheckbox","notify","checkboxElement","querySelectorAll","parseInt","summaryData","innerHTML","template","columnModel","treeColumn","rowTemplate","queryCellInfo","thisRef_2","templateFn","colindex","add","textContent","len","children","tempID","element","id","portals","thisRef_3","str","result","i","toString","refreshReactColumnTemplateByUid","columnUid","_this","clearTemplate","undefined","rowIdx","rows","getDataRows","indent","getIndentCount","cellIndex","getNormalizedColumnIndex","j","isDataRow","cellRenderer","serviceLocator","td","getCellFromIndex","refreshTD","treecell","getRows","callBack","destroy","off"],"sources":["/var/www/vue/vue-gantt-chart/node_modules/@syncfusion/ej2-treegrid/src/treegrid/renderer/render.js"],"sourcesContent":["import { getObject, appendChildren } from '@syncfusion/ej2-grids';\nimport { templateCompiler, extend, CellRenderer } from '@syncfusion/ej2-grids';\nimport { addClass, createElement, isNullOrUndefined, getValue } from '@syncfusion/ej2-base';\nimport * as events from '../base/constant';\nimport { isRemoteData, isOffline, getExpandStatus, isFilterChildHierarchy } from '../utils';\n/**\n * TreeGrid render module\n *\n * @hidden\n */\nvar Render = /** @class */ (function () {\n    /**\n     * Constructor for render module\n     *\n     * @param {TreeGrid} parent - Tree Grid instance\n     */\n    function Render(parent) {\n        this.parent = parent;\n        this.templateResult = null;\n        this.parent.grid.on('template-result', this.columnTemplateResult, this);\n        this.parent.grid.on('reactTemplateRender', this.reactTemplateRender, this);\n    }\n    /**\n     * Updated row elements for TreeGrid\n     *\n     * @param {RowDataBoundEventArgs} args - Row details before its bound to DOM\n     * @returns {void}\n     */\n    Render.prototype.RowModifier = function (args) {\n        if (!args.data) {\n            return;\n        }\n        var data = args.data;\n        var parentData = data.parentItem;\n        if (!isNullOrUndefined(data.parentItem) && !isFilterChildHierarchy(this.parent) &&\n            (!(this.parent.allowPaging && !(this.parent.pageSettings.pageSizeMode === 'Root')) ||\n                (isRemoteData(this.parent) && !isOffline(this.parent)))) {\n            var collapsed = (this.parent.initialRender && (!(isNullOrUndefined(parentData[this.parent.expandStateMapping]) ||\n                parentData[this.parent.expandStateMapping]) || this.parent.enableCollapseAll)) ||\n                !getExpandStatus(this.parent, args.data, this.parent.grid.getCurrentViewRecords());\n            if (collapsed && !isNullOrUndefined(args.row)) {\n                this.parent['toggleRowVisibility'](args.row, 'e-childrow-hidden');\n                var rowsObj = this.parent.grid.getRowsObject();\n                if (!this.parent.grid.isFrozenGrid() && !isNullOrUndefined(args.row.getAttribute('data-uid'))) {\n                    rowsObj.filter(function (e) { return e.uid === args.row.getAttribute('data-uid'); })[0].visible = false;\n                }\n            }\n        }\n        if (isRemoteData(this.parent) && !isOffline(this.parent)) {\n            var proxy_1 = this.parent;\n            var parentrec = this.parent.getCurrentViewRecords().filter(function (rec) {\n                return getValue(proxy_1.idMapping, rec) === getValue(proxy_1.parentIdMapping, data);\n            });\n            if (parentrec.length > 0 && !parentrec[0].isSummaryRow && !isNullOrUndefined(args.row)) {\n                var display = parentrec[0].expanded ? 'e-childrow-visible' : 'e-childrow-hidden';\n                this.parent['toggleRowVisibility'](args.row, display);\n            }\n        }\n        //addClass([args.row], 'e-gridrowindex' + index + 'level' + (<ITreeData>args.data).level);\n        var summaryRow = getObject('isSummaryRow', args.data);\n        if (summaryRow) {\n            addClass([args.row], 'e-summaryrow');\n        }\n        if (!isNullOrUndefined(args.row)) {\n            if (args.row.querySelector('.e-treegridexpand')) {\n                args.row.setAttribute('aria-expanded', 'true');\n            }\n            else if (args.row.querySelector('.e-treegridcollapse')) {\n                args.row.setAttribute('aria-expanded', 'false');\n            }\n            if (this.parent.enableCollapseAll && this.parent.initialRender) {\n                if (!isNullOrUndefined(data.parentItem)) {\n                    this.parent['toggleRowVisibility'](args.row, 'e-childrow-hidden');\n                }\n            }\n        }\n        var dragStartData = 'dragStartData';\n        var draggedRecord = 'draggedRecord';\n        if (this.parent.rowDragAndDropModule && this.parent.grid.rowDragAndDropModule && (this.parent.grid.rowDragAndDropModule[\"\" + dragStartData] ||\n            this.parent.rowDragAndDropModule[\"\" + draggedRecord]) && this.parent.getContentTable().scrollHeight <= this.parent.getContent().clientHeight) {\n            var lastRowBorder = 'lastRowBorder';\n            var lastVisualData = this.parent.getVisibleRecords()[this.parent.getVisibleRecords().length - 1];\n            if (lastVisualData.uniqueID === args.data.uniqueID && !isNullOrUndefined(args.row) && !args.row.cells[0].classList.contains('e-lastrowcell')) {\n                this.parent[\"\" + lastRowBorder](args.row, true);\n            }\n        }\n        if (this.parent.isReact) {\n            var renderReactTemplates = 'renderReactTemplates';\n            // eslint-disable-next-line @typescript-eslint/no-this-alias\n            var thisRef_1 = this;\n            // tslint:disable-next-line:typedef\n            thisRef_1.parent[\"\" + renderReactTemplates](function () {\n                thisRef_1.parent.trigger(events.rowDataBound, args);\n            });\n        }\n        else {\n            this.parent.trigger(events.rowDataBound, args);\n        }\n    };\n    /**\n     * cell renderer for tree column index cell\n     *\n     * @param {QueryCellInfoEventArgs} args - Cell detail before its bound to DOM\n     * @returns {void}\n     */\n    Render.prototype.cellRender = function (args) {\n        if (!args.data) {\n            return;\n        }\n        var grid = this.parent.grid;\n        var data = args.data;\n        var index;\n        var ispadfilter = isNullOrUndefined(data.filterLevel);\n        var pad = ispadfilter ? data.level : data.filterLevel;\n        var totalIconsWidth = 0;\n        var cellElement;\n        var column = this.parent.getColumnByUid(args.column.uid);\n        var summaryRow = data.isSummaryRow;\n        var frozenColumns = this.parent.getFrozenColumns();\n        if (!isNullOrUndefined(data.parentItem)) {\n            index = data.parentItem.index;\n        }\n        else {\n            index = data.index;\n        }\n        var columnIndex;\n        var getVirtualColIndexByUid = 'getVirtualColIndexByUid';\n        if (this.parent.enableColumnVirtualization && !this.parent.initialRender) {\n            columnIndex = this.parent[\"\" + getVirtualColIndexByUid](args.column.uid);\n        }\n        else {\n            columnIndex = grid.getColumnIndexByUid(args.column.uid);\n        }\n        if (columnIndex === this.parent.treeColumnIndex && (args.requestType === 'add' || args.requestType\n            === 'rowDragAndDrop' || args.requestType === 'delete' || isNullOrUndefined(args.cell.querySelector('.e-treecell')))) {\n            var container = createElement('div', { className: 'e-treecolumn-container' });\n            var emptyExpandIcon = createElement('span', {\n                className: 'e-icons e-none',\n                styles: 'width: 10px; display: inline-block'\n            });\n            for (var n = 0; n < pad; n++) {\n                totalIconsWidth += 10;\n                container.appendChild(emptyExpandIcon.cloneNode());\n            }\n            var iconRequired = !isNullOrUndefined(data.hasFilteredChildRecords)\n                ? data.hasFilteredChildRecords : data.hasChildRecords;\n            if (iconRequired && !isNullOrUndefined(data.childRecords)) {\n                if (this.parent['isFromGantt'] && this.parent.loadChildOnDemand) {\n                    iconRequired = data.hasChildRecords;\n                }\n                else {\n                    iconRequired = !(data.childRecords.length === 0);\n                }\n            }\n            if (iconRequired) {\n                addClass([args.cell], 'e-treerowcell');\n                args.cell.setAttribute('aria-expanded', data.expanded ? 'true' : 'false');\n                var expandIcon = createElement('span', { className: 'e-icons' });\n                var expand = void 0;\n                if (this.parent.initialRender) {\n                    expand = data.expanded &&\n                        (isNullOrUndefined(data[this.parent.expandStateMapping]) || data[this.parent.expandStateMapping]) &&\n                        !this.parent.enableCollapseAll;\n                }\n                else {\n                    expand = !(!data.expanded || !getExpandStatus(this.parent, data, this.parent.grid.getCurrentViewRecords()));\n                }\n                addClass([expandIcon], (expand) ? 'e-treegridexpand' : 'e-treegridcollapse');\n                totalIconsWidth += 18;\n                container.appendChild(expandIcon);\n                emptyExpandIcon.style.width = '4px';\n                totalIconsWidth += 7;\n                container.appendChild(emptyExpandIcon.cloneNode());\n            }\n            else if (pad || !pad && !data.level) {\n                // icons width\n                totalIconsWidth += 20;\n                container.appendChild(emptyExpandIcon.cloneNode());\n                container.appendChild(emptyExpandIcon.cloneNode());\n            }\n            //should add below code when paging funcitonality implemented\n            // if (data.hasChildRecords) {\n            //     addClass([expandIcon], data.expanded ? 'e-treegridexpand' : 'e-treegridcollapse');\n            // }\n            cellElement = createElement('span', { className: 'e-treecell' });\n            if (this.parent.allowTextWrap) {\n                cellElement.style.width = 'Calc(100% - ' + totalIconsWidth + 'px)';\n            }\n            addClass([args.cell], 'e-gridrowindex' + index + 'level' + data.level);\n            this.updateTreeCell(args, cellElement);\n            container.appendChild(cellElement);\n            args.cell.appendChild(container);\n        }\n        else if (this.templateResult) {\n            this.templateResult = null;\n        }\n        var freeze = (grid.getFrozenLeftColumnsCount() > 0 || grid.getFrozenRightColumnsCount() > 0) ? true : false;\n        if (!freeze) {\n            if (frozenColumns > this.parent.treeColumnIndex && frozenColumns > 0 &&\n                grid.getColumnIndexByUid(args.column.uid) === frozenColumns) {\n                addClass([args.cell], 'e-gridrowindex' + index + 'level' + data.level);\n            }\n            else if (frozenColumns < this.parent.treeColumnIndex && frozenColumns > 0 &&\n                (grid.getColumnIndexByUid(args.column.uid) === frozenColumns\n                    || grid.getColumnIndexByUid(args.column.uid) === frozenColumns - 1)) {\n                addClass([args.cell], 'e-gridrowindex' + index + 'level' + data.level);\n            }\n            else if (frozenColumns === this.parent.treeColumnIndex && frozenColumns > 0 &&\n                grid.getColumnIndexByUid(args.column.uid) === this.parent.treeColumnIndex - 1) {\n                addClass([args.cell], 'e-gridrowindex' + index + 'level' + data.level);\n            }\n        }\n        else {\n            var freezerightColumns = grid.getFrozenRightColumns();\n            var freezeLeftColumns = grid.getFrozenLeftColumns();\n            var movableColumns = grid.getMovableColumns();\n            if ((freezerightColumns.length > 0) && freezerightColumns[0].field === args.column.field) {\n                addClass([args.cell], 'e-gridrowindex' + index + 'level' + data.level);\n            }\n            else if ((freezeLeftColumns.length > 0) && freezeLeftColumns[0].field === args.column.field) {\n                addClass([args.cell], 'e-gridrowindex' + index + 'level' + data.level);\n            }\n            else if ((movableColumns.length > 0) && movableColumns[0].field === args.column.field) {\n                addClass([args.cell], 'e-gridrowindex' + index + 'level' + data.level);\n            }\n        }\n        if (!isNullOrUndefined(column) && column.showCheckbox) {\n            this.parent.notify('columnCheckbox', args);\n            if (this.parent.allowTextWrap) {\n                var checkboxElement = args.cell.querySelectorAll('.e-frame')[0];\n                var width = parseInt(checkboxElement.style.width, 16);\n                totalIconsWidth += width;\n                totalIconsWidth += 10;\n                if (grid.getColumnIndexByUid(args.column.uid) === this.parent.treeColumnIndex) {\n                    cellElement = args.cell.querySelector('.e-treecell');\n                }\n                else {\n                    cellElement = args.cell.querySelector('.e-treecheckbox');\n                }\n                cellElement.style.width = 'Calc(100% - ' + totalIconsWidth + 'px)';\n            }\n        }\n        if (summaryRow) {\n            addClass([args.cell], 'e-summarycell');\n            var summaryData = getObject(args.column.field, args.data);\n            summaryData = isNullOrUndefined(summaryData) ? null : summaryData;\n            if (args.cell.querySelector('.e-treecell') != null) {\n                args.cell.querySelector('.e-treecell').innerHTML = summaryData;\n            }\n            else {\n                if (args.column.template) {\n                    args.cell.innerHTML = null;\n                }\n                else {\n                    args.cell.innerHTML = summaryData;\n                }\n            }\n        }\n        this.parent['args'] = args;\n        var columnModel = getValue('columnModel', this.parent);\n        var treeColumn = columnModel[this.parent.treeColumnIndex];\n        if ((isNullOrUndefined(this.parent.rowTemplate) && !(this.parent.isReact))\n            || ((this.parent.isReact) &&\n                !args.column['template'])) {\n            this.parent.trigger(events.queryCellInfo, args);\n        }\n        else if (((this.parent.isReact) &&\n            treeColumn.field !== args.column.field)) {\n            var renderReactTemplates = 'renderReactTemplates';\n            // eslint-disable-next-line @typescript-eslint/no-this-alias\n            var thisRef_2 = this;\n            // tslint:disable-next-line:typedef\n            thisRef_2.parent[\"\" + renderReactTemplates](function () {\n                thisRef_2.parent.trigger(events.queryCellInfo, args);\n            });\n        }\n    };\n    Render.prototype.updateTreeCell = function (args, cellElement) {\n        var columnModel = getValue('columnModel', this.parent);\n        var treeColumn = columnModel[this.parent.treeColumnIndex];\n        var templateFn = 'templateFn';\n        var colindex = args.column.index;\n        if (isNullOrUndefined(treeColumn.field)) {\n            args.cell.setAttribute('data-colindex', colindex + '');\n        }\n        if (treeColumn.field === args.column.field && !isNullOrUndefined(treeColumn.template)) {\n            /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n            args.column.template = treeColumn.template;\n            args.column[\"\" + templateFn] = templateCompiler(args.column.template);\n            args.cell.classList.add('e-templatecell');\n        }\n        var textContent = args.cell.querySelector('.e-treecell') != null ?\n            args.cell.querySelector('.e-treecell').innerHTML : args.cell.innerHTML;\n        if (typeof (args.column.template) === 'object' && this.templateResult) {\n            appendChildren(cellElement, this.templateResult);\n            this.templateResult = null;\n            args.cell.innerHTML = '';\n        }\n        else if (args.cell.classList.contains('e-templatecell')) {\n            var len = args.cell.children.length;\n            var tempID = this.parent.element.id + args.column.uid;\n            if (treeColumn.field === args.column.field && !isNullOrUndefined(treeColumn.template)) {\n                var portals = 'portals';\n                var renderReactTemplates = 'renderReactTemplates';\n                if (this.parent.isReact && typeof (args.column.template) !== 'string') {\n                    args.column[\"\" + templateFn](args.data, this.parent, 'columnTemplate', tempID, null, null, cellElement);\n                    if (isNullOrUndefined(this.parent.grid[\"\" + portals])) {\n                        this.parent.grid[\"\" + portals] = this.parent[\"\" + portals];\n                    }\n                    this.parent.notify('renderReactTemplate', this.parent[\"\" + portals]);\n                    // eslint-disable-next-line @typescript-eslint/no-this-alias\n                    var thisRef_3 = this;\n                    // tslint:disable-next-line:typedef\n                    thisRef_3.parent[\"\" + renderReactTemplates](function () {\n                        thisRef_3.parent.trigger(events.queryCellInfo, args);\n                    });\n                }\n                else {\n                    var str = 'isStringTemplate';\n                    var result = args.column[\"\" + templateFn](extend({ 'index': '' }, args.data), this.parent, 'template', tempID, this.parent[\"\" + str]);\n                    appendChildren(cellElement, result);\n                }\n                delete args.column.template;\n                delete args.column[\"\" + templateFn];\n                args.cell.innerHTML = '';\n            }\n            else {\n                for (var i = 0; i < len; len = args.cell.children.length) {\n                    cellElement.appendChild(args.cell.children[parseInt(i.toString(), 10)]);\n                }\n            }\n        }\n        else {\n            cellElement.innerHTML = textContent;\n            args.cell.innerHTML = '';\n        }\n    };\n    /**\n     * @param {string} columnUid - Defines column uid\n     * @returns {void}\n     * @hidden\n     */\n    Render.prototype.refreshReactColumnTemplateByUid = function (columnUid) {\n        var _this = this;\n        if (this.parent.isReact) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this.parent.clearTemplate(['columnTemplate'], undefined, function () {\n                var cells = 'cells';\n                var rowIdx = 'index';\n                var rowsObj = _this.parent.grid.getRowsObject();\n                var rows = _this.parent.getDataRows();\n                var indent = _this.parent.grid.getIndentCount();\n                var cellIndex = _this.parent.grid.getNormalizedColumnIndex(columnUid);\n                if (rows.length !== 0) {\n                    for (var j = 0; j < rowsObj.length; j++) {\n                        if (rowsObj[parseInt(j.toString(), 10)].isDataRow\n                            && !isNullOrUndefined(rowsObj[parseInt(j.toString(), 10)].index)) {\n                            var cell = rowsObj[parseInt(j.toString(), 10)][\"\" + cells][parseInt(cellIndex.toString(), 10)];\n                            var cellRenderer = new CellRenderer(_this.parent.grid, _this.parent.grid.serviceLocator);\n                            var td = rows.length >= rowsObj.length\n                                ? _this.parent.getCellFromIndex(rowsObj[parseInt(j.toString(), 10)].index, cellIndex - indent)\n                                : rows[rowsObj[parseInt(j.toString(), 10)].index].querySelector('.e-templatecell');\n                            cellRenderer.refreshTD(td, cell, rowsObj[parseInt(j.toString(), 10)].data, { index: rowsObj[parseInt(j.toString(), 10)][\"\" + rowIdx] });\n                            var treecell = _this.parent.getRows()[parseInt(j.toString(), 10)]\n                                .cells[parseInt(cellIndex.toString(), 10)];\n                            _this.cellRender({ data: rowsObj[parseInt(j.toString(), 10)].data, cell: treecell, column: cell.column });\n                        }\n                    }\n                }\n            });\n        }\n    };\n    Render.prototype.columnTemplateResult = function (args) {\n        this.templateResult = args.template;\n    };\n    // eslint-disable-next-line\n    Render.prototype.reactTemplateRender = function (args, callBack) {\n        var renderReactTemplates = 'renderReactTemplates';\n        var portals = 'portals';\n        this.parent[\"\" + portals] = args;\n        this.parent.notify('renderReactTemplate', this.parent[\"\" + portals]);\n        this.parent[\"\" + renderReactTemplates](callBack);\n    };\n    Render.prototype.destroy = function () {\n        this.parent.grid.off('template-result', this.columnTemplateResult);\n        this.parent.grid.off('reactTemplateRender', this.reactTemplateRender);\n    };\n    return Render;\n}());\nexport { Render };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}