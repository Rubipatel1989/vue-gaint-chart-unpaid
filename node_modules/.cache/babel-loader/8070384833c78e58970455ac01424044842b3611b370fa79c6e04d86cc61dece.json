{"ast":null,"code":"import \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.filter.js\";\nimport { Tooltip as TooltipComponent } from '@syncfusion/ej2-popups';\nimport { parentsUntil } from '../base/utils';\nimport * as cls from '../base/css-constants';\nimport { extend, isNullOrUndefined, getValue, EventHandler, closest, SanitizeHtmlHelper, initializeCSPTemplate, append } from '@syncfusion/ej2-base';\nimport { Deferred } from '@syncfusion/ej2-data';\n/**\n * File for handling tooltip in Gantt.\n */\nvar Tooltip = /** @class */function () {\n  function Tooltip(gantt) {\n    this.parent = gantt;\n    this.createTooltip();\n    this.parent.on('destroy', this.destroy, this);\n  }\n  /**\n   * To create tooltip.\n   *\n   * @returns {void} .\n   * @private\n   */\n  Tooltip.prototype.createTooltip = function () {\n    this.toolTipObj = new TooltipComponent();\n    this.toolTipObj.target = '.e-header-cell-label, .e-gantt-child-taskbar,' + '.e-gantt-parent-taskbar, .e-gantt-milestone, .e-gantt-unscheduled-taskbar' + '.e-event-markers, .e-baseline-bar, .e-event-markers,' + '.e-connector-line-container, .e-indicator-span, .e-notes-info, .e-gantt-manualparent-milestone,' + '.e-taskbar-left-resizer, .e-taskbar-right-resizer, .e-baseline-gantt-milestone-container, .e-gantt-manualparenttaskbar';\n    this.toolTipObj.position = 'BottomCenter';\n    this.toolTipObj.openDelay = 700;\n    this.toolTipObj.enableRtl = this.parent.enableRtl;\n    this.toolTipObj.enableHtmlSanitizer = this.parent.enableHtmlSanitizer;\n    this.toolTipObj.cssClass = cls.ganttTooltip;\n    this.toolTipObj.animation = {\n      open: {\n        effect: 'None',\n        delay: 0\n      },\n      close: {\n        effect: 'None',\n        delay: 0\n      }\n    };\n    this.toolTipObj.afterOpen = this.updateTooltipPosition.bind(this);\n    this.toolTipObj.showTipPointer = false;\n    this.toolTipObj.beforeRender = this.tooltipBeforeRender.bind(this);\n    this.toolTipObj.afterClose = this.tooltipCloseHandler.bind(this);\n    this.toolTipObj.isStringTemplate = true;\n    this.toolTipObj.appendTo(this.parent.element);\n  };\n  Tooltip.prototype.tooltipBeforeRender = function (args) {\n    var parent = this.parent;\n    if (parent.isOnEdit) {\n      args.cancel = true;\n      return;\n    }\n    var element;\n    var row = closest(args.target, 'div.' + cls.taskBarMainContainer);\n    if (!isNullOrUndefined(row)) {\n      element = args.target;\n    } else {\n      element = parentsUntil(args.target, cls.chartRowCell);\n    }\n    var data;\n    var argsData = {\n      data: {},\n      args: args,\n      cancel: false,\n      content: ''\n    };\n    if (args.target.classList.contains('e-header-cell-label')) {\n      if (parent.timelineSettings.showTooltip) {\n        argsData.content = this.toolTipObj.content = parent.tooltipModule.getTooltipContent('timeline', data, parent, args);\n      } else {\n        args.cancel = true;\n      }\n    } else {\n      if (parent.tooltipSettings.showTooltip) {\n        if (element) {\n          argsData.data = parent.ganttChartModule.getRecordByTaskBar(element);\n          data = argsData.data;\n        }\n        if (args.target.classList.contains('e-gantt-child-taskbar') || args.target.classList.contains('e-gantt-parent-taskbar') || args.target.classList.contains('e-gantt-milestone') || args.target.classList.contains('e-gantt-unscheduled-taskbar') || args.target.classList.contains('e-taskbar-left-resizer') || args.target.classList.contains('e-taskbar-right-resizer') || args.target.classList.contains('e-gantt-manualparenttaskbar') && parent.tooltipSettings.taskbar) {\n          var taskbarTemplateNode = void 0;\n          if (parent.tooltipSettings.taskbar) {\n            taskbarTemplateNode = parent.tooltipModule.templateCompiler(parent.tooltipSettings.taskbar, parent, data, 'TooltipTaskbarTemplate');\n          }\n          var tooltipTemplate = document.createElement('div');\n          if (taskbarTemplateNode) {\n            append(taskbarTemplateNode, tooltipTemplate);\n          }\n          argsData.content = this.toolTipObj.content = taskbarTemplateNode ? tooltipTemplate : data ? parent.tooltipModule.getTooltipContent(data.ganttProperties.isMilestone ? 'milestone' : 'taskbar', data, parent, args) : '';\n        } else if (args.target.classList.contains('e-baseline-bar') || args.target.classList.contains('e-baseline-gantt-milestone-container')) {\n          var baseLineTemplateNode = void 0;\n          if (parent.tooltipSettings.baseline) {\n            baseLineTemplateNode = parent.tooltipModule.templateCompiler(parent.tooltipSettings.baseline, parent, data, 'TooltipBaselineTemplate');\n          }\n          var baselineTemplate = document.createElement('div');\n          if (baseLineTemplateNode) {\n            append(baseLineTemplateNode, baselineTemplate);\n          }\n          argsData.content = this.toolTipObj.content = baseLineTemplateNode ? baselineTemplate : data ? parent.tooltipModule.getTooltipContent(data.ganttProperties.isMilestone ? 'milestone' : 'baseline', data, parent, args) : '';\n        } else if (args.target.classList.contains('e-event-markers')) {\n          argsData.content = this.toolTipObj.content = parent.tooltipModule.getTooltipContent('marker', data, parent, args);\n        } else if (args.target.classList.contains('e-connector-line-container')) {\n          var dependencyLineTemplateNode = void 0;\n          parent.tooltipModule.predecessorTooltipData = parent.tooltipModule.getPredecessorTooltipData(args);\n          argsData.data = this.predecessorTooltipData;\n          if (parent.tooltipSettings.connectorLine) {\n            dependencyLineTemplateNode = parent.tooltipModule.templateCompiler(parent.tooltipSettings.connectorLine, parent, parent.tooltipModule.predecessorTooltipData, 'TooltipConnectorLineTemplate');\n          }\n          argsData.content = this.toolTipObj.content = dependencyLineTemplateNode ? dependencyLineTemplateNode[0] : parent.tooltipModule.getTooltipContent('connectorLine', data, parent, args);\n        } else if (args.target.classList.contains('e-indicator-span')) {\n          argsData.content = this.toolTipObj.content = parent.tooltipModule.getTooltipContent('indicator', data, parent, args);\n          if (isNullOrUndefined(argsData.content)) {\n            args.cancel = true;\n          }\n        } else if (args.target.classList.contains('e-notes-info')) {\n          var ganttData = this.parent.ganttChartModule.getRecordByTarget(args.event);\n          argsData.content = this.toolTipObj.content = ganttData.ganttProperties.notes;\n          if (isNullOrUndefined(argsData.content)) {\n            args.cancel = true;\n          }\n        } else if (args.target.classList.contains('e-gantt-manualparenttaskbar')) {\n          argsData.content = this.toolTipObj.content = parent.tooltipModule.getTooltipContent('manualtaskbar', data, parent, args);\n          if (isNullOrUndefined(argsData.content)) {\n            args.cancel = true;\n          }\n        } else if (args.target.classList.contains('e-gantt-manualparent-milestone')) {\n          argsData.content = this.toolTipObj.content = parent.tooltipModule.getTooltipContent('manualmilestone', data, parent, args);\n          if (isNullOrUndefined(argsData.content)) {\n            args.cancel = true;\n          }\n        }\n      } else {\n        args.cancel = true;\n      }\n    }\n    if (args.cancel === false) {\n      var callBackPromise_1 = new Deferred();\n      parent.trigger('beforeTooltipRender', argsData, function (argData) {\n        callBackPromise_1.resolve(argData);\n        if (argData.cancel) {\n          args.cancel = true;\n        }\n      });\n      this.toolTipObj.content = argsData.content;\n      if (!this.parent.isAdaptive && args.event.type === 'mouseover') {\n        this.currentTarget = args.target;\n        EventHandler.add(this.currentTarget, 'mousemove', this.mouseMoveHandler.bind(this));\n      }\n      this.parent.renderTemplates();\n      return callBackPromise_1;\n    }\n  };\n  // eslint-disable-next-line\n  Tooltip.prototype.tooltipCloseHandler = function (args) {\n    this.tooltipMouseEvent = null;\n    if (!this.parent.isAdaptive && !isNullOrUndefined(this.currentTarget)) {\n      EventHandler.remove(this.currentTarget, 'mousemove', this.mouseMoveHandler);\n    }\n    this.currentTarget = null;\n  };\n  Tooltip.prototype.mouseMoveHandler = function (e) {\n    this.tooltipMouseEvent = e;\n  };\n  /**\n   * Method to update tooltip position\n   *\n   * @param {TooltipEventArgs} args .\n   * @returns {void} .\n   */\n  Tooltip.prototype.updateTooltipPosition = function (args) {\n    args.element.style.visibility = 'visible';\n    var parentWithZoomStyle = this.parent.element.closest('[style*=\"zoom\"]');\n    if (isNullOrUndefined(parentWithZoomStyle)) {\n      if (isNullOrUndefined(this.tooltipMouseEvent) || args.target.classList.contains('e-notes-info')) {\n        return;\n      }\n      var postion = this.getPointorPosition(this.tooltipMouseEvent);\n      var containerPosition = this.parent.getOffsetRect(this.parent.chartPane);\n      var topEnd = containerPosition.top + this.parent.chartPane.offsetHeight;\n      var leftEnd = containerPosition.left + this.parent.chartPane.offsetWidth;\n      var tooltipPositionX = postion.x;\n      var tooltipPositionY = postion.y;\n      if (leftEnd < tooltipPositionX + args.element.offsetWidth + 10) {\n        while (leftEnd < tooltipPositionX + args.element.offsetWidth + 10) {\n          tooltipPositionX = leftEnd - args.element.offsetWidth - 10;\n          args.element.style.left = tooltipPositionX + 'px';\n        }\n      } else {\n        tooltipPositionX = tooltipPositionX + 10;\n        args.element.style.left = tooltipPositionX + 'px';\n      }\n      if (window.innerHeight < args.element.offsetHeight + tooltipPositionY) {\n        tooltipPositionY = tooltipPositionY - args.element.offsetHeight - 10;\n      }\n      if (topEnd < tooltipPositionY + args.element.offsetHeight + 20) {\n        tooltipPositionY = tooltipPositionY - args.element.offsetHeight - 10;\n      } else {\n        tooltipPositionY = tooltipPositionY + 10;\n      }\n      args.element.style.top = tooltipPositionY + 'px';\n    }\n  };\n  /**\n   * Method to get mouse pointor position\n   *\n   * @param {Event} e .\n   * @returns {number} .\n   */\n  Tooltip.prototype.getPointorPosition = function (e) {\n    var posX;\n    var posY;\n    if (!isNullOrUndefined(getValue('pageX', e)) || !isNullOrUndefined(getValue('pageY', e))) {\n      posX = getValue('pageX', e);\n      posY = getValue('pageY', e);\n    } else if (!isNullOrUndefined(getValue('clientX', e)) || !isNullOrUndefined(getValue('clientY', e))) {\n      posX = getValue('clientX', e) + document.body.scrollLeft + document.documentElement.scrollLeft;\n      posY = getValue('clientY', e) + document.body.scrollTop + document.documentElement.scrollTop;\n    }\n    return {\n      x: posX,\n      y: posY\n    };\n  };\n  /**\n   *  Getting tooltip content for different elements\n   *\n   * @param {string} elementType .\n   * @param {IGanttData} ganttData .\n   * @param {Gantt} parent .\n   * @param {TooltipEventArgs} args .\n   * @returns {string | Function} .\n   */\n  Tooltip.prototype.getTooltipContent = function (elementType, ganttData, parent, args) {\n    var content;\n    var data;\n    var taskName;\n    if (ganttData) {\n      data = ganttData.ganttProperties;\n      var taskNameValue = data.taskName;\n      if (this.parent.enableHtmlSanitizer && typeof taskNameValue === 'string') {\n        taskNameValue = SanitizeHtmlHelper.sanitize(taskNameValue);\n      }\n      taskName = !isNullOrUndefined(taskNameValue) ? '<tr class = \"e-gantt-tooltip-rowcell\"><td colspan=\"3\">' + (this.parent.disableHtmlEncode ? taskNameValue.replace(/</g, '&lt;').replace(/>/g, '&gt;') : taskNameValue) + '</td></tr>' : '';\n    }\n    switch (elementType) {\n      case 'milestone':\n        {\n          var milestoneStartDate = void 0;\n          if (args.target.className.includes('e-baseline-gantt-milestone-container') && !isNullOrUndefined(data.baselineStartDate)) {\n            milestoneStartDate = data.baselineStartDate;\n          } else if (!isNullOrUndefined(data.startDate)) {\n            milestoneStartDate = data.startDate;\n          }\n          var sDateValue = this.parent.getFormatedDate(milestoneStartDate, this.parent.getDateFormat());\n          if (this.parent.enableHtmlSanitizer && typeof sDateValue === 'string') {\n            sDateValue = SanitizeHtmlHelper.sanitize(sDateValue);\n          }\n          var sDate_1 = !isNullOrUndefined(milestoneStartDate) ? '<tr><td class = \"e-gantt-tooltip-label\"> Date</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\">' + sDateValue + '</td></tr>' : '';\n          var contentTemp = function () {\n            return '<table class = \"e-gantt-tooltiptable\"><tbody>' + taskName + sDate_1 + '</tbody></table>';\n          };\n          content = initializeCSPTemplate(contentTemp);\n          break;\n        }\n      case 'taskbar':\n        {\n          var scheduledTask = !ganttData.hasChildRecords || data.isAutoSchedule ? true : false;\n          var startDateValue = this.parent.getFormatedDate(scheduledTask ? data.startDate : data.autoStartDate, this.parent.getDateFormat());\n          var endDateValue = this.parent.getFormatedDate(scheduledTask ? data.endDate : data.autoEndDate, this.parent.getDateFormat());\n          var durationValue = this.parent.getDurationString(scheduledTask ? data.duration : data.autoDuration, data.durationUnit);\n          var progressValue = data.progress;\n          if (this.parent.enableHtmlSanitizer) {\n            startDateValue = typeof startDateValue === 'string' ? SanitizeHtmlHelper.sanitize(startDateValue) : startDateValue;\n            endDateValue = typeof endDateValue === 'string' ? SanitizeHtmlHelper.sanitize(endDateValue) : endDateValue;\n            durationValue = SanitizeHtmlHelper.sanitize(durationValue);\n          }\n          var startDate_1 = data.startDate ? '<tr><td class = \"e-gantt-tooltip-label\">' + this.parent.localeObj.getConstant(scheduledTask ? 'startDate' : 'subTasksStartDate') + '</td><td style=\"padding: 2px;\">:</td>' + '<td class = \"e-gantt-tooltip-value\"> ' + startDateValue + '</td></tr>' : '';\n          var endDate_1 = data.endDate ? '<tr><td class = \"e-gantt-tooltip-label\">' + this.parent.localeObj.getConstant(scheduledTask ? 'endDate' : 'subTasksEndDate') + '</td><td style=\"padding: 2px;\">:</td>' + '<td class = \"e-gantt-tooltip-value\">' + endDateValue + '</td></tr>' : '';\n          var duration_1 = !isNullOrUndefined(data.duration) ? '<tr><td class = \"e-gantt-tooltip-label\">' + this.parent.localeObj.getConstant('duration') + '</td><td style=\"padding: 2px;\">:</td>' + '<td class = \"e-gantt-tooltip-value\"> ' + durationValue + '</td></tr>' : '';\n          var progress_1 = '<tr><td class = \"e-gantt-tooltip-label\">' + this.parent.localeObj.getConstant('progress') + '</td><td style=\"padding: 2px;\">:</td><td>' + progressValue + '</td></tr>';\n          var contentTemp = function () {\n            return '<table class = \"e-gantt-tooltiptable\"><tbody>' + taskName + startDate_1 + endDate_1 + duration_1 + progress_1 + '</tbody></table>';\n          };\n          content = initializeCSPTemplate(contentTemp);\n          break;\n        }\n      case 'baseline':\n        {\n          var baselineStartDateValue_1 = this.parent.getFormatedDate(data.baselineStartDate, this.parent.getDateFormat());\n          var baselineEndDateValue_1 = this.parent.getFormatedDate(data.baselineEndDate, this.parent.getDateFormat());\n          if (this.parent.enableHtmlSanitizer) {\n            baselineStartDateValue_1 = SanitizeHtmlHelper.sanitize(baselineStartDateValue_1);\n            baselineEndDateValue_1 = SanitizeHtmlHelper.sanitize(baselineEndDateValue_1);\n          }\n          var contentTemp = function () {\n            return '<table class = \"e-gantt-tooltiptable\"><tbody>' + taskName + '<tr><td class = \"e-gantt-tooltip-label\">' + this.parent.localeObj.getConstant('baselineStartDate') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\">' + baselineStartDateValue_1 + '</td></tr><tr>' + '<td class = \"e-gantt-tooltip-label\">' + this.parent.localeObj.getConstant('baselineEndDate') + '</td><td>:</td><td class = \"e-gantt-tooltip-value\">' + baselineEndDateValue_1 + '</td></tr></tbody></table>';\n          };\n          content = initializeCSPTemplate(contentTemp, this);\n          break;\n        }\n      case 'marker':\n        {\n          var markerTooltipElement = parent.tooltipModule.getMarkerTooltipData(args);\n          var markerTooltipElementValue_1 = this.parent.getFormatedDate(this.parent.dateValidationModule.getDateFromFormat(markerTooltipElement.day), this.parent.getDateFormat());\n          var markerLabel_1 = markerTooltipElement.label ? markerTooltipElement.label : '';\n          if (this.parent.enableHtmlSanitizer) {\n            markerLabel_1 = SanitizeHtmlHelper.sanitize(markerLabel_1);\n            markerTooltipElementValue_1 = SanitizeHtmlHelper.sanitize(markerTooltipElementValue_1);\n          }\n          var contentTemp = function () {\n            return '<table class = \"e-gantt-tooltiptable\"><tbody><tr><td>' + markerTooltipElementValue_1 + '</td></tr><tr><td>' + (this.parent.disableHtmlEncode ? markerLabel_1.replace(/</g, '&lt;').replace(/>/g, '&gt;') : markerLabel_1) + '</td></tr></tbody></table>';\n          };\n          content = initializeCSPTemplate(contentTemp, this);\n          break;\n        }\n      case 'connectorLine':\n        {\n          var fromNameValue_1 = parent.tooltipModule.predecessorTooltipData.fromName;\n          var fromIdValue_1 = parent.tooltipModule.predecessorTooltipData.fromId;\n          var toNameValue_1 = parent.tooltipModule.predecessorTooltipData.toName;\n          var toIdValue_1 = parent.tooltipModule.predecessorTooltipData.toId;\n          var linkTextValue_1 = parent.tooltipModule.predecessorTooltipData.linkText;\n          var offsetStringValue_1 = parent.tooltipModule.predecessorTooltipData.offsetString;\n          if (this.parent.enableHtmlSanitizer) {\n            fromNameValue_1 = SanitizeHtmlHelper.sanitize(fromNameValue_1);\n            fromIdValue_1 = SanitizeHtmlHelper.sanitize(fromIdValue_1);\n            toNameValue_1 = SanitizeHtmlHelper.sanitize(toNameValue_1);\n            toIdValue_1 = SanitizeHtmlHelper.sanitize(toIdValue_1);\n            linkTextValue_1 = SanitizeHtmlHelper.sanitize(linkTextValue_1);\n            offsetStringValue_1 = SanitizeHtmlHelper.sanitize(offsetStringValue_1);\n          }\n          var contentTemp = function () {\n            return '<table class = \"e-gantt-tooltiptable\"><tbody><tr><td class = \"e-gantt-tooltip-label\">' + this.parent.localeObj.getConstant('from') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\">' + (this.parent.disableHtmlEncode ? fromNameValue_1.replace(/</g, '&lt;').replace(/>/g, '&gt;') : fromNameValue_1) + ' (' + (this.parent.disableHtmlEncode ? typeof fromIdValue_1 === 'string' ? fromIdValue_1.replace(/</g, '&lt;').replace(/>/g, '&gt;') : fromIdValue_1 : fromIdValue_1) + ')' + '</td></tr><tr><td class = \"e-gantt-tooltip-label\">' + this.parent.localeObj.getConstant('to') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\">' + (this.parent.disableHtmlEncode ? toNameValue_1.replace(/</g, '&lt;').replace(/>/g, '&gt;') : toNameValue_1) + ' (' + toIdValue_1 + ')' + '</td></tr><tr><td class = \"e-gantt-tooltip-label\">' + this.parent.localeObj.getConstant('taskLink') + '</td><td>:</td><td class = \"e-gantt-tooltip-value\"> ' + linkTextValue_1 + '</td></tr><tr><td class = \"e-gantt-tooltip-label\">' + this.parent.localeObj.getConstant('lag') + '</td><td>:</td><td class = \"e-gantt-tooltip-value\">' + offsetStringValue_1 + '</td></tr></tbody></table>';\n          };\n          content = initializeCSPTemplate(contentTemp, this);\n          break;\n        }\n      case 'indicator':\n        if (args.target.title.length) {\n          var titleValue_1 = args.target.title;\n          if (this.parent.enableHtmlSanitizer && typeof titleValue_1 === 'string') {\n            titleValue_1 = SanitizeHtmlHelper.sanitize(titleValue_1);\n          }\n          var contentTemp = function () {\n            return '<table class = \"e-gantt-tooltiptable\"><tbody><tr>' + titleValue_1 + '</tr></tbody></table>';\n          };\n          content = initializeCSPTemplate(contentTemp);\n        }\n        break;\n      case 'timeline':\n        {\n          var timlineTitleValue_1 = args.target.title;\n          if (this.parent.enableHtmlSanitizer && typeof timlineTitleValue_1 === 'string') {\n            timlineTitleValue_1 = SanitizeHtmlHelper.sanitize(timlineTitleValue_1);\n          }\n          var contentTemp = function () {\n            return '<table class = \"e-gantt-tooltiptable\"><tbody><tr>' + timlineTitleValue_1 + '</tr></tbody></table>';\n          };\n          content = initializeCSPTemplate(contentTemp);\n          break;\n        }\n      case 'manualtaskbar':\n        {\n          var autoStartDateValue = this.parent.getFormatedDate(data.autoStartDate, this.parent.getDateFormat());\n          var autoEndDateValue = this.parent.getFormatedDate(data.autoEndDate, this.parent.getDateFormat());\n          var durationUnitValue = this.parent.getDurationString(data.duration, data.durationUnit);\n          var manualStartDateValue = this.parent.getFormatedDate(data.startDate, this.parent.getDateFormat());\n          var manualEndDateValue = this.parent.getFormatedDate(data.endDate, this.parent.getDateFormat());\n          if (this.parent.enableHtmlSanitizer) {\n            autoStartDateValue = SanitizeHtmlHelper.sanitize(autoStartDateValue);\n            autoEndDateValue = SanitizeHtmlHelper.sanitize(autoEndDateValue);\n            durationUnitValue = SanitizeHtmlHelper.sanitize(durationUnitValue);\n            manualStartDateValue = SanitizeHtmlHelper.sanitize(manualStartDateValue);\n            manualEndDateValue = SanitizeHtmlHelper.sanitize(manualEndDateValue);\n          }\n          var autoStartDate_1 = '<tr><td class = \"e-gantt-tooltip-label\">' + this.parent.localeObj.getConstant('subTasksStartDate') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\"> ' + autoStartDateValue + '</td></tr>';\n          var autoEndDate_1 = '<tr><td class = \"e-gantt-tooltip-label\">' + this.parent.localeObj.getConstant('subTasksEndDate') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\">' + autoEndDateValue + '</td></tr>';\n          var durationValue_1 = '<tr><td class = \"e-gantt-tooltip-label\">' + this.parent.localeObj.getConstant('duration') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\"> ' + durationUnitValue + '</td></tr>';\n          var manualStartDate_1 = '<tr><td class = \"e-gantt-tooltip-label\">' + this.parent.localeObj.getConstant('startDate') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\"> ' + manualStartDateValue + '</td></tr>';\n          var manualEndDate_1 = '<tr><td class = \"e-gantt-tooltip-label\">' + this.parent.localeObj.getConstant('endDate') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\">' + manualEndDateValue + '</td></tr>';\n          var contentTemp = function () {\n            return '<table class = \"e-gantt-tooltiptable\"><tbody>' + taskName + manualStartDate_1 + autoStartDate_1 + manualEndDate_1 + autoEndDate_1 + durationValue_1 + '</tbody></table>';\n          };\n          content = initializeCSPTemplate(contentTemp);\n          break;\n        }\n      case 'manualmilestone':\n        {\n          var autoStartValue = this.parent.getFormatedDate(data.autoStartDate, this.parent.getDateFormat());\n          var autoEndValue = this.parent.getFormatedDate(data.autoEndDate, this.parent.getDateFormat());\n          var dateValue = this.parent.getFormatedDate(data.startDate, this.parent.getDateFormat());\n          if (this.parent.enableHtmlSanitizer) {\n            autoStartValue = SanitizeHtmlHelper.sanitize(autoStartValue);\n            autoEndValue = SanitizeHtmlHelper.sanitize(autoEndValue);\n            dateValue = SanitizeHtmlHelper.sanitize(dateValue);\n          }\n          var autoStart_1 = '<tr><td class = \"e-gantt-tooltip-label\">' + this.parent.localeObj.getConstant('subTasksStartDate') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\"> ' + autoStartValue + '</td></tr>';\n          var autoEnd_1 = '<tr><td class = \"e-gantt-tooltip-label\">' + this.parent.localeObj.getConstant('subTasksEndDate') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\">' + autoEndValue + '</td></tr>';\n          var date_1 = '<tr><td class = \"e-gantt-tooltip-label\"> Date</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\">' + dateValue + '</tr>';\n          var contentTemp = function () {\n            return '<table class = \"e-gantt-tooltiptable\"><tbody>' + taskName + date_1 + autoStart_1 + autoEnd_1 + '</tbody></table>';\n          };\n          content = initializeCSPTemplate(contentTemp);\n          break;\n        }\n    }\n    return content;\n  };\n  /**\n   * To get the details of an event marker.\n   *\n   * @param {TooltipEventArgs} args .\n   * @returns {EventMarkerModel} .\n   * @private\n   */\n  Tooltip.prototype.getMarkerTooltipData = function (args) {\n    var markerTooltipId = args.target.id.match(/\\d+/g);\n    var markerTooltipElement = this.parent.eventMarkers[Number(markerTooltipId)];\n    return markerTooltipElement;\n  };\n  /**\n   * To get the details of a connector line.\n   *\n   * @param {TooltipEventArgs} args .\n   * @returns {PredecessorTooltip} .\n   * @private\n   */\n  Tooltip.prototype.getPredecessorTooltipData = function (args) {\n    var predeceesorParent = args.target.id;\n    if (this.parent.enableHtmlSanitizer && typeof predeceesorParent === 'string') {\n      predeceesorParent = SanitizeHtmlHelper.sanitize(predeceesorParent);\n    }\n    var taskIds = predeceesorParent.match(/ConnectorLineparent(.*)child(.*)/);\n    taskIds.shift();\n    var fromTask;\n    var toTask;\n    if (this.parent.viewType === 'ResourceView') {\n      fromTask = this.parent.flatData[this.parent.getTaskIds().indexOf('T' + taskIds[0])];\n      toTask = this.parent.flatData[this.parent.getTaskIds().indexOf('T' + taskIds[1])];\n    } else {\n      fromTask = this.parent.flatData[this.parent.ids.indexOf(taskIds[0])];\n      toTask = this.parent.flatData[this.parent.ids.indexOf(taskIds[1])];\n    }\n    var predecessor = fromTask.ganttProperties.predecessor.filter(function (pdc) {\n      return pdc.to === taskIds[1];\n    });\n    var predecessorTooltipData = {\n      fromId: this.parent.viewType === 'ResourceView' ? fromTask.ganttProperties.taskId : fromTask.ganttProperties.rowUniqueID,\n      toId: this.parent.viewType === 'ResourceView' ? toTask.ganttProperties.taskId : toTask.ganttProperties.rowUniqueID,\n      fromName: fromTask.ganttProperties.taskName,\n      toName: toTask.ganttProperties.taskName,\n      linkType: predecessor[0].type,\n      linkText: this.parent.getPredecessorTextValue(predecessor[0].type),\n      offset: predecessor[0].offset,\n      offsetUnit: predecessor[0].offsetUnit,\n      offsetString: this.parent.getDurationString(predecessor[0].offset, predecessor[0].offsetUnit)\n    };\n    return predecessorTooltipData;\n  };\n  /**\n   * To compile template string.\n   *\n   * @param {string | Function} template .\n   * @param {Gantt} parent .\n   * @param {IGanttData|PredecessorTooltip} data .\n   * @param {string} propName .\n   * @returns {NodeList} .\n   * @private\n   */\n  Tooltip.prototype.templateCompiler = function (template, parent, data, propName) {\n    var tooltipFunction = parent.chartRowsModule.templateCompiler(template);\n    var templateID = parent.chartRowsModule.getTemplateID(propName);\n    var templateNode = tooltipFunction(extend({\n      index: 0\n    }, data), parent, propName, templateID, true);\n    return templateNode;\n  };\n  Tooltip.prototype.destroy = function () {\n    this.toolTipObj.destroy();\n  };\n  return Tooltip;\n}();\nexport { Tooltip };","map":{"version":3,"names":["Tooltip","TooltipComponent","parentsUntil","cls","extend","isNullOrUndefined","getValue","EventHandler","closest","SanitizeHtmlHelper","initializeCSPTemplate","append","Deferred","gantt","parent","createTooltip","on","destroy","prototype","toolTipObj","target","position","openDelay","enableRtl","enableHtmlSanitizer","cssClass","ganttTooltip","animation","open","effect","delay","close","afterOpen","updateTooltipPosition","bind","showTipPointer","beforeRender","tooltipBeforeRender","afterClose","tooltipCloseHandler","isStringTemplate","appendTo","element","args","isOnEdit","cancel","row","taskBarMainContainer","chartRowCell","data","argsData","content","classList","contains","timelineSettings","showTooltip","tooltipModule","getTooltipContent","tooltipSettings","ganttChartModule","getRecordByTaskBar","taskbar","taskbarTemplateNode","templateCompiler","tooltipTemplate","document","createElement","ganttProperties","isMilestone","baseLineTemplateNode","baseline","baselineTemplate","dependencyLineTemplateNode","predecessorTooltipData","getPredecessorTooltipData","connectorLine","ganttData","getRecordByTarget","event","notes","callBackPromise_1","trigger","argData","resolve","isAdaptive","type","currentTarget","add","mouseMoveHandler","renderTemplates","tooltipMouseEvent","remove","e","style","visibility","parentWithZoomStyle","postion","getPointorPosition","containerPosition","getOffsetRect","chartPane","topEnd","top","offsetHeight","leftEnd","left","offsetWidth","tooltipPositionX","x","tooltipPositionY","y","window","innerHeight","posX","posY","body","scrollLeft","documentElement","scrollTop","elementType","taskName","taskNameValue","sanitize","disableHtmlEncode","replace","milestoneStartDate","className","includes","baselineStartDate","startDate","sDateValue","getFormatedDate","getDateFormat","sDate_1","contentTemp","scheduledTask","hasChildRecords","isAutoSchedule","startDateValue","autoStartDate","endDateValue","endDate","autoEndDate","durationValue","getDurationString","duration","autoDuration","durationUnit","progressValue","progress","startDate_1","localeObj","getConstant","endDate_1","duration_1","progress_1","baselineStartDateValue_1","baselineEndDateValue_1","baselineEndDate","markerTooltipElement","getMarkerTooltipData","markerTooltipElementValue_1","dateValidationModule","getDateFromFormat","day","markerLabel_1","label","fromNameValue_1","fromName","fromIdValue_1","fromId","toNameValue_1","toName","toIdValue_1","toId","linkTextValue_1","linkText","offsetStringValue_1","offsetString","title","length","titleValue_1","timlineTitleValue_1","autoStartDateValue","autoEndDateValue","durationUnitValue","manualStartDateValue","manualEndDateValue","autoStartDate_1","autoEndDate_1","durationValue_1","manualStartDate_1","manualEndDate_1","autoStartValue","autoEndValue","dateValue","autoStart_1","autoEnd_1","date_1","markerTooltipId","id","match","eventMarkers","Number","predeceesorParent","taskIds","shift","fromTask","toTask","viewType","flatData","getTaskIds","indexOf","ids","predecessor","filter","pdc","to","taskId","rowUniqueID","linkType","getPredecessorTextValue","offset","offsetUnit","template","propName","tooltipFunction","chartRowsModule","templateID","getTemplateID","templateNode","index"],"sources":["/var/www/vue/vue-gantt-chart/node_modules/@syncfusion/ej2-gantt/src/gantt/renderer/tooltip.js"],"sourcesContent":["import { Tooltip as TooltipComponent } from '@syncfusion/ej2-popups';\nimport { parentsUntil } from '../base/utils';\nimport * as cls from '../base/css-constants';\nimport { extend, isNullOrUndefined, getValue, EventHandler, closest, SanitizeHtmlHelper, initializeCSPTemplate, append } from '@syncfusion/ej2-base';\nimport { Deferred } from '@syncfusion/ej2-data';\n/**\n * File for handling tooltip in Gantt.\n */\nvar Tooltip = /** @class */ (function () {\n    function Tooltip(gantt) {\n        this.parent = gantt;\n        this.createTooltip();\n        this.parent.on('destroy', this.destroy, this);\n    }\n    /**\n     * To create tooltip.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Tooltip.prototype.createTooltip = function () {\n        this.toolTipObj = new TooltipComponent();\n        this.toolTipObj.target = '.e-header-cell-label, .e-gantt-child-taskbar,' +\n            '.e-gantt-parent-taskbar, .e-gantt-milestone, .e-gantt-unscheduled-taskbar' +\n            '.e-event-markers, .e-baseline-bar, .e-event-markers,' +\n            '.e-connector-line-container, .e-indicator-span, .e-notes-info, .e-gantt-manualparent-milestone,' +\n            '.e-taskbar-left-resizer, .e-taskbar-right-resizer, .e-baseline-gantt-milestone-container, .e-gantt-manualparenttaskbar';\n        this.toolTipObj.position = 'BottomCenter';\n        this.toolTipObj.openDelay = 700;\n        this.toolTipObj.enableRtl = this.parent.enableRtl;\n        this.toolTipObj.enableHtmlSanitizer = this.parent.enableHtmlSanitizer;\n        this.toolTipObj.cssClass = cls.ganttTooltip;\n        this.toolTipObj.animation = { open: { effect: 'None', delay: 0 }, close: { effect: 'None', delay: 0 } };\n        this.toolTipObj.afterOpen = this.updateTooltipPosition.bind(this);\n        this.toolTipObj.showTipPointer = false;\n        this.toolTipObj.beforeRender = this.tooltipBeforeRender.bind(this);\n        this.toolTipObj.afterClose = this.tooltipCloseHandler.bind(this);\n        this.toolTipObj.isStringTemplate = true;\n        this.toolTipObj.appendTo(this.parent.element);\n    };\n    Tooltip.prototype.tooltipBeforeRender = function (args) {\n        var parent = this.parent;\n        if (parent.isOnEdit) {\n            args.cancel = true;\n            return;\n        }\n        var element;\n        var row = closest(args.target, 'div.' + cls.taskBarMainContainer);\n        if (!isNullOrUndefined(row)) {\n            element = args.target;\n        }\n        else {\n            element = parentsUntil(args.target, cls.chartRowCell);\n        }\n        var data;\n        var argsData = {\n            data: {},\n            args: args,\n            cancel: false,\n            content: ''\n        };\n        if (args.target.classList.contains('e-header-cell-label')) {\n            if (parent.timelineSettings.showTooltip) {\n                argsData.content = this.toolTipObj.content = parent.tooltipModule.getTooltipContent('timeline', data, parent, args);\n            }\n            else {\n                args.cancel = true;\n            }\n        }\n        else {\n            if (parent.tooltipSettings.showTooltip) {\n                if (element) {\n                    argsData.data = parent.ganttChartModule.getRecordByTaskBar(element);\n                    data = argsData.data;\n                }\n                if (args.target.classList.contains('e-gantt-child-taskbar') ||\n                    args.target.classList.contains('e-gantt-parent-taskbar') ||\n                    args.target.classList.contains('e-gantt-milestone') ||\n                    args.target.classList.contains('e-gantt-unscheduled-taskbar') ||\n                    args.target.classList.contains('e-taskbar-left-resizer') ||\n                    args.target.classList.contains('e-taskbar-right-resizer') ||\n                    (args.target.classList.contains('e-gantt-manualparenttaskbar') && parent.tooltipSettings.taskbar)) {\n                    var taskbarTemplateNode = void 0;\n                    if (parent.tooltipSettings.taskbar) {\n                        taskbarTemplateNode = parent.tooltipModule.templateCompiler(parent.tooltipSettings.taskbar, parent, data, 'TooltipTaskbarTemplate');\n                    }\n                    var tooltipTemplate = document.createElement('div');\n                    if (taskbarTemplateNode) {\n                        append(taskbarTemplateNode, tooltipTemplate);\n                    }\n                    argsData.content = this.toolTipObj.content = taskbarTemplateNode ? tooltipTemplate : data ?\n                        parent.tooltipModule.getTooltipContent((data.ganttProperties.isMilestone ? 'milestone' : 'taskbar'), data, parent, args) : '';\n                }\n                else if (args.target.classList.contains('e-baseline-bar') ||\n                    args.target.classList.contains('e-baseline-gantt-milestone-container')) {\n                    var baseLineTemplateNode = void 0;\n                    if ((parent.tooltipSettings.baseline)) {\n                        baseLineTemplateNode = parent.tooltipModule.templateCompiler(parent.tooltipSettings.baseline, parent, data, 'TooltipBaselineTemplate');\n                    }\n                    var baselineTemplate = document.createElement('div');\n                    if (baseLineTemplateNode) {\n                        append(baseLineTemplateNode, baselineTemplate);\n                    }\n                    argsData.content = this.toolTipObj.content = baseLineTemplateNode ? baselineTemplate : data ?\n                        parent.tooltipModule.getTooltipContent((data.ganttProperties.isMilestone ? 'milestone' : 'baseline'), data, parent, args) : '';\n                }\n                else if (args.target.classList.contains('e-event-markers')) {\n                    argsData.content = this.toolTipObj.content = parent.tooltipModule.getTooltipContent('marker', data, parent, args);\n                }\n                else if (args.target.classList.contains('e-connector-line-container')) {\n                    var dependencyLineTemplateNode = void 0;\n                    parent.tooltipModule.predecessorTooltipData = parent.tooltipModule.getPredecessorTooltipData(args);\n                    argsData.data = this.predecessorTooltipData;\n                    if ((parent.tooltipSettings.connectorLine)) {\n                        dependencyLineTemplateNode = parent.tooltipModule.templateCompiler(parent.tooltipSettings.connectorLine, parent, parent.tooltipModule.predecessorTooltipData, 'TooltipConnectorLineTemplate');\n                    }\n                    argsData.content = this.toolTipObj.content = dependencyLineTemplateNode ?\n                        dependencyLineTemplateNode[0] :\n                        parent.tooltipModule.getTooltipContent('connectorLine', data, parent, args);\n                }\n                else if (args.target.classList.contains('e-indicator-span')) {\n                    argsData.content = this.toolTipObj.content =\n                        parent.tooltipModule.getTooltipContent('indicator', data, parent, args);\n                    if (isNullOrUndefined(argsData.content)) {\n                        args.cancel = true;\n                    }\n                }\n                else if (args.target.classList.contains('e-notes-info')) {\n                    var ganttData = this.parent.ganttChartModule.getRecordByTarget(args.event);\n                    argsData.content = this.toolTipObj.content = ganttData.ganttProperties.notes;\n                    if (isNullOrUndefined(argsData.content)) {\n                        args.cancel = true;\n                    }\n                }\n                else if (args.target.classList.contains('e-gantt-manualparenttaskbar')) {\n                    argsData.content = this.toolTipObj.content = parent.tooltipModule.getTooltipContent('manualtaskbar', data, parent, args);\n                    if (isNullOrUndefined(argsData.content)) {\n                        args.cancel = true;\n                    }\n                }\n                else if (args.target.classList.contains('e-gantt-manualparent-milestone')) {\n                    argsData.content = this.toolTipObj.content = parent.tooltipModule.getTooltipContent('manualmilestone', data, parent, args);\n                    if (isNullOrUndefined(argsData.content)) {\n                        args.cancel = true;\n                    }\n                }\n            }\n            else {\n                args.cancel = true;\n            }\n        }\n        if (args.cancel === false) {\n            var callBackPromise_1 = new Deferred();\n            parent.trigger('beforeTooltipRender', argsData, function (argData) {\n                callBackPromise_1.resolve(argData);\n                if (argData.cancel) {\n                    args.cancel = true;\n                }\n            });\n            this.toolTipObj.content = argsData.content;\n            if (!this.parent.isAdaptive && args.event.type === 'mouseover') {\n                this.currentTarget = args.target;\n                EventHandler.add(this.currentTarget, 'mousemove', this.mouseMoveHandler.bind(this));\n            }\n            this.parent.renderTemplates();\n            return callBackPromise_1;\n        }\n    };\n    // eslint-disable-next-line\n    Tooltip.prototype.tooltipCloseHandler = function (args) {\n        this.tooltipMouseEvent = null;\n        if (!this.parent.isAdaptive && !isNullOrUndefined(this.currentTarget)) {\n            EventHandler.remove(this.currentTarget, 'mousemove', this.mouseMoveHandler);\n        }\n        this.currentTarget = null;\n    };\n    Tooltip.prototype.mouseMoveHandler = function (e) {\n        this.tooltipMouseEvent = e;\n    };\n    /**\n     * Method to update tooltip position\n     *\n     * @param {TooltipEventArgs} args .\n     * @returns {void} .\n     */\n    Tooltip.prototype.updateTooltipPosition = function (args) {\n        args.element.style.visibility = 'visible';\n        var parentWithZoomStyle = this.parent.element.closest('[style*=\"zoom\"]');\n        if (isNullOrUndefined(parentWithZoomStyle)) {\n            if (isNullOrUndefined(this.tooltipMouseEvent) || args.target.classList.contains('e-notes-info')) {\n                return;\n            }\n            var postion = this.getPointorPosition(this.tooltipMouseEvent);\n            var containerPosition = this.parent.getOffsetRect(this.parent.chartPane);\n            var topEnd = containerPosition.top + this.parent.chartPane.offsetHeight;\n            var leftEnd = containerPosition.left + this.parent.chartPane.offsetWidth;\n            var tooltipPositionX = postion.x;\n            var tooltipPositionY = postion.y;\n            if (leftEnd < (tooltipPositionX + args.element.offsetWidth + 10)) {\n                while (leftEnd < (tooltipPositionX + args.element.offsetWidth + 10)) {\n                    tooltipPositionX = leftEnd - args.element.offsetWidth - 10;\n                    args.element.style.left = tooltipPositionX + 'px';\n                }\n            }\n            else {\n                tooltipPositionX = tooltipPositionX + 10;\n                args.element.style.left = tooltipPositionX + 'px';\n            }\n            if (window.innerHeight < args.element.offsetHeight + tooltipPositionY) {\n                tooltipPositionY = tooltipPositionY - args.element.offsetHeight - 10;\n            }\n            if ((topEnd < (tooltipPositionY + args.element.offsetHeight + 20))) {\n                tooltipPositionY = tooltipPositionY - args.element.offsetHeight - 10;\n            }\n            else {\n                tooltipPositionY = tooltipPositionY + 10;\n            }\n            args.element.style.top = tooltipPositionY + 'px';\n        }\n    };\n    /**\n     * Method to get mouse pointor position\n     *\n     * @param {Event} e .\n     * @returns {number} .\n     */\n    Tooltip.prototype.getPointorPosition = function (e) {\n        var posX;\n        var posY;\n        if (!isNullOrUndefined(getValue('pageX', e)) || !isNullOrUndefined(getValue('pageY', e))) {\n            posX = getValue('pageX', e);\n            posY = getValue('pageY', e);\n        }\n        else if (!isNullOrUndefined(getValue('clientX', e)) || !isNullOrUndefined(getValue('clientY', e))) {\n            posX = getValue('clientX', e) + document.body.scrollLeft + document.documentElement.scrollLeft;\n            posY = getValue('clientY', e) + document.body.scrollTop + document.documentElement.scrollTop;\n        }\n        return { x: posX, y: posY };\n    };\n    /**\n     *  Getting tooltip content for different elements\n     *\n     * @param {string} elementType .\n     * @param {IGanttData} ganttData .\n     * @param {Gantt} parent .\n     * @param {TooltipEventArgs} args .\n     * @returns {string | Function} .\n     */\n    Tooltip.prototype.getTooltipContent = function (elementType, ganttData, parent, args) {\n        var content;\n        var data;\n        var taskName;\n        if (ganttData) {\n            data = ganttData.ganttProperties;\n            var taskNameValue = data.taskName;\n            if (this.parent.enableHtmlSanitizer && typeof (taskNameValue) === 'string') {\n                taskNameValue = SanitizeHtmlHelper.sanitize(taskNameValue);\n            }\n            taskName = !isNullOrUndefined(taskNameValue) ? '<tr class = \"e-gantt-tooltip-rowcell\"><td colspan=\"3\">' +\n                (this.parent.disableHtmlEncode ? taskNameValue.replace(/</g, '&lt;').replace(/>/g, '&gt;') : taskNameValue) + '</td></tr>' : '';\n        }\n        switch (elementType) {\n            case 'milestone':\n                {\n                    var milestoneStartDate = void 0;\n                    if (args.target.className.includes('e-baseline-gantt-milestone-container') && !isNullOrUndefined(data.baselineStartDate)) {\n                        milestoneStartDate = data.baselineStartDate;\n                    }\n                    else if (!isNullOrUndefined(data.startDate)) {\n                        milestoneStartDate = data.startDate;\n                    }\n                    var sDateValue = this.parent.getFormatedDate(milestoneStartDate, this.parent.getDateFormat());\n                    if (this.parent.enableHtmlSanitizer && typeof (sDateValue) === 'string') {\n                        sDateValue = SanitizeHtmlHelper.sanitize(sDateValue);\n                    }\n                    var sDate_1 = !isNullOrUndefined(milestoneStartDate) ? '<tr><td class = \"e-gantt-tooltip-label\"> Date</td><td>:</td>' +\n                        '<td class = \"e-gantt-tooltip-value\">' +\n                        sDateValue + '</td></tr>' : '';\n                    var contentTemp = function () {\n                        return '<table class = \"e-gantt-tooltiptable\"><tbody>' +\n                            taskName + sDate_1 + '</tbody></table>';\n                    };\n                    content = initializeCSPTemplate(contentTemp);\n                    break;\n                }\n            case 'taskbar':\n                {\n                    var scheduledTask = !ganttData.hasChildRecords || data.isAutoSchedule ? true : false;\n                    var startDateValue = this.parent.getFormatedDate(scheduledTask ? data.startDate : data.autoStartDate, this.parent.getDateFormat());\n                    var endDateValue = this.parent.getFormatedDate(scheduledTask ? data.endDate : data.autoEndDate, this.parent.getDateFormat());\n                    var durationValue = this.parent.getDurationString((scheduledTask ? data.duration : data.autoDuration), data.durationUnit);\n                    var progressValue = data.progress;\n                    if (this.parent.enableHtmlSanitizer) {\n                        startDateValue = typeof (startDateValue) === 'string' ? SanitizeHtmlHelper.sanitize(startDateValue) : startDateValue;\n                        endDateValue = typeof (endDateValue) === 'string' ? SanitizeHtmlHelper.sanitize(endDateValue) : endDateValue;\n                        durationValue = SanitizeHtmlHelper.sanitize(durationValue);\n                    }\n                    var startDate_1 = data.startDate ? '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant(scheduledTask ? 'startDate' : 'subTasksStartDate') +\n                        '</td><td style=\"padding: 2px;\">:</td>' + '<td class = \"e-gantt-tooltip-value\"> ' + startDateValue + '</td></tr>' : '';\n                    var endDate_1 = data.endDate ? '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant(scheduledTask ? 'endDate' : 'subTasksEndDate') +\n                        '</td><td style=\"padding: 2px;\">:</td>' + '<td class = \"e-gantt-tooltip-value\">' + endDateValue + '</td></tr>' : '';\n                    var duration_1 = !isNullOrUndefined(data.duration) ? '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('duration') + '</td><td style=\"padding: 2px;\">:</td>' +\n                        '<td class = \"e-gantt-tooltip-value\"> ' + durationValue +\n                        '</td></tr>' : '';\n                    var progress_1 = '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('progress') + '</td><td style=\"padding: 2px;\">:</td><td>' + progressValue +\n                        '</td></tr>';\n                    var contentTemp = function () {\n                        return '<table class = \"e-gantt-tooltiptable\"><tbody>' +\n                            taskName + startDate_1 + endDate_1 + duration_1 + progress_1 + '</tbody></table>';\n                    };\n                    content = initializeCSPTemplate(contentTemp);\n                    break;\n                }\n            case 'baseline':\n                {\n                    var baselineStartDateValue_1 = this.parent.getFormatedDate(data.baselineStartDate, this.parent.getDateFormat());\n                    var baselineEndDateValue_1 = this.parent.getFormatedDate(data.baselineEndDate, this.parent.getDateFormat());\n                    if (this.parent.enableHtmlSanitizer) {\n                        baselineStartDateValue_1 = SanitizeHtmlHelper.sanitize(baselineStartDateValue_1);\n                        baselineEndDateValue_1 = SanitizeHtmlHelper.sanitize(baselineEndDateValue_1);\n                    }\n                    var contentTemp = function () {\n                        return '<table class = \"e-gantt-tooltiptable\"><tbody>' +\n                            taskName + '<tr><td class = \"e-gantt-tooltip-label\">' +\n                            this.parent.localeObj.getConstant('baselineStartDate') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\">' +\n                            baselineStartDateValue_1 + '</td></tr><tr>' +\n                            '<td class = \"e-gantt-tooltip-label\">' + this.parent.localeObj.getConstant('baselineEndDate') +\n                            '</td><td>:</td><td class = \"e-gantt-tooltip-value\">' +\n                            baselineEndDateValue_1 + '</td></tr></tbody></table>';\n                    };\n                    content = initializeCSPTemplate(contentTemp, this);\n                    break;\n                }\n            case 'marker':\n                {\n                    var markerTooltipElement = parent.tooltipModule.getMarkerTooltipData(args);\n                    var markerTooltipElementValue_1 = this.parent.getFormatedDate(this.parent.dateValidationModule.getDateFromFormat(markerTooltipElement.day), this.parent.getDateFormat());\n                    var markerLabel_1 = markerTooltipElement.label ? markerTooltipElement.label : '';\n                    if (this.parent.enableHtmlSanitizer) {\n                        markerLabel_1 = SanitizeHtmlHelper.sanitize(markerLabel_1);\n                        markerTooltipElementValue_1 = SanitizeHtmlHelper.sanitize(markerTooltipElementValue_1);\n                    }\n                    var contentTemp = function () {\n                        return '<table class = \"e-gantt-tooltiptable\"><tbody><tr><td>' +\n                            markerTooltipElementValue_1 + '</td></tr><tr><td>' + (this.parent.disableHtmlEncode ? markerLabel_1.replace(/</g, '&lt;').replace(/>/g, '&gt;') : markerLabel_1) + '</td></tr></tbody></table>';\n                    };\n                    content = initializeCSPTemplate(contentTemp, this);\n                    break;\n                }\n            case 'connectorLine':\n                {\n                    var fromNameValue_1 = parent.tooltipModule.predecessorTooltipData.fromName;\n                    var fromIdValue_1 = parent.tooltipModule.predecessorTooltipData.fromId;\n                    var toNameValue_1 = parent.tooltipModule.predecessorTooltipData.toName;\n                    var toIdValue_1 = parent.tooltipModule.predecessorTooltipData.toId;\n                    var linkTextValue_1 = parent.tooltipModule.predecessorTooltipData.linkText;\n                    var offsetStringValue_1 = parent.tooltipModule.predecessorTooltipData.offsetString;\n                    if (this.parent.enableHtmlSanitizer) {\n                        fromNameValue_1 = SanitizeHtmlHelper.sanitize(fromNameValue_1);\n                        fromIdValue_1 = SanitizeHtmlHelper.sanitize(fromIdValue_1);\n                        toNameValue_1 = SanitizeHtmlHelper.sanitize(toNameValue_1);\n                        toIdValue_1 = SanitizeHtmlHelper.sanitize(toIdValue_1);\n                        linkTextValue_1 = SanitizeHtmlHelper.sanitize(linkTextValue_1);\n                        offsetStringValue_1 = SanitizeHtmlHelper.sanitize(offsetStringValue_1);\n                    }\n                    var contentTemp = function () {\n                        return '<table class = \"e-gantt-tooltiptable\"><tbody><tr><td class = \"e-gantt-tooltip-label\">' +\n                            this.parent.localeObj.getConstant('from') + '</td><td>:</td>' +\n                            '<td class = \"e-gantt-tooltip-value\">' + (this.parent.disableHtmlEncode ? fromNameValue_1.replace(/</g, '&lt;').replace(/>/g, '&gt;') : fromNameValue_1) + ' (' +\n                            (this.parent.disableHtmlEncode ? (typeof (fromIdValue_1) === 'string' ? fromIdValue_1.replace(/</g, '&lt;').replace(/>/g, '&gt;') : fromIdValue_1) : fromIdValue_1) + ')' + '</td></tr><tr><td class = \"e-gantt-tooltip-label\">' +\n                            this.parent.localeObj.getConstant('to') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\">' +\n                            (this.parent.disableHtmlEncode ? toNameValue_1.replace(/</g, '&lt;').replace(/>/g, '&gt;') : toNameValue_1) + ' (' + toIdValue_1 + ')' + '</td></tr><tr><td class = \"e-gantt-tooltip-label\">' + this.parent.localeObj.getConstant('taskLink') +\n                            '</td><td>:</td><td class = \"e-gantt-tooltip-value\"> ' + linkTextValue_1 +\n                            '</td></tr><tr><td class = \"e-gantt-tooltip-label\">' + this.parent.localeObj.getConstant('lag') +\n                            '</td><td>:</td><td class = \"e-gantt-tooltip-value\">' +\n                            offsetStringValue_1 + '</td></tr></tbody></table>';\n                    };\n                    content = initializeCSPTemplate(contentTemp, this);\n                    break;\n                }\n            case 'indicator':\n                if (args.target.title.length) {\n                    var titleValue_1 = args.target.title;\n                    if (this.parent.enableHtmlSanitizer && typeof (titleValue_1) === 'string') {\n                        titleValue_1 = SanitizeHtmlHelper.sanitize(titleValue_1);\n                    }\n                    var contentTemp = function () {\n                        return '<table class = \"e-gantt-tooltiptable\"><tbody><tr>' + titleValue_1 + '</tr></tbody></table>';\n                    };\n                    content = initializeCSPTemplate(contentTemp);\n                }\n                break;\n            case 'timeline':\n                {\n                    var timlineTitleValue_1 = args.target.title;\n                    if (this.parent.enableHtmlSanitizer && typeof (timlineTitleValue_1) === 'string') {\n                        timlineTitleValue_1 = SanitizeHtmlHelper.sanitize(timlineTitleValue_1);\n                    }\n                    var contentTemp = function () {\n                        return '<table class = \"e-gantt-tooltiptable\"><tbody><tr>' + timlineTitleValue_1 + '</tr></tbody></table>';\n                    };\n                    content = initializeCSPTemplate(contentTemp);\n                    break;\n                }\n            case 'manualtaskbar':\n                {\n                    var autoStartDateValue = this.parent.getFormatedDate(data.autoStartDate, this.parent.getDateFormat());\n                    var autoEndDateValue = this.parent.getFormatedDate(data.autoEndDate, this.parent.getDateFormat());\n                    var durationUnitValue = this.parent.getDurationString(data.duration, data.durationUnit);\n                    var manualStartDateValue = this.parent.getFormatedDate(data.startDate, this.parent.getDateFormat());\n                    var manualEndDateValue = this.parent.getFormatedDate(data.endDate, this.parent.getDateFormat());\n                    if (this.parent.enableHtmlSanitizer) {\n                        autoStartDateValue = SanitizeHtmlHelper.sanitize(autoStartDateValue);\n                        autoEndDateValue = SanitizeHtmlHelper.sanitize(autoEndDateValue);\n                        durationUnitValue = SanitizeHtmlHelper.sanitize(durationUnitValue);\n                        manualStartDateValue = SanitizeHtmlHelper.sanitize(manualStartDateValue);\n                        manualEndDateValue = SanitizeHtmlHelper.sanitize(manualEndDateValue);\n                    }\n                    var autoStartDate_1 = '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('subTasksStartDate') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\"> ' +\n                        autoStartDateValue + '</td></tr>';\n                    var autoEndDate_1 = '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('subTasksEndDate') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\">' +\n                        autoEndDateValue + '</td></tr>';\n                    var durationValue_1 = '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('duration') + '</td><td>:</td>' +\n                        '<td class = \"e-gantt-tooltip-value\"> ' + durationUnitValue +\n                        '</td></tr>';\n                    var manualStartDate_1 = '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('startDate') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\"> ' +\n                        manualStartDateValue + '</td></tr>';\n                    var manualEndDate_1 = '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('endDate') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\">' +\n                        manualEndDateValue + '</td></tr>';\n                    var contentTemp = function () {\n                        return '<table class = \"e-gantt-tooltiptable\"><tbody>' +\n                            taskName + manualStartDate_1 + autoStartDate_1 + manualEndDate_1 + autoEndDate_1 + durationValue_1 + '</tbody></table>';\n                    };\n                    content = initializeCSPTemplate(contentTemp);\n                    break;\n                }\n            case 'manualmilestone':\n                {\n                    var autoStartValue = this.parent.getFormatedDate(data.autoStartDate, this.parent.getDateFormat());\n                    var autoEndValue = this.parent.getFormatedDate(data.autoEndDate, this.parent.getDateFormat());\n                    var dateValue = this.parent.getFormatedDate(data.startDate, this.parent.getDateFormat());\n                    if (this.parent.enableHtmlSanitizer) {\n                        autoStartValue = SanitizeHtmlHelper.sanitize(autoStartValue);\n                        autoEndValue = SanitizeHtmlHelper.sanitize(autoEndValue);\n                        dateValue = SanitizeHtmlHelper.sanitize(dateValue);\n                    }\n                    var autoStart_1 = '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('subTasksStartDate') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\"> ' +\n                        autoStartValue + '</td></tr>';\n                    var autoEnd_1 = '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('subTasksEndDate') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\">' +\n                        autoEndValue + '</td></tr>';\n                    var date_1 = '<tr><td class = \"e-gantt-tooltip-label\"> Date</td><td>:</td>' +\n                        '<td class = \"e-gantt-tooltip-value\">' +\n                        dateValue + '</tr>';\n                    var contentTemp = function () {\n                        return '<table class = \"e-gantt-tooltiptable\"><tbody>' +\n                            taskName + date_1 + autoStart_1 + autoEnd_1 + '</tbody></table>';\n                    };\n                    content = initializeCSPTemplate(contentTemp);\n                    break;\n                }\n        }\n        return content;\n    };\n    /**\n     * To get the details of an event marker.\n     *\n     * @param {TooltipEventArgs} args .\n     * @returns {EventMarkerModel} .\n     * @private\n     */\n    Tooltip.prototype.getMarkerTooltipData = function (args) {\n        var markerTooltipId = (args.target.id).match(/\\d+/g);\n        var markerTooltipElement = this.parent.eventMarkers[Number(markerTooltipId)];\n        return markerTooltipElement;\n    };\n    /**\n     * To get the details of a connector line.\n     *\n     * @param {TooltipEventArgs} args .\n     * @returns {PredecessorTooltip} .\n     * @private\n     */\n    Tooltip.prototype.getPredecessorTooltipData = function (args) {\n        var predeceesorParent = args.target.id;\n        if (this.parent.enableHtmlSanitizer && typeof (predeceesorParent) === 'string') {\n            predeceesorParent = SanitizeHtmlHelper.sanitize(predeceesorParent);\n        }\n        var taskIds = predeceesorParent.match(/ConnectorLineparent(.*)child(.*)/);\n        taskIds.shift();\n        var fromTask;\n        var toTask;\n        if (this.parent.viewType === 'ResourceView') {\n            fromTask = this.parent.flatData[this.parent.getTaskIds().indexOf('T' + taskIds[0])];\n            toTask = this.parent.flatData[this.parent.getTaskIds().indexOf('T' + taskIds[1])];\n        }\n        else {\n            fromTask = this.parent.flatData[this.parent.ids.indexOf(taskIds[0])];\n            toTask = this.parent.flatData[this.parent.ids.indexOf(taskIds[1])];\n        }\n        var predecessor = (fromTask.ganttProperties.predecessor).filter(function (pdc) { return pdc.to === taskIds[1]; });\n        var predecessorTooltipData = {\n            fromId: this.parent.viewType === 'ResourceView' ? fromTask.ganttProperties.taskId : fromTask.ganttProperties.rowUniqueID,\n            toId: this.parent.viewType === 'ResourceView' ? toTask.ganttProperties.taskId : toTask.ganttProperties.rowUniqueID,\n            fromName: fromTask.ganttProperties.taskName,\n            toName: toTask.ganttProperties.taskName,\n            linkType: predecessor[0].type,\n            linkText: this.parent.getPredecessorTextValue(predecessor[0].type),\n            offset: predecessor[0].offset,\n            offsetUnit: predecessor[0].offsetUnit,\n            offsetString: this.parent.getDurationString(predecessor[0].offset, predecessor[0].offsetUnit)\n        };\n        return predecessorTooltipData;\n    };\n    /**\n     * To compile template string.\n     *\n     * @param {string | Function} template .\n     * @param {Gantt} parent .\n     * @param {IGanttData|PredecessorTooltip} data .\n     * @param {string} propName .\n     * @returns {NodeList} .\n     * @private\n     */\n    Tooltip.prototype.templateCompiler = function (template, parent, data, propName) {\n        var tooltipFunction = parent.chartRowsModule.templateCompiler(template);\n        var templateID = parent.chartRowsModule.getTemplateID(propName);\n        var templateNode = tooltipFunction(extend({ index: 0 }, data), parent, propName, templateID, true);\n        return templateNode;\n    };\n    Tooltip.prototype.destroy = function () {\n        this.toolTipObj.destroy();\n    };\n    return Tooltip;\n}());\nexport { Tooltip };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}