{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  name: 'CalendarRow',\n  inject: ['root'],\n  props: ['items', 'which'],\n  data() {\n    return {};\n  },\n  methods: {\n    /**\n     * Get x position\n     *\n     * @returns {number}\n     */\n    getTextX(item) {\n      let x = item.x + item.width / 2 - item.textWidth / 2;\n      if (this.which === 'month' && this.root.isInsideViewPort(item.x, item.width, 0)) {\n        let scrollWidth = this.root.state.options.scroll.chart.right - this.root.state.options.scroll.chart.left;\n        x = this.root.state.options.scroll.chart.left + scrollWidth / 2 - item.textWidth / 2 + 2;\n        if (x + item.textWidth + 2 > item.x + item.width) {\n          x = item.x + item.width - item.textWidth - 2;\n        } else if (x < item.x) {\n          x = item.x + 2;\n        }\n      }\n      return x - item.x;\n    }\n  },\n  computed: {\n    rowStyle() {\n      return {\n        ...this.root.style['calendar-row'],\n        ...this.root.style['calendar-row--' + this.which]\n      };\n    },\n    rectStyle() {\n      return {\n        ...this.root.style['calendar-row-rect'],\n        ...this.root.style['calendar-row-rect--' + this.which]\n      };\n    },\n    rectChildStyle() {\n      const basicStyle = {\n        ...this.root.style['calendar-row-rect-child'],\n        ...this.root.style['calendar-row-rect-child--' + this.which]\n      };\n      const style = [];\n      for (let item of this.items) {\n        const childrenStyle = [];\n        for (let child of item.children) {\n          childrenStyle.push({\n            ...basicStyle,\n            width: child.width + 'px',\n            height: child.height + 'px'\n          });\n        }\n        style.push(childrenStyle);\n      }\n      return style;\n    },\n    textStyle() {\n      const basicStyle = {\n        ...this.root.style['calendar-row-text'],\n        ...this.root.style['calendar-row-text--' + this.which]\n      };\n      return child => {\n        const style = {\n          ...basicStyle\n        };\n        if (this.which === 'month') {\n          style.left = this.getTextX(child) + 'px';\n        }\n        return style;\n      };\n    }\n  }\n};","map":{"version":3,"names":["name","inject","props","data","methods","getTextX","item","x","width","textWidth","which","root","isInsideViewPort","scrollWidth","state","options","scroll","chart","right","left","computed","rowStyle","style","rectStyle","rectChildStyle","basicStyle","items","childrenStyle","child","children","push","height","textStyle"],"sources":["/var/www/vue/vue-gantt-chart/node_modules/gantt-elastic/src/components/Calendar/CalendarRow.vue"],"sourcesContent":["<!--\n/**\n * @fileoverview CalendarRow component\n * @license MIT\n * @author Rafal Pospiech <neuronet.io@gmail.com>\n * @package GanttElastic\n */\n-->\n<template>\n  <div :class=\"'gantt-elastic__calendar-row gantt-elastic__calendar-row--' + which\" :style=\"rowStyle\">\n    <div\n      v-for=\"(item, itemIndex) in items\"\n      :key=\"item.key\"\n      :class=\"'gantt-elastic__calendar-row-rect gantt-elastic__calendar-row-rect--' + which\"\n      :style=\"rectStyle\"\n    >\n      <div\n        :class=\"'gantt-elastic__calendar-row-rect-child gantt-elastic__calendar-row-rect-child--' + which\"\n        v-for=\"(child, childIndex) in item.children\"\n        :key=\"child.key\"\n        :style=\"rectChildStyle[itemIndex][childIndex]\"\n      >\n        <div\n          :class=\"'gantt-elastic__calendar-row-text gantt-elastic__calendar-row-text--' + which\"\n          :style=\"textStyle(child)\"\n        >\n          {{ child.label }}\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'CalendarRow',\n  inject: ['root'],\n  props: ['items', 'which'],\n  data() {\n    return {};\n  },\n  methods: {\n    /**\n     * Get x position\n     *\n     * @returns {number}\n     */\n    getTextX(item) {\n      let x = item.x + item.width / 2 - item.textWidth / 2;\n      if (this.which === 'month' && this.root.isInsideViewPort(item.x, item.width, 0)) {\n        let scrollWidth = this.root.state.options.scroll.chart.right - this.root.state.options.scroll.chart.left;\n        x = this.root.state.options.scroll.chart.left + scrollWidth / 2 - item.textWidth / 2 + 2;\n        if (x + item.textWidth + 2 > item.x + item.width) {\n          x = item.x + item.width - item.textWidth - 2;\n        } else if (x < item.x) {\n          x = item.x + 2;\n        }\n      }\n      return x - item.x;\n    }\n  },\n  computed: {\n    rowStyle() {\n      return { ...this.root.style['calendar-row'], ...this.root.style['calendar-row--' + this.which] };\n    },\n    rectStyle() {\n      return { ...this.root.style['calendar-row-rect'], ...this.root.style['calendar-row-rect--' + this.which] };\n    },\n    rectChildStyle() {\n      const basicStyle = {\n        ...this.root.style['calendar-row-rect-child'],\n        ...this.root.style['calendar-row-rect-child--' + this.which]\n      };\n      const style = [];\n      for (let item of this.items) {\n        const childrenStyle = [];\n        for (let child of item.children) {\n          childrenStyle.push({\n            ...basicStyle,\n            width: child.width + 'px',\n            height: child.height + 'px'\n          });\n        }\n        style.push(childrenStyle);\n      }\n      return style;\n    },\n    textStyle() {\n      const basicStyle = {\n        ...this.root.style['calendar-row-text'],\n        ...this.root.style['calendar-row-text--' + this.which]\n      };\n      return child => {\n        const style = { ...basicStyle };\n        if (this.which === 'month') {\n          style.left = this.getTextX(child) + 'px';\n        }\n        return style;\n      };\n    }\n  }\n};\n</script>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}