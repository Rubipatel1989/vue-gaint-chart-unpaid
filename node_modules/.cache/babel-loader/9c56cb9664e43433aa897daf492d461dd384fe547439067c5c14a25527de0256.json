{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.filter.js\";\nimport { IsFormatted } from './isformatted';\nimport * as CONSTANT from './../base/constant';\nimport { NodeSelection } from './../../selection/index';\nimport { getDefaultHtmlTbStatus } from './../../common/util';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\n/**\n * Update Toolbar Status\n *\n * @hidden\n\n */\nexport var statusCollection = getDefaultHtmlTbStatus();\nvar ToolbarStatus = /** @class */function () {\n  function ToolbarStatus() {}\n  /**\n   * get method\n   *\n   * @param {Document} docElement - specifies the document element\n   * @param {Node} rootNode - specifies the content editable element\n   * @param {string[]} formatNode - specifies the format node\n   * @param {string[]} fontSize - specifies the font size\n   * @param {string[]} fontName - specifies the font name.\n   * @param {Node} documentNode - specifies the document node.\n   * @returns {IToolbarStatus} - returns the toolbar status\n   * @hidden\n    */\n  ToolbarStatus.get = function (docElement, rootNode, formatNode, fontSize, fontName, documentNode) {\n    var formatCollection = JSON.parse(JSON.stringify(statusCollection));\n    var nodeCollection = JSON.parse(JSON.stringify(statusCollection));\n    var nodeSelection = new NodeSelection(rootNode);\n    var range = nodeSelection.getRange(docElement);\n    var nodes = documentNode ? [documentNode] : range.collapsed ? nodeSelection.getNodeCollection(range) : nodeSelection.getSelectionNodeCollectionBr(range);\n    var nodesLength = nodes.length;\n    var isNodeChanged = false;\n    for (var index = 0; index < nodes.length; index++) {\n      while (nodes[index].nodeType === 3 && range.startContainer.nodeType === 3 && nodes[index].parentNode && nodes[index].parentNode.lastElementChild && nodes[index].parentNode.lastElementChild.nodeName !== 'BR' && this.getImmediateBlockNode(nodes[index].parentNode).textContent.replace(/\\u200B/g, '').length === 0 && range.startContainer.textContent.replace(/\\u200B/g, '').length === 0 && nodeSelection.get(docElement).toString().replace(/\\u200B/g, '').length === 0) {\n        nodes[index] = nodes[index].parentNode.lastElementChild.firstChild;\n        isNodeChanged = true;\n      }\n      if (isNodeChanged && nodes[index]) {\n        nodeSelection.setCursorPoint(docElement, nodes[index], nodes[index].textContent.length);\n        isNodeChanged = false;\n      }\n      if (nodes[index].nodeName !== 'BR' && nodes[index].nodeType !== 3 || nodesLength > 1 && nodes[index].nodeType === 3 && nodes[index].textContent.trim() === '') {\n        nodes.splice(index, 1);\n        index--;\n      }\n    }\n    for (var index = 0; index < nodes.length; index++) {\n      // eslint-disable-next-line max-len\n      formatCollection = this.getFormatParent(docElement, formatCollection, nodes[index], rootNode, formatNode, fontSize, fontName);\n      if (index === 0 && formatCollection.bold || !formatCollection.bold) {\n        nodeCollection.bold = formatCollection.bold;\n      }\n      if (index === 0 && formatCollection.insertcode || !formatCollection.insertcode) {\n        nodeCollection.insertcode = formatCollection.insertcode;\n      }\n      if (index === 0 && formatCollection.blockquote || !formatCollection.blockquote) {\n        nodeCollection.blockquote = formatCollection.blockquote;\n      }\n      if (index === 0 && formatCollection.italic || !formatCollection.italic) {\n        nodeCollection.italic = formatCollection.italic;\n      }\n      if (index === 0 && formatCollection.underline || !formatCollection.underline) {\n        nodeCollection.underline = formatCollection.underline;\n      }\n      if (index === 0 && formatCollection.strikethrough || !formatCollection.strikethrough) {\n        nodeCollection.strikethrough = formatCollection.strikethrough;\n      }\n      if (index === 0 && formatCollection.superscript || !formatCollection.superscript) {\n        nodeCollection.superscript = formatCollection.superscript;\n      }\n      if (index === 0 && formatCollection.subscript || !formatCollection.subscript) {\n        nodeCollection.subscript = formatCollection.subscript;\n      }\n      if (index === 0 && formatCollection.fontcolor || !formatCollection.fontcolor) {\n        nodeCollection.fontcolor = formatCollection.fontcolor;\n      }\n      if (index === 0 && formatCollection.fontname) {\n        nodeCollection.fontname = formatCollection.fontname;\n      } else {\n        nodeCollection.fontname = formatCollection.fontname === nodeCollection.fontname ? formatCollection.fontname : 'empty';\n      }\n      if (index === 0 && formatCollection.fontsize) {\n        nodeCollection.fontsize = formatCollection.fontsize;\n      } else {\n        nodeCollection.fontsize = formatCollection.fontsize === nodeCollection.fontsize ? formatCollection.fontsize : 'empty';\n      }\n      if (index === 0 && formatCollection.backgroundcolor || !formatCollection.backgroundcolor) {\n        nodeCollection.backgroundcolor = formatCollection.backgroundcolor;\n      }\n      if (index === 0 && formatCollection.orderedlist || !formatCollection.orderedlist) {\n        nodeCollection.orderedlist = formatCollection.orderedlist;\n      }\n      if (index === 0 && formatCollection.unorderedlist || !formatCollection.unorderedlist) {\n        nodeCollection.unorderedlist = formatCollection.unorderedlist;\n      }\n      if (index === 0 && formatCollection.alignments || !formatCollection.alignments) {\n        nodeCollection.alignments = formatCollection.alignments;\n      }\n      if (index === 0 && formatCollection.formats) {\n        nodeCollection.formats = formatCollection.formats;\n      } else {\n        nodeCollection.formats = formatCollection.formats === nodeCollection.formats ? formatCollection.formats : 'empty';\n      }\n      if (index === 0 && formatCollection.createlink || !formatCollection.createlink) {\n        nodeCollection.createlink = formatCollection.createlink;\n      }\n      if (index === 0 && formatCollection.numberFormatList || !formatCollection.numberFormatList) {\n        nodeCollection.numberFormatList = formatCollection.numberFormatList;\n      }\n      if (index === 0 && formatCollection.bulletFormatList || !formatCollection.bulletFormatList) {\n        nodeCollection.bulletFormatList = formatCollection.bulletFormatList;\n      }\n      if (index === 0 && formatCollection.inlinecode || !formatCollection.inlinecode) {\n        nodeCollection.inlinecode = formatCollection.inlinecode;\n      }\n      formatCollection = JSON.parse(JSON.stringify(statusCollection));\n    }\n    return nodeCollection;\n  };\n  ToolbarStatus.getImmediateBlockNode = function (node) {\n    do {\n      node = node.parentNode;\n    } while (node && CONSTANT.BLOCK_TAGS.indexOf(node.nodeName.toLocaleLowerCase()) < 0);\n    return node;\n  };\n  ToolbarStatus.getFormatParent = function (docElement, formatCollection, node, targetNode, formatNode, fontSize, fontName) {\n    var isListUpdated = false;\n    var isComplexListUpdated = false;\n    if (targetNode.contains(node) || node.nodeType === 3 && targetNode.nodeType !== 3 && targetNode.contains(node.parentNode)) {\n      do {\n        formatCollection = this.isFormattedNode(docElement, formatCollection, node, isListUpdated, isComplexListUpdated, formatNode, fontSize, fontName);\n        if (formatCollection.orderedlist || formatCollection.unorderedlist) {\n          isListUpdated = true;\n        }\n        if (formatCollection.bulletFormatList || formatCollection.numberFormatList) {\n          isComplexListUpdated = true;\n        }\n        node = node.parentNode;\n      } while (node && node !== targetNode);\n    }\n    return formatCollection;\n  };\n  ToolbarStatus.isFormattedNode = function (docElement, formatCollection, node, isListUpdated, isComplexListUpdated, formatNode, fontSize, fontName) {\n    if (!formatCollection.bold) {\n      formatCollection.bold = IsFormatted.isBold(node);\n    }\n    if (!formatCollection.italic) {\n      formatCollection.italic = IsFormatted.isItalic(node);\n    }\n    if (!formatCollection.underline) {\n      formatCollection.underline = IsFormatted.isUnderline(node);\n    }\n    if (!formatCollection.strikethrough) {\n      formatCollection.strikethrough = IsFormatted.isStrikethrough(node);\n    }\n    if (!formatCollection.superscript) {\n      formatCollection.superscript = IsFormatted.isSuperscript(node);\n    }\n    if (!formatCollection.subscript) {\n      formatCollection.subscript = IsFormatted.isSubscript(node);\n    }\n    if (!formatCollection.fontcolor) {\n      formatCollection.fontcolor = this.isFontColor(docElement, node);\n    }\n    if (!formatCollection.fontname) {\n      formatCollection.fontname = this.isFontName(docElement, node, fontName);\n    }\n    if (!formatCollection.fontsize) {\n      formatCollection.fontsize = this.isFontSize(docElement, node, fontSize);\n    }\n    if (!formatCollection.backgroundcolor) {\n      formatCollection.backgroundcolor = this.isBackgroundColor(node);\n    }\n    if (!formatCollection.orderedlist && !isListUpdated) {\n      formatCollection.orderedlist = this.isOrderedList(node);\n    }\n    if (!formatCollection.unorderedlist && !isListUpdated) {\n      formatCollection.unorderedlist = this.isUnorderedList(node);\n    }\n    if (!formatCollection.alignments) {\n      formatCollection.alignments = this.isAlignment(node);\n    }\n    if (!formatCollection.formats) {\n      formatCollection.formats = this.isFormats(node, formatNode);\n      if (formatCollection.formats === 'pre') {\n        formatCollection.insertcode = true;\n      }\n    }\n    if (!formatCollection.blockquote) {\n      var currentFormatCollection = void 0;\n      if (!isNullOrUndefined(formatNode)) {\n        if (formatNode.indexOf('blockquote') > -1) {\n          formatCollection.formats = this.isFormats(node, formatNode);\n          currentFormatCollection = formatCollection.formats;\n        } else {\n          formatNode.push('blockquote');\n          currentFormatCollection = this.isFormats(node, formatNode);\n          for (var i = formatNode.length - 1; i >= 0; i--) {\n            if (formatNode[i] === 'blockquote') {\n              formatNode.splice(i, 1);\n            }\n          }\n        }\n      }\n      if (currentFormatCollection === 'blockquote') {\n        formatCollection.blockquote = true;\n      }\n    }\n    if (!formatCollection.createlink) {\n      formatCollection.createlink = this.isLink(node);\n    }\n    if (!formatCollection.numberFormatList && !isComplexListUpdated) {\n      formatCollection.numberFormatList = this.isNumberFormatList(node);\n    }\n    if (!formatCollection.bulletFormatList && !isComplexListUpdated) {\n      formatCollection.bulletFormatList = this.isBulletFormatList(node);\n    }\n    if (!formatCollection.inlinecode) {\n      formatCollection.inlinecode = IsFormatted.isCode(node);\n    }\n    return formatCollection;\n  };\n  ToolbarStatus.isFontColor = function (docElement, node) {\n    var color = node.style && node.style.color;\n    if ((color === null || color === undefined || color === '') && node.nodeType !== 3) {\n      color = this.getComputedStyle(docElement, node, 'color');\n    }\n    if (color !== null && color !== '' && color !== undefined) {\n      return color;\n    } else {\n      return null;\n    }\n  };\n  ToolbarStatus.isLink = function (node) {\n    if (node.nodeName.toLocaleLowerCase() === 'a') {\n      return true;\n    } else {\n      return false;\n    }\n  };\n  ToolbarStatus.isBackgroundColor = function (node) {\n    var backColor = node.style && node.style.backgroundColor;\n    if (backColor !== null && backColor !== '' && backColor !== undefined) {\n      return backColor;\n    } else {\n      return null;\n    }\n  };\n  ToolbarStatus.isFontSize = function (docElement, node, fontSize) {\n    var size = node.style && node.style.fontSize;\n    if ((size === null || size === undefined || size === '') && node.nodeType !== 3 && node.parentElement.classList.contains('e-content')) {\n      size = this.getComputedStyle(docElement, node, 'font-size');\n    }\n    if (size !== null && size !== '' && size !== undefined && (fontSize === null || fontSize === undefined || fontSize.indexOf(size) > -1)) {\n      return size;\n    } else {\n      return null;\n    }\n  };\n  ToolbarStatus.isFontName = function (docElement, node, fontName) {\n    var name = node.style && node.style.fontFamily;\n    if ((name === null || name === undefined || name === '') && node.nodeType !== 3) {\n      name = this.getComputedStyle(docElement, node, 'font-family');\n    }\n    var index = null;\n    if (name !== null && name !== '' && name !== undefined && (fontName === null || fontName === undefined || fontName.filter(function (value, pos) {\n      var regExp = RegExp;\n      var pattern = new regExp(name, 'i');\n      if (value.replace(/\"/g, '').replace(/ /g, '').toLowerCase() === name.replace(/\"/g, '').replace(/ /g, '').toLowerCase() || value.split(',')[0] && !isNullOrUndefined(value.split(',')[0].trim().match(pattern)) && value.split(',')[0].trim() === value.split(',')[0].trim().match(pattern)[0]) {\n        index = pos;\n      }\n    }) && index !== null)) {\n      return index !== null ? fontName[index] : name.replace(/\"/g, '');\n    } else {\n      return null;\n    }\n  };\n  ToolbarStatus.isOrderedList = function (node) {\n    if (node.nodeName.toLocaleLowerCase() === 'ol') {\n      return true;\n    } else {\n      return false;\n    }\n  };\n  ToolbarStatus.isUnorderedList = function (node) {\n    if (node.nodeName.toLocaleLowerCase() === 'ul') {\n      return true;\n    } else {\n      return false;\n    }\n  };\n  ToolbarStatus.isAlignment = function (node) {\n    var align = node.style && node.style.textAlign;\n    if (align === 'left') {\n      return 'justifyleft';\n    } else if (align === 'center') {\n      return 'justifycenter';\n    } else if (align === 'right') {\n      return 'justifyright';\n    } else if (align === 'justify') {\n      return 'justifyfull';\n    } else {\n      return null;\n    }\n  };\n  ToolbarStatus.isFormats = function (node, formatNode) {\n    if ((formatNode === undefined || formatNode === null) && CONSTANT.BLOCK_TAGS.indexOf(node.nodeName.toLocaleLowerCase()) > -1 || formatNode !== null && formatNode !== undefined && formatNode.indexOf(node.nodeName.toLocaleLowerCase()) > -1) {\n      return node.nodeName.toLocaleLowerCase();\n    } else {\n      return null;\n    }\n  };\n  ToolbarStatus.getComputedStyle = function (docElement, node, prop) {\n    return docElement.defaultView.getComputedStyle(node, null).getPropertyValue(prop);\n  };\n  ToolbarStatus.isNumberFormatList = function (node) {\n    var list = node.style && node.style.listStyleType;\n    if (list === 'lower-alpha') {\n      return 'Lower Alpha';\n    } else if (list === 'number') {\n      return 'Number';\n    } else if (list === 'upper-alpha') {\n      return 'Upper Alpha';\n    } else if (list === 'lower-roman') {\n      return 'Lower Roman';\n    } else if (list === 'upper-roman') {\n      return 'Upper Roman';\n    } else if (list === 'lower-greek') {\n      return 'Lower Greek';\n    } else if (list === 'none') {\n      return 'None';\n    } else if (this.isOrderedList(node)) {\n      return true;\n    } else {\n      return null;\n    }\n  };\n  ToolbarStatus.isBulletFormatList = function (node) {\n    var list = node.style && node.style.listStyleType;\n    if (list === 'circle') {\n      return 'Circle';\n    } else if (list === 'square') {\n      return 'Square';\n    } else if (list === 'none') {\n      return 'None';\n    } else if (list === 'disc') {\n      return 'Disc';\n    } else if (this.isUnorderedList(node)) {\n      return true;\n    } else {\n      return null;\n    }\n  };\n  return ToolbarStatus;\n}();\nexport { ToolbarStatus };","map":{"version":3,"names":["IsFormatted","CONSTANT","NodeSelection","getDefaultHtmlTbStatus","isNullOrUndefined","statusCollection","ToolbarStatus","get","docElement","rootNode","formatNode","fontSize","fontName","documentNode","formatCollection","JSON","parse","stringify","nodeCollection","nodeSelection","range","getRange","nodes","collapsed","getNodeCollection","getSelectionNodeCollectionBr","nodesLength","length","isNodeChanged","index","nodeType","startContainer","parentNode","lastElementChild","nodeName","getImmediateBlockNode","textContent","replace","toString","firstChild","setCursorPoint","trim","splice","getFormatParent","bold","insertcode","blockquote","italic","underline","strikethrough","superscript","subscript","fontcolor","fontname","fontsize","backgroundcolor","orderedlist","unorderedlist","alignments","formats","createlink","numberFormatList","bulletFormatList","inlinecode","node","BLOCK_TAGS","indexOf","toLocaleLowerCase","targetNode","isListUpdated","isComplexListUpdated","contains","isFormattedNode","isBold","isItalic","isUnderline","isStrikethrough","isSuperscript","isSubscript","isFontColor","isFontName","isFontSize","isBackgroundColor","isOrderedList","isUnorderedList","isAlignment","isFormats","currentFormatCollection","push","i","isLink","isNumberFormatList","isBulletFormatList","isCode","color","style","undefined","getComputedStyle","backColor","backgroundColor","size","parentElement","classList","name","fontFamily","filter","value","pos","regExp","RegExp","pattern","toLowerCase","split","match","align","textAlign","prop","defaultView","getPropertyValue","list","listStyleType"],"sources":["/var/www/vue/vue-gantt-chart/node_modules/@syncfusion/ej2-richtexteditor/src/editor-manager/plugin/toolbar-status.js"],"sourcesContent":["import { IsFormatted } from './isformatted';\nimport * as CONSTANT from './../base/constant';\nimport { NodeSelection } from './../../selection/index';\nimport { getDefaultHtmlTbStatus } from './../../common/util';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\n/**\n * Update Toolbar Status\n *\n * @hidden\n\n */\nexport var statusCollection = getDefaultHtmlTbStatus();\nvar ToolbarStatus = /** @class */ (function () {\n    function ToolbarStatus() {\n    }\n    /**\n     * get method\n     *\n     * @param {Document} docElement - specifies the document element\n     * @param {Node} rootNode - specifies the content editable element\n     * @param {string[]} formatNode - specifies the format node\n     * @param {string[]} fontSize - specifies the font size\n     * @param {string[]} fontName - specifies the font name.\n     * @param {Node} documentNode - specifies the document node.\n     * @returns {IToolbarStatus} - returns the toolbar status\n     * @hidden\n\n     */\n    ToolbarStatus.get = function (docElement, rootNode, formatNode, fontSize, fontName, documentNode) {\n        var formatCollection = JSON.parse(JSON.stringify(statusCollection));\n        var nodeCollection = JSON.parse(JSON.stringify(statusCollection));\n        var nodeSelection = new NodeSelection(rootNode);\n        var range = nodeSelection.getRange(docElement);\n        var nodes = documentNode ? [documentNode] : range.collapsed ? nodeSelection.getNodeCollection(range) :\n            nodeSelection.getSelectionNodeCollectionBr(range);\n        var nodesLength = nodes.length;\n        var isNodeChanged = false;\n        for (var index = 0; index < nodes.length; index++) {\n            while (nodes[index].nodeType === 3 && range.startContainer.nodeType === 3 && nodes[index].parentNode &&\n                nodes[index].parentNode.lastElementChild && nodes[index].parentNode.lastElementChild.nodeName !== 'BR' &&\n                (this.getImmediateBlockNode(nodes[index].parentNode)).textContent.replace(/\\u200B/g, '').length === 0 &&\n                range.startContainer.textContent.replace(/\\u200B/g, '').length === 0 &&\n                nodeSelection.get(docElement).toString().replace(/\\u200B/g, '').length === 0) {\n                nodes[index] = nodes[index].parentNode.lastElementChild.firstChild;\n                isNodeChanged = true;\n            }\n            if (isNodeChanged && nodes[index]) {\n                nodeSelection.setCursorPoint(docElement, nodes[index], nodes[index].textContent.length);\n                isNodeChanged = false;\n            }\n            if ((nodes[index].nodeName !== 'BR' && nodes[index].nodeType !== 3) ||\n                (nodesLength > 1 && nodes[index].nodeType === 3 && nodes[index].textContent.trim() === '')) {\n                nodes.splice(index, 1);\n                index--;\n            }\n        }\n        for (var index = 0; index < nodes.length; index++) {\n            // eslint-disable-next-line max-len\n            formatCollection = this.getFormatParent(docElement, formatCollection, nodes[index], rootNode, formatNode, fontSize, fontName);\n            if ((index === 0 && formatCollection.bold) || !formatCollection.bold) {\n                nodeCollection.bold = formatCollection.bold;\n            }\n            if ((index === 0 && formatCollection.insertcode) || !formatCollection.insertcode) {\n                nodeCollection.insertcode = formatCollection.insertcode;\n            }\n            if ((index === 0 && formatCollection.blockquote) || !formatCollection.blockquote) {\n                nodeCollection.blockquote = formatCollection.blockquote;\n            }\n            if ((index === 0 && formatCollection.italic) || !formatCollection.italic) {\n                nodeCollection.italic = formatCollection.italic;\n            }\n            if ((index === 0 && formatCollection.underline) || !formatCollection.underline) {\n                nodeCollection.underline = formatCollection.underline;\n            }\n            if ((index === 0 && formatCollection.strikethrough) || !formatCollection.strikethrough) {\n                nodeCollection.strikethrough = formatCollection.strikethrough;\n            }\n            if ((index === 0 && formatCollection.superscript) || !formatCollection.superscript) {\n                nodeCollection.superscript = formatCollection.superscript;\n            }\n            if ((index === 0 && formatCollection.subscript) || !formatCollection.subscript) {\n                nodeCollection.subscript = formatCollection.subscript;\n            }\n            if ((index === 0 && formatCollection.fontcolor) || !formatCollection.fontcolor) {\n                nodeCollection.fontcolor = formatCollection.fontcolor;\n            }\n            if (index === 0 && formatCollection.fontname) {\n                nodeCollection.fontname = formatCollection.fontname;\n            }\n            else {\n                nodeCollection.fontname = formatCollection.fontname === nodeCollection.fontname ? formatCollection.fontname : 'empty';\n            }\n            if (index === 0 && formatCollection.fontsize) {\n                nodeCollection.fontsize = formatCollection.fontsize;\n            }\n            else {\n                nodeCollection.fontsize = formatCollection.fontsize === nodeCollection.fontsize ? formatCollection.fontsize : 'empty';\n            }\n            if ((index === 0 && formatCollection.backgroundcolor) || !formatCollection.backgroundcolor) {\n                nodeCollection.backgroundcolor = formatCollection.backgroundcolor;\n            }\n            if ((index === 0 && formatCollection.orderedlist) || !formatCollection.orderedlist) {\n                nodeCollection.orderedlist = formatCollection.orderedlist;\n            }\n            if ((index === 0 && formatCollection.unorderedlist) || !formatCollection.unorderedlist) {\n                nodeCollection.unorderedlist = formatCollection.unorderedlist;\n            }\n            if ((index === 0 && formatCollection.alignments) || !formatCollection.alignments) {\n                nodeCollection.alignments = formatCollection.alignments;\n            }\n            if (index === 0 && formatCollection.formats) {\n                nodeCollection.formats = formatCollection.formats;\n            }\n            else {\n                nodeCollection.formats = formatCollection.formats === nodeCollection.formats ? formatCollection.formats : 'empty';\n            }\n            if ((index === 0 && formatCollection.createlink) || !formatCollection.createlink) {\n                nodeCollection.createlink = formatCollection.createlink;\n            }\n            if ((index === 0 && formatCollection.numberFormatList) || !formatCollection.numberFormatList) {\n                nodeCollection.numberFormatList = formatCollection.numberFormatList;\n            }\n            if ((index === 0 && formatCollection.bulletFormatList) || !formatCollection.bulletFormatList) {\n                nodeCollection.bulletFormatList = formatCollection.bulletFormatList;\n            }\n            if ((index === 0 && formatCollection.inlinecode) || !formatCollection.inlinecode) {\n                nodeCollection.inlinecode = formatCollection.inlinecode;\n            }\n            formatCollection = JSON.parse(JSON.stringify(statusCollection));\n        }\n        return nodeCollection;\n    };\n    ToolbarStatus.getImmediateBlockNode = function (node) {\n        do {\n            node = node.parentNode;\n        } while (node && CONSTANT.BLOCK_TAGS.indexOf(node.nodeName.toLocaleLowerCase()) < 0);\n        return node;\n    };\n    ToolbarStatus.getFormatParent = function (docElement, formatCollection, node, targetNode, formatNode, fontSize, fontName) {\n        var isListUpdated = false;\n        var isComplexListUpdated = false;\n        if (targetNode.contains(node) ||\n            (node.nodeType === 3 && targetNode.nodeType !== 3 && targetNode.contains(node.parentNode))) {\n            do {\n                formatCollection = this.isFormattedNode(docElement, formatCollection, node, isListUpdated, isComplexListUpdated, formatNode, fontSize, fontName);\n                if (formatCollection.orderedlist || formatCollection.unorderedlist) {\n                    isListUpdated = true;\n                }\n                if (formatCollection.bulletFormatList || formatCollection.numberFormatList) {\n                    isComplexListUpdated = true;\n                }\n                node = node.parentNode;\n            } while (node && (node !== targetNode));\n        }\n        return formatCollection;\n    };\n    ToolbarStatus.isFormattedNode = function (docElement, formatCollection, node, isListUpdated, isComplexListUpdated, formatNode, fontSize, fontName) {\n        if (!formatCollection.bold) {\n            formatCollection.bold = IsFormatted.isBold(node);\n        }\n        if (!formatCollection.italic) {\n            formatCollection.italic = IsFormatted.isItalic(node);\n        }\n        if (!formatCollection.underline) {\n            formatCollection.underline = IsFormatted.isUnderline(node);\n        }\n        if (!formatCollection.strikethrough) {\n            formatCollection.strikethrough = IsFormatted.isStrikethrough(node);\n        }\n        if (!formatCollection.superscript) {\n            formatCollection.superscript = IsFormatted.isSuperscript(node);\n        }\n        if (!formatCollection.subscript) {\n            formatCollection.subscript = IsFormatted.isSubscript(node);\n        }\n        if (!formatCollection.fontcolor) {\n            formatCollection.fontcolor = this.isFontColor(docElement, node);\n        }\n        if (!formatCollection.fontname) {\n            formatCollection.fontname = this.isFontName(docElement, node, fontName);\n        }\n        if (!formatCollection.fontsize) {\n            formatCollection.fontsize = this.isFontSize(docElement, node, fontSize);\n        }\n        if (!formatCollection.backgroundcolor) {\n            formatCollection.backgroundcolor = this.isBackgroundColor(node);\n        }\n        if (!formatCollection.orderedlist && !isListUpdated) {\n            formatCollection.orderedlist = this.isOrderedList(node);\n        }\n        if (!formatCollection.unorderedlist && !isListUpdated) {\n            formatCollection.unorderedlist = this.isUnorderedList(node);\n        }\n        if (!formatCollection.alignments) {\n            formatCollection.alignments = this.isAlignment(node);\n        }\n        if (!formatCollection.formats) {\n            formatCollection.formats = this.isFormats(node, formatNode);\n            if (formatCollection.formats === 'pre') {\n                formatCollection.insertcode = true;\n            }\n        }\n        if (!formatCollection.blockquote) {\n            var currentFormatCollection = void 0;\n            if (!isNullOrUndefined(formatNode)) {\n                if (formatNode.indexOf('blockquote') > -1) {\n                    formatCollection.formats = this.isFormats(node, formatNode);\n                    currentFormatCollection = formatCollection.formats;\n                }\n                else {\n                    formatNode.push('blockquote');\n                    currentFormatCollection = this.isFormats(node, formatNode);\n                    for (var i = formatNode.length - 1; i >= 0; i--) {\n                        if (formatNode[i] === 'blockquote') {\n                            formatNode.splice(i, 1);\n                        }\n                    }\n                }\n            }\n            if (currentFormatCollection === 'blockquote') {\n                formatCollection.blockquote = true;\n            }\n        }\n        if (!formatCollection.createlink) {\n            formatCollection.createlink = this.isLink(node);\n        }\n        if (!formatCollection.numberFormatList && !isComplexListUpdated) {\n            formatCollection.numberFormatList = this.isNumberFormatList(node);\n        }\n        if (!formatCollection.bulletFormatList && !isComplexListUpdated) {\n            formatCollection.bulletFormatList = this.isBulletFormatList(node);\n        }\n        if (!formatCollection.inlinecode) {\n            formatCollection.inlinecode = IsFormatted.isCode(node);\n        }\n        return formatCollection;\n    };\n    ToolbarStatus.isFontColor = function (docElement, node) {\n        var color = node.style && node.style.color;\n        if ((color === null || color === undefined || color === '') && node.nodeType !== 3) {\n            color = this.getComputedStyle(docElement, node, 'color');\n        }\n        if (color !== null && color !== '' && color !== undefined) {\n            return color;\n        }\n        else {\n            return null;\n        }\n    };\n    ToolbarStatus.isLink = function (node) {\n        if (node.nodeName.toLocaleLowerCase() === 'a') {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    ToolbarStatus.isBackgroundColor = function (node) {\n        var backColor = node.style && node.style.backgroundColor;\n        if (backColor !== null && backColor !== '' && backColor !== undefined) {\n            return backColor;\n        }\n        else {\n            return null;\n        }\n    };\n    ToolbarStatus.isFontSize = function (docElement, node, fontSize) {\n        var size = node.style && node.style.fontSize;\n        if ((size === null || size === undefined || size === '') && node.nodeType !== 3 &&\n            node.parentElement.classList.contains('e-content')) {\n            size = this.getComputedStyle(docElement, node, 'font-size');\n        }\n        if ((size !== null && size !== '' && size !== undefined)\n            && (fontSize === null || fontSize === undefined || (fontSize.indexOf(size) > -1))) {\n            return size;\n        }\n        else {\n            return null;\n        }\n    };\n    ToolbarStatus.isFontName = function (docElement, node, fontName) {\n        var name = node.style && node.style.fontFamily;\n        if ((name === null || name === undefined || name === '') && node.nodeType !== 3) {\n            name = this.getComputedStyle(docElement, node, 'font-family');\n        }\n        var index = null;\n        if ((name !== null && name !== '' && name !== undefined)\n            && (fontName === null || fontName === undefined || (fontName.filter(function (value, pos) {\n                var regExp = RegExp;\n                var pattern = new regExp(name, 'i');\n                if ((value.replace(/\"/g, '').replace(/ /g, '').toLowerCase() === name.replace(/\"/g, '').replace(/ /g, '').toLowerCase()) ||\n                    (value.split(',')[0] && !isNullOrUndefined(value.split(',')[0].trim().match(pattern)) &&\n                        value.split(',')[0].trim() === value.split(',')[0].trim().match(pattern)[0])) {\n                    index = pos;\n                }\n            }) && (index !== null)))) {\n            return (index !== null) ? fontName[index] : name.replace(/\"/g, '');\n        }\n        else {\n            return null;\n        }\n    };\n    ToolbarStatus.isOrderedList = function (node) {\n        if (node.nodeName.toLocaleLowerCase() === 'ol') {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    ToolbarStatus.isUnorderedList = function (node) {\n        if (node.nodeName.toLocaleLowerCase() === 'ul') {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    ToolbarStatus.isAlignment = function (node) {\n        var align = node.style && node.style.textAlign;\n        if (align === 'left') {\n            return 'justifyleft';\n        }\n        else if (align === 'center') {\n            return 'justifycenter';\n        }\n        else if (align === 'right') {\n            return 'justifyright';\n        }\n        else if (align === 'justify') {\n            return 'justifyfull';\n        }\n        else {\n            return null;\n        }\n    };\n    ToolbarStatus.isFormats = function (node, formatNode) {\n        if (((formatNode === undefined || formatNode === null)\n            && CONSTANT.BLOCK_TAGS.indexOf(node.nodeName.toLocaleLowerCase()) > -1)\n            || (formatNode !== null && formatNode !== undefined\n                && formatNode.indexOf(node.nodeName.toLocaleLowerCase()) > -1)) {\n            return node.nodeName.toLocaleLowerCase();\n        }\n        else {\n            return null;\n        }\n    };\n    ToolbarStatus.getComputedStyle = function (docElement, node, prop) {\n        return docElement.defaultView.getComputedStyle(node, null).getPropertyValue(prop);\n    };\n    ToolbarStatus.isNumberFormatList = function (node) {\n        var list = node.style && node.style.listStyleType;\n        if (list === 'lower-alpha') {\n            return 'Lower Alpha';\n        }\n        else if (list === 'number') {\n            return 'Number';\n        }\n        else if (list === 'upper-alpha') {\n            return 'Upper Alpha';\n        }\n        else if (list === 'lower-roman') {\n            return 'Lower Roman';\n        }\n        else if (list === 'upper-roman') {\n            return 'Upper Roman';\n        }\n        else if (list === 'lower-greek') {\n            return 'Lower Greek';\n        }\n        else if (list === 'none') {\n            return 'None';\n        }\n        else if (this.isOrderedList(node)) {\n            return true;\n        }\n        else {\n            return null;\n        }\n    };\n    ToolbarStatus.isBulletFormatList = function (node) {\n        var list = node.style && node.style.listStyleType;\n        if (list === 'circle') {\n            return 'Circle';\n        }\n        else if (list === 'square') {\n            return 'Square';\n        }\n        else if (list === 'none') {\n            return 'None';\n        }\n        else if (list === 'disc') {\n            return 'Disc';\n        }\n        else if (this.isUnorderedList(node)) {\n            return true;\n        }\n        else {\n            return null;\n        }\n    };\n    return ToolbarStatus;\n}());\nexport { ToolbarStatus };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}