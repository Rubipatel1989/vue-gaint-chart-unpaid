{"ast":null,"code":"import { PointF, PdfColor, PdfPen, PdfSolidBrush, PdfStandardFont, PdfFontFamily, PdfStringFormat, PdfTextAlignment, PdfDashStyle, PdfBrushes } from '@syncfusion/ej2-pdf-export';\nimport { pixelToPoint } from '../base/utils';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nvar EventMarker = /** @class */function () {\n  function EventMarker(parent) {\n    this.parent = parent;\n  }\n  EventMarker.prototype.drawEventMarker = function (page, startPoint, cumulativeWidth, detail, eventMarker, cumulativeHeight) {\n    var taskGraphics = page.graphics;\n    var pageSize = page.getClientSize();\n    var font = new PdfStandardFont(PdfFontFamily.Helvetica, 10);\n    if (!isNullOrUndefined(this.parent.pdfExportModule['helper']['exportProps'].ganttStyle) && this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font) {\n      font = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font;\n    }\n    /* eslint-disable-next-line */\n    var strSize;\n    if (!isNullOrUndefined(eventMarker.label)) {\n      strSize = font.measureString(eventMarker.label);\n    }\n    var triangle = 8;\n    var eventLine = new PdfPen(new PdfColor(0, 0, 0));\n    eventLine.dashStyle = PdfDashStyle.Dash;\n    if (detail.startDate <= eventMarker.date && eventMarker.date <= detail.endDate) {\n      var enventFormat = new PdfStringFormat();\n      enventFormat.alignment = PdfTextAlignment.Center;\n      var eventBrush = new PdfSolidBrush(new PdfColor(253, 191, 100));\n      var left = this.parent.dataOperation.getTaskLeft(this.parent.dateValidationModule.getDateFromFormat(eventMarker.date, true), false, true);\n      var diff = 10;\n      if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n        taskGraphics.drawLine(eventLine, new PointF(startPoint.x + (left - cumulativeWidth) + diff, cumulativeHeight), new PointF(startPoint.x + (left - cumulativeWidth) + diff, pageSize.height));\n        if (!isNullOrUndefined(eventMarker.label) && eventMarker.label.length > 0) {\n          taskGraphics.save();\n          taskGraphics.translateTransform(startPoint.x + (left - cumulativeWidth) + 7 + diff, cumulativeHeight + pixelToPoint(50) + strSize.height / 2);\n          taskGraphics.rotateTransform(45);\n          taskGraphics.drawRectangle(null, eventBrush, 0, 0, triangle, triangle);\n          taskGraphics.restore();\n          taskGraphics.drawRectangle(null, eventBrush, startPoint.x + (left - cumulativeWidth) + 7 + diff, cumulativeHeight + pixelToPoint(50), strSize.width + 10, strSize.height * 2);\n          taskGraphics.drawString(eventMarker.label, font, null, PdfBrushes.Black, startPoint.x + (left - cumulativeWidth) + 12 + diff, cumulativeHeight + pixelToPoint(50) + pixelToPoint(strSize.height / 2), strSize.width, strSize.height, enventFormat);\n        }\n      } else {\n        taskGraphics.drawLine(eventLine, new PointF(startPoint.x + pixelToPoint(left - cumulativeWidth) + diff, cumulativeHeight), new PointF(startPoint.x + pixelToPoint(left - cumulativeWidth) + diff, pageSize.height));\n        if (!isNullOrUndefined(eventMarker.label) && eventMarker.label.length > 0) {\n          taskGraphics.save();\n          taskGraphics.translateTransform(startPoint.x + pixelToPoint(left - cumulativeWidth) + 7 + diff, cumulativeHeight + pixelToPoint(50) + strSize.height / 2);\n          taskGraphics.rotateTransform(45);\n          taskGraphics.drawRectangle(null, eventBrush, 0, 0, triangle, triangle);\n          taskGraphics.restore();\n          taskGraphics.drawRectangle(null, eventBrush, startPoint.x + pixelToPoint(left - cumulativeWidth) + 7 + diff, cumulativeHeight + pixelToPoint(50), strSize.width + 10, strSize.height * 2);\n          taskGraphics.drawString(eventMarker.label, font, null, PdfBrushes.Black, startPoint.x + pixelToPoint(left - cumulativeWidth) + 12 + diff, cumulativeHeight + pixelToPoint(50) + pixelToPoint(strSize.height / 2), strSize.width, strSize.height, enventFormat);\n        }\n      }\n    }\n  };\n  return EventMarker;\n}();\nexport { EventMarker };","map":{"version":3,"names":["PointF","PdfColor","PdfPen","PdfSolidBrush","PdfStandardFont","PdfFontFamily","PdfStringFormat","PdfTextAlignment","PdfDashStyle","PdfBrushes","pixelToPoint","isNullOrUndefined","EventMarker","parent","prototype","drawEventMarker","page","startPoint","cumulativeWidth","detail","eventMarker","cumulativeHeight","taskGraphics","graphics","pageSize","getClientSize","font","Helvetica","pdfExportModule","ganttStyle","strSize","label","measureString","triangle","eventLine","dashStyle","Dash","startDate","date","endDate","enventFormat","alignment","Center","eventBrush","left","dataOperation","getTaskLeft","dateValidationModule","getDateFromFormat","diff","gantt","taskbar","isAutoFit","drawLine","x","height","length","save","translateTransform","rotateTransform","drawRectangle","restore","width","drawString","Black"],"sources":["/var/www/vue/vue-gantt-chart/node_modules/@syncfusion/ej2-gantt/src/gantt/export/pdf-event-marker.js"],"sourcesContent":["import { PointF, PdfColor, PdfPen, PdfSolidBrush, PdfStandardFont, PdfFontFamily, PdfStringFormat, PdfTextAlignment, PdfDashStyle, PdfBrushes } from '@syncfusion/ej2-pdf-export';\nimport { pixelToPoint } from '../base/utils';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nvar EventMarker = /** @class */ (function () {\n    function EventMarker(parent) {\n        this.parent = parent;\n    }\n    EventMarker.prototype.drawEventMarker = function (page, startPoint, cumulativeWidth, detail, eventMarker, cumulativeHeight) {\n        var taskGraphics = page.graphics;\n        var pageSize = page.getClientSize();\n        var font = new PdfStandardFont(PdfFontFamily.Helvetica, 10);\n        if (!isNullOrUndefined(this.parent.pdfExportModule['helper']['exportProps'].ganttStyle) &&\n            this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font) {\n            font = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font;\n        }\n        /* eslint-disable-next-line */\n        var strSize;\n        if (!isNullOrUndefined(eventMarker.label)) {\n            strSize = font.measureString(eventMarker.label);\n        }\n        var triangle = 8;\n        var eventLine = new PdfPen(new PdfColor(0, 0, 0));\n        eventLine.dashStyle = PdfDashStyle.Dash;\n        if (detail.startDate <= eventMarker.date && eventMarker.date <= detail.endDate) {\n            var enventFormat = new PdfStringFormat();\n            enventFormat.alignment = PdfTextAlignment.Center;\n            var eventBrush = new PdfSolidBrush(new PdfColor(253, 191, 100));\n            var left = this.parent.dataOperation.getTaskLeft(this.parent.dateValidationModule.getDateFromFormat(eventMarker.date, true), false, true);\n            var diff = 10;\n            if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                taskGraphics.drawLine(eventLine, new PointF(startPoint.x + (left - cumulativeWidth) + diff, cumulativeHeight), new PointF(startPoint.x + (left - cumulativeWidth) + diff, pageSize.height));\n                if (!isNullOrUndefined(eventMarker.label) && eventMarker.label.length > 0) {\n                    taskGraphics.save();\n                    taskGraphics.translateTransform(startPoint.x + (left - cumulativeWidth) + 7 + diff, cumulativeHeight + pixelToPoint(50) + strSize.height / 2);\n                    taskGraphics.rotateTransform(45);\n                    taskGraphics.drawRectangle(null, eventBrush, 0, 0, triangle, triangle);\n                    taskGraphics.restore();\n                    taskGraphics.drawRectangle(null, eventBrush, startPoint.x + (left - cumulativeWidth) + 7 + diff, cumulativeHeight + pixelToPoint(50), strSize.width + 10, strSize.height * 2);\n                    taskGraphics.drawString(eventMarker.label, font, null, PdfBrushes.Black, startPoint.x +\n                        (left - cumulativeWidth) + 12 + diff, cumulativeHeight + pixelToPoint(50) + pixelToPoint(strSize.height / 2), strSize.width, strSize.height, enventFormat);\n                }\n            }\n            else {\n                taskGraphics.drawLine(eventLine, new PointF(startPoint.x + pixelToPoint(left - cumulativeWidth) + diff, cumulativeHeight), new PointF(startPoint.x + pixelToPoint(left - cumulativeWidth) + diff, pageSize.height));\n                if (!isNullOrUndefined(eventMarker.label) && eventMarker.label.length > 0) {\n                    taskGraphics.save();\n                    taskGraphics.translateTransform(startPoint.x + pixelToPoint(left - cumulativeWidth) + 7 + diff, cumulativeHeight + pixelToPoint(50) + strSize.height / 2);\n                    taskGraphics.rotateTransform(45);\n                    taskGraphics.drawRectangle(null, eventBrush, 0, 0, triangle, triangle);\n                    taskGraphics.restore();\n                    taskGraphics.drawRectangle(null, eventBrush, startPoint.x + pixelToPoint(left - cumulativeWidth) + 7 + diff, cumulativeHeight + pixelToPoint(50), strSize.width + 10, strSize.height * 2);\n                    taskGraphics.drawString(eventMarker.label, font, null, PdfBrushes.Black, startPoint.x + pixelToPoint(left - cumulativeWidth) + 12 + diff, cumulativeHeight + pixelToPoint(50) + pixelToPoint(strSize.height / 2), strSize.width, strSize.height, enventFormat);\n                }\n            }\n        }\n    };\n    return EventMarker;\n}());\nexport { EventMarker };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}