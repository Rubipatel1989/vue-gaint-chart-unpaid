{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport * as events from '../base/constant';\nimport { detach, isNullOrUndefined } from '@syncfusion/ej2-base';\n/**\n * XhtmlValidation module called when set enableXhtml as true\n */\nvar XhtmlValidation = /** @class */function () {\n  function XhtmlValidation(parent) {\n    this.parent = parent;\n    this.addEventListener();\n  }\n  XhtmlValidation.prototype.addEventListener = function () {\n    this.parent.on(events.xhtmlValidation, this.enableXhtmlValidation, this);\n    this.parent.on(events.destroy, this.removeEventListener, this);\n  };\n  XhtmlValidation.prototype.removeEventListener = function () {\n    this.parent.off(events.xhtmlValidation, this.enableXhtmlValidation);\n    this.parent.off(events.destroy, this.removeEventListener);\n  };\n  XhtmlValidation.prototype.enableXhtmlValidation = function () {\n    if (this.parent.enableXhtml) {\n      if (isNullOrUndefined(this.parent.inputElement)) {\n        this.currentElement = this.parent.element;\n      } else {\n        this.currentElement = this.parent.inputElement;\n      }\n      this.clean(this.currentElement);\n      this.ImageTags();\n      this.removeTags();\n      this.RemoveUnsupported();\n      this.currentElement.innerHTML = this.selfEncloseValidation(this.currentElement.innerHTML, this.currentElement.innerText === '\\n' ? this.currentElement.innerText.length : this.currentElement.innerText.trim().length);\n      this.parent.setProperties({\n        value: this.currentElement.innerHTML\n      }, true);\n    }\n  };\n  /**\n   * @param {string} currentValue - specifies the string value.\n   * @param {number} valueLength - specifies the length of the current value.\n   * @returns {void}\n    */\n  XhtmlValidation.prototype.selfEncloseValidation = function (currentValue, valueLength) {\n    if (valueLength === 0 && currentValue.indexOf('table') < 0 && currentValue.indexOf('img') < 0 && currentValue.includes('&nbsp;')) {\n      var arrayValue = currentValue.split('&nbsp;');\n      arrayValue[arrayValue.length - 1] = '&#8203;' + arrayValue[arrayValue.length - 1];\n      currentValue = arrayValue.join('');\n    }\n    currentValue = currentValue.replace(/<br>/g, '<br/>').replace(/<hr>/g, '<hr/>').replace(/ /g, ' ');\n    var valueTemp;\n    var valueDupe = [];\n    var valueOriginal = [];\n    var imgRegexp = [/<img(.*?)>/gi, /<area(.*?)>/gi, /<base(.*?)>/gi, /<col (.*?)>/gi, /<embed(.*?)>/gi, /<input(.*?)>/gi, /<link(.*?)>/gi, /<meta(.*?)>/gi, /<param(.*?)>/gi, /<source(.*?)>/gi, /<track(.*?)>/gi, /<wbr(.*?)>/gi];\n    for (var j = 0; j < imgRegexp.length; j++) {\n      valueTemp = imgRegexp[j].exec(currentValue);\n      while (valueTemp !== null) {\n        valueDupe.push(valueTemp[0].toString());\n        valueTemp = imgRegexp[j].exec(currentValue);\n      }\n      valueOriginal = valueDupe.slice(0);\n      for (var i = 0; i < valueDupe.length; i++) {\n        if (valueDupe[i].indexOf('/') === -1 || valueDupe[i].lastIndexOf('/') !== valueDupe[i].length - 2) {\n          valueDupe[i] = valueDupe[i].substr(0, valueDupe[i].length - 1) + ' /' + valueDupe[i].substr(valueDupe[i].length - 1, valueDupe[i].length);\n        }\n      }\n      for (var g = 0; g <= valueDupe.length - 1; g++) {\n        currentValue = currentValue.replace(valueOriginal[g], valueDupe[g]);\n      }\n    }\n    return currentValue;\n  };\n  XhtmlValidation.prototype.clean = function (node) {\n    for (var n = 0; n < node.childNodes.length; n++) {\n      var child = node.childNodes[n];\n      if (child.nodeType === 8 || child.nodeName === 'V:IMAGE') {\n        node.removeChild(child);\n        n--;\n      } else if (child.nodeType === 1) {\n        this.clean(child);\n      }\n    }\n    return this.currentElement.innerHTML;\n  };\n  XhtmlValidation.prototype.ImageTags = function () {\n    var imgNodes = this.currentElement.querySelectorAll('IMG');\n    for (var i = imgNodes.length - 1; i >= 0; i--) {\n      if (!imgNodes[i].hasAttribute('alt')) {\n        var img = imgNodes[i];\n        img.setAttribute('alt', '');\n      }\n    }\n  };\n  XhtmlValidation.prototype.removeTags = function () {\n    var removeAttribute = [['br', 'ul'], ['br', 'ol'], ['table', 'span'], ['div', 'span'], ['p', 'span']];\n    for (var i = 0; i < removeAttribute.length; i++) {\n      this.RemoveElementNode(removeAttribute[i][0], removeAttribute[i][1]);\n    }\n  };\n  XhtmlValidation.prototype.RemoveElementNode = function (rmvNode, parentNode) {\n    var parentArray = this.currentElement.querySelectorAll(parentNode);\n    for (var i = 0; i < parentArray.length; i++) {\n      var rmvArray = parentArray[i].querySelectorAll(rmvNode);\n      for (var j = rmvArray.length; j > 0; j--) {\n        detach(rmvArray[j - 1]);\n      }\n    }\n  };\n  XhtmlValidation.prototype.RemoveUnsupported = function () {\n    var underlineEle = this.currentElement.querySelectorAll('u');\n    for (var i = underlineEle.length - 1; i >= 0; i--) {\n      var spanEle = this.parent.createElement('span');\n      spanEle.style.textDecoration = 'underline';\n      spanEle.innerHTML = underlineEle[i].innerHTML;\n      underlineEle[i].parentNode.insertBefore(spanEle, underlineEle[i]);\n      detach(underlineEle[i]);\n    }\n    var strongEle = this.currentElement.querySelectorAll('strong');\n    for (var i = strongEle.length - 1; i >= 0; i--) {\n      var boldEle = this.parent.createElement('b');\n      boldEle.innerHTML = strongEle[i].innerHTML;\n      strongEle[i].parentNode.insertBefore(boldEle, strongEle[i]);\n      detach(strongEle[i]);\n    }\n    var attrArray = ['language', 'role', 'target', 'contenteditable', 'cellspacing', 'cellpadding', 'border', 'valign', 'colspan'];\n    for (var i = 0; i <= attrArray.length; i++) {\n      this.RemoveAttributeByName(attrArray[i]);\n    }\n  };\n  XhtmlValidation.prototype.RemoveAttributeByName = function (attrName) {\n    if (this.currentElement.firstChild !== null) {\n      if (this.currentElement.firstChild.nodeType !== 3) {\n        for (var i = 0; i < this.currentElement.childNodes.length; i++) {\n          var ele = this.currentElement.childNodes[i];\n          if (ele.nodeType !== 3 && ele.nodeName !== 'TABLE' && ele.nodeName !== 'TBODY' && ele.nodeName !== 'THEAD' && ele.nodeName !== 'TH' && ele.nodeName !== 'TR' && ele.nodeName !== 'TD') {\n            if (ele.hasAttribute(attrName)) {\n              ele.removeAttribute(attrName);\n            }\n            if (ele.hasChildNodes()) {\n              for (var j = 0; j < ele.childNodes.length; j++) {\n                var childEle = ele.childNodes[j];\n                if (childEle.nodeType !== 3 && childEle.nodeName !== 'TABLE' && childEle.nodeName !== 'TBODY' && childEle.nodeName !== 'THEAD' && childEle.nodeName !== 'TH' && childEle.nodeName !== 'TR' && childEle.nodeName !== 'TD' && childEle.hasAttribute(attrName) && !childEle.classList.contains('e-mention-chip')) {\n                  childEle.removeAttribute(attrName);\n                }\n                if (childEle.hasChildNodes()) {\n                  for (var k = 0; k < childEle.childNodes.length; k++) {\n                    if (childEle.childNodes[k].nodeType !== 3 && childEle.childNodes[k].nodeName !== 'TABLE' && childEle.childNodes[k].nodeName !== 'TBODY' && childEle.childNodes[k].nodeName !== 'THEAD' && childEle.childNodes[k].nodeName !== 'TH' && childEle.childNodes[k].nodeName !== 'TR' && childEle.childNodes[k].nodeName !== 'TD' && childEle.childNodes[k].hasAttribute(attrName)) {\n                      childEle.childNodes[k].removeAttribute(attrName);\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  };\n  return XhtmlValidation;\n}();\nexport { XhtmlValidation };","map":{"version":3,"names":["events","detach","isNullOrUndefined","XhtmlValidation","parent","addEventListener","prototype","on","xhtmlValidation","enableXhtmlValidation","destroy","removeEventListener","off","enableXhtml","inputElement","currentElement","element","clean","ImageTags","removeTags","RemoveUnsupported","innerHTML","selfEncloseValidation","innerText","length","trim","setProperties","value","currentValue","valueLength","indexOf","includes","arrayValue","split","join","replace","valueTemp","valueDupe","valueOriginal","imgRegexp","j","exec","push","toString","slice","i","lastIndexOf","substr","g","node","n","childNodes","child","nodeType","nodeName","removeChild","imgNodes","querySelectorAll","hasAttribute","img","setAttribute","removeAttribute","RemoveElementNode","rmvNode","parentNode","parentArray","rmvArray","underlineEle","spanEle","createElement","style","textDecoration","insertBefore","strongEle","boldEle","attrArray","RemoveAttributeByName","attrName","firstChild","ele","hasChildNodes","childEle","classList","contains","k"],"sources":["/var/www/vue/vue-gantt-chart/node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/actions/xhtml-validation.js"],"sourcesContent":["import * as events from '../base/constant';\nimport { detach, isNullOrUndefined } from '@syncfusion/ej2-base';\n/**\n * XhtmlValidation module called when set enableXhtml as true\n */\nvar XhtmlValidation = /** @class */ (function () {\n    function XhtmlValidation(parent) {\n        this.parent = parent;\n        this.addEventListener();\n    }\n    XhtmlValidation.prototype.addEventListener = function () {\n        this.parent.on(events.xhtmlValidation, this.enableXhtmlValidation, this);\n        this.parent.on(events.destroy, this.removeEventListener, this);\n    };\n    XhtmlValidation.prototype.removeEventListener = function () {\n        this.parent.off(events.xhtmlValidation, this.enableXhtmlValidation);\n        this.parent.off(events.destroy, this.removeEventListener);\n    };\n    XhtmlValidation.prototype.enableXhtmlValidation = function () {\n        if (this.parent.enableXhtml) {\n            if (isNullOrUndefined(this.parent.inputElement)) {\n                this.currentElement = this.parent.element;\n            }\n            else {\n                this.currentElement = this.parent.inputElement;\n            }\n            this.clean(this.currentElement);\n            this.ImageTags();\n            this.removeTags();\n            this.RemoveUnsupported();\n            this.currentElement.innerHTML = this.selfEncloseValidation(this.currentElement.innerHTML, this.currentElement.innerText === '\\n' ?\n                this.currentElement.innerText.length : this.currentElement.innerText.trim().length);\n            this.parent.setProperties({ value: this.currentElement.innerHTML }, true);\n        }\n    };\n    /**\n     * @param {string} currentValue - specifies the string value.\n     * @param {number} valueLength - specifies the length of the current value.\n     * @returns {void}\n\n     */\n    XhtmlValidation.prototype.selfEncloseValidation = function (currentValue, valueLength) {\n        if (valueLength === 0 && currentValue.indexOf('table') < 0 && currentValue.indexOf('img') < 0 &&\n            currentValue.includes('&nbsp;')) {\n            var arrayValue = currentValue.split('&nbsp;');\n            arrayValue[arrayValue.length - 1] = '&#8203;' + arrayValue[arrayValue.length - 1];\n            currentValue = arrayValue.join('');\n        }\n        currentValue = currentValue.replace(/<br>/g, '<br/>').replace(/<hr>/g, '<hr/>').replace(/ /g, ' ');\n        var valueTemp;\n        var valueDupe = [];\n        var valueOriginal = [];\n        var imgRegexp = [/<img(.*?)>/gi, /<area(.*?)>/gi, /<base(.*?)>/gi, /<col (.*?)>/gi, /<embed(.*?)>/gi,\n            /<input(.*?)>/gi, /<link(.*?)>/gi, /<meta(.*?)>/gi, /<param(.*?)>/gi, /<source(.*?)>/gi,\n            /<track(.*?)>/gi, /<wbr(.*?)>/gi];\n        for (var j = 0; j < imgRegexp.length; j++) {\n            valueTemp = imgRegexp[j].exec(currentValue);\n            while ((valueTemp) !== null) {\n                valueDupe.push(valueTemp[0].toString());\n                valueTemp = imgRegexp[j].exec(currentValue);\n            }\n            valueOriginal = valueDupe.slice(0);\n            for (var i = 0; i < valueDupe.length; i++) {\n                if (valueDupe[i].indexOf('/') === -1 || valueDupe[i].lastIndexOf('/') !== valueDupe[i].length - 2) {\n                    valueDupe[i] = valueDupe[i].substr(0, valueDupe[i].length - 1) + ' /' +\n                        valueDupe[i].substr(valueDupe[i].length - 1, valueDupe[i].length);\n                }\n            }\n            for (var g = 0; g <= valueDupe.length - 1; g++) {\n                currentValue = currentValue.replace(valueOriginal[g], valueDupe[g]);\n            }\n        }\n        return currentValue;\n    };\n    XhtmlValidation.prototype.clean = function (node) {\n        for (var n = 0; n < node.childNodes.length; n++) {\n            var child = node.childNodes[n];\n            if (child.nodeType === 8 || child.nodeName === 'V:IMAGE') {\n                node.removeChild(child);\n                n--;\n            }\n            else if (child.nodeType === 1) {\n                this.clean(child);\n            }\n        }\n        return this.currentElement.innerHTML;\n    };\n    XhtmlValidation.prototype.ImageTags = function () {\n        var imgNodes = this.currentElement.querySelectorAll('IMG');\n        for (var i = imgNodes.length - 1; i >= 0; i--) {\n            if (!imgNodes[i].hasAttribute('alt')) {\n                var img = imgNodes[i];\n                img.setAttribute('alt', '');\n            }\n        }\n    };\n    XhtmlValidation.prototype.removeTags = function () {\n        var removeAttribute = [['br', 'ul'], ['br', 'ol'], ['table', 'span'], ['div', 'span'], ['p', 'span']];\n        for (var i = 0; i < removeAttribute.length; i++) {\n            this.RemoveElementNode(removeAttribute[i][0], removeAttribute[i][1]);\n        }\n    };\n    XhtmlValidation.prototype.RemoveElementNode = function (rmvNode, parentNode) {\n        var parentArray = this.currentElement.querySelectorAll(parentNode);\n        for (var i = 0; i < parentArray.length; i++) {\n            var rmvArray = parentArray[i].querySelectorAll(rmvNode);\n            for (var j = rmvArray.length; j > 0; j--) {\n                detach(rmvArray[j - 1]);\n            }\n        }\n    };\n    XhtmlValidation.prototype.RemoveUnsupported = function () {\n        var underlineEle = this.currentElement.querySelectorAll('u');\n        for (var i = underlineEle.length - 1; i >= 0; i--) {\n            var spanEle = this.parent.createElement('span');\n            spanEle.style.textDecoration = 'underline';\n            spanEle.innerHTML = underlineEle[i].innerHTML;\n            underlineEle[i].parentNode.insertBefore(spanEle, underlineEle[i]);\n            detach(underlineEle[i]);\n        }\n        var strongEle = this.currentElement.querySelectorAll('strong');\n        for (var i = strongEle.length - 1; i >= 0; i--) {\n            var boldEle = this.parent.createElement('b');\n            boldEle.innerHTML = strongEle[i].innerHTML;\n            strongEle[i].parentNode.insertBefore(boldEle, strongEle[i]);\n            detach(strongEle[i]);\n        }\n        var attrArray = ['language', 'role', 'target', 'contenteditable', 'cellspacing',\n            'cellpadding', 'border', 'valign', 'colspan'];\n        for (var i = 0; i <= attrArray.length; i++) {\n            this.RemoveAttributeByName(attrArray[i]);\n        }\n    };\n    XhtmlValidation.prototype.RemoveAttributeByName = function (attrName) {\n        if (this.currentElement.firstChild !== null) {\n            if (this.currentElement.firstChild.nodeType !== 3) {\n                for (var i = 0; i < this.currentElement.childNodes.length; i++) {\n                    var ele = this.currentElement.childNodes[i];\n                    if (ele.nodeType !== 3 && ele.nodeName !== 'TABLE' && ele.nodeName !== 'TBODY' && ele.nodeName !== 'THEAD' &&\n                        ele.nodeName !== 'TH' && ele.nodeName !== 'TR' && ele.nodeName !== 'TD') {\n                        if (ele.hasAttribute(attrName)) {\n                            ele.removeAttribute(attrName);\n                        }\n                        if (ele.hasChildNodes()) {\n                            for (var j = 0; j < ele.childNodes.length; j++) {\n                                var childEle = ele.childNodes[j];\n                                if (childEle.nodeType !== 3 && childEle.nodeName !== 'TABLE' && childEle.nodeName !== 'TBODY' &&\n                                    childEle.nodeName !== 'THEAD' && childEle.nodeName !== 'TH' && childEle.nodeName !== 'TR' &&\n                                    childEle.nodeName !== 'TD' && childEle.hasAttribute(attrName) &&\n                                    !childEle.classList.contains('e-mention-chip')) {\n                                    childEle.removeAttribute(attrName);\n                                }\n                                if (childEle.hasChildNodes()) {\n                                    for (var k = 0; k < childEle.childNodes.length; k++) {\n                                        if (childEle.childNodes[k].nodeType !== 3 && childEle.childNodes[k].nodeName !== 'TABLE' &&\n                                            childEle.childNodes[k].nodeName !== 'TBODY' && childEle.childNodes[k].nodeName !== 'THEAD' &&\n                                            childEle.childNodes[k].nodeName !== 'TH' && childEle.childNodes[k].nodeName !== 'TR'\n                                            && childEle.childNodes[k].nodeName !== 'TD'\n                                            && childEle.childNodes[k].hasAttribute(attrName)) {\n                                            childEle.childNodes[k].removeAttribute(attrName);\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    };\n    return XhtmlValidation;\n}());\nexport { XhtmlValidation };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}