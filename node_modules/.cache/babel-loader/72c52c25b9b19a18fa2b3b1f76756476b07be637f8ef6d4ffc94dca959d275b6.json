{"ast":null,"code":"import { createElement, isNullOrUndefined as isNOU, detach, addClass, Browser, formatUnit, removeClass } from '@syncfusion/ej2-base';\nimport * as CONSTANT from './../base/constant';\nimport * as classes from './../base/classes';\nimport { InsertHtml } from './inserthtml';\nimport * as EVENTS from './../../common/constant';\n/**\n * Video internal component\n *\n * @hidden\n\n */\nvar VideoCommand = /** @class */function () {\n  /**\n   * Constructor for creating the Video plugin\n   *\n   * @param {EditorManager} parent - specifies the parent element\n   * @hidden\n    */\n  function VideoCommand(parent) {\n    this.parent = parent;\n    this.addEventListener();\n  }\n  VideoCommand.prototype.addEventListener = function () {\n    this.parent.observer.on(CONSTANT.VIDEO, this.videoCommand, this);\n    this.parent.observer.on(EVENTS.INTERNAL_DESTROY, this.destroy, this);\n  };\n  VideoCommand.prototype.removeEventListener = function () {\n    this.parent.observer.off(CONSTANT.VIDEO, this.videoCommand);\n    this.parent.observer.off(EVENTS.INTERNAL_DESTROY, this.destroy);\n  };\n  /**\n   * videoCommand method\n   *\n   * @param {IHtmlItem} e - specifies the element\n   * @returns {void}\n   * @hidden\n    */\n  VideoCommand.prototype.videoCommand = function (e) {\n    var selectNode;\n    var videoWrapNode;\n    var videoClickElem;\n    var value = e.value.toString().toLowerCase();\n    if (value !== 'video' && value !== 'videoreplace') {\n      selectNode = e.item.selectNode[0];\n      videoWrapNode = selectNode.closest('.' + classes.CLASS_EMBED_VIDEO_WRAP);\n      videoClickElem = selectNode.closest('.' + classes.CLASS_VIDEO_CLICK_ELEM);\n    }\n    switch (value) {\n      case 'video':\n      case 'videoreplace':\n        this.createVideo(e);\n        break;\n      case 'videodimension':\n        this.videoDimension(e);\n        break;\n      case 'inline':\n        selectNode.removeAttribute('class');\n        if (videoWrapNode) {\n          videoWrapNode.style.display = 'inline-block';\n        }\n        if (videoClickElem) {\n          selectNode.parentElement.style.cssFloat = '';\n        }\n        addClass([selectNode], [classes.CLASS_VIDEO, classes.CLASS_VIDEO_INLINE, classes.CLASS_VIDEO_FOCUS]);\n        this.callBack(e);\n        break;\n      case 'break':\n        selectNode.removeAttribute('class');\n        if (videoWrapNode) {\n          videoWrapNode.style.display = 'block';\n        }\n        if (videoClickElem) {\n          selectNode.parentElement.style.cssFloat = '';\n        }\n        addClass([selectNode], [classes.CLASS_VIDEO_BREAK, classes.CLASS_VIDEO, classes.CLASS_VIDEO_FOCUS]);\n        this.callBack(e);\n        break;\n      case 'justifyleft':\n        selectNode.removeAttribute('class');\n        if (videoWrapNode) {\n          videoWrapNode.style.display = 'block';\n        }\n        if (videoClickElem) {\n          selectNode.parentElement.style.cssFloat = 'left';\n        }\n        addClass([selectNode], [classes.CLASS_VIDEO, classes.CLASS_VIDEO_LEFT]);\n        this.callBack(e);\n        break;\n      case 'justifycenter':\n        selectNode.removeAttribute('class');\n        if (videoWrapNode) {\n          videoWrapNode.style.display = 'block';\n        }\n        if (videoClickElem) {\n          selectNode.parentElement.style.cssFloat = '';\n        }\n        addClass([selectNode], [classes.CLASS_VIDEO, classes.CLASS_VIDEO_CENTER]);\n        this.callBack(e);\n        break;\n      case 'justifyright':\n        selectNode.removeAttribute('class');\n        if (videoWrapNode) {\n          videoWrapNode.style.display = 'block';\n        }\n        if (videoClickElem) {\n          selectNode.parentElement.style.cssFloat = 'right';\n        }\n        addClass([selectNode], [classes.CLASS_VIDEO, classes.CLASS_VIDEO_RIGHT]);\n        this.callBack(e);\n        break;\n      case 'videoremove':\n        detach(selectNode.parentElement);\n        this.callBack(e);\n        break;\n    }\n  };\n  VideoCommand.prototype.wrapVideo = function (e) {\n    var wrapElement;\n    var sourceElement;\n    if (e.item.isEmbedUrl) {\n      wrapElement = createElement('span', {\n        className: classes.CLASS_EMBED_VIDEO_WRAP,\n        attrs: {\n          contentEditable: 'false'\n        }\n      });\n      var clickElement = createElement('span', {\n        className: classes.CLASS_VIDEO_CLICK_ELEM\n      });\n      var temp = createElement('template');\n      temp.innerHTML = e.item.fileName;\n      clickElement.appendChild(temp.content);\n      this.vidElement = sourceElement = clickElement.firstElementChild;\n      this.setStyle(sourceElement, e, this.vidElement);\n      wrapElement.style.display = e.item.cssClass === classes.CLASS_VIDEO_INLINE ? 'inline-block' : 'block';\n      wrapElement.appendChild(clickElement);\n    } else {\n      wrapElement = createElement('span', {\n        className: classes.CLASS_VIDEO_WRAP,\n        attrs: {\n          contentEditable: 'false',\n          title: !isNOU(e.item.title) ? e.item.title : !isNOU(e.item.fileName) ? e.item.fileName : ''\n        }\n      });\n      this.vidElement = createElement('video', {\n        className: classes.CLASS_VIDEO + ' ' + classes.CLASS_VIDEO_INLINE,\n        attrs: {\n          controls: ''\n        }\n      });\n      sourceElement = createElement('source');\n      this.setStyle(sourceElement, e, this.vidElement);\n      this.vidElement.appendChild(sourceElement);\n      wrapElement.appendChild(this.vidElement);\n    }\n    return wrapElement;\n  };\n  VideoCommand.prototype.createVideo = function (e) {\n    var _this = this;\n    var isReplaced = false;\n    var wrapElement;\n    if (e.value === 'VideoReplace' && !isNOU(e.item.selectParent) && e.item.selectParent[0].tagName === 'VIDEO') {\n      if (e.item.isEmbedUrl) {\n        wrapElement = this.wrapVideo(e);\n        var oldEle = e.item.selection.range.startContainer;\n        oldEle.parentNode.replaceChild(wrapElement, oldEle);\n      } else {\n        var videoEle = e.item.selectParent[0].querySelector('source');\n        this.setStyle(videoEle, e, videoEle);\n        isReplaced = true;\n      }\n    } else if (e.value === 'VideoReplace' && !isNOU(e.item.selectParent) && isNOU(e.item.selectParent[0].querySelector('iframe')) && e.item.selectParent[0].classList && e.item.selectParent[0].classList.contains(classes.CLASS_VIDEO_CLICK_ELEM)) {\n      e.item.selectParent[0].innerHTML = e.item.fileName;\n      this.setStyle(e.item.selectParent[0].firstElementChild, e, e.item.selectParent[0].firstElementChild);\n    } else if (e.value === 'VideoReplace' && !isNOU(e.item.selectParent) && !isNOU(e.item.selectParent[0].querySelector('iframe')) && !e.item.isEmbedUrl) {\n      wrapElement = this.wrapVideo(e);\n      var oldEle = e.item.selection.range.startContainer;\n      oldEle.parentNode.replaceChild(wrapElement, oldEle);\n    } else {\n      if (!e.item.isEmbedUrl) {\n        wrapElement = this.wrapVideo(e);\n      } else {\n        wrapElement = this.wrapVideo(e);\n      }\n      if (!isNOU(e.item.selection)) {\n        e.item.selection.restore();\n      }\n      InsertHtml.Insert(this.parent.currentDocument, wrapElement, this.parent.editableElement);\n      if (wrapElement.nextElementSibling === null) {\n        var insertElem = createElement('br');\n        wrapElement.parentNode.insertBefore(insertElem, wrapElement.nextSibling);\n      }\n    }\n    if (e.callBack && (isNOU(e.selector) || !isNOU(e.selector) && e.selector !== 'pasteCleanupModule')) {\n      var selectedNode = this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)[0];\n      var videoElm_1;\n      if (e.value === 'VideoReplace' || isReplaced) {\n        if (!e.item.isEmbedUrl) {\n          videoElm_1 = e.item.selectParent[0];\n        } else if (e.item.isEmbedUrl) {\n          if (!isNOU(wrapElement)) {\n            videoElm_1 = wrapElement.querySelector('iframe');\n          }\n        } else {\n          videoElm_1 = e.item.selectParent[0].querySelector('iframe');\n        }\n      } else {\n        videoElm_1 = !e.item.isEmbedUrl ? selectedNode.lastElementChild : selectedNode.querySelector('iframe');\n      }\n      videoElm_1.addEventListener(videoElm_1.tagName !== 'IFRAME' ? 'loadeddata' : 'load', function () {\n        if (e.value !== 'VideoReplace' || !isReplaced) {\n          if (e.item.isEmbedUrl && videoElm_1) {\n            videoElm_1.classList.add('e-rte-embed-url');\n          }\n          if (!isNOU(_this.parent.currentDocument)) {\n            e.callBack({\n              requestType: 'Videos',\n              editorMode: 'HTML',\n              event: e.event,\n              range: _this.parent.nodeSelection.getRange(_this.parent.currentDocument),\n              elements: [videoElm_1]\n            });\n          }\n        }\n      });\n      if (isReplaced) {\n        videoElm_1.load();\n      }\n      if (Browser.userAgent.indexOf('Firefox') !== -1) {\n        this.vidElement.addEventListener('play', function () {\n          _this.editAreaVideoClick(e);\n        });\n        this.vidElement.addEventListener('pause', function () {\n          _this.editAreaVideoClick(e);\n        });\n      }\n    }\n  };\n  VideoCommand.prototype.editAreaVideoClick = function (e) {\n    e.callBack({\n      requestType: 'VideosPlayPause',\n      editorMode: 'HTML',\n      event: e.event\n    });\n  };\n  VideoCommand.prototype.setStyle = function (sourceElement, e, videoEle) {\n    if (e.item.url !== '' && !isNOU(e.item.url) && isNOU(sourceElement) ? false : sourceElement.nodeName.toLowerCase() !== 'iframe') {\n      sourceElement.setAttribute('src', e.item.url);\n    }\n    if (!e.item.isEmbedUrl) {\n      sourceElement.type = e.item.fileName && e.item.fileName.split('.').length > 0 ? 'video/' + e.item.fileName.split('.')[e.item.fileName.split('.').length - 1] : e.item.url && e.item.url.split('.').length > 0 ? 'video/' + e.item.url.split('.')[e.item.url.split('.').length - 1] : '';\n    }\n    if (!isNOU(e.item.width) && !isNOU(e.item.width.width)) {\n      videoEle.setAttribute('width', formatUnit(e.item.width.width));\n    }\n    if (!isNOU(e.item.height) && !isNOU(e.item.height.height)) {\n      videoEle.setAttribute('height', formatUnit(e.item.height.height));\n    }\n    if (!isNOU(e.item.width) && !isNOU(e.item.width.minWidth)) {\n      videoEle.style.minWidth = formatUnit(e.item.width.minWidth);\n    }\n    if (!isNOU(e.item.width) && !isNOU(e.item.width.maxWidth)) {\n      videoEle.style.maxWidth = formatUnit(e.item.width.maxWidth);\n    }\n    if (!isNOU(e.item.height) && !isNOU(e.item.height.minHeight)) {\n      videoEle.style.minHeight = formatUnit(e.item.height.minHeight);\n    }\n    if (!isNOU(e.item.height) && !isNOU(e.item.height.maxHeight)) {\n      videoEle.style.maxHeight = formatUnit(e.item.height.maxHeight);\n    }\n    if (!isNOU(e.item.cssClass)) {\n      if (e.item.cssClass === classes.CLASS_VIDEO_BREAK) {\n        addClass([videoEle], [classes.CLASS_VIDEO_BREAK]);\n        removeClass([videoEle], [classes.CLASS_VIDEO_INLINE]);\n      } else {\n        addClass([videoEle], [classes.CLASS_VIDEO_INLINE]);\n        removeClass([videoEle], [classes.CLASS_VIDEO_BREAK]);\n      }\n    }\n  };\n  VideoCommand.prototype.videoDimension = function (e) {\n    var selectNode = !e.item.selectNode[0].classList.contains(classes.CLASS_VIDEO_CLICK_ELEM) ? e.item.selectNode[0] : e.item.selectNode[0].querySelector('iframe');\n    selectNode.style.height = '';\n    selectNode.style.width = '';\n    if (e.item.width !== 'auto') {\n      selectNode.style.width = formatUnit(e.item.width);\n    } else {\n      selectNode.removeAttribute('width');\n    }\n    if (e.item.height !== 'auto') {\n      selectNode.style.height = formatUnit(e.item.height);\n    } else {\n      selectNode.removeAttribute('height');\n    }\n    this.callBack(e);\n  };\n  VideoCommand.prototype.callBack = function (e) {\n    if (e.callBack) {\n      e.callBack({\n        requestType: e.item.subCommand,\n        editorMode: 'HTML',\n        event: e.event,\n        range: this.parent.nodeSelection.getRange(this.parent.currentDocument),\n        elements: this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)\n      });\n    }\n  };\n  VideoCommand.prototype.destroy = function () {\n    this.removeEventListener();\n  };\n  return VideoCommand;\n}();\nexport { VideoCommand };","map":{"version":3,"names":["createElement","isNullOrUndefined","isNOU","detach","addClass","Browser","formatUnit","removeClass","CONSTANT","classes","InsertHtml","EVENTS","VideoCommand","parent","addEventListener","prototype","observer","on","VIDEO","videoCommand","INTERNAL_DESTROY","destroy","removeEventListener","off","e","selectNode","videoWrapNode","videoClickElem","value","toString","toLowerCase","item","closest","CLASS_EMBED_VIDEO_WRAP","CLASS_VIDEO_CLICK_ELEM","createVideo","videoDimension","removeAttribute","style","display","parentElement","cssFloat","CLASS_VIDEO","CLASS_VIDEO_INLINE","CLASS_VIDEO_FOCUS","callBack","CLASS_VIDEO_BREAK","CLASS_VIDEO_LEFT","CLASS_VIDEO_CENTER","CLASS_VIDEO_RIGHT","wrapVideo","wrapElement","sourceElement","isEmbedUrl","className","attrs","contentEditable","clickElement","temp","innerHTML","fileName","appendChild","content","vidElement","firstElementChild","setStyle","cssClass","CLASS_VIDEO_WRAP","title","controls","_this","isReplaced","selectParent","tagName","oldEle","selection","range","startContainer","parentNode","replaceChild","videoEle","querySelector","classList","contains","restore","Insert","currentDocument","editableElement","nextElementSibling","insertElem","insertBefore","nextSibling","selector","selectedNode","nodeSelection","getSelectedNodes","videoElm_1","lastElementChild","add","requestType","editorMode","event","getRange","elements","load","userAgent","indexOf","editAreaVideoClick","url","nodeName","setAttribute","type","split","length","width","height","minWidth","maxWidth","minHeight","maxHeight","subCommand"],"sources":["/var/www/vue/vue-gantt-chart/node_modules/@syncfusion/ej2-richtexteditor/src/editor-manager/plugin/video.js"],"sourcesContent":["import { createElement, isNullOrUndefined as isNOU, detach, addClass, Browser, formatUnit, removeClass } from '@syncfusion/ej2-base';\nimport * as CONSTANT from './../base/constant';\nimport * as classes from './../base/classes';\nimport { InsertHtml } from './inserthtml';\nimport * as EVENTS from './../../common/constant';\n/**\n * Video internal component\n *\n * @hidden\n\n */\nvar VideoCommand = /** @class */ (function () {\n    /**\n     * Constructor for creating the Video plugin\n     *\n     * @param {EditorManager} parent - specifies the parent element\n     * @hidden\n\n     */\n    function VideoCommand(parent) {\n        this.parent = parent;\n        this.addEventListener();\n    }\n    VideoCommand.prototype.addEventListener = function () {\n        this.parent.observer.on(CONSTANT.VIDEO, this.videoCommand, this);\n        this.parent.observer.on(EVENTS.INTERNAL_DESTROY, this.destroy, this);\n    };\n    VideoCommand.prototype.removeEventListener = function () {\n        this.parent.observer.off(CONSTANT.VIDEO, this.videoCommand);\n        this.parent.observer.off(EVENTS.INTERNAL_DESTROY, this.destroy);\n    };\n    /**\n     * videoCommand method\n     *\n     * @param {IHtmlItem} e - specifies the element\n     * @returns {void}\n     * @hidden\n\n     */\n    VideoCommand.prototype.videoCommand = function (e) {\n        var selectNode;\n        var videoWrapNode;\n        var videoClickElem;\n        var value = e.value.toString().toLowerCase();\n        if (value !== 'video' && value !== 'videoreplace') {\n            selectNode = e.item.selectNode[0];\n            videoWrapNode = selectNode.closest('.' + classes.CLASS_EMBED_VIDEO_WRAP);\n            videoClickElem = selectNode.closest('.' + classes.CLASS_VIDEO_CLICK_ELEM);\n        }\n        switch (value) {\n            case 'video':\n            case 'videoreplace':\n                this.createVideo(e);\n                break;\n            case 'videodimension':\n                this.videoDimension(e);\n                break;\n            case 'inline':\n                selectNode.removeAttribute('class');\n                if (videoWrapNode) {\n                    videoWrapNode.style.display = 'inline-block';\n                }\n                if (videoClickElem) {\n                    selectNode.parentElement.style.cssFloat = '';\n                }\n                addClass([selectNode], [classes.CLASS_VIDEO, classes.CLASS_VIDEO_INLINE, classes.CLASS_VIDEO_FOCUS]);\n                this.callBack(e);\n                break;\n            case 'break':\n                selectNode.removeAttribute('class');\n                if (videoWrapNode) {\n                    videoWrapNode.style.display = 'block';\n                }\n                if (videoClickElem) {\n                    selectNode.parentElement.style.cssFloat = '';\n                }\n                addClass([selectNode], [classes.CLASS_VIDEO_BREAK, classes.CLASS_VIDEO, classes.CLASS_VIDEO_FOCUS]);\n                this.callBack(e);\n                break;\n            case 'justifyleft':\n                selectNode.removeAttribute('class');\n                if (videoWrapNode) {\n                    videoWrapNode.style.display = 'block';\n                }\n                if (videoClickElem) {\n                    selectNode.parentElement.style.cssFloat = 'left';\n                }\n                addClass([selectNode], [classes.CLASS_VIDEO, classes.CLASS_VIDEO_LEFT]);\n                this.callBack(e);\n                break;\n            case 'justifycenter':\n                selectNode.removeAttribute('class');\n                if (videoWrapNode) {\n                    videoWrapNode.style.display = 'block';\n                }\n                if (videoClickElem) {\n                    selectNode.parentElement.style.cssFloat = '';\n                }\n                addClass([selectNode], [classes.CLASS_VIDEO, classes.CLASS_VIDEO_CENTER]);\n                this.callBack(e);\n                break;\n            case 'justifyright':\n                selectNode.removeAttribute('class');\n                if (videoWrapNode) {\n                    videoWrapNode.style.display = 'block';\n                }\n                if (videoClickElem) {\n                    selectNode.parentElement.style.cssFloat = 'right';\n                }\n                addClass([selectNode], [classes.CLASS_VIDEO, classes.CLASS_VIDEO_RIGHT]);\n                this.callBack(e);\n                break;\n            case 'videoremove':\n                detach(selectNode.parentElement);\n                this.callBack(e);\n                break;\n        }\n    };\n    VideoCommand.prototype.wrapVideo = function (e) {\n        var wrapElement;\n        var sourceElement;\n        if (e.item.isEmbedUrl) {\n            wrapElement = createElement('span', { className: classes.CLASS_EMBED_VIDEO_WRAP, attrs: { contentEditable: 'false' } });\n            var clickElement = createElement('span', { className: classes.CLASS_VIDEO_CLICK_ELEM });\n            var temp = createElement('template');\n            temp.innerHTML = e.item.fileName;\n            clickElement.appendChild(temp.content);\n            this.vidElement = sourceElement = clickElement.firstElementChild;\n            this.setStyle(sourceElement, e, this.vidElement);\n            wrapElement.style.display = (e.item.cssClass === classes.CLASS_VIDEO_INLINE) ? 'inline-block' : 'block';\n            wrapElement.appendChild(clickElement);\n        }\n        else {\n            wrapElement = createElement('span', { className: classes.CLASS_VIDEO_WRAP, attrs: { contentEditable: 'false', title: ((!isNOU(e.item.title)) ? e.item.title : (!isNOU(e.item.fileName) ? e.item.fileName : '')) } });\n            this.vidElement = createElement('video', { className: classes.CLASS_VIDEO + ' ' + classes.CLASS_VIDEO_INLINE, attrs: { controls: '' } });\n            sourceElement = createElement('source');\n            this.setStyle(sourceElement, e, this.vidElement);\n            this.vidElement.appendChild(sourceElement);\n            wrapElement.appendChild(this.vidElement);\n        }\n        return wrapElement;\n    };\n    VideoCommand.prototype.createVideo = function (e) {\n        var _this = this;\n        var isReplaced = false;\n        var wrapElement;\n        if (e.value === 'VideoReplace' && !isNOU(e.item.selectParent) && (e.item.selectParent[0].tagName === 'VIDEO')) {\n            if (e.item.isEmbedUrl) {\n                wrapElement = this.wrapVideo(e);\n                var oldEle = e.item.selection.range.startContainer;\n                oldEle.parentNode.replaceChild(wrapElement, oldEle);\n            }\n            else {\n                var videoEle = e.item.selectParent[0].querySelector('source');\n                this.setStyle(videoEle, e, videoEle);\n                isReplaced = true;\n            }\n        }\n        else if (e.value === 'VideoReplace' && !isNOU(e.item.selectParent) && isNOU(e.item.selectParent[0].querySelector('iframe')) &&\n            e.item.selectParent[0].classList &&\n            e.item.selectParent[0].classList.contains(classes.CLASS_VIDEO_CLICK_ELEM)) {\n            e.item.selectParent[0].innerHTML = e.item.fileName;\n            this.setStyle(e.item.selectParent[0].firstElementChild, e, e.item.selectParent[0].firstElementChild);\n        }\n        else if (e.value === 'VideoReplace' && !isNOU(e.item.selectParent) && !isNOU(e.item.selectParent[0].querySelector('iframe')) &&\n            !e.item.isEmbedUrl) {\n            wrapElement = this.wrapVideo(e);\n            var oldEle = e.item.selection.range.startContainer;\n            oldEle.parentNode.replaceChild(wrapElement, oldEle);\n        }\n        else {\n            if (!e.item.isEmbedUrl) {\n                wrapElement = this.wrapVideo(e);\n            }\n            else {\n                wrapElement = this.wrapVideo(e);\n            }\n            if (!isNOU(e.item.selection)) {\n                e.item.selection.restore();\n            }\n            InsertHtml.Insert(this.parent.currentDocument, wrapElement, this.parent.editableElement);\n            if (wrapElement.nextElementSibling === null) {\n                var insertElem = createElement('br');\n                wrapElement.parentNode.insertBefore(insertElem, wrapElement.nextSibling);\n            }\n        }\n        if (e.callBack && (isNOU(e.selector) || !isNOU(e.selector) && e.selector !== 'pasteCleanupModule')) {\n            var selectedNode = this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)[0];\n            var videoElm_1;\n            if (e.value === 'VideoReplace' || isReplaced) {\n                if (!e.item.isEmbedUrl) {\n                    videoElm_1 = e.item.selectParent[0];\n                }\n                else if (e.item.isEmbedUrl) {\n                    if (!isNOU(wrapElement)) {\n                        videoElm_1 = wrapElement.querySelector('iframe');\n                    }\n                }\n                else {\n                    videoElm_1 = e.item.selectParent[0].querySelector('iframe');\n                }\n            }\n            else {\n                videoElm_1 = !e.item.isEmbedUrl ? selectedNode.lastElementChild : selectedNode.querySelector('iframe');\n            }\n            videoElm_1.addEventListener(videoElm_1.tagName !== 'IFRAME' ? 'loadeddata' : 'load', function () {\n                if (e.value !== 'VideoReplace' || !isReplaced) {\n                    if (e.item.isEmbedUrl && videoElm_1) {\n                        videoElm_1.classList.add('e-rte-embed-url');\n                    }\n                    if (!isNOU(_this.parent.currentDocument)) {\n                        e.callBack({\n                            requestType: 'Videos',\n                            editorMode: 'HTML',\n                            event: e.event,\n                            range: _this.parent.nodeSelection.getRange(_this.parent.currentDocument),\n                            elements: [videoElm_1]\n                        });\n                    }\n                }\n            });\n            if (isReplaced) {\n                videoElm_1.load();\n            }\n            if (Browser.userAgent.indexOf('Firefox') !== -1) {\n                this.vidElement.addEventListener('play', function () { _this.editAreaVideoClick(e); });\n                this.vidElement.addEventListener('pause', function () { _this.editAreaVideoClick(e); });\n            }\n        }\n    };\n    VideoCommand.prototype.editAreaVideoClick = function (e) {\n        e.callBack({\n            requestType: 'VideosPlayPause',\n            editorMode: 'HTML',\n            event: e.event\n        });\n    };\n    VideoCommand.prototype.setStyle = function (sourceElement, e, videoEle) {\n        if (e.item.url !== '' && !isNOU(e.item.url) && isNOU(sourceElement) ? false : sourceElement.nodeName.toLowerCase() !== 'iframe') {\n            sourceElement.setAttribute('src', e.item.url);\n        }\n        if (!e.item.isEmbedUrl) {\n            sourceElement.type = e.item.fileName && e.item.fileName.split('.').length > 0 ?\n                'video/' + e.item.fileName.split('.')[e.item.fileName.split('.').length - 1] :\n                e.item.url && e.item.url.split('.').length > 0 ? 'video/' + e.item.url.split('.')[e.item.url.split('.').length - 1] : '';\n        }\n        if (!isNOU(e.item.width) && !isNOU(e.item.width.width)) {\n            videoEle.setAttribute('width', formatUnit(e.item.width.width));\n        }\n        if (!isNOU(e.item.height) && !isNOU(e.item.height.height)) {\n            videoEle.setAttribute('height', formatUnit(e.item.height.height));\n        }\n        if (!isNOU(e.item.width) && !isNOU(e.item.width.minWidth)) {\n            videoEle.style.minWidth = formatUnit(e.item.width.minWidth);\n        }\n        if (!isNOU(e.item.width) && !isNOU(e.item.width.maxWidth)) {\n            videoEle.style.maxWidth = formatUnit(e.item.width.maxWidth);\n        }\n        if (!isNOU(e.item.height) && !isNOU(e.item.height.minHeight)) {\n            videoEle.style.minHeight = formatUnit(e.item.height.minHeight);\n        }\n        if (!isNOU(e.item.height) && !isNOU(e.item.height.maxHeight)) {\n            videoEle.style.maxHeight = formatUnit(e.item.height.maxHeight);\n        }\n        if (!isNOU(e.item.cssClass)) {\n            if (e.item.cssClass === classes.CLASS_VIDEO_BREAK) {\n                addClass([videoEle], [classes.CLASS_VIDEO_BREAK]);\n                removeClass([videoEle], [classes.CLASS_VIDEO_INLINE]);\n            }\n            else {\n                addClass([videoEle], [classes.CLASS_VIDEO_INLINE]);\n                removeClass([videoEle], [classes.CLASS_VIDEO_BREAK]);\n            }\n        }\n    };\n    VideoCommand.prototype.videoDimension = function (e) {\n        var selectNode = !(e.item.selectNode[0].classList.contains(classes.CLASS_VIDEO_CLICK_ELEM)) ? e.item.selectNode[0] :\n            e.item.selectNode[0].querySelector('iframe');\n        selectNode.style.height = '';\n        selectNode.style.width = '';\n        if (e.item.width !== 'auto') {\n            selectNode.style.width = formatUnit(e.item.width);\n        }\n        else {\n            selectNode.removeAttribute('width');\n        }\n        if (e.item.height !== 'auto') {\n            selectNode.style.height = formatUnit(e.item.height);\n        }\n        else {\n            selectNode.removeAttribute('height');\n        }\n        this.callBack(e);\n    };\n    VideoCommand.prototype.callBack = function (e) {\n        if (e.callBack) {\n            e.callBack({\n                requestType: e.item.subCommand,\n                editorMode: 'HTML',\n                event: e.event,\n                range: this.parent.nodeSelection.getRange(this.parent.currentDocument),\n                elements: this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)\n            });\n        }\n    };\n    VideoCommand.prototype.destroy = function () {\n        this.removeEventListener();\n    };\n    return VideoCommand;\n}());\nexport { VideoCommand };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}