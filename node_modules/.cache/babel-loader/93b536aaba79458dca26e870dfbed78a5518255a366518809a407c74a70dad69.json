{"ast":null,"code":"import { Browser, detach, closest, isNullOrUndefined as isNOU, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { ContextMenu, DetailsView, FileManager as EJ2FileManager } from '@syncfusion/ej2-filemanager';\nimport { NavigationPane, Toolbar } from '@syncfusion/ej2-filemanager';\nimport { RenderType } from '../base/enum';\nimport * as events from '../base/constant';\nimport * as classes from '../base/classes';\nimport { dispatchEvent } from '../base/util';\n/**\n * `FileManager` module is used to display the directories and images inside the editor.\n */\nvar FileManager = /** @class */function () {\n  function FileManager(parent, locator) {\n    EJ2FileManager.Inject(ContextMenu, DetailsView, NavigationPane, Toolbar);\n    this.parent = parent;\n    this.i10n = locator.getService('rteLocale');\n    this.dialogRenderObj = locator.getService('dialogRenderObject');\n    this.rendererFactory = locator.getService('rendererFactory');\n    this.addEventListener();\n    this.isDestroyed = false;\n    this.insertImageBoundFn = this.insertImageUrl.bind(this);\n    this.cancelDialogBoundFn = this.cancelDialog.bind(this);\n    this.renderFileManagerBoundFn = this.renderFileManager.bind(this);\n    this.dialogClosedBoundFn = this.dialogClosed.bind(this);\n    this.onDocumentClickBoundFn = this.onDocumentClick.bind(this);\n  }\n  FileManager.prototype.initialize = function () {\n    this.contentModule = this.rendererFactory.getRenderer(RenderType.Content);\n  };\n  FileManager.prototype.render = function (e) {\n    var dlgInsert;\n    if (e.selectNode && e.selectNode[0].nodeName === 'IMG') {\n      dlgInsert = this.parent.localeObj.getConstant('dialogUpdate');\n    } else {\n      dlgInsert = this.i10n.getConstant('dialogInsert');\n    }\n    var dlgHeader = this.parent.localeObj.getConstant('fileDialogHeader');\n    var dlgCancel = this.i10n.getConstant('dialogCancel');\n    this.dlgButtons = [{\n      click: this.insertImageBoundFn,\n      buttonModel: {\n        content: dlgInsert,\n        cssClass: 'e-flat e-insertImage',\n        isPrimary: true,\n        disabled: true\n      }\n    }, {\n      click: this.cancelDialogBoundFn,\n      buttonModel: {\n        cssClass: 'e-flat e-cancel',\n        content: dlgCancel\n      }\n    }];\n    this.selectObj = {\n      selection: e.selection,\n      args: e.args,\n      selectParent: e.selectParent\n    };\n    var dlgTarget = this.parent.createElement('div', {\n      className: 'e-rte-file-manager-dialog',\n      id: this.parent.getID() + '_file-manager-dialog',\n      attrs: {\n        'aria-owns': this.parent.getID()\n      }\n    });\n    document.body.appendChild(dlgTarget);\n    this.fileWrap = this.parent.createElement('div', {\n      id: this.parent.getID() + '_rte-file-manager',\n      className: 'e-img-file-wrap'\n    });\n    dlgTarget.appendChild(this.fileWrap);\n    dlgTarget.appendChild(this.getInputUrlElement());\n    var dialogModel = {\n      visible: false,\n      isModal: true,\n      header: dlgHeader,\n      target: document.body,\n      locale: this.parent.locale,\n      enableRtl: this.parent.enableRtl,\n      cssClass: classes.CLS_RTE_ELEMENTS,\n      animationSettings: {\n        effect: 'None'\n      },\n      showCloseIcon: true,\n      closeOnEscape: true,\n      width: '720px',\n      height: 'auto',\n      position: {\n        X: 'center',\n        Y: 'center'\n      },\n      buttons: this.dlgButtons,\n      created: this.renderFileManagerBoundFn,\n      close: this.dialogClosedBoundFn\n    };\n    this.dialogObj = this.dialogRenderObj.render(dialogModel);\n    this.dialogObj.createElement = this.parent.createElement;\n    this.dialogObj.appendTo(dlgTarget);\n    this.dialogObj.show(Browser.isDevice ? true : false);\n    this.setCssClass({\n      cssClass: this.parent.getCssClass()\n    });\n  };\n  // eslint-disable-next-line @typescript-eslint/tslint/config\n  FileManager.prototype.setCssClass = function (e) {\n    if (this.dialogObj && e.cssClass) {\n      if (isNullOrUndefined(e.oldCssClass)) {\n        this.dialogObj.setProperties({\n          cssClass: (this.dialogObj.cssClass + ' ' + e.cssClass).trim()\n        });\n      } else {\n        this.dialogObj.setProperties({\n          cssClass: (this.dialogObj.cssClass.replace(e.oldCssClass, '').trim() + ' ' + e.cssClass).trim()\n        });\n      }\n    }\n  };\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  FileManager.prototype.dialogClosed = function (e) {\n    this.parent.isBlur = false;\n    if (e && e.event.returnValue) {\n      this.selectObj.selection.restore();\n    }\n    this.destroyComponents();\n    this.parent.element.ownerDocument.removeEventListener('mousedown', this.onDocumentClickBoundFn);\n    this.dialogRenderObj.close(e);\n  };\n  FileManager.prototype.renderFileManager = function () {\n    var _this = this;\n    this.fileObj = new EJ2FileManager({\n      allowMultiSelection: false,\n      locale: this.parent.locale,\n      enableRtl: this.parent.enableRtl,\n      path: this.parent.fileManagerSettings.path,\n      view: this.parent.fileManagerSettings.view,\n      enablePersistence: this.parent.enablePersistence,\n      cssClass: this.parent.fileManagerSettings.cssClass,\n      sortOrder: this.parent.fileManagerSettings.sortOrder,\n      ajaxSettings: this.parent.fileManagerSettings.ajaxSettings,\n      showThumbnail: this.parent.fileManagerSettings.showThumbnail,\n      rootAliasName: this.parent.fileManagerSettings.rootAliasName,\n      uploadSettings: this.parent.fileManagerSettings.uploadSettings,\n      searchSettings: this.parent.fileManagerSettings.searchSettings,\n      toolbarSettings: this.parent.fileManagerSettings.toolbarSettings,\n      showHiddenItems: this.parent.fileManagerSettings.showHiddenItems,\n      allowDragAndDrop: this.parent.fileManagerSettings.allowDragAndDrop,\n      showFileExtension: this.parent.fileManagerSettings.showFileExtension,\n      detailsViewSettings: this.parent.fileManagerSettings.detailsViewSettings,\n      contextMenuSettings: this.parent.fileManagerSettings.contextMenuSettings,\n      navigationPaneSettings: this.parent.fileManagerSettings.navigationPaneSettings,\n      beforeSend: this.parent.fileManagerSettings.beforeSend,\n      fileSelect: function (e) {\n        var selectedFile = e.fileDetails;\n        if (selectedFile.isFile && _this.parent.insertImageSettings.allowedTypes.indexOf(selectedFile.type) > -1) {\n          _this.inputUrl.value = _this.parent.fileManagerSettings.ajaxSettings.getImageUrl + '?path=' + (selectedFile.filterPath && selectedFile.filterPath.replace(/\\\\/g, '/')) + selectedFile.name;\n          _this.dlgButtons[0].buttonModel.disabled = false;\n        } else {\n          _this.inputUrl.value = '';\n          _this.dlgButtons[0].buttonModel.disabled = true;\n        }\n        _this.dialogObj.setProperties({\n          buttons: _this.dlgButtons\n        });\n      },\n      created: function () {\n        _this.inputUrl.removeAttribute('disabled');\n      },\n      success: function () {\n        _this.fileObj.refreshLayout();\n      }\n    });\n    if (Browser.isDevice) {\n      this.fileObj.height = '85%';\n    }\n    this.fileObj.appendTo(this.fileWrap);\n    this.parent.element.ownerDocument.addEventListener('mousedown', this.onDocumentClickBoundFn);\n  };\n  FileManager.prototype.getInputUrlElement = function () {\n    var imgUrl = this.parent.createElement('div', {\n      className: 'imgUrl'\n    });\n    var urlLabel = this.parent.createElement('div', {\n      className: 'e-rte-label'\n    });\n    urlLabel.innerHTML = '<label for=\"rteSample_img_url\">' + this.i10n.getConstant('linkWebUrl') + '</label>';\n    imgUrl.appendChild(urlLabel);\n    var placeUrl = this.i10n.getConstant('imageUrl');\n    this.inputUrl = this.parent.createElement('input', {\n      className: 'e-input e-img-url',\n      attrs: {\n        placeholder: placeUrl,\n        spellcheck: 'false',\n        disabled: 'true'\n      }\n    });\n    imgUrl.appendChild(this.inputUrl);\n    return imgUrl;\n  };\n  // eslint-disable-next-line\n  FileManager.prototype.insertImageUrl = function (e) {\n    var url = this.inputUrl.value;\n    if (this.parent.formatter.getUndoRedoStack().length === 0) {\n      this.parent.formatter.saveData();\n    }\n    if (url !== '') {\n      if (this.parent.editorMode === 'HTML' && isNOU(closest(this.selectObj.selection.range.startContainer.parentNode, '#' + this.contentModule.getPanel().id))) {\n        this.contentModule.getEditPanel().focus();\n        var range = this.parent.formatter.editorManager.nodeSelection.getRange(this.contentModule.getDocument());\n        this.selectObj.selection = this.parent.formatter.editorManager.nodeSelection.save(range, this.contentModule.getDocument());\n        this.selectObj.selectParent = this.parent.formatter.editorManager.nodeSelection.getParentNodeCollection(range);\n      }\n      var regex = /[\\w-]+.(jpg|png|jpeg|gif)/g;\n      var matchUrl = !isNOU(url.match(regex)) && this.parent.editorMode === 'HTML' ? url.match(regex)[0] : '';\n      var value = {\n        cssClass: this.parent.insertImageSettings.display === 'inline' ? classes.CLS_IMGINLINE : classes.CLS_IMGBREAK,\n        url: url,\n        selection: this.selectObj.selection,\n        altText: matchUrl,\n        selectParent: this.selectObj.selectParent,\n        width: {\n          width: this.parent.insertImageSettings.width,\n          minWidth: this.parent.insertImageSettings.minWidth,\n          maxWidth: this.parent.getInsertImgMaxWidth()\n        },\n        height: {\n          height: this.parent.insertImageSettings.height,\n          minHeight: this.parent.insertImageSettings.minHeight,\n          maxHeight: this.parent.insertImageSettings.maxHeight\n        }\n      };\n      this.parent.formatter.process(this.parent, this.selectObj.args, this.selectObj.args.originalEvent, value);\n      this.dialogObj.hide({\n        returnValue: false\n      });\n    }\n  };\n  FileManager.prototype.cancelDialog = function () {\n    this.parent.isBlur = false;\n    this.dialogObj.hide({\n      returnValue: true\n    });\n  };\n  FileManager.prototype.onDocumentClick = function (e) {\n    var target = e.target;\n    var prevEle = target.nodeName !== '#document' && !isNOU(target.previousElementSibling) && target.previousElementSibling;\n    if (!isNOU(this.dialogObj) && !closest(target, '#' + this.parent.getID() + '_file-manager-dialog') && !closest(target, '#' + this.parent.getID() + '_rte-file-manager_tb_sortby-popup') && !closest(target, '#' + this.parent.getID() + '_rte-file-manager_tb_view-popup') && !closest(target, '#' + this.parent.getID() + '_rte-file-manager_contextmenu') && !(!isNOU(closest(target, '.e-contextmenu-wrapper')) && closest(target, '.e-contextmenu-wrapper').querySelector('#' + this.parent.getID() + '_rte-file-manager_contextmenu')) && !isNOU(prevEle) && !prevEle.classList.contains('e-rte-file-manager-dialog') && !isNOU(prevEle) && prevEle.id !== this.parent.getID() + '_rte-file-manager_contextmenu') {\n      this.dialogObj.hide({\n        returnValue: true\n      });\n      this.parent.isBlur = true;\n      dispatchEvent(this.parent.element, 'focusout');\n    } else {\n      this.parent.isRTE = true;\n    }\n  };\n  FileManager.prototype.addEventListener = function () {\n    this.parent.on(events.initialEnd, this.initialize, this);\n    this.parent.on(events.renderFileManager, this.render, this);\n    this.parent.on(events.bindCssClass, this.setCssClass, this);\n    this.parent.on(events.destroy, this.destroy, this);\n  };\n  FileManager.prototype.removeEventListener = function () {\n    this.parent.element.ownerDocument.removeEventListener('mousedown', this.onDocumentClickBoundFn);\n    this.parent.off(events.initialEnd, this.initialize);\n    this.parent.off(events.renderFileManager, this.render);\n    this.parent.off(events.bindCssClass, this.setCssClass);\n    this.parent.off(events.destroy, this.destroy);\n  };\n  FileManager.prototype.destroyComponents = function () {\n    if (this.fileObj) {\n      this.fileObj.destroy();\n      this.fileObj = null;\n    }\n    if (this.dialogObj) {\n      this.dialogObj.destroy();\n      detach(this.dialogObj.element);\n    }\n  };\n  FileManager.prototype.destroy = function () {\n    if (this.isDestroyed) {\n      return;\n    }\n    this.destroyComponents();\n    this.removeEventListener();\n    this.dlgButtons = null;\n    this.isDestroyed = true;\n    this.insertImageBoundFn = null;\n    this.cancelDialogBoundFn = null;\n    this.renderFileManagerBoundFn = null;\n    this.dialogClosedBoundFn = null;\n    this.onDocumentClickBoundFn = null;\n  };\n  /**\n   * For internal use only - Get the module name.\n   *\n   * @returns {string} - returns the string value\n   * @hidden\n   */\n  FileManager.prototype.getModuleName = function () {\n    return 'fileManager';\n  };\n  return FileManager;\n}();\nexport { FileManager };","map":{"version":3,"names":["Browser","detach","closest","isNullOrUndefined","isNOU","ContextMenu","DetailsView","FileManager","EJ2FileManager","NavigationPane","Toolbar","RenderType","events","classes","dispatchEvent","parent","locator","Inject","i10n","getService","dialogRenderObj","rendererFactory","addEventListener","isDestroyed","insertImageBoundFn","insertImageUrl","bind","cancelDialogBoundFn","cancelDialog","renderFileManagerBoundFn","renderFileManager","dialogClosedBoundFn","dialogClosed","onDocumentClickBoundFn","onDocumentClick","prototype","initialize","contentModule","getRenderer","Content","render","e","dlgInsert","selectNode","nodeName","localeObj","getConstant","dlgHeader","dlgCancel","dlgButtons","click","buttonModel","content","cssClass","isPrimary","disabled","selectObj","selection","args","selectParent","dlgTarget","createElement","className","id","getID","attrs","document","body","appendChild","fileWrap","getInputUrlElement","dialogModel","visible","isModal","header","target","locale","enableRtl","CLS_RTE_ELEMENTS","animationSettings","effect","showCloseIcon","closeOnEscape","width","height","position","X","Y","buttons","created","close","dialogObj","appendTo","show","isDevice","setCssClass","getCssClass","oldCssClass","setProperties","trim","replace","isBlur","event","returnValue","restore","destroyComponents","element","ownerDocument","removeEventListener","_this","fileObj","allowMultiSelection","path","fileManagerSettings","view","enablePersistence","sortOrder","ajaxSettings","showThumbnail","rootAliasName","uploadSettings","searchSettings","toolbarSettings","showHiddenItems","allowDragAndDrop","showFileExtension","detailsViewSettings","contextMenuSettings","navigationPaneSettings","beforeSend","fileSelect","selectedFile","fileDetails","isFile","insertImageSettings","allowedTypes","indexOf","type","inputUrl","value","getImageUrl","filterPath","name","removeAttribute","success","refreshLayout","imgUrl","urlLabel","innerHTML","placeUrl","placeholder","spellcheck","url","formatter","getUndoRedoStack","length","saveData","editorMode","range","startContainer","parentNode","getPanel","getEditPanel","focus","editorManager","nodeSelection","getRange","getDocument","save","getParentNodeCollection","regex","matchUrl","match","display","CLS_IMGINLINE","CLS_IMGBREAK","altText","minWidth","maxWidth","getInsertImgMaxWidth","minHeight","maxHeight","process","originalEvent","hide","prevEle","previousElementSibling","querySelector","classList","contains","isRTE","on","initialEnd","bindCssClass","destroy","off","getModuleName"],"sources":["/var/www/vue/vue-gantt-chart/node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/actions/file-manager.js"],"sourcesContent":["import { Browser, detach, closest, isNullOrUndefined as isNOU, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { ContextMenu, DetailsView, FileManager as EJ2FileManager } from '@syncfusion/ej2-filemanager';\nimport { NavigationPane, Toolbar } from '@syncfusion/ej2-filemanager';\nimport { RenderType } from '../base/enum';\nimport * as events from '../base/constant';\nimport * as classes from '../base/classes';\nimport { dispatchEvent } from '../base/util';\n/**\n * `FileManager` module is used to display the directories and images inside the editor.\n */\nvar FileManager = /** @class */ (function () {\n    function FileManager(parent, locator) {\n        EJ2FileManager.Inject(ContextMenu, DetailsView, NavigationPane, Toolbar);\n        this.parent = parent;\n        this.i10n = locator.getService('rteLocale');\n        this.dialogRenderObj = locator.getService('dialogRenderObject');\n        this.rendererFactory = locator.getService('rendererFactory');\n        this.addEventListener();\n        this.isDestroyed = false;\n        this.insertImageBoundFn = this.insertImageUrl.bind(this);\n        this.cancelDialogBoundFn = this.cancelDialog.bind(this);\n        this.renderFileManagerBoundFn = this.renderFileManager.bind(this);\n        this.dialogClosedBoundFn = this.dialogClosed.bind(this);\n        this.onDocumentClickBoundFn = this.onDocumentClick.bind(this);\n    }\n    FileManager.prototype.initialize = function () {\n        this.contentModule = this.rendererFactory.getRenderer(RenderType.Content);\n    };\n    FileManager.prototype.render = function (e) {\n        var dlgInsert;\n        if (e.selectNode && e.selectNode[0].nodeName === 'IMG') {\n            dlgInsert = this.parent.localeObj.getConstant('dialogUpdate');\n        }\n        else {\n            dlgInsert = this.i10n.getConstant('dialogInsert');\n        }\n        var dlgHeader = this.parent.localeObj.getConstant('fileDialogHeader');\n        var dlgCancel = this.i10n.getConstant('dialogCancel');\n        this.dlgButtons = [{\n                click: this.insertImageBoundFn,\n                buttonModel: { content: dlgInsert, cssClass: 'e-flat e-insertImage', isPrimary: true, disabled: true }\n            },\n            {\n                click: this.cancelDialogBoundFn,\n                buttonModel: { cssClass: 'e-flat e-cancel', content: dlgCancel }\n            }];\n        this.selectObj = { selection: e.selection, args: e.args, selectParent: e.selectParent };\n        var dlgTarget = this.parent.createElement('div', {\n            className: 'e-rte-file-manager-dialog', id: this.parent.getID() + '_file-manager-dialog',\n            attrs: { 'aria-owns': this.parent.getID() }\n        });\n        document.body.appendChild(dlgTarget);\n        this.fileWrap = this.parent.createElement('div', {\n            id: this.parent.getID() + '_rte-file-manager', className: 'e-img-file-wrap'\n        });\n        dlgTarget.appendChild(this.fileWrap);\n        dlgTarget.appendChild(this.getInputUrlElement());\n        var dialogModel = {\n            visible: false,\n            isModal: true, header: dlgHeader,\n            target: document.body, locale: this.parent.locale,\n            enableRtl: this.parent.enableRtl, cssClass: classes.CLS_RTE_ELEMENTS,\n            animationSettings: { effect: 'None' },\n            showCloseIcon: true, closeOnEscape: true, width: '720px', height: 'auto',\n            position: { X: 'center', Y: 'center' },\n            buttons: this.dlgButtons,\n            created: this.renderFileManagerBoundFn,\n            close: this.dialogClosedBoundFn\n        };\n        this.dialogObj = this.dialogRenderObj.render(dialogModel);\n        this.dialogObj.createElement = this.parent.createElement;\n        this.dialogObj.appendTo(dlgTarget);\n        this.dialogObj.show(Browser.isDevice ? true : false);\n        this.setCssClass({ cssClass: this.parent.getCssClass() });\n    };\n    // eslint-disable-next-line @typescript-eslint/tslint/config\n    FileManager.prototype.setCssClass = function (e) {\n        if (this.dialogObj && e.cssClass) {\n            if (isNullOrUndefined(e.oldCssClass)) {\n                this.dialogObj.setProperties({ cssClass: (this.dialogObj.cssClass + ' ' + e.cssClass).trim() });\n            }\n            else {\n                this.dialogObj.setProperties({ cssClass: (this.dialogObj.cssClass.replace(e.oldCssClass, '').trim() + ' ' + e.cssClass).trim() });\n            }\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    FileManager.prototype.dialogClosed = function (e) {\n        this.parent.isBlur = false;\n        if (e && e.event.returnValue) {\n            this.selectObj.selection.restore();\n        }\n        this.destroyComponents();\n        this.parent.element.ownerDocument.removeEventListener('mousedown', this.onDocumentClickBoundFn);\n        this.dialogRenderObj.close(e);\n    };\n    FileManager.prototype.renderFileManager = function () {\n        var _this = this;\n        this.fileObj = new EJ2FileManager({\n            allowMultiSelection: false,\n            locale: this.parent.locale,\n            enableRtl: this.parent.enableRtl,\n            path: this.parent.fileManagerSettings.path,\n            view: this.parent.fileManagerSettings.view,\n            enablePersistence: this.parent.enablePersistence,\n            cssClass: this.parent.fileManagerSettings.cssClass,\n            sortOrder: this.parent.fileManagerSettings.sortOrder,\n            ajaxSettings: this.parent.fileManagerSettings.ajaxSettings,\n            showThumbnail: this.parent.fileManagerSettings.showThumbnail,\n            rootAliasName: this.parent.fileManagerSettings.rootAliasName,\n            uploadSettings: this.parent.fileManagerSettings.uploadSettings,\n            searchSettings: this.parent.fileManagerSettings.searchSettings,\n            toolbarSettings: this.parent.fileManagerSettings.toolbarSettings,\n            showHiddenItems: this.parent.fileManagerSettings.showHiddenItems,\n            allowDragAndDrop: this.parent.fileManagerSettings.allowDragAndDrop,\n            showFileExtension: this.parent.fileManagerSettings.showFileExtension,\n            detailsViewSettings: this.parent.fileManagerSettings.detailsViewSettings,\n            contextMenuSettings: this.parent.fileManagerSettings.contextMenuSettings,\n            navigationPaneSettings: this.parent.fileManagerSettings.navigationPaneSettings,\n            beforeSend: this.parent.fileManagerSettings.beforeSend,\n            fileSelect: function (e) {\n                var selectedFile = e.fileDetails;\n                if (selectedFile.isFile && _this.parent.insertImageSettings.allowedTypes.indexOf(selectedFile.type) > -1) {\n                    _this.inputUrl.value = _this.parent.fileManagerSettings.ajaxSettings.getImageUrl + '?path=' +\n                        (selectedFile.filterPath && selectedFile.filterPath.replace(/\\\\/g, '/')) + selectedFile.name;\n                    _this.dlgButtons[0].buttonModel.disabled = false;\n                }\n                else {\n                    _this.inputUrl.value = '';\n                    _this.dlgButtons[0].buttonModel.disabled = true;\n                }\n                _this.dialogObj.setProperties({ buttons: _this.dlgButtons });\n            },\n            created: function () {\n                _this.inputUrl.removeAttribute('disabled');\n            },\n            success: function () {\n                _this.fileObj.refreshLayout();\n            }\n        });\n        if (Browser.isDevice) {\n            this.fileObj.height = '85%';\n        }\n        this.fileObj.appendTo(this.fileWrap);\n        this.parent.element.ownerDocument.addEventListener('mousedown', this.onDocumentClickBoundFn);\n    };\n    FileManager.prototype.getInputUrlElement = function () {\n        var imgUrl = this.parent.createElement('div', { className: 'imgUrl' });\n        var urlLabel = this.parent.createElement('div', { className: 'e-rte-label' });\n        urlLabel.innerHTML = '<label for=\"rteSample_img_url\">' + this.i10n.getConstant('linkWebUrl') + '</label>';\n        imgUrl.appendChild(urlLabel);\n        var placeUrl = this.i10n.getConstant('imageUrl');\n        this.inputUrl = this.parent.createElement('input', {\n            className: 'e-input e-img-url',\n            attrs: { placeholder: placeUrl, spellcheck: 'false', disabled: 'true' }\n        });\n        imgUrl.appendChild(this.inputUrl);\n        return imgUrl;\n    };\n    // eslint-disable-next-line\n    FileManager.prototype.insertImageUrl = function (e) {\n        var url = this.inputUrl.value;\n        if (this.parent.formatter.getUndoRedoStack().length === 0) {\n            this.parent.formatter.saveData();\n        }\n        if (url !== '') {\n            if (this.parent.editorMode === 'HTML' &&\n                isNOU(closest(this.selectObj.selection.range.startContainer.parentNode, '#' + this.contentModule.getPanel().id))) {\n                this.contentModule.getEditPanel().focus();\n                var range = this.parent.formatter.editorManager.nodeSelection.getRange(this.contentModule.getDocument());\n                this.selectObj.selection = this.parent.formatter.editorManager.nodeSelection.save(range, this.contentModule.getDocument());\n                this.selectObj.selectParent = this.parent.formatter.editorManager.nodeSelection.getParentNodeCollection(range);\n            }\n            var regex = /[\\w-]+.(jpg|png|jpeg|gif)/g;\n            var matchUrl = (!isNOU(url.match(regex)) && this.parent.editorMode === 'HTML') ? url.match(regex)[0] : '';\n            var value = {\n                cssClass: (this.parent.insertImageSettings.display === 'inline' ? classes.CLS_IMGINLINE : classes.CLS_IMGBREAK),\n                url: url, selection: this.selectObj.selection, altText: matchUrl, selectParent: this.selectObj.selectParent,\n                width: {\n                    width: this.parent.insertImageSettings.width, minWidth: this.parent.insertImageSettings.minWidth,\n                    maxWidth: this.parent.getInsertImgMaxWidth()\n                },\n                height: {\n                    height: this.parent.insertImageSettings.height, minHeight: this.parent.insertImageSettings.minHeight,\n                    maxHeight: this.parent.insertImageSettings.maxHeight\n                }\n            };\n            this.parent.formatter.process(this.parent, this.selectObj.args, this.selectObj.args.originalEvent, value);\n            this.dialogObj.hide({ returnValue: false });\n        }\n    };\n    FileManager.prototype.cancelDialog = function () {\n        this.parent.isBlur = false;\n        this.dialogObj.hide({ returnValue: true });\n    };\n    FileManager.prototype.onDocumentClick = function (e) {\n        var target = e.target;\n        var prevEle = target.nodeName !== '#document' && !isNOU(target.previousElementSibling) && target.previousElementSibling;\n        if (!isNOU(this.dialogObj) &&\n            (!closest(target, '#' + this.parent.getID() + '_file-manager-dialog') &&\n                !closest(target, '#' + this.parent.getID() + '_rte-file-manager_tb_sortby-popup') &&\n                !closest(target, '#' + this.parent.getID() + '_rte-file-manager_tb_view-popup') &&\n                !closest(target, '#' + this.parent.getID() + '_rte-file-manager_contextmenu') &&\n                (!(!isNOU(closest(target, '.e-contextmenu-wrapper')) &&\n                    closest(target, '.e-contextmenu-wrapper').querySelector('#' + this.parent.getID() + '_rte-file-manager_contextmenu'))) &&\n                (!isNOU(prevEle) && !prevEle.classList.contains('e-rte-file-manager-dialog')) &&\n                (!isNOU(prevEle) && prevEle.id !== this.parent.getID() + '_rte-file-manager_contextmenu'))) {\n            this.dialogObj.hide({ returnValue: true });\n            this.parent.isBlur = true;\n            dispatchEvent(this.parent.element, 'focusout');\n        }\n        else {\n            this.parent.isRTE = true;\n        }\n    };\n    FileManager.prototype.addEventListener = function () {\n        this.parent.on(events.initialEnd, this.initialize, this);\n        this.parent.on(events.renderFileManager, this.render, this);\n        this.parent.on(events.bindCssClass, this.setCssClass, this);\n        this.parent.on(events.destroy, this.destroy, this);\n    };\n    FileManager.prototype.removeEventListener = function () {\n        this.parent.element.ownerDocument.removeEventListener('mousedown', this.onDocumentClickBoundFn);\n        this.parent.off(events.initialEnd, this.initialize);\n        this.parent.off(events.renderFileManager, this.render);\n        this.parent.off(events.bindCssClass, this.setCssClass);\n        this.parent.off(events.destroy, this.destroy);\n    };\n    FileManager.prototype.destroyComponents = function () {\n        if (this.fileObj) {\n            this.fileObj.destroy();\n            this.fileObj = null;\n        }\n        if (this.dialogObj) {\n            this.dialogObj.destroy();\n            detach(this.dialogObj.element);\n        }\n    };\n    FileManager.prototype.destroy = function () {\n        if (this.isDestroyed) {\n            return;\n        }\n        this.destroyComponents();\n        this.removeEventListener();\n        this.dlgButtons = null;\n        this.isDestroyed = true;\n        this.insertImageBoundFn = null;\n        this.cancelDialogBoundFn = null;\n        this.renderFileManagerBoundFn = null;\n        this.dialogClosedBoundFn = null;\n        this.onDocumentClickBoundFn = null;\n    };\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} - returns the string value\n     * @hidden\n     */\n    FileManager.prototype.getModuleName = function () {\n        return 'fileManager';\n    };\n    return FileManager;\n}());\nexport { FileManager };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}