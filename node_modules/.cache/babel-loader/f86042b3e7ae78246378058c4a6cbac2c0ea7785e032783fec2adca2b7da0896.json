{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.find.js\";\nimport { Grid, Resize, ContextMenu, Sort, VirtualScroll } from '@syncfusion/ej2-grids';\nimport { select, KeyboardEvents, EventHandler, getValue, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined as isNOU, Touch, setValue, addClass, removeClass } from '@syncfusion/ej2-base';\nimport { Internationalization, closest, Draggable, initializeCSPTemplate, extend, SanitizeHtmlHelper } from '@syncfusion/ej2-base';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\nimport { hideSpinner, showSpinner } from '@syncfusion/ej2-popups';\nimport * as events from '../base/constant';\nimport * as CLS from '../base/classes';\nimport { createDialog, createImageDialog } from '../pop-up/dialog';\nimport { removeBlur, openAction, getImageUrl, fileType, getSortedData, getLocaleText, updateLayout } from '../common/utility';\nimport { createEmptyElement } from '../common/utility';\nimport { read, Download, GetDetails, Delete } from '../common/operations';\nimport { cutFiles, addBlur, openSearchFolder, copyFiles, removeActive, pasteHandler, getPathObject, getName } from '../common/index';\nimport { hasReadAccess, hasEditAccess, hasDownloadAccess, doRename, getAccessClass, createDeniedDialog, rename } from '../common/index';\nimport { createVirtualDragElement, dragStopHandler, dragStartHandler, draggingHandler, getModule, getFullPath } from '../common/index';\nimport { getDirectoryPath, updateRenamingData, getItemName, doDeleteFiles, doDownloadFiles } from '../common/index';\n/* eslint-disable @typescript-eslint/no-explicit-any */\n/**\n * DetailsView module\n */\nvar DetailsView = /** @class */function () {\n  /**\n   * Constructor for the GridView module\n   *\n   * @param {FileManager} parent - specifies the parent.\n   * @hidden\n   */\n  function DetailsView(parent) {\n    this.isInteracted = true;\n    this.interaction = true;\n    this.isPasteOperation = false;\n    this.isColumnRefresh = false;\n    this.dragObj = null;\n    this.startIndex = null;\n    this.firstItemIndex = null;\n    this.isSelectionUpdate = false;\n    this.currentSelectedItem = [];\n    this.count = 0;\n    this.isRendered = true;\n    this.isLoaded = false;\n    this.isNameWidth = false;\n    this.isMultiSelect = false;\n    this.pasteOperation = false;\n    this.uploadOperation = false;\n    Grid.Inject(Resize, ContextMenu, Sort, VirtualScroll);\n    this.parent = parent;\n    this.element = select('#' + this.parent.element.id + CLS.GRID_ID, this.parent.element);\n    this.addEventListener();\n    this.keyConfigs = {\n      altEnter: 'alt+enter',\n      esc: 'escape',\n      tab: 'tab',\n      moveDown: 'downarrow',\n      ctrlEnd: 'ctrl+end',\n      ctrlHome: 'ctrl+home',\n      ctrlDown: 'ctrl+downarrow',\n      ctrlLeft: 'ctrl+leftarrow',\n      ctrlRight: 'ctrl+rightarrow',\n      shiftEnd: 'shift+end',\n      shiftHome: 'shift+home',\n      shiftDown: 'shift+downarrow',\n      shiftUp: 'shift+uparrow',\n      ctrlUp: 'ctrl+uparrow',\n      csEnd: 'ctrl+shift+end',\n      csHome: 'ctrl+shift+home',\n      csDown: 'ctrl+shift+downarrow',\n      csUp: 'ctrl+shift+uparrow',\n      space: 'space',\n      ctrlSpace: 'ctrl+space',\n      shiftSpace: 'shift+space',\n      csSpace: 'ctrl+shift+space',\n      end: 'end',\n      home: 'home',\n      moveUp: 'uparrow',\n      del: 'delete',\n      ctrlX: this.parent.isMac ? 'cmd+x' : 'ctrl+x',\n      ctrlC: this.parent.isMac ? 'cmd+c' : 'ctrl+c',\n      ctrlV: this.parent.isMac ? 'cmd+v' : 'ctrl+v',\n      ctrlShiftN: 'ctrl+shift+n',\n      shiftdel: 'shift+delete',\n      ctrlD: 'ctrl+d',\n      f2: 'f2',\n      ctrlA: 'ctrl+a',\n      enter: 'enter',\n      back: 'backspace'\n    };\n  }\n  /* istanbul ignore next */\n  DetailsView.prototype.render = function (args) {\n    var _this = this;\n    showSpinner(this.parent.element);\n    if (this.parent.view === 'Details') {\n      removeClass([this.parent.element], CLS.MULTI_SELECT);\n      var items = getSortedData(this.parent, args.files);\n      this.checkNameWidth();\n      var columns = this.getColumns();\n      var sortSettings = void 0;\n      var isValidSortField = !isNullOrUndefined(columns) && columns.findIndex(function (col) {\n        return col.field === _this.parent.sortBy;\n      }) !== -1;\n      if (this.parent.isMobile || !isValidSortField) {\n        sortSettings = [];\n      } else {\n        if (this.parent.sortOrder !== 'None') {\n          sortSettings = [{\n            direction: this.parent.sortOrder,\n            field: this.parent.sortBy\n          }];\n        }\n      }\n      this.gridObj = new Grid({\n        dataSource: items,\n        allowSorting: true,\n        rowSelecting: this.onSelection.bind(this, 'select'),\n        rowDeselecting: this.onSelection.bind(this, 'unselect'),\n        rowSelected: this.onSelected.bind(this),\n        rowDeselected: this.onDeSelection.bind(this),\n        allowResizing: this.parent.detailsViewSettings.columnResizing,\n        selectionSettings: {\n          type: this.parent.allowMultiSelection ? 'Multiple' : 'Single',\n          checkboxMode: 'ResetOnRowClick'\n        },\n        enableRtl: this.parent.enableRtl,\n        pageSettings: {\n          pageSize: 20\n        },\n        enableVirtualization: this.parent.enableVirtualization,\n        enablePersistence: this.parent.enablePersistence,\n        enableVirtualMaskRow: true,\n        sortSettings: {\n          allowUnsort: false,\n          columns: sortSettings\n        },\n        columns: columns,\n        recordDoubleClick: this.DblClickEvents.bind(this),\n        beforeDataBound: this.onBeforeDataBound.bind(this),\n        dataBound: this.onDataBound.bind(this),\n        rowDataBound: this.onRowDataBound.bind(this),\n        actionBegin: this.onActionBegin.bind(this),\n        headerCellInfo: this.onHeaderCellInfo.bind(this),\n        width: '100%',\n        height: this.parent.enableVirtualization ? this.getGridHeight() : 'auto',\n        beforeCopy: function (args) {\n          args.cancel = true;\n        },\n        load: function () {\n          this.focusModule.destroy();\n        },\n        locale: this.parent.locale\n      });\n      if (this.parent.isReact) {\n        this.gridObj.isReact = true;\n        this.gridObj.portals = [];\n        this.gridObj.on('reactTemplateRender', this.reactTemplateRender, this);\n      }\n      this.gridObj.isStringTemplate = true;\n      this.gridObj.appendTo('#' + this.parent.element.id + CLS.GRID_ID);\n      this.wireEvents();\n      this.adjustHeight();\n      this.emptyArgs = args;\n    }\n  };\n  DetailsView.prototype.reactTemplateRender = function (args) {\n    this.parent['portals'] = args;\n    if (this.parent.portals && this.parent.toolbarModule && this.parent.toolbarModule.toolbarObj && this.parent.toolbarModule.toolbarObj.portals) {\n      this.parent['portals'] = this.parent['portals'].concat(this.parent.toolbarModule.toolbarObj.portals);\n    }\n    this.parent.notify('renderReactTemplate', this.parent['portals']);\n    this.parent['renderReactTemplates']();\n  };\n  /**\n   * Gets the grid height.\n   *\n   * @returns {number} - The grid height.\n   * @private\n   */\n  DetailsView.prototype.getGridHeight = function () {\n    // Get the content pane and breadcrumb bar elements\n    var pane = select('#' + this.parent.element.id + CLS.CONTENT_ID, this.parent.element);\n    var bar = select('#' + this.parent.element.id + CLS.BREADCRUMBBAR_ID, this.parent.element);\n    // The maximum height of the header is 36\n    var headerMaxHeight = 36;\n    // Calculate and return the grid height\n    return pane.offsetHeight - bar.offsetHeight - headerMaxHeight;\n  };\n  DetailsView.prototype.checkNameWidth = function () {\n    var initialColumn = this.parent.detailsViewSettings.columns;\n    this.isNameWidth = false;\n    for (var i = 0; i < initialColumn.length; i++) {\n      if (initialColumn[i].field === 'name') {\n        this.isNameWidth = !isNOU(initialColumn[i].width);\n        return;\n      }\n    }\n  };\n  DetailsView.prototype.adjustWidth = function (columns, fieldName) {\n    if (this.isNameWidth && fieldName === 'name') {\n      return;\n    }\n    for (var i = 0; i < columns.length; i++) {\n      if (columns[i].field === fieldName) {\n        var nameWidth = void 0;\n        if (this.parent.breadcrumbbarModule.searchObj.element.value === '' && !this.parent.isFiltered) {\n          nameWidth = this.element.clientWidth <= 500 ? '120px' : 'auto';\n        } else {\n          nameWidth = this.element.clientWidth <= 680 ? fieldName === 'name' ? '120px' : '180px' : 'auto';\n        }\n        columns[i].width = nameWidth;\n      }\n    }\n  };\n  DetailsView.prototype.getColumns = function () {\n    var columns;\n    var enableHtmlSanitizer = this.parent.enableHtmlSanitizer;\n    if (this.parent.isMobile) {\n      columns = [{\n        field: 'name',\n        headerText: getLocaleText(this.parent, 'Name'),\n        width: 'auto',\n        minWidth: 120,\n        headerTextAlign: 'Left',\n        template: initializeCSPTemplate(function (data) {\n          var name = enableHtmlSanitizer ? SanitizeHtmlHelper.sanitize(data.name) : data.name;\n          return \"<div class=\\\"e-fe-text\\\">\" + name + \"</div><div class=\\\"e-fe-date\\\">\" + data._fm_modified + \"</div><span class=\\\"e-fe-size\\\">\" + data.size + \"</span>\";\n        })\n      }];\n    } else {\n      columns = extend([], this.parent.detailsViewSettings.columns, null, true);\n      this.adjustWidth(columns, 'name');\n      var _loop_1 = function (i, len) {\n        columns[i].headerText = getLocaleText(this_1.parent, columns[i].headerText);\n        if (columns[i].field === 'name' && !isNOU(columns[i].template) && !(typeof columns[i].template === 'function')) {\n          var template_1 = columns[i].template;\n          columns[i].template = initializeCSPTemplate(function (data) {\n            var name = enableHtmlSanitizer ? SanitizeHtmlHelper.sanitize(data.name) : data.name;\n            return template_1.replace(/\\${name}/g, name);\n          });\n        }\n      };\n      var this_1 = this;\n      for (var i = 0, len = columns.length; i < len; i++) {\n        _loop_1(i, len);\n      }\n    }\n    var iWidth = this.parent.isMobile || this.parent.isBigger ? '54' : '46';\n    var icon = {\n      field: 'type',\n      width: iWidth,\n      minWidth: iWidth,\n      template: initializeCSPTemplate(function (data) {\n        return \"<span class=\\\"e-fe-icon \" + data._fm_iconClass + \"\\\"></span>\";\n      }),\n      allowResizing: false,\n      allowSorting: true,\n      customAttributes: {\n        class: 'e-fe-grid-icon'\n      },\n      headerTemplate: initializeCSPTemplate(function () {\n        return '<span class=\\'e-fe-icon e-fe-folder\\'></span>';\n      })\n    };\n    columns.unshift(icon);\n    if (this.parent.showItemCheckBoxes) {\n      var cWidth = this.parent.isBigger ? '36' : '26';\n      var cBox = {\n        type: 'checkbox',\n        width: cWidth,\n        minWidth: cWidth,\n        customAttributes: {\n          class: 'e-fe-checkbox'\n        },\n        allowResizing: false,\n        allowSorting: false\n      };\n      if (this.parent.isMobile) {\n        columns.push(cBox);\n      } else {\n        columns.unshift(cBox);\n      }\n    }\n    for (var i = 0, len = columns.length; i < len; i++) {\n      columns[i].disableHtmlEncode = !this.parent.enableHtmlSanitizer;\n    }\n    if (this.parent.enableRangeSelection) {\n      var HiddenName = {\n        field: 'name',\n        visible: false,\n        customAttributes: {\n          class: 'e-drag-text'\n        }\n      };\n      columns.push(HiddenName);\n    }\n    return columns;\n  };\n  DetailsView.prototype.adjustHeight = function () {\n    if (!this.gridObj) {\n      return;\n    }\n    var pane = select('#' + this.parent.element.id + CLS.CONTENT_ID, this.parent.element);\n    var bar = select('#' + this.parent.element.id + CLS.BREADCRUMBBAR_ID, this.parent.element);\n    var gridHeader = select('.' + CLS.GRID_HEADER, this.parent.element);\n    var height = pane.offsetHeight - bar.offsetHeight - gridHeader.offsetHeight;\n    this.gridObj.height = height;\n    this.gridObj.dataBind();\n  };\n  DetailsView.prototype.renderCheckBox = function () {\n    this.gridObj.columns = this.getColumns();\n    this.isColumnRefresh = true;\n    this.gridObj.refreshColumns();\n  };\n  DetailsView.prototype.onRowDataBound = function (args) {\n    var td = select('.e-fe-grid-name', args.row);\n    if (!td) {\n      var columns = this.parent.detailsViewSettings.columns;\n      for (var i = 0; i < columns.length; i++) {\n        if (columns[i].field === 'name') {\n          td = args.row.children[this.parent.allowMultiSelection ? i + 2 : i + 1];\n          break;\n        }\n      }\n    }\n    if (td) {\n      td.setAttribute('title', getValue('name', args.data));\n    }\n    if (this.parent.isLayoutChange && this.parent.isCut && this.parent.fileAction === 'move' && this.parent.selectedNodes && this.parent.selectedNodes.length !== 0) {\n      if (this.parent.selectedNodes.indexOf(getValue('name', args.data)) !== -1) {\n        addBlur(args.row);\n      }\n    }\n    if (!this.parent.showFileExtension && getValue('isFile', args.data)) {\n      var text = getValue('name', args.data);\n      var textEle = args.row.querySelector('[title= \"' + text + '\"]');\n      if (textEle) {\n        var name_1 = getValue('name', args.data);\n        var type = getValue('type', args.data);\n        if (name_1.indexOf(type) !== -1) {\n          textEle.innerHTML = name_1.substr(0, name_1.length - type.length);\n        }\n      }\n    }\n    if (getValue('size', args.data) !== undefined && args.row.querySelector('.e-fe-size')) {\n      var sizeEle = args.row.querySelector('.e-fe-size');\n      var modifiedSize = void 0;\n      if (!getValue('isFile', args.data)) {\n        modifiedSize = '';\n      } else {\n        var sizeValue = getValue('size', args.data);\n        var intl = new Internationalization(this.parent.locale);\n        var sizeFormat = void 0;\n        var columns = this.parent.detailsViewSettings.columns;\n        for (var i = 0; i < columns.length; i++) {\n          if (columns[i].field === 'size') {\n            sizeFormat = !isNullOrUndefined(columns[i].format) ? columns[i].format.toString() : 'n';\n            break;\n          }\n        }\n        var value = intl.formatNumber(sizeValue / 1024, {\n          format: sizeFormat\n        });\n        modifiedSize = value + ' ' + getLocaleText(this.parent, 'KB');\n      }\n      sizeEle.innerHTML = modifiedSize;\n    }\n    if (this.parent.isMobile) {\n      if (getValue('_fm_modified', args.data) !== undefined && args.row.querySelector('.e-fe-date')) {\n        var dateEle = args.row.querySelector('.e-fe-date');\n        var intl = new Internationalization(this.parent.locale);\n        var columns = this.parent.detailsViewSettings.columns;\n        var format = void 0;\n        for (var i = 0; i < columns.length; i++) {\n          if (columns[i].field === 'dateModified') {\n            format = columns[i].format;\n            break;\n          }\n        }\n        var formattedString = intl.formatDate(new Date(getValue('_fm_modified', args.data)), format);\n        dateEle.innerHTML = formattedString;\n      }\n    }\n    var checkWrap = args.row.querySelector('.' + CLS.CB_WRAP);\n    if (checkWrap) {\n      checkWrap.classList.add('e-small');\n    }\n    if (!hasEditAccess(args.data)) {\n      args.row.className += ' ' + getAccessClass(args.data);\n    }\n    var eventArgs = {\n      element: args.row,\n      fileDetails: args.data,\n      module: 'DetailsView'\n    };\n    this.parent.trigger('fileLoad', eventArgs);\n  };\n  DetailsView.prototype.onActionBegin = function (args) {\n    if (args.requestType === 'sorting') {\n      this.parent.setProperties({\n        sortOrder: args.direction\n      }, true);\n      this.parent.setProperties({\n        sortBy: args.columnName\n      }, true);\n      if (this.parent.selectedItems.length !== 0) {\n        this.sortItem = true;\n        var rows = this.gridObj.getSelectedRowIndexes();\n        var len = rows.length;\n        this.sortSelectedNodes = [];\n        while (len > 0) {\n          var data = this.gridObj.getRowsObject()[rows[len - 1]].data;\n          this.sortSelectedNodes.push(getValue(this.parent.hasId ? 'id' : 'name', data));\n          len--;\n        }\n      }\n      this.parent.notify(events.sortByChange, {});\n    }\n  };\n  DetailsView.prototype.onHeaderCellInfo = function (args) {\n    var checkWrap = args.node.querySelector('.' + CLS.CB_WRAP);\n    if (checkWrap) {\n      checkWrap.classList.add('e-small');\n    }\n  };\n  DetailsView.prototype.onBeforeDataBound = function (args) {\n    var _this = this;\n    showSpinner(this.parent.element);\n    var nameColumn = this.parent.detailsViewSettings.columns.find(function (column) {\n      return column.field === _this.parent.sortBy;\n    });\n    if (nameColumn && !('sortComparer' in nameColumn)) {\n      var items = getSortedData(this.parent, this.parent.enableVirtualization ? args.result : this.gridObj.dataSource);\n      args.result = items;\n    }\n  };\n  /* istanbul ignore next */\n  DetailsView.prototype.onDataBound = function () {\n    this.createDragObj();\n    if (this.parent.selectedItems.length !== 0 && !this.parent.enableVirtualization || this.parent.selectedItems.length !== 0 && this.parent.enableVirtualization && this.element.querySelector('.e-content').scrollTop === 0) {\n      this.selectRecords(this.parent.selectedItems);\n    }\n    if (this.isPasteOperation === true && !isNullOrUndefined(this.gridObj.getDataRows()) && this.gridObj.getDataRows().length > 0) {\n      if (!this.isColumnRefresh) {\n        this.selectRecords(this.parent.pasteNodes);\n        this.isPasteOperation = false;\n      } else {\n        this.isColumnRefresh = false;\n      }\n    }\n    if (this.parent.createdItem) {\n      this.selectRecords([getValue(this.parent.hasId ? 'id' : 'name', this.parent.createdItem)]);\n      this.parent.createdItem = null;\n    }\n    if (this.parent.layoutSelectedItems.length) {\n      this.selectRecords(this.parent.layoutSelectedItems);\n    }\n    if (this.parent.renamedItem) {\n      this.addSelection(this.parent.renamedItem);\n      this.parent.renamedItem = null;\n    }\n    if (this.sortItem === true) {\n      this.selectRecords(this.sortSelectedNodes);\n      this.sortItem = false;\n    }\n    if (this.isSelectionUpdate) {\n      if (!this.isColumnRefresh) {\n        this.selectRecords(this.currentSelectedItem);\n        this.isSelectionUpdate = false;\n      } else {\n        this.isColumnRefresh = false;\n      }\n    }\n    if (this.uploadOperation === true) {\n      this.count++;\n      this.selectRecords(this.parent.uploadItem);\n      if (this.count === this.parent.uploadItem.length) {\n        this.uploadOperation = false;\n        this.parent.uploadItem = [];\n      }\n    }\n    if (this.gridObj.currentViewData.length * this.gridObj.getRowHeight() < this.gridObj.height) {\n      var hdTable = this.gridObj.getHeaderContent();\n      hdTable.style.paddingRight = '';\n      hdTable.style.paddingLeft = '';\n      var hdContent = select('.e-headercontent', hdTable);\n      hdContent.style.borderRightWidth = '0';\n      var cnTable = this.gridObj.getContent().querySelector('.e-content');\n      cnTable.style.overflowY = '';\n      cnTable.classList.add('e-scrollShow');\n    } else {\n      var hdTable = this.gridObj.getHeaderContent();\n      if (!this.parent.enableRtl) {\n        hdTable.style.paddingRight = '16px';\n      } else {\n        hdTable.style.paddingLeft = '16px';\n      }\n      var cnTable = this.gridObj.getContent().querySelector('.e-content');\n      cnTable.classList.remove('e-scrollShow');\n    }\n    this.isRendered = true;\n    this.parent.isLayoutChange = false;\n    hideSpinner(this.parent.element);\n    this.checkEmptyDiv(this.emptyArgs);\n    this.isInteracted = this.isLoaded ? true : this.isInteracted;\n    this.isLoaded = false;\n  };\n  DetailsView.prototype.selectRecords = function (nodes) {\n    var gridRecords = this.gridObj.getCurrentViewRecords();\n    var sRecords = [];\n    for (var i = 0, len = gridRecords.length; i < len; i++) {\n      var node = this.parent.hasId ? getValue('id', gridRecords[i]) : getName(this.parent, gridRecords[i]);\n      if (nodes.indexOf(node) !== -1) {\n        sRecords.push(i);\n      } else if (!this.parent.showFileExtension && !this.parent.hasId && node.includes('.')) {\n        var Str2 = node.split('.').slice(0, -1).join('.');\n        if (nodes.indexOf(Str2) !== -1) {\n          sRecords.push(i);\n        }\n      }\n    }\n    if (sRecords.length !== 0) {\n      this.gridObj.selectRows(sRecords);\n      this.addFocus(this.gridObj.selectedRowIndex);\n    }\n  };\n  DetailsView.prototype.addSelection = function (data) {\n    var items = this.gridObj.getCurrentViewRecords();\n    var rData = [];\n    if (this.parent.hasId) {\n      rData = new DataManager(items).executeLocal(new Query().where('id', 'equal', this.parent.renamedId, false));\n    } else {\n      var nData = new DataManager(items).executeLocal(new Query().where('name', 'equal', getValue('name', data), false));\n      if (nData.length > 0) {\n        rData = new DataManager(nData).executeLocal(new Query().where('filterPath', 'equal', this.parent.filterPath, false));\n      }\n    }\n    if (rData.length > 0) {\n      var index = items.indexOf(rData[0]);\n      this.gridObj.selectRows([index]);\n    }\n  };\n  DetailsView.prototype.onSortColumn = function () {\n    if (this.parent.sortOrder !== 'None') {\n      this.gridObj.sortModule.sortColumn(this.parent.sortBy, this.parent.sortOrder);\n    } else {\n      this.gridObj.dataSource = getSortedData(this.parent, this.gridObj.dataSource);\n    }\n    if (this.element.querySelector('.e-content').scrollTop !== 0) {\n      this.gridObj.freezeRefresh();\n    }\n  };\n  DetailsView.prototype.onPropertyChanged = function (e) {\n    if (e.module !== this.getModuleName() && e.module !== 'common') {\n      /* istanbul ignore next */\n      return;\n    }\n    for (var _i = 0, _a = Object.keys(e.newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n      switch (prop) {\n        case 'allowDragAndDrop':\n          this.createDragObj();\n          break;\n        case 'height':\n          this.adjustHeight();\n          break;\n        case 'detailsViewSettings':\n          if (!isNullOrUndefined(this.gridObj)) {\n            this.checkNameWidth();\n            var columns = this.getColumns();\n            this.gridObj.columns = columns;\n            this.gridObj.allowResizing = this.parent.detailsViewSettings.columnResizing;\n            this.gridObj.dataBind();\n            this.gridObj.refreshColumns();\n          }\n          break;\n        case 'selectedItems':\n          this.interaction = false;\n          if (this.parent.selectedItems.length !== 0) {\n            if (!this.parent.allowMultiSelection) {\n              var slItems = this.parent.selectedItems.slice(this.parent.selectedItems.length - 1);\n              this.parent.setProperties({\n                selectedItems: slItems\n              }, true);\n            }\n            this.selectRecords(this.parent.selectedItems);\n            this.parent.setProperties({\n              selectedItems: this.parent.selectedItems\n            }, true);\n          } else if (!isNOU(this.gridObj)) {\n            this.gridObj.clearSelection();\n            this.interaction = true;\n          }\n          break;\n        case 'showFileExtension':\n          read(this.parent, events.pathChanged, this.parent.path);\n          break;\n        case 'showHiddenItems':\n          read(this.parent, events.pathChanged, this.parent.path);\n          break;\n        case 'showItemCheckBoxes':\n        case 'allowMultiSelection':\n          if (!isNullOrUndefined(this.gridObj)) {\n            this.currentSelectedItem = this.parent.selectedItems;\n            this.gridObj.selectionSettings.type = e.newProp.allowMultiSelection ? 'Multiple' : 'Single';\n            this.isSelectionUpdate = true;\n            this.renderCheckBox();\n          }\n          break;\n        case 'view':\n          updateLayout(this.parent, 'Details');\n          break;\n        case 'width':\n          this.onDetailsResize();\n      }\n    }\n  };\n  DetailsView.prototype.onPathChanged = function (args) {\n    this.parent.isCut = false;\n    var pathField = this.parent.detailsViewSettings.columns.find(function (column) {\n      return column.field === 'filterPath';\n    });\n    if (this.parent.breadcrumbbarModule.searchObj.element.value.trim() === '' && this.gridObj || !isNullOrUndefined(pathField) && !isNullOrUndefined(pathField.hideAtMedia) && pathField.hideAtMedia !== '') {\n      this.parent.searchedItems = [];\n      if (!this.parent.isFiltered) {\n        this.removePathColumn(false);\n      } else {\n        this.updatePathColumn();\n      }\n    }\n    removeBlur(this.parent);\n    if (this.parent.view === 'Details') {\n      /* istanbul ignore next */\n      this.isInteracted = false;\n      showSpinner(this.parent.element);\n      this.parent.setProperties({\n        selectedItems: []\n      }, true);\n      this.gridObj.dataSource = getSortedData(this.parent, args.files);\n      this.gridObj.freezeRefresh();\n      if (this.parent.isReact) {\n        this.gridObj.on('reactTemplateRender', this.reactTemplateRender, this);\n      }\n    }\n    this.emptyArgs = args;\n  };\n  DetailsView.prototype.updatePathColumn = function () {\n    var len = this.gridObj.columns.length;\n    var columnData = JSON.parse(JSON.stringify(this.gridObj.columns));\n    if (columnData[len - 1].field && columnData[len - 1].field !== 'filterPath' && !this.parent.isMobile) {\n      var pathColumn = {\n        field: 'filterPath',\n        headerText: getLocaleText(this.parent, 'Path'),\n        minWidth: 180,\n        width: 'auto'\n      };\n      this.gridObj.columns.push(pathColumn);\n      this.adjustWidth(this.gridObj.columns, 'filterPath');\n      this.adjustWidth(this.gridObj.columns, 'name');\n      this.isColumnRefresh = true;\n      this.gridObj.refreshColumns();\n    }\n  };\n  DetailsView.prototype.checkEmptyDiv = function (args) {\n    var items = getSortedData(this.parent, args.files);\n    if (items.length === 0 && !isNOU(this.element.querySelector('.' + CLS.GRID_VIEW))) {\n      createEmptyElement(this.parent, this.element, args);\n    } else if (items.length !== 0 && this.element.querySelector('.' + CLS.EMPTY)) {\n      if (this.element.querySelector('.' + CLS.GRID_VIEW).querySelector('.' + CLS.EMPTY)) {\n        var emptyDiv = this.element.querySelector('.' + CLS.GRID_VIEW).querySelector('.' + CLS.EMPTY);\n        this.element.querySelector('.' + CLS.GRID_VIEW).removeChild(emptyDiv);\n      } else {\n        this.element.removeChild(this.element.querySelector('.' + CLS.EMPTY));\n      }\n    }\n  };\n  DetailsView.prototype.onOpenInit = function () {\n    if (this.parent.activeModule === 'detailsview') {\n      var data = this.gridObj.getSelectedRecords()[0];\n      this.openContent(data);\n    }\n  };\n  DetailsView.prototype.DblClickEvents = function (args) {\n    this.gridObj.selectRows([args.rowIndex]);\n    var data;\n    if (args.rowData) {\n      data = JSON.parse(JSON.stringify(args.rowData));\n      this.openContent(data);\n    }\n  };\n  DetailsView.prototype.openContent = function (data) {\n    var _this = this;\n    if (!hasReadAccess(data)) {\n      createDeniedDialog(this.parent, data, events.permissionRead);\n      return;\n    }\n    var eventArgs = {\n      cancel: false,\n      fileDetails: data,\n      module: 'DetailsView'\n    };\n    this.parent.trigger('fileOpen', eventArgs, function (fileOpenArgs) {\n      if (!fileOpenArgs.cancel) {\n        var name_2 = getValue('name', data);\n        if (getValue('isFile', data)) {\n          var icon = fileType(data);\n          if (icon === CLS.ICON_IMAGE) {\n            var imgUrl = getImageUrl(_this.parent, data);\n            createImageDialog(_this.parent, name_2, imgUrl);\n          }\n        } else {\n          var val = _this.parent.breadcrumbbarModule.searchObj.element.value;\n          if (val === '' && !_this.parent.isFiltered) {\n            var id = getValue('id', data);\n            _this.parent.oldPath = _this.parent.path;\n            var newPath = _this.parent.path + (isNOU(id) ? name_2 : id) + '/';\n            _this.parent.setProperties({\n              path: newPath\n            }, true);\n            _this.parent.pathNames.push(name_2);\n            _this.parent.pathId.push(getValue('_fm_id', data));\n            _this.parent.itemData = [data];\n            openAction(_this.parent);\n          } else {\n            openSearchFolder(_this.parent, data);\n          }\n          _this.parent.isFiltered = false;\n        }\n        _this.element.focus();\n        if (_this.parent.enableVirtualization) {\n          _this.parent.element.querySelector('#' + _this.parent.element.id + CLS.IMG_DIALOG_ID).focus();\n        }\n      }\n    });\n  };\n  /* istanbul ignore next */\n  DetailsView.prototype.onLayoutChange = function (args) {\n    if (this.parent.view === 'Details') {\n      if (this.parent.enableVirtualization) {\n        this.parent.setProperties({\n          selectedItems: []\n        }, true);\n      }\n      if (!this.gridObj) {\n        this.render(args);\n      } else {\n        this.isLoaded = true;\n      }\n      if (this.parent.isFiltered) {\n        this.updatePathColumn();\n        this.parent.setProperties({\n          selectedItems: []\n        }, true);\n      }\n      this.gridObj.dataSource = getSortedData(this.parent, args.files);\n      this.parent.notify(events.hideLayout, {});\n      this.gridObj.element.classList.remove(CLS.DISPLAY_NONE);\n      this.isInteracted = false;\n      this.gridObj.clearSelection();\n      if (this.parent.breadcrumbbarModule.searchObj.element.value.trim() !== '') {\n        this.onSearchFiles(args);\n      }\n      this.adjustHeight();\n      if (this.gridObj.sortSettings.columns.length > 0 && this.gridObj.sortSettings.columns[0].field !== this.parent.sortBy) {\n        if (this.parent.sortOrder !== 'None') {\n          this.gridObj.sortColumn(this.parent.sortBy, this.parent.sortOrder);\n        }\n      }\n    }\n  };\n  /* istanbul ignore next */\n  DetailsView.prototype.onSearchFiles = function (args) {\n    if (this.parent.view === 'Details') {\n      this.parent.setProperties({\n        selectedItems: []\n      }, true);\n      this.parent.notify(events.selectionChanged, {});\n      if (!this.parent.isLayoutChange) {\n        this.parent.layoutSelectedItems = [];\n      }\n      this.updatePathColumn();\n      this.parent.searchedItems = args.files;\n      this.onPathChanged(args);\n    }\n  };\n  DetailsView.prototype.removePathColumn = function (isRefresh) {\n    var len = this.gridObj.columns.length;\n    var columnData = JSON.parse(JSON.stringify(this.gridObj.columns));\n    if (columnData[len - 1].field && columnData[len - 1].field === 'filterPath') {\n      /* istanbul ignore next */\n      if (!isNullOrUndefined(this.gridObj.sortSettings.columns[0]) && this.gridObj.sortSettings.columns[0].field === 'filterPath') {\n        if (this.parent.sortOrder !== 'None') {\n          this.gridObj.sortColumn('name', this.parent.sortOrder);\n        } else {\n          this.gridObj.dataSource = getSortedData(this.parent, this.gridObj.dataSource);\n        }\n        this.parent.notify(events.sortByChange, {});\n      }\n      this.gridObj.columns.pop();\n      if (!isRefresh) {\n        this.isColumnRefresh = true;\n        this.gridObj.refreshColumns();\n      }\n    }\n  };\n  DetailsView.prototype.onFinalizeEnd = function (args) {\n    if (this.parent.view !== 'Details') {\n      return;\n    }\n    if (!this.gridObj) {\n      this.render(args);\n    } else {\n      this.onPathChanged(args);\n    }\n  };\n  DetailsView.prototype.onCreateEnd = function (args) {\n    if (this.parent.view !== 'Details') {\n      return;\n    }\n    this.onPathChanged(args);\n  };\n  DetailsView.prototype.onRenameInit = function () {\n    if (this.parent.activeModule === 'detailsview' && this.parent.selectedItems.length === 1) {\n      this.updateRenameData();\n    }\n  };\n  DetailsView.prototype.onSelectedData = function () {\n    if (this.parent.activeModule === 'detailsview') {\n      this.parent.itemData = this.gridObj.getSelectedRecords();\n    }\n  };\n  DetailsView.prototype.onDeleteInit = function () {\n    if (this.parent.activeModule === 'detailsview') {\n      Delete(this.parent, this.parent.selectedItems, this.parent.path, 'delete');\n    }\n  };\n  /* istanbul ignore next */\n  DetailsView.prototype.onDeleteEnd = function (args) {\n    if (this.parent.view !== 'Details') {\n      return;\n    }\n    this.onPathChanged(args);\n    this.parent.setProperties({\n      selectedItems: []\n    }, true);\n  };\n  DetailsView.prototype.onRefreshEnd = function (args) {\n    if (this.parent.view !== 'Details') {\n      return;\n    }\n    this.isInteracted = false;\n    this.removePathColumn(false);\n    this.gridObj.dataSource = getSortedData(this.parent, args.files);\n    this.emptyArgs = args;\n  };\n  DetailsView.prototype.onHideLayout = function () {\n    if (this.parent.view !== 'Details' && this.gridObj) {\n      this.gridObj.element.classList.add(CLS.DISPLAY_NONE);\n    }\n  };\n  DetailsView.prototype.onSelectAllInit = function () {\n    if (this.parent.view === 'Details') {\n      this.isInteracted = false;\n      if (this.parent.allowMultiSelection) {\n        this.gridObj.selectionModule.selectRowsByRange(0, this.gridObj.getRows().length);\n      } else {\n        this.gridObj.selectRow(this.gridObj.getRows().length - 1);\n      }\n      this.isInteracted = true;\n      this.interaction = true;\n    }\n  };\n  DetailsView.prototype.onClearAllInit = function () {\n    if (this.parent.view === 'Details') {\n      this.removeSelection();\n      this.interaction = true;\n    }\n  };\n  /* istanbul ignore next */\n  DetailsView.prototype.onSelectionChanged = function () {\n    removeClass([this.element], CLS.HEADER_CHECK);\n    if (this.parent.selectedItems.length > 0) {\n      addClass([this.element], CLS.HEADER_CHECK);\n    }\n  };\n  DetailsView.prototype.onLayoutRefresh = function () {\n    if (this.parent.view !== 'Details') {\n      return;\n    }\n    this.adjustHeight();\n  };\n  DetailsView.prototype.onBeforeRequest = function () {\n    this.isRendered = false;\n  };\n  DetailsView.prototype.onAfterRequest = function () {\n    this.isRendered = true;\n  };\n  DetailsView.prototype.onUpdateSelectionData = function () {\n    if (this.parent.view !== 'Details') {\n      return;\n    }\n    this.parent.itemData = this.gridObj.getSelectedRecords();\n  };\n  DetailsView.prototype.addEventListener = function () {\n    this.parent.on(events.finalizeEnd, this.onFinalizeEnd, this);\n    this.parent.on(events.destroy, this.destroy, this);\n    this.parent.on(events.layoutChange, this.onLayoutChange, this);\n    this.parent.on(events.pathChanged, this.onPathChanged, this);\n    this.parent.on(events.createEnd, this.onCreateEnd, this);\n    this.parent.on(events.dropInit, this.onDropInit, this);\n    this.parent.on(events.detailsInit, this.onDetailsInit, this);\n    this.parent.on(events.refreshEnd, this.onRefreshEnd, this);\n    this.parent.on(events.search, this.onSearchFiles, this);\n    this.parent.on(events.methodCall, this.onMethodCall, this);\n    this.parent.on(events.actionFailure, this.onActionFailure, this);\n    this.parent.on(events.modelChanged, this.onPropertyChanged, this);\n    this.parent.on(events.deleteInit, this.onDeleteInit, this);\n    this.parent.on(events.deleteEnd, this.onDeleteEnd, this);\n    this.parent.on(events.selectedData, this.onSelectedData, this);\n    this.parent.on(events.renameInit, this.onRenameInit, this);\n    this.parent.on(events.renameEnd, this.onPathChanged, this);\n    this.parent.on(events.openInit, this.onOpenInit, this);\n    this.parent.on(events.sortColumn, this.onSortColumn, this);\n    this.parent.on(events.openEnd, this.onPathChanged, this);\n    this.parent.on(events.filterEnd, this.onPathChanged, this);\n    this.parent.on(events.pasteInit, this.onPasteInit, this);\n    this.parent.on(events.hideLayout, this.onHideLayout, this);\n    this.parent.on(events.selectAllInit, this.onSelectAllInit, this);\n    this.parent.on(events.clearAllInit, this.onClearAllInit, this);\n    this.parent.on(events.pathColumn, this.onPathColumn, this);\n    this.parent.on(events.selectionChanged, this.onSelectionChanged, this);\n    this.parent.on(events.beforeRequest, this.onBeforeRequest, this);\n    this.parent.on(events.afterRequest, this.onAfterRequest, this);\n    this.parent.on(events.pasteEnd, this.onpasteEnd, this);\n    this.parent.on(events.cutCopyInit, this.oncutCopyInit, this);\n    this.parent.on(events.menuItemData, this.onMenuItemData, this);\n    this.parent.on(events.resizeEnd, this.onDetailsResizeHandler, this);\n    this.parent.on(events.splitterResize, this.onDetailsResize, this);\n    this.parent.on(events.layoutRefresh, this.onLayoutRefresh, this);\n    this.parent.on(events.dropPath, this.onDropPath, this);\n    this.parent.on(events.updateSelectionData, this.onUpdateSelectionData, this);\n  };\n  DetailsView.prototype.removeEventListener = function () {\n    this.parent.off(events.finalizeEnd, this.onFinalizeEnd);\n    this.parent.off(events.destroy, this.destroy);\n    this.parent.off(events.layoutChange, this.onLayoutChange);\n    this.parent.off(events.pathChanged, this.onPathChanged);\n    this.parent.off(events.pasteInit, this.onPasteInit);\n    this.parent.off(events.createEnd, this.onCreateEnd);\n    this.parent.off(events.refreshEnd, this.onRefreshEnd);\n    this.parent.off(events.search, this.onSearchFiles);\n    this.parent.off(events.methodCall, this.onMethodCall);\n    this.parent.off(events.actionFailure, this.onActionFailure);\n    this.parent.off(events.modelChanged, this.onPropertyChanged);\n    this.parent.off(events.renameInit, this.onRenameInit);\n    this.parent.off(events.renameEnd, this.onPathChanged);\n    this.parent.off(events.filterEnd, this.onPathChanged);\n    this.parent.off(events.openInit, this.onOpenInit);\n    this.parent.off(events.sortColumn, this.onSortColumn);\n    this.parent.off(events.openEnd, this.onPathChanged);\n    this.parent.off(events.hideLayout, this.onHideLayout);\n    this.parent.off(events.selectAllInit, this.onSelectAllInit);\n    this.parent.off(events.clearAllInit, this.onClearAllInit);\n    this.parent.off(events.deleteInit, this.onDeleteInit);\n    this.parent.off(events.deleteEnd, this.onDeleteEnd);\n    this.parent.off(events.pathColumn, this.onPathColumn);\n    this.parent.off(events.selectionChanged, this.onSelectionChanged);\n    this.parent.off(events.beforeRequest, this.onBeforeRequest);\n    this.parent.off(events.afterRequest, this.onAfterRequest);\n    this.parent.off(events.pasteEnd, this.onpasteEnd);\n    this.parent.off(events.cutCopyInit, this.oncutCopyInit);\n    this.parent.off(events.dropInit, this.onDropInit);\n    this.parent.off(events.selectedData, this.onSelectedData);\n    this.parent.off(events.detailsInit, this.onDetailsInit);\n    this.parent.off(events.menuItemData, this.onMenuItemData);\n    this.parent.off(events.resizeEnd, this.onDetailsResizeHandler);\n    this.parent.off(events.splitterResize, this.onDetailsResize);\n    this.parent.off(events.layoutRefresh, this.onLayoutRefresh);\n    this.parent.off(events.dropPath, this.onDropPath);\n    this.parent.off(events.updateSelectionData, this.onUpdateSelectionData);\n  };\n  DetailsView.prototype.onActionFailure = function () {\n    this.interaction = true;\n  };\n  DetailsView.prototype.onMenuItemData = function (args) {\n    if (this.parent.activeModule === this.getModuleName()) {\n      this.parent.itemData = [this.gridObj.getRowInfo(args.target).rowData];\n    }\n  };\n  DetailsView.prototype.onPasteInit = function () {\n    if (this.parent.activeModule === this.getModuleName()) {\n      this.parent.itemData = this.parent.folderPath !== '' ? this.gridObj.getSelectedRecords() : [getPathObject(this.parent)];\n    }\n  };\n  DetailsView.prototype.onDetailsInit = function () {\n    if (this.parent.activeModule === this.getModuleName()) {\n      if (this.parent.selectedItems.length !== 0) {\n        this.parent.itemData = this.gridObj.getSelectedRecords();\n      } else {\n        this.parent.itemData = [getValue(this.parent.pathId[this.parent.pathId.length - 1], this.parent.feParent)];\n      }\n    }\n  };\n  DetailsView.prototype.dragHelper = function (args) {\n    var dragTarget = args.sender.target;\n    var dragLi = dragTarget.closest('tr.e-row');\n    if (!dragLi) {\n      return null;\n    }\n    var name;\n    if (dragLi.getElementsByClassName('e-fe-text')[0]) {\n      name = this.parent.hasId ? this.gridObj.getRowInfo(dragLi).rowData.id : dragLi.getElementsByClassName('e-fe-text')[0].innerText;\n    } else if (dragLi.getElementsByClassName('e-rowcell e-templatecell')[0].nextElementSibling) {\n      name = this.parent.hasId ? this.gridObj.getRowInfo(dragLi).rowData.id : dragLi.getElementsByClassName('e-rowcell e-templatecell')[0].nextElementSibling.innerText;\n    }\n    if (dragLi && !dragLi.querySelector('.e-active')) {\n      this.selectRecords([name]);\n    }\n    getModule(this.parent, dragLi);\n    this.parent.activeElements = [];\n    this.parent.dragData = [];\n    this.parent.dragData = this.gridObj.getSelectedRecords();\n    var dragRow;\n    if (this.parent.dragData.length === 0 && dragLi) {\n      dragRow = this.gridObj.getRowInfo(dragLi);\n    }\n    if (dragRow) {\n      this.parent.dragData.push(dragRow.rowData);\n    }\n    this.parent.dragPath = this.parent.path;\n    this.parent.activeElements = this.gridObj.getSelectedRows();\n    createVirtualDragElement(this.parent);\n    return this.parent.virtualDragElement;\n  };\n  /* istanbul ignore next */\n  DetailsView.prototype.onDetailsResize = function () {\n    if (this.parent.view === 'Details' && !this.parent.isMobile && !isNOU(this.gridObj)) {\n      var gridHeader = this.gridObj.getHeaderContent().querySelector('.e-headercontent');\n      var gridHeaderColGroup = gridHeader.firstChild.childNodes[0];\n      var gridContentColGroup = this.gridObj.getContent().querySelector('.e-content .e-table').children[0];\n      var gridHeaderColNames = this.gridObj.getColumns();\n      for (var i = 0; i < gridHeaderColNames.length; i++) {\n        if (!this.isNameWidth && gridHeaderColNames[i].field === 'name' || gridHeaderColNames[i].field === 'filterPath') {\n          if (this.parent.breadcrumbbarModule.searchObj.element.value === '' && !this.parent.isFiltered) {\n            if (this.element.clientWidth <= 500) {\n              gridHeaderColGroup.children[i].setAttribute('style', 'width: 120px');\n              gridContentColGroup.children[i].setAttribute('style', 'width: 120px');\n            } else if (this.element.clientWidth > 500) {\n              gridHeaderColGroup.children[i].setAttribute('style', 'width: auto');\n              gridContentColGroup.children[i].setAttribute('style', 'width: auto');\n            }\n          } else {\n            if (this.element.clientWidth <= 680) {\n              if (gridHeaderColNames[i].field === 'name') {\n                gridHeaderColGroup.children[i].setAttribute('style', 'width: 120px');\n                gridContentColGroup.children[i].setAttribute('style', 'width: 120px');\n              } else {\n                gridHeaderColGroup.children[i].setAttribute('style', 'width: 180px');\n                gridContentColGroup.children[i].setAttribute('style', 'width: 180px');\n              }\n            } else if (this.element.clientWidth > 680) {\n              gridHeaderColGroup.children[i].setAttribute('style', 'width: auto');\n              gridContentColGroup.children[i].setAttribute('style', 'width: auto');\n            }\n          }\n        }\n      }\n    }\n  };\n  DetailsView.prototype.onDetailsResizeHandler = function () {\n    this.onDetailsResize();\n    if (this.parent.view === 'Details' && !this.parent.isMobile && !isNOU(this.gridObj)) {\n      this.adjustHeight();\n    }\n  };\n  DetailsView.prototype.createDragObj = function () {\n    var _this = this;\n    if (this.gridObj) {\n      if (this.parent.allowDragAndDrop && isNullOrUndefined(this.dragObj)) {\n        this.dragObj = new Draggable(this.gridObj.element, {\n          cursorAt: this.parent.dragCursorPosition,\n          distance: 5,\n          enableTailMode: true,\n          dragArea: this.parent.element,\n          dragTarget: '.' + CLS.ROW,\n          drag: draggingHandler.bind(this, this.parent),\n          dragStart: function (args) {\n            dragStartHandler(_this.parent, args, _this.dragObj);\n          },\n          dragStop: dragStopHandler.bind(this, this.parent),\n          enableAutoScroll: false,\n          helper: this.dragHelper.bind(this)\n        });\n      } else if (!this.parent.allowDragAndDrop && this.dragObj) {\n        this.dragObj.destroy();\n        this.dragObj = null;\n      }\n    }\n  };\n  DetailsView.prototype.onDropInit = function (args) {\n    if (this.parent.targetModule === this.getModuleName()) {\n      /* istanbul ignore next */\n      var cwdData = getValue(this.parent.pathId[this.parent.pathId.length - 1], this.parent.feParent);\n      if (!args.target.closest('tr')) {\n        this.parent.dropPath = this.parent.path;\n        this.parent.dropData = cwdData;\n      } else {\n        var info = null;\n        info = this.gridObj.getRowInfo(args.target).rowData;\n        this.parent.dropPath = info.isFile ? this.parent.path : getFullPath(this.parent, info, this.parent.path);\n        this.parent.dropData = info.isFile ? cwdData : info;\n      }\n    }\n  };\n  DetailsView.prototype.oncutCopyInit = function () {\n    if (this.parent.activeModule === this.getModuleName()) {\n      this.parent.activeRecords = this.gridObj.getSelectedRecords();\n      this.parent.activeElements = this.gridObj.getSelectedRows();\n    }\n  };\n  DetailsView.prototype.onpasteEnd = function (args) {\n    if (this.parent.view === 'Details') {\n      this.isPasteOperation = true;\n      if (this.parent.path === this.parent.destinationPath || this.parent.path === getDirectoryPath(this.parent, args) || this.parent.hasId) {\n        this.onPathChanged(args);\n      }\n    }\n  };\n  DetailsView.prototype.onDropPath = function (args) {\n    if (this.parent.view === 'Details') {\n      this.isPasteOperation = true;\n      this.onPathChanged(args);\n    }\n  };\n  /**\n   * For internal use only - Get the module name.\n   *\n   * @returns {string} - returns modules name.\n   * @private\n   */\n  DetailsView.prototype.getModuleName = function () {\n    return 'detailsview';\n  };\n  DetailsView.prototype.destroy = function () {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n    this.removeEventListener();\n    if (this.gridObj) {\n      if (this.parent.isReact) {\n        this.gridObj.off('reactTemplateRender', this.reactTemplateRender);\n      }\n      this.unWireEvents();\n      this.gridObj.destroy();\n    }\n  };\n  DetailsView.prototype.updateType = function (item) {\n    var folder = select('.' + CLS.FOLDER, item);\n    this.parent.isFile = isNOU(folder) ? true : false;\n  };\n  /* istanbul ignore next */\n  DetailsView.prototype.onSelection = function (action, args) {\n    var eventArgs = {\n      action: action,\n      fileDetails: args.data,\n      isInteracted: this.interaction,\n      cancel: false,\n      target: args.target\n    };\n    this.parent.trigger('fileSelection', eventArgs);\n    args.cancel = eventArgs.cancel;\n    if (!this.isMultiSelect) {\n      this.isMultiSelect = true;\n      if ((args.isShiftPressed || args.isCtrlPressed) && !this.parent.allowMultiSelection && args.target && args.target.parentElement && !args.target.parentElement.classList.contains('e-checkbox-wrapper')) {\n        args.cancel = true;\n        var rowIndex = args && args.rowIndexes ? args.rowIndexes[args.rowIndexes.length - 1] : args.rowIndex;\n        this.gridObj.selectRow(rowIndex);\n      }\n      this.isMultiSelect = false;\n    }\n  };\n  /* istanbul ignore next */\n  DetailsView.prototype.onSelected = function (args) {\n    this.parent.activeModule = 'detailsview';\n    if (!this.parent.isLayoutChange || this.parent.isFiltered) {\n      this.selectedRecords();\n    }\n    this.parent.notify(events.selectionChanged, {});\n    if (this.gridObj.getSelectedRowIndexes().length === 1) {\n      this.firstItemIndex = this.gridObj.selectedRowIndex;\n    }\n    this.gridObj.element.setAttribute('tabindex', '-1');\n    this.triggerSelect('select', args);\n    var item = this.gridObj.getRowByIndex(this.gridObj.selectedRowIndex);\n    this.updateType(item);\n    if (!isNOU(item) && !isNOU(item.querySelector('.e-checkselect'))) {\n      if (this.gridObj.getSelectedRowIndexes().length !== 1) {\n        var lastItemIndex = this.gridObj.getSelectedRowIndexes()[this.gridObj.getSelectedRowIndexes().length - 2];\n        var lastItem = this.gridObj.getRowByIndex(lastItemIndex);\n        lastItem.querySelector('.e-checkselect').setAttribute('tabindex', '-1');\n      }\n      item.querySelector('.e-rowcell.e-fe-checkbox').removeAttribute('tabindex');\n    }\n    if (!isNOU(this.gridObj) && !isNOU(this.gridObj.element.querySelector('.e-checkselectall'))) {\n      this.gridObj.element.querySelector('.e-checkselectall').setAttribute('tabindex', '-1');\n    }\n    var rows = this.gridObj.getSelectedRowIndexes();\n    if (!this.parent.allowMultiSelection) {\n      for (var i = 0; i < rows.length; i++) {\n        if (rows[i] === this.gridObj.selectedRowIndex) {\n          this.gridObj.getRowByIndex(rows[i]).setAttribute('tabindex', '0');\n        } else {\n          this.gridObj.getRowByIndex(rows[i]).removeAttribute('tabindex');\n        }\n      }\n    }\n    var len = rows.length;\n    if (this.parent.enableVirtualization) {\n      this.parent.currentItemText = getValue('name', args.data);\n    } else if (len > 0) {\n      var data = this.gridObj.getRowsObject()[rows[len - 1]].data;\n      this.parent.currentItemText = getValue('name', data);\n    }\n    var indexes = getValue('rowIndexes', args);\n    var multiSelect = getValue('enableSelectMultiTouch', this.gridObj.selectionModule);\n    if (this.parent.isDevice && isNOU(indexes) && args.target && !multiSelect && !args.target.closest('.e-headercell')) {\n      this.parent.isFile = getValue('isFile', args.data);\n      if (!this.parent.isFile) {\n        this.openContent(args.data);\n      }\n    }\n    this.parent.visitedItem = args.row;\n    if (!this.parent.enableVirtualization || !args.isHeaderCheckboxClicked) {\n      this.addFocus(this.gridObj.selectedRowIndex);\n    }\n    if (!this.parent.isLayoutChange) {\n      this.isInteracted = true;\n    }\n  };\n  /* istanbul ignore next */\n  DetailsView.prototype.onPathColumn = function () {\n    if (this.parent.view === 'Details' && !isNOU(this.gridObj)) {\n      if (this.parent.breadcrumbbarModule.searchObj.element.value === '' && !this.parent.isFiltered) {\n        this.removePathColumn(false);\n      }\n    }\n  };\n  DetailsView.prototype.selectedRecords = function () {\n    this.parent.setProperties({\n      selectedItems: []\n    }, true);\n    var selectedRecords = this.gridSelectNodes();\n    var selectSize = 0;\n    while (selectSize < selectedRecords.length) {\n      var record = selectedRecords[selectSize];\n      var name_3 = getItemName(this.parent, record);\n      this.parent.selectedItems.push(name_3);\n      selectSize++;\n    }\n    this.parent.setProperties({\n      selectedItems: this.parent.selectedItems\n    }, true);\n  };\n  DetailsView.prototype.onDeSelection = function (args) {\n    /* istanbul ignore next */\n    if (!this.parent.allowMultiSelection && isNOU(args.data)) {\n      this.gridObj.getRowByIndex(args.rowIndex).removeAttribute('tabindex');\n    } else if (this.gridObj.getSelectedRowIndexes().length > 1) {\n      var lastItemIndex = this.gridObj.getSelectedRowIndexes()[this.gridObj.getSelectedRowIndexes().length - 2];\n      this.gridObj.getRowByIndex(lastItemIndex).querySelector('.e-checkselect').removeAttribute('tabindex');\n    }\n    if (this.gridObj.selectedRowIndex === -1) {\n      this.gridObj.element.setAttribute('tabindex', '0');\n    }\n    if (!this.isInteracted) {\n      this.isInteracted = true;\n      return;\n    }\n    this.selectedRecords();\n    if (this.parent.selectedItems.length === 0) {\n      setValue('enableSelectMultiTouch', false, this.gridObj.selectionModule);\n      removeClass([this.parent.element], CLS.MULTI_SELECT);\n    }\n    this.parent.notify(events.selectionChanged, {});\n    this.triggerSelect('unselect', args);\n    this.parent.visitedItem = null;\n  };\n  DetailsView.prototype.triggerSelect = function (action, args) {\n    var eventArgs = {\n      action: action,\n      fileDetails: args.data,\n      isInteracted: this.interaction\n    };\n    this.parent.trigger('fileSelect', eventArgs);\n    this.interaction = true;\n  };\n  DetailsView.prototype.wireEvents = function () {\n    this.wireClickEvent(true);\n    this.keyboardModule = new KeyboardEvents(this.gridObj.element, {\n      keyAction: this.keyupHandler.bind(this),\n      keyConfigs: this.keyConfigs,\n      eventName: 'keyup'\n    });\n    this.keyboardDownModule = new KeyboardEvents(this.element, {\n      keyAction: this.keydownHandler.bind(this),\n      keyConfigs: this.keyConfigs,\n      eventName: 'keydown'\n    });\n    EventHandler.add(this.gridObj.element, 'blur', this.removeFocus, this);\n    EventHandler.add(this.parent.element, 'focusout', this.onBlur, this);\n  };\n  DetailsView.prototype.unWireEvents = function () {\n    this.wireClickEvent(false);\n    this.keyboardModule.destroy();\n    this.keyboardDownModule.destroy();\n    EventHandler.remove(this.gridObj.element, 'blur', this.removeFocus);\n    EventHandler.remove(this.parent.element, 'focusout', this.onBlur);\n  };\n  DetailsView.prototype.wireClickEvent = function (toBind) {\n    var _this = this;\n    if (toBind) {\n      var ele = this.gridObj.getContent();\n      this.clickObj = new Touch(ele, {\n        tap: function (eve) {\n          if (eve.tapCount === 1 && eve.originalEvent.target.classList.contains('e-content')) {\n            _this.onClearAllInit();\n          }\n        },\n        tapHold: function (e) {\n          if (_this.parent.isDevice) {\n            e.originalEvent.preventDefault();\n            if (_this.parent.allowMultiSelection) {\n              setValue('enableSelectMultiTouch', _this.parent.allowMultiSelection, _this.gridObj.selectionModule);\n              addClass([_this.parent.element], CLS.MULTI_SELECT);\n            }\n            var target = e.originalEvent.target;\n            if (target) {\n              var row = closest(target, '.' + CLS.ROW);\n              var index = _this.gridObj.getRows().indexOf(row);\n              _this.gridObj.selectRow(index);\n            }\n          }\n        }\n      });\n    } else {\n      if (this.clickObj) {\n        this.clickObj.destroy();\n      }\n    }\n  };\n  /* istanbul ignore next */\n  DetailsView.prototype.removeSelection = function () {\n    removeClass([this.parent.element], CLS.MULTI_SELECT);\n    this.gridObj.clearSelection();\n    this.parent.setProperties({\n      selectedItems: []\n    }, true);\n    this.parent.notify(events.selectionChanged, {});\n    if (this.gridObj.selectedRowIndex === -1) {\n      this.startIndex = null;\n    }\n    this.isInteracted = true;\n  };\n  DetailsView.prototype.removeFocus = function () {\n    this.addFocus(null);\n  };\n  DetailsView.prototype.onBlur = function (e) {\n    if (e.relatedTarget !== null && closest(e.relatedTarget, '.e-grid') !== e.relatedTarget) {\n      return;\n    }\n    if (!isNOU(this.gridObj.element)) {\n      var thElements = this.gridObj.element.querySelectorAll('th');\n      for (var i = 0; i < thElements.length; i++) {\n        if (thElements[i].classList.contains('e-focus')) {\n          this.addFocus(null);\n        }\n      }\n    }\n  };\n  DetailsView.prototype.getFocusedItemIndex = function () {\n    return !isNOU(this.getFocusedItem()) ? parseInt(this.getFocusedItem().getAttribute('data-rowindex'), 10) : null;\n  };\n  /* istanbul ignore next */\n  DetailsView.prototype.keydownHandler = function (e) {\n    if (!this.isRendered) {\n      return;\n    }\n    switch (e.action) {\n      case 'end':\n      case 'home':\n      case 'space':\n      case 'ctrlSpace':\n      case 'shiftSpace':\n      case 'csSpace':\n      case 'ctrlA':\n      case 'enter':\n      case 'altEnter':\n      case 'ctrlEnd':\n      case 'shiftEnd':\n      case 'csEnd':\n      case 'ctrlHome':\n      case 'shiftHome':\n      case 'csHome':\n      case 'ctrlDown':\n      case 'shiftDown':\n      case 'csDown':\n      case 'ctrlLeft':\n      case 'shiftLeft':\n      case 'csLeft':\n      case 'esc':\n      case 'del':\n      case 'shiftdel':\n      case 'ctrlC':\n      case 'ctrlV':\n      case 'ctrlX':\n      case 'f2':\n      case 'moveDown':\n      case 'moveUp':\n      case 'ctrlD':\n        e.preventDefault();\n        break;\n      default:\n        break;\n    }\n  };\n  /* istanbul ignore next */\n  DetailsView.prototype.keyupHandler = function (e) {\n    if (!this.isRendered) {\n      return;\n    }\n    e.preventDefault();\n    var action = e.action;\n    var gridItems = getSortedData(this.parent, this.gridObj.dataSource);\n    var gridLength = gridItems.length;\n    var focIndex = this.getFocusedItemIndex();\n    var selIndex = this.gridObj.selectedRowIndex;\n    var selRowIndeces = this.gridObj.getSelectedRowIndexes();\n    var rowData;\n    var firstItem;\n    var lastItem;\n    switch (action) {\n      case 'altEnter':\n        this.parent.notify(events.detailsInit, {});\n        GetDetails(this.parent, this.parent.selectedItems, this.parent.path, 'details');\n        break;\n      case 'esc':\n        removeActive(this.parent);\n        break;\n      case 'del':\n      case 'shiftdel':\n        this.performDelete();\n        break;\n      case 'enter':\n        if (this.gridObj.selectedRowIndex === -1 && this.gridObj.allowSorting === true) {\n          if (!e.target.classList.contains('e-fe-grid-icon')) {\n            var direction = !e.target.getElementsByClassName('e-ascending').length ? 'Ascending' : 'Descending';\n            var currentField = this.gridObj.getColumnByUid(e.target.querySelector('.e-headercelldiv').getAttribute('e-mappinguid')).field;\n            this.gridObj.sortColumn(currentField, direction);\n            if (!isNOU(this.getFocusedItem().nextSibling)) {\n              this.getFocusedItem().nextSibling.setAttribute('tabindex', '0');\n            }\n          }\n          break;\n        }\n        rowData = this.gridObj.getRowsObject()[this.gridObj.selectedRowIndex].data;\n        if (rowData) {\n          var data = JSON.parse(JSON.stringify(rowData));\n          this.openContent(data);\n        }\n        break;\n      case 'ctrlC':\n        copyFiles(this.parent);\n        break;\n      case 'ctrlV':\n        this.parent.folderPath = '';\n        pasteHandler(this.parent);\n        break;\n      case 'ctrlX':\n        cutFiles(this.parent);\n        break;\n      case 'ctrlD':\n        this.doDownload();\n        break;\n      case 'f2':\n        this.performRename();\n        break;\n      case 'ctrlA':\n        if (!isNOU(gridItems[0]) && this.parent.allowMultiSelection) {\n          var cnTable = this.gridObj.getContent().querySelector('.e-content');\n          var crtSrlPos = cnTable.scrollTop;\n          var crtFocusIndex = this.gridObj.selectedRowIndex;\n          this.gridObj.selectionModule.selectRowsByRange(0, gridItems.length - 1);\n          cnTable.scrollTop = crtSrlPos;\n          if (crtFocusIndex !== -1) {\n            this.addFocus(crtFocusIndex);\n          }\n        }\n        break;\n      case 'ctrlHome':\n      case 'tab':\n        if (!isNOU(gridItems[0])) {\n          if (!this.parent.allowMultiSelection && e.action === 'ctrlHome') {\n            this.gridObj.selectRow(0);\n          } else if (this.gridObj.selectedRowIndex !== -1 && e.action === 'tab') {\n            return;\n          } else {\n            this.addHeaderFocus(e);\n          }\n        }\n        break;\n      case 'ctrlEnd':\n        if (!isNOU(gridItems[0])) {\n          if (!this.parent.allowMultiSelection) {\n            this.gridObj.selectRow(gridLength - 1);\n          } else {\n            this.addFocus(gridLength - 1);\n          }\n        }\n        break;\n      case 'shiftHome':\n      case 'shiftEnd':\n      case 'csHome':\n      case 'csEnd':\n        if (!this.parent.allowMultiSelection) {\n          this.gridObj.selectRow(e.action === 'shiftHome' || e.action === 'csHome' ? 0 : gridItems.length - 1);\n        } else {\n          if (!isNOU(gridItems[0])) {\n            if (!isNOU(selIndex) && selIndex !== -1) {\n              this.checkRowsKey(gridItems, selIndex, null, e);\n            } else {\n              if (e.action === 'csHome' || e.action === 'shiftHome') {\n                this.gridObj.selectRow(0);\n              } else {\n                this.gridObj.selectionModule.selectRowsByRange(0, gridItems.length - 1);\n              }\n            }\n          }\n        }\n        break;\n      case 'space':\n      case 'csSpace':\n      case 'shiftSpace':\n      case 'ctrlSpace':\n        this.spaceSelection(selRowIndeces, focIndex, selIndex, e);\n        break;\n      case 'csUp':\n      case 'csDown':\n      case 'shiftUp':\n      case 'shiftDown':\n        this.shiftMoveMethod(gridItems, selIndex, focIndex, selRowIndeces, e);\n        break;\n      case 'ctrlUp':\n      case 'ctrlDown':\n        if (!this.parent.allowMultiSelection) {\n          this.moveFunction(gridItems, e, selIndex);\n        } else {\n          this.ctrlMoveFunction(gridItems, e, selIndex);\n        }\n        break;\n      case 'home':\n        firstItem = [getValue(this.parent.hasId ? 'id' : 'name', gridItems[0])];\n        this.parent.setProperties({\n          selectedItems: firstItem\n        }, true);\n        this.selectRecords(firstItem);\n        break;\n      case 'moveUp':\n      case 'moveDown':\n        this.moveFunction(gridItems, e, selIndex);\n        break;\n      case 'end':\n        lastItem = [getValue(this.parent.hasId ? 'id' : 'name', gridItems[gridLength - 1])];\n        this.parent.setProperties({\n          selectedItems: lastItem\n        }, true);\n        this.selectRecords(lastItem);\n        break;\n      case 'back':\n        this.parent.traverseBackward();\n        break;\n    }\n  };\n  DetailsView.prototype.gridSelectNodes = function () {\n    return this.gridObj.getSelectedRecords();\n  };\n  DetailsView.prototype.doDownload = function () {\n    if (this.parent.selectedItems.length !== 0) {\n      this.parent.itemData = this.gridObj.getSelectedRecords();\n      var items = this.parent.itemData;\n      for (var i = 0; i < items.length; i++) {\n        if (!hasDownloadAccess(items[i])) {\n          createDeniedDialog(this.parent, items[i], events.permissionDownload);\n          return;\n        }\n      }\n      Download(this.parent, this.parent.path, this.parent.selectedItems);\n    }\n  };\n  DetailsView.prototype.performDelete = function () {\n    if (this.parent.selectedItems && this.parent.selectedItems.length > 0) {\n      this.parent.itemData = this.gridObj.getSelectedRecords();\n      var items = this.parent.itemData;\n      for (var i = 0; i < items.length; i++) {\n        if (!hasEditAccess(items[i])) {\n          createDeniedDialog(this.parent, items[i], events.permissionEdit);\n          return;\n        }\n      }\n      createDialog(this.parent, 'Delete');\n    }\n  };\n  DetailsView.prototype.performRename = function () {\n    if (this.parent.selectedItems.length === 1) {\n      this.updateRenameData();\n      doRename(this.parent);\n    }\n  };\n  DetailsView.prototype.updateRenameData = function () {\n    var data = this.gridSelectNodes()[0];\n    updateRenamingData(this.parent, data);\n  };\n  DetailsView.prototype.shiftMoveMethod = function (gridItems, selIndex, focIndex, selRowIndeces, e) {\n    if (!this.parent.allowMultiSelection) {\n      this.moveFunction(gridItems, e, selIndex);\n    } else {\n      if (selIndex === -1 && (e.action === 'csUp' || e.action === 'csDown')) {\n        this.ctrlMoveFunction(gridItems, e, selIndex);\n      } else if (selIndex !== -1 && focIndex !== selIndex && !((e.action === 'csUp' || e.action === 'csDown') && this.isSelected(selRowIndeces, focIndex))) {\n        this.shiftSelectFocusItem(selIndex, focIndex, selRowIndeces, e);\n      } else {\n        this.shiftSelectedItem(selIndex, selRowIndeces, gridItems, e);\n      }\n    }\n  };\n  DetailsView.prototype.moveFunction = function (selectedItems, e, rowIndex) {\n    if (!isNOU(this.getFocusedItem()) && this.parent.allowMultiSelection) {\n      if (e.action === 'moveDown') {\n        this.gridObj.selectRow(this.getFocusedItemIndex() + 1);\n      } else {\n        this.gridObj.selectRow(this.getFocusedItemIndex() - 1);\n      }\n    } else if (!isNOU(rowIndex) && rowIndex !== -1) {\n      if (e.action === 'moveDown' || e.action === 'ctrlDown' || e.action === 'shiftDown' || e.action === 'csDown') {\n        this.gridObj.selectRow(rowIndex + (rowIndex !== selectedItems.length - 1 ? 1 : 0));\n      } else {\n        this.gridObj.selectRow(rowIndex - (rowIndex !== 0 ? 1 : 0));\n      }\n    } else {\n      if (!isNOU(selectedItems[0])) {\n        this.gridObj.selectRow(0);\n      }\n    }\n  };\n  DetailsView.prototype.spaceSelection = function (selRowIndeces, focIndex, selIndex, e) {\n    if (!this.isSelected(selRowIndeces, focIndex) && selIndex !== -1 && (e.action === 'shiftSpace' || e.action === 'csSpace')) {\n      if (focIndex < selIndex) {\n        this.gridObj.selectionModule.selectRowsByRange(focIndex, selIndex);\n      } else {\n        this.gridObj.selectionModule.selectRowsByRange(selIndex, focIndex);\n      }\n    } else if (!isNOU(this.getFocusedItem()) && focIndex !== selIndex) {\n      selRowIndeces.push(this.getFocusedItemIndex());\n      this.gridObj.selectRows(selRowIndeces);\n    } else if (selIndex !== -1 && e.action === 'ctrlSpace' && this.parent.allowMultiSelection) {\n      var lItem = selIndex;\n      selRowIndeces.pop();\n      this.gridObj.selectRows(selRowIndeces);\n      this.addFocus(lItem);\n    } else if (e.action === 'shiftSpace') {\n      this.gridObj.selectRow(selIndex);\n    }\n  };\n  DetailsView.prototype.ctrlMoveFunction = function (items, e, rowIndex) {\n    var nextItem;\n    if (!isNOU(this.getFocusedItem())) {\n      var nextIndex = this.getFocusedItemIndex();\n      nextItem = e.action === 'ctrlDown' || e.action === 'csDown' ? nextIndex + (nextIndex < items.length - 1 ? 1 : 0) : nextIndex - (nextIndex < 1 ? 0 : 1);\n    } else if (!isNOU(rowIndex) && rowIndex !== -1) {\n      nextItem = e.action === 'ctrlDown' || e.action === 'csDown' ? rowIndex + (rowIndex < items.length ? 1 : 0) : rowIndex - (rowIndex < 1 ? 0 : 1);\n    } else {\n      if (!isNOU(items[0])) {\n        nextItem = 0;\n      }\n    }\n    this.addFocus(nextItem);\n  };\n  DetailsView.prototype.checkRowsKey = function (items, indexValue, focIndex, e) {\n    if (this.gridObj.checkAllRows === 'Uncheck' || this.gridObj.checkAllRows === 'Intermediate') {\n      if (e.action !== 'csHome' && e.action !== 'csEnd') {\n        if (isNOU(this.startIndex) && this.firstItemIndex !== indexValue) {\n          this.firstItemIndex = indexValue;\n        }\n        if (e.action === 'shiftEnd') {\n          this.gridObj.selectionModule.selectRowsByRange(this.firstItemIndex, items.length - 1);\n        } else {\n          this.gridObj.selectionModule.selectRowsByRange(0, this.firstItemIndex);\n        }\n        this.startIndex = indexValue;\n      } else {\n        if (e.action === 'csEnd') {\n          this.gridObj.selectRows(this.InnerItems(isNOU(indexValue) ? 0 : indexValue, isNOU(focIndex) ? items.length - 1 : focIndex, e));\n        } else {\n          if (isNOU(indexValue)) {\n            this.gridObj.selectRow(0);\n          } else {\n            this.gridObj.selectRows(this.InnerItems(isNOU(focIndex) ? 0 : focIndex, indexValue, e));\n          }\n        }\n      }\n    } else {\n      this.gridObj.selectionModule.selectRow(e.action === 'shiftHome' || e.action === 'csHome' ? 0 : items.length - 1);\n    }\n  };\n  DetailsView.prototype.InnerItems = function (fItem, lItem, e) {\n    var itemArr = this.gridObj.getSelectedRowIndexes();\n    if (e.action === 'csEnd') {\n      for (var i = fItem + 1; i <= lItem; i++) {\n        itemArr.push(i);\n      }\n    } else {\n      for (var i = lItem - 1; fItem <= i; i--) {\n        itemArr.push(i);\n      }\n    }\n    return itemArr;\n  };\n  DetailsView.prototype.shiftSelectFocusItem = function (selIndex, fIndex, selRowIndexes, e) {\n    var lItem = fIndex + (e.action === 'shiftDown' || e.action === 'csDown' ? 1 : -1);\n    var fItem = isNOU(this.startIndex) ? selIndex : selRowIndexes[0];\n    if (fItem === lItem) {\n      this.gridObj.selectRow(fItem);\n    } else {\n      if (fItem < lItem) {\n        if (e.action === 'shiftDown' || e.action === 'csDown') {\n          this.gridObj.selectionModule.selectRowsByRange(fItem, lItem);\n        } else {\n          this.gridObj.selectionModule.selectRowsByRange(lItem, fItem);\n        }\n      } else if (e.action === 'shiftDown' || e.action === 'csDown') {\n        this.gridObj.selectionModule.selectRowsByRange(lItem, fItem);\n      } else {\n        this.gridObj.selectionModule.selectRowsByRange(fItem, lItem);\n      }\n    }\n    this.startIndex = this.gridObj.selectedRowIndex;\n  };\n  DetailsView.prototype.addFocus = function (item) {\n    var fItem = this.getFocusedItem();\n    var itemElement = this.gridObj.getRowByIndex(item);\n    if (fItem) {\n      fItem.removeAttribute('tabindex');\n      removeClass([fItem], [CLS.FOCUS, CLS.FOCUSED]);\n    }\n    if (!isNOU(itemElement)) {\n      this.gridObj.element.setAttribute('tabindex', '-1');\n      itemElement.setAttribute('tabindex', '0');\n      itemElement.focus();\n      addClass([itemElement], [CLS.FOCUS, CLS.FOCUSED]);\n    }\n  };\n  DetailsView.prototype.addHeaderFocus = function (e) {\n    var treeFocus = select('.e-row', this.element);\n    this.gridObj.element.setAttribute('tabindex', '-1');\n    var nameFocus;\n    if (!isNOU(e.target) && e.target.classList.contains('e-defaultcursor')) {\n      this.addFocus(0);\n      nameFocus = e.target.nextElementSibling;\n    } else if (!isNOU(this.gridObj.element.querySelector('.e-focus')) && this.gridObj.element.querySelector('.e-focus').tagName === 'TH') {\n      nameFocus = this.gridObj.element.querySelector('.e-focus').nextElementSibling;\n      this.addFocus(0);\n    } else {\n      nameFocus = select('th.e-fe-grid-icon', this.element);\n    }\n    if (!isNOU(nameFocus)) {\n      nameFocus.setAttribute('tabindex', '0');\n      nameFocus.focus();\n      addClass([nameFocus], [CLS.FOCUS, CLS.FOCUSED]);\n      treeFocus.setAttribute('tabindex', '0');\n      if (treeFocus.tabIndex === 0 && nameFocus.tabIndex === 0) {\n        removeClass([treeFocus], [CLS.FOCUS, CLS.FOCUSED]);\n      }\n    }\n  };\n  DetailsView.prototype.getFocusedItem = function () {\n    return select('.' + CLS.FOCUSED, this.element);\n  };\n  DetailsView.prototype.isSelected = function (selRowIndexes, focIndex) {\n    var check = false;\n    for (var i = 0; i <= selRowIndexes.length - 1; i++) {\n      if (selRowIndexes[i] === focIndex) {\n        check = true;\n        break;\n      }\n    }\n    return check;\n  };\n  DetailsView.prototype.shiftSelectedItem = function (selIndex, selRowIndexes, gridItems, e) {\n    if (selIndex === -1) {\n      this.gridObj.selectRow(0);\n    } else {\n      if (isNOU(this.startIndex) && e.shiftKey) {\n        this.startIndex = this.gridObj.selectedRowIndex;\n        this.gridObj.selectRows([selIndex, e.action === 'shiftDown' || e.action === 'csDown' ? selIndex + (selIndex !== gridItems.length - 1 ? 1 : 0) : selIndex - (selIndex !== 0 ? 1 : 0)]);\n      } else {\n        if (e.action === 'shiftDown' || e.action === 'shiftUp') {\n          if (e.action === 'shiftDown' && selRowIndexes.indexOf(selIndex + 1) === -1) {\n            if (selIndex !== gridItems.length - 1) {\n              selRowIndexes.push(selIndex + 1);\n            }\n          } else if (e.action === 'shiftUp' && selRowIndexes.indexOf(selIndex - 1) === -1) {\n            if (selIndex !== 0) {\n              selRowIndexes.push(selIndex - 1);\n            }\n          } else {\n            selRowIndexes.pop();\n          }\n          this.gridObj.selectRows(selRowIndexes);\n        } else {\n          if (e.action === 'csDown') {\n            if (!this.isSelected(selRowIndexes, this.getFocusedItemIndex() + 1)) {\n              selRowIndexes.push(this.getFocusedItemIndex() + 1);\n              this.gridObj.selectRows(selRowIndexes);\n            } else {\n              this.addFocus(this.getFocusedItemIndex() + 1);\n            }\n          } else if (!this.isSelected(selRowIndexes, this.getFocusedItemIndex() - 1)) {\n            selRowIndexes.push(this.getFocusedItemIndex() - 1);\n            this.gridObj.selectRows(selRowIndexes);\n          } else {\n            this.addFocus(this.getFocusedItemIndex() - 1);\n          }\n        }\n      }\n    }\n  };\n  DetailsView.prototype.onMethodCall = function (e) {\n    if (this.parent.view !== 'Details') {\n      return;\n    }\n    var action = getValue('action', e);\n    switch (action) {\n      case 'deleteFiles':\n        this.deleteFiles(getValue('ids', e));\n        break;\n      case 'downloadFiles':\n        this.downloadFiles(getValue('ids', e));\n        break;\n      case 'openFile':\n        this.openFile(getValue('id', e));\n        break;\n      case 'createFolder':\n        this.interaction = false;\n        break;\n      case 'renameFile':\n        this.interaction = false;\n        this.renameFile(getValue('id', e), getValue('newName', e));\n        break;\n      case 'selectAll':\n        this.interaction = false;\n        this.onSelectAllInit();\n        break;\n      case 'clearSelection':\n        this.interaction = false;\n        this.onClearAllInit();\n        break;\n    }\n  };\n  DetailsView.prototype.getRecords = function (nodes) {\n    var gridRecords = this.gridObj.getCurrentViewRecords();\n    var records = [];\n    var hasFilter = this.parent.breadcrumbbarModule.searchObj.element.value !== '' || this.parent.isFiltered ? true : false;\n    var filter = this.parent.hasId ? 'id' : 'name';\n    if (this.parent.hasId || !hasFilter) {\n      for (var i = 0, len = gridRecords.length; i < len; i++) {\n        if (nodes.indexOf(getValue(filter, gridRecords[i])) !== -1) {\n          records.push(gridRecords[i]);\n        }\n      }\n    } else {\n      for (var i = 0, len = gridRecords.length; i < len; i++) {\n        var name_4 = getValue('filterPath', gridRecords[i]) + getValue('name', gridRecords[i]);\n        if (nodes.indexOf(name_4) !== -1) {\n          records.push(gridRecords[i]);\n        }\n      }\n    }\n    return records;\n  };\n  DetailsView.prototype.deleteFiles = function (ids) {\n    this.parent.activeModule = 'detailsview';\n    if (isNOU(ids)) {\n      this.performDelete();\n      return;\n    }\n    var records = this.getRecords(ids);\n    if (records.length === 0) {\n      return;\n    }\n    var data = [];\n    var newIds = [];\n    for (var i = 0; i < records.length; i++) {\n      data[i] = records[i];\n      newIds[i] = getItemName(this.parent, data[i]);\n    }\n    doDeleteFiles(this.parent, data, newIds);\n  };\n  DetailsView.prototype.downloadFiles = function (ids) {\n    if (isNOU(ids)) {\n      this.doDownload();\n      return;\n    }\n    var dRecords = this.getRecords(ids);\n    if (dRecords.length === 0) {\n      return;\n    }\n    var data = [];\n    var newIds = [];\n    for (var i = 0; i < dRecords.length; i++) {\n      data[i] = dRecords[i];\n      newIds[i] = getItemName(this.parent, data[i]);\n    }\n    doDownloadFiles(this.parent, data, newIds);\n  };\n  DetailsView.prototype.openFile = function (id) {\n    if (isNOU(id)) {\n      return;\n    }\n    var records = this.getRecords([id]);\n    if (records.length > 0) {\n      this.openContent(records[0]);\n    }\n  };\n  DetailsView.prototype.renameFile = function (id, name) {\n    this.parent.activeModule = 'detailsview';\n    if (isNOU(id)) {\n      this.performRename();\n      return;\n    }\n    var records = this.getRecords([id]);\n    if (records.length > 0) {\n      updateRenamingData(this.parent, records[0]);\n      if (!isNOU(name)) {\n        if (hasEditAccess(this.parent.itemData[0])) {\n          rename(this.parent, this.parent.path, name);\n        } else {\n          createDeniedDialog(this.parent, this.parent.itemData[0], events.permissionEdit);\n        }\n      } else {\n        doRename(this.parent);\n      }\n    }\n  };\n  return DetailsView;\n}();\nexport { DetailsView };","map":{"version":3,"names":["Grid","Resize","ContextMenu","Sort","VirtualScroll","select","KeyboardEvents","EventHandler","getValue","isNullOrUndefined","isNOU","Touch","setValue","addClass","removeClass","Internationalization","closest","Draggable","initializeCSPTemplate","extend","SanitizeHtmlHelper","DataManager","Query","hideSpinner","showSpinner","events","CLS","createDialog","createImageDialog","removeBlur","openAction","getImageUrl","fileType","getSortedData","getLocaleText","updateLayout","createEmptyElement","read","Download","GetDetails","Delete","cutFiles","addBlur","openSearchFolder","copyFiles","removeActive","pasteHandler","getPathObject","getName","hasReadAccess","hasEditAccess","hasDownloadAccess","doRename","getAccessClass","createDeniedDialog","rename","createVirtualDragElement","dragStopHandler","dragStartHandler","draggingHandler","getModule","getFullPath","getDirectoryPath","updateRenamingData","getItemName","doDeleteFiles","doDownloadFiles","DetailsView","parent","isInteracted","interaction","isPasteOperation","isColumnRefresh","dragObj","startIndex","firstItemIndex","isSelectionUpdate","currentSelectedItem","count","isRendered","isLoaded","isNameWidth","isMultiSelect","pasteOperation","uploadOperation","Inject","element","id","GRID_ID","addEventListener","keyConfigs","altEnter","esc","tab","moveDown","ctrlEnd","ctrlHome","ctrlDown","ctrlLeft","ctrlRight","shiftEnd","shiftHome","shiftDown","shiftUp","ctrlUp","csEnd","csHome","csDown","csUp","space","ctrlSpace","shiftSpace","csSpace","end","home","moveUp","del","ctrlX","isMac","ctrlC","ctrlV","ctrlShiftN","shiftdel","ctrlD","f2","ctrlA","enter","back","prototype","render","args","_this","view","MULTI_SELECT","items","files","checkNameWidth","columns","getColumns","sortSettings","isValidSortField","findIndex","col","field","sortBy","isMobile","sortOrder","direction","gridObj","dataSource","allowSorting","rowSelecting","onSelection","bind","rowDeselecting","rowSelected","onSelected","rowDeselected","onDeSelection","allowResizing","detailsViewSettings","columnResizing","selectionSettings","type","allowMultiSelection","checkboxMode","enableRtl","pageSettings","pageSize","enableVirtualization","enablePersistence","enableVirtualMaskRow","allowUnsort","recordDoubleClick","DblClickEvents","beforeDataBound","onBeforeDataBound","dataBound","onDataBound","rowDataBound","onRowDataBound","actionBegin","onActionBegin","headerCellInfo","onHeaderCellInfo","width","height","getGridHeight","beforeCopy","cancel","load","focusModule","destroy","locale","isReact","portals","on","reactTemplateRender","isStringTemplate","appendTo","wireEvents","adjustHeight","emptyArgs","toolbarModule","toolbarObj","concat","notify","pane","CONTENT_ID","bar","BREADCRUMBBAR_ID","headerMaxHeight","offsetHeight","initialColumn","i","length","adjustWidth","fieldName","nameWidth","breadcrumbbarModule","searchObj","value","isFiltered","clientWidth","enableHtmlSanitizer","headerText","minWidth","headerTextAlign","template","data","name","sanitize","_fm_modified","size","_loop_1","len","this_1","template_1","replace","iWidth","isBigger","icon","_fm_iconClass","customAttributes","class","headerTemplate","unshift","showItemCheckBoxes","cWidth","cBox","push","disableHtmlEncode","enableRangeSelection","HiddenName","visible","gridHeader","GRID_HEADER","dataBind","renderCheckBox","refreshColumns","td","row","children","setAttribute","isLayoutChange","isCut","fileAction","selectedNodes","indexOf","showFileExtension","text","textEle","querySelector","name_1","innerHTML","substr","undefined","sizeEle","modifiedSize","sizeValue","intl","sizeFormat","format","toString","formatNumber","dateEle","formattedString","formatDate","Date","checkWrap","CB_WRAP","classList","add","className","eventArgs","fileDetails","module","trigger","requestType","setProperties","columnName","selectedItems","sortItem","rows","getSelectedRowIndexes","sortSelectedNodes","getRowsObject","hasId","sortByChange","node","nameColumn","find","column","result","createDragObj","scrollTop","selectRecords","getDataRows","pasteNodes","createdItem","layoutSelectedItems","renamedItem","addSelection","uploadItem","currentViewData","getRowHeight","hdTable","getHeaderContent","style","paddingRight","paddingLeft","hdContent","borderRightWidth","cnTable","getContent","overflowY","remove","checkEmptyDiv","nodes","gridRecords","getCurrentViewRecords","sRecords","includes","Str2","split","slice","join","selectRows","addFocus","selectedRowIndex","rData","executeLocal","where","renamedId","nData","filterPath","index","onSortColumn","sortModule","sortColumn","freezeRefresh","onPropertyChanged","e","getModuleName","_i","_a","Object","keys","newProp","prop","slItems","clearSelection","pathChanged","path","onDetailsResize","onPathChanged","pathField","trim","hideAtMedia","searchedItems","removePathColumn","updatePathColumn","columnData","JSON","parse","stringify","pathColumn","GRID_VIEW","EMPTY","emptyDiv","removeChild","onOpenInit","activeModule","getSelectedRecords","openContent","rowIndex","rowData","permissionRead","fileOpenArgs","name_2","ICON_IMAGE","imgUrl","val","oldPath","newPath","pathNames","pathId","itemData","focus","IMG_DIALOG_ID","onLayoutChange","hideLayout","DISPLAY_NONE","onSearchFiles","selectionChanged","isRefresh","pop","onFinalizeEnd","onCreateEnd","onRenameInit","updateRenameData","onSelectedData","onDeleteInit","onDeleteEnd","onRefreshEnd","onHideLayout","onSelectAllInit","selectionModule","selectRowsByRange","getRows","selectRow","onClearAllInit","removeSelection","onSelectionChanged","HEADER_CHECK","onLayoutRefresh","onBeforeRequest","onAfterRequest","onUpdateSelectionData","finalizeEnd","layoutChange","createEnd","dropInit","onDropInit","detailsInit","onDetailsInit","refreshEnd","search","methodCall","onMethodCall","actionFailure","onActionFailure","modelChanged","deleteInit","deleteEnd","selectedData","renameInit","renameEnd","openInit","openEnd","filterEnd","pasteInit","onPasteInit","selectAllInit","clearAllInit","onPathColumn","beforeRequest","afterRequest","pasteEnd","onpasteEnd","cutCopyInit","oncutCopyInit","menuItemData","onMenuItemData","resizeEnd","onDetailsResizeHandler","splitterResize","layoutRefresh","dropPath","onDropPath","updateSelectionData","removeEventListener","off","getRowInfo","target","folderPath","feParent","dragHelper","dragTarget","sender","dragLi","getElementsByClassName","innerText","nextElementSibling","activeElements","dragData","dragRow","dragPath","getSelectedRows","virtualDragElement","gridHeaderColGroup","firstChild","childNodes","gridContentColGroup","gridHeaderColNames","allowDragAndDrop","cursorAt","dragCursorPosition","distance","enableTailMode","dragArea","ROW","drag","dragStart","dragStop","enableAutoScroll","helper","targetModule","cwdData","dropData","info","isFile","activeRecords","destinationPath","isDestroyed","unWireEvents","updateType","item","folder","FOLDER","action","isShiftPressed","isCtrlPressed","parentElement","contains","rowIndexes","selectedRecords","triggerSelect","getRowByIndex","lastItemIndex","lastItem","removeAttribute","currentItemText","indexes","multiSelect","isDevice","visitedItem","isHeaderCheckboxClicked","gridSelectNodes","selectSize","record","name_3","wireClickEvent","keyboardModule","keyAction","keyupHandler","eventName","keyboardDownModule","keydownHandler","removeFocus","onBlur","toBind","ele","clickObj","tap","eve","tapCount","originalEvent","tapHold","preventDefault","relatedTarget","thElements","querySelectorAll","getFocusedItemIndex","getFocusedItem","parseInt","getAttribute","gridItems","gridLength","focIndex","selIndex","selRowIndeces","firstItem","performDelete","currentField","getColumnByUid","nextSibling","doDownload","performRename","crtSrlPos","crtFocusIndex","addHeaderFocus","checkRowsKey","spaceSelection","shiftMoveMethod","moveFunction","ctrlMoveFunction","traverseBackward","permissionDownload","permissionEdit","isSelected","shiftSelectFocusItem","shiftSelectedItem","lItem","nextItem","nextIndex","indexValue","checkAllRows","InnerItems","fItem","itemArr","fIndex","selRowIndexes","itemElement","FOCUS","FOCUSED","treeFocus","nameFocus","tagName","tabIndex","check","shiftKey","deleteFiles","downloadFiles","openFile","renameFile","getRecords","records","hasFilter","filter","name_4","ids","newIds","dRecords"],"sources":["/var/www/vue/vue-gantt-chart/node_modules/@syncfusion/ej2-filemanager/src/file-manager/layout/details-view.js"],"sourcesContent":["import { Grid, Resize, ContextMenu, Sort, VirtualScroll } from '@syncfusion/ej2-grids';\nimport { select, KeyboardEvents, EventHandler, getValue, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined as isNOU, Touch, setValue, addClass, removeClass } from '@syncfusion/ej2-base';\nimport { Internationalization, closest, Draggable, initializeCSPTemplate, extend, SanitizeHtmlHelper } from '@syncfusion/ej2-base';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\nimport { hideSpinner, showSpinner } from '@syncfusion/ej2-popups';\nimport * as events from '../base/constant';\nimport * as CLS from '../base/classes';\nimport { createDialog, createImageDialog } from '../pop-up/dialog';\nimport { removeBlur, openAction, getImageUrl, fileType, getSortedData, getLocaleText, updateLayout } from '../common/utility';\nimport { createEmptyElement } from '../common/utility';\nimport { read, Download, GetDetails, Delete } from '../common/operations';\nimport { cutFiles, addBlur, openSearchFolder, copyFiles, removeActive, pasteHandler, getPathObject, getName } from '../common/index';\nimport { hasReadAccess, hasEditAccess, hasDownloadAccess, doRename, getAccessClass, createDeniedDialog, rename } from '../common/index';\nimport { createVirtualDragElement, dragStopHandler, dragStartHandler, draggingHandler, getModule, getFullPath } from '../common/index';\nimport { getDirectoryPath, updateRenamingData, getItemName, doDeleteFiles, doDownloadFiles } from '../common/index';\n/* eslint-disable @typescript-eslint/no-explicit-any */\n/**\n * DetailsView module\n */\nvar DetailsView = /** @class */ (function () {\n    /**\n     * Constructor for the GridView module\n     *\n     * @param {FileManager} parent - specifies the parent.\n     * @hidden\n     */\n    function DetailsView(parent) {\n        this.isInteracted = true;\n        this.interaction = true;\n        this.isPasteOperation = false;\n        this.isColumnRefresh = false;\n        this.dragObj = null;\n        this.startIndex = null;\n        this.firstItemIndex = null;\n        this.isSelectionUpdate = false;\n        this.currentSelectedItem = [];\n        this.count = 0;\n        this.isRendered = true;\n        this.isLoaded = false;\n        this.isNameWidth = false;\n        this.isMultiSelect = false;\n        this.pasteOperation = false;\n        this.uploadOperation = false;\n        Grid.Inject(Resize, ContextMenu, Sort, VirtualScroll);\n        this.parent = parent;\n        this.element = select('#' + this.parent.element.id + CLS.GRID_ID, this.parent.element);\n        this.addEventListener();\n        this.keyConfigs = {\n            altEnter: 'alt+enter',\n            esc: 'escape',\n            tab: 'tab',\n            moveDown: 'downarrow',\n            ctrlEnd: 'ctrl+end',\n            ctrlHome: 'ctrl+home',\n            ctrlDown: 'ctrl+downarrow',\n            ctrlLeft: 'ctrl+leftarrow',\n            ctrlRight: 'ctrl+rightarrow',\n            shiftEnd: 'shift+end',\n            shiftHome: 'shift+home',\n            shiftDown: 'shift+downarrow',\n            shiftUp: 'shift+uparrow',\n            ctrlUp: 'ctrl+uparrow',\n            csEnd: 'ctrl+shift+end',\n            csHome: 'ctrl+shift+home',\n            csDown: 'ctrl+shift+downarrow',\n            csUp: 'ctrl+shift+uparrow',\n            space: 'space',\n            ctrlSpace: 'ctrl+space',\n            shiftSpace: 'shift+space',\n            csSpace: 'ctrl+shift+space',\n            end: 'end',\n            home: 'home',\n            moveUp: 'uparrow',\n            del: 'delete',\n            ctrlX: this.parent.isMac ? 'cmd+x' : 'ctrl+x',\n            ctrlC: this.parent.isMac ? 'cmd+c' : 'ctrl+c',\n            ctrlV: this.parent.isMac ? 'cmd+v' : 'ctrl+v',\n            ctrlShiftN: 'ctrl+shift+n',\n            shiftdel: 'shift+delete',\n            ctrlD: 'ctrl+d',\n            f2: 'f2',\n            ctrlA: 'ctrl+a',\n            enter: 'enter',\n            back: 'backspace'\n        };\n    }\n    /* istanbul ignore next */\n    DetailsView.prototype.render = function (args) {\n        var _this = this;\n        showSpinner(this.parent.element);\n        if (this.parent.view === 'Details') {\n            removeClass([this.parent.element], CLS.MULTI_SELECT);\n            var items = getSortedData(this.parent, args.files);\n            this.checkNameWidth();\n            var columns = this.getColumns();\n            var sortSettings = void 0;\n            var isValidSortField = !isNullOrUndefined(columns) &&\n                columns.findIndex(function (col) { return col.field === _this.parent.sortBy; }) !== -1;\n            if (this.parent.isMobile || !isValidSortField) {\n                sortSettings = [];\n            }\n            else {\n                if (this.parent.sortOrder !== 'None') {\n                    sortSettings = [{ direction: this.parent.sortOrder, field: this.parent.sortBy }];\n                }\n            }\n            this.gridObj = new Grid({\n                dataSource: items,\n                allowSorting: true,\n                rowSelecting: this.onSelection.bind(this, 'select'),\n                rowDeselecting: this.onSelection.bind(this, 'unselect'),\n                rowSelected: this.onSelected.bind(this),\n                rowDeselected: this.onDeSelection.bind(this),\n                allowResizing: this.parent.detailsViewSettings.columnResizing,\n                selectionSettings: {\n                    type: this.parent.allowMultiSelection ? 'Multiple' : 'Single',\n                    checkboxMode: 'ResetOnRowClick'\n                },\n                enableRtl: this.parent.enableRtl,\n                pageSettings: { pageSize: 20 },\n                enableVirtualization: this.parent.enableVirtualization,\n                enablePersistence: this.parent.enablePersistence,\n                enableVirtualMaskRow: true,\n                sortSettings: { allowUnsort: false, columns: sortSettings },\n                columns: columns,\n                recordDoubleClick: this.DblClickEvents.bind(this),\n                beforeDataBound: this.onBeforeDataBound.bind(this),\n                dataBound: this.onDataBound.bind(this),\n                rowDataBound: this.onRowDataBound.bind(this),\n                actionBegin: this.onActionBegin.bind(this),\n                headerCellInfo: this.onHeaderCellInfo.bind(this),\n                width: '100%',\n                height: (this.parent.enableVirtualization) ? this.getGridHeight() : 'auto',\n                beforeCopy: function (args) { args.cancel = true; },\n                load: function () {\n                    this.focusModule.destroy();\n                },\n                locale: this.parent.locale\n            });\n            if (this.parent.isReact) {\n                this.gridObj.isReact = true;\n                this.gridObj.portals = [];\n                this.gridObj.on('reactTemplateRender', this.reactTemplateRender, this);\n            }\n            this.gridObj.isStringTemplate = true;\n            this.gridObj.appendTo('#' + this.parent.element.id + CLS.GRID_ID);\n            this.wireEvents();\n            this.adjustHeight();\n            this.emptyArgs = args;\n        }\n    };\n    DetailsView.prototype.reactTemplateRender = function (args) {\n        this.parent['portals'] = args;\n        if (this.parent.portals && this.parent.toolbarModule && this.parent.toolbarModule.toolbarObj &&\n            this.parent.toolbarModule.toolbarObj.portals) {\n            this.parent['portals'] = this.parent['portals'].concat(this.parent.toolbarModule.toolbarObj.portals);\n        }\n        this.parent.notify('renderReactTemplate', this.parent['portals']);\n        this.parent['renderReactTemplates']();\n    };\n    /**\n     * Gets the grid height.\n     *\n     * @returns {number} - The grid height.\n     * @private\n     */\n    DetailsView.prototype.getGridHeight = function () {\n        // Get the content pane and breadcrumb bar elements\n        var pane = select('#' + this.parent.element.id + CLS.CONTENT_ID, this.parent.element);\n        var bar = select('#' + this.parent.element.id + CLS.BREADCRUMBBAR_ID, this.parent.element);\n        // The maximum height of the header is 36\n        var headerMaxHeight = 36;\n        // Calculate and return the grid height\n        return (pane.offsetHeight - bar.offsetHeight - headerMaxHeight);\n    };\n    DetailsView.prototype.checkNameWidth = function () {\n        var initialColumn = this.parent.detailsViewSettings.columns;\n        this.isNameWidth = false;\n        for (var i = 0; i < initialColumn.length; i++) {\n            if (initialColumn[i].field === 'name') {\n                this.isNameWidth = !isNOU(initialColumn[i].width);\n                return;\n            }\n        }\n    };\n    DetailsView.prototype.adjustWidth = function (columns, fieldName) {\n        if (this.isNameWidth && (fieldName === 'name')) {\n            return;\n        }\n        for (var i = 0; i < columns.length; i++) {\n            if (columns[i].field === fieldName) {\n                var nameWidth = void 0;\n                if (this.parent.breadcrumbbarModule.searchObj.element.value === '' && !this.parent.isFiltered) {\n                    nameWidth = (this.element.clientWidth <= 500) ? '120px' : 'auto';\n                }\n                else {\n                    nameWidth = (this.element.clientWidth <= 680) ? ((fieldName === 'name') ? '120px' : '180px') : 'auto';\n                }\n                columns[i].width = nameWidth;\n            }\n        }\n    };\n    DetailsView.prototype.getColumns = function () {\n        var columns;\n        var enableHtmlSanitizer = this.parent.enableHtmlSanitizer;\n        if (this.parent.isMobile) {\n            columns = [\n                {\n                    field: 'name', headerText: getLocaleText(this.parent, 'Name'), width: 'auto', minWidth: 120, headerTextAlign: 'Left',\n                    template: initializeCSPTemplate(function (data) {\n                        var name = enableHtmlSanitizer ? SanitizeHtmlHelper.sanitize(data.name) : data.name;\n                        return \"<div class=\\\"e-fe-text\\\">\" + name + \"</div><div class=\\\"e-fe-date\\\">\" + data._fm_modified + \"</div><span class=\\\"e-fe-size\\\">\" + data.size + \"</span>\";\n                    })\n                }\n            ];\n        }\n        else {\n            columns = extend([], this.parent.detailsViewSettings.columns, null, true);\n            this.adjustWidth(columns, 'name');\n            var _loop_1 = function (i, len) {\n                columns[i].headerText = getLocaleText(this_1.parent, columns[i].headerText);\n                if (columns[i].field === 'name' && !isNOU(columns[i].template) && !(typeof columns[i].template === 'function')) {\n                    var template_1 = columns[i].template;\n                    columns[i].template = initializeCSPTemplate(function (data) {\n                        var name = enableHtmlSanitizer ? SanitizeHtmlHelper.sanitize(data.name) : data.name;\n                        return template_1.replace(/\\${name}/g, name);\n                    });\n                }\n            };\n            var this_1 = this;\n            for (var i = 0, len = columns.length; i < len; i++) {\n                _loop_1(i, len);\n            }\n        }\n        var iWidth = ((this.parent.isMobile || this.parent.isBigger) ? '54' : '46');\n        var icon = {\n            field: 'type', width: iWidth, minWidth: iWidth,\n            template: initializeCSPTemplate(function (data) {\n                return \"<span class=\\\"e-fe-icon \" + data._fm_iconClass + \"\\\"></span>\";\n            }), allowResizing: false, allowSorting: true, customAttributes: { class: 'e-fe-grid-icon' },\n            headerTemplate: initializeCSPTemplate(function () {\n                return '<span class=\\'e-fe-icon e-fe-folder\\'></span>';\n            })\n        };\n        columns.unshift(icon);\n        if (this.parent.showItemCheckBoxes) {\n            var cWidth = (this.parent.isBigger ? '36' : '26');\n            var cBox = {\n                type: 'checkbox', width: cWidth, minWidth: cWidth, customAttributes: { class: 'e-fe-checkbox' },\n                allowResizing: false, allowSorting: false\n            };\n            if (this.parent.isMobile) {\n                columns.push(cBox);\n            }\n            else {\n                columns.unshift(cBox);\n            }\n        }\n        for (var i = 0, len = columns.length; i < len; i++) {\n            columns[i].disableHtmlEncode = !this.parent.enableHtmlSanitizer;\n        }\n        if (this.parent.enableRangeSelection) {\n            var HiddenName = { field: 'name', visible: false, customAttributes: { class: 'e-drag-text' } };\n            columns.push(HiddenName);\n        }\n        return columns;\n    };\n    DetailsView.prototype.adjustHeight = function () {\n        if (!this.gridObj) {\n            return;\n        }\n        var pane = select('#' + this.parent.element.id + CLS.CONTENT_ID, this.parent.element);\n        var bar = select('#' + this.parent.element.id + CLS.BREADCRUMBBAR_ID, this.parent.element);\n        var gridHeader = select('.' + CLS.GRID_HEADER, this.parent.element);\n        var height = (pane.offsetHeight - bar.offsetHeight - gridHeader.offsetHeight);\n        this.gridObj.height = height;\n        this.gridObj.dataBind();\n    };\n    DetailsView.prototype.renderCheckBox = function () {\n        this.gridObj.columns = this.getColumns();\n        this.isColumnRefresh = true;\n        this.gridObj.refreshColumns();\n    };\n    DetailsView.prototype.onRowDataBound = function (args) {\n        var td = select('.e-fe-grid-name', args.row);\n        if (!td) {\n            var columns = this.parent.detailsViewSettings.columns;\n            for (var i = 0; i < columns.length; i++) {\n                if (columns[i].field === 'name') {\n                    td = args.row.children[this.parent.allowMultiSelection ? (i + 2) : (i + 1)];\n                    break;\n                }\n            }\n        }\n        if (td) {\n            td.setAttribute('title', getValue('name', args.data));\n        }\n        if (this.parent.isLayoutChange && this.parent.isCut && this.parent.fileAction === 'move' &&\n            this.parent.selectedNodes && this.parent.selectedNodes.length !== 0) {\n            if (this.parent.selectedNodes.indexOf(getValue('name', args.data)) !== -1) {\n                addBlur(args.row);\n            }\n        }\n        if (!this.parent.showFileExtension && getValue('isFile', args.data)) {\n            var text = getValue('name', args.data);\n            var textEle = args.row.querySelector('[title= \"' + text + '\"]');\n            if (textEle) {\n                var name_1 = getValue('name', args.data);\n                var type = getValue('type', args.data);\n                if (name_1.indexOf(type) !== -1) {\n                    textEle.innerHTML = name_1.substr(0, name_1.length - type.length);\n                }\n            }\n        }\n        if (getValue('size', args.data) !== undefined && args.row.querySelector('.e-fe-size')) {\n            var sizeEle = args.row.querySelector('.e-fe-size');\n            var modifiedSize = void 0;\n            if (!getValue('isFile', args.data)) {\n                modifiedSize = '';\n            }\n            else {\n                var sizeValue = getValue('size', args.data);\n                var intl = new Internationalization(this.parent.locale);\n                var sizeFormat = void 0;\n                var columns = this.parent.detailsViewSettings.columns;\n                for (var i = 0; i < columns.length; i++) {\n                    if (columns[i].field === 'size') {\n                        sizeFormat = !isNullOrUndefined(columns[i].format) ? columns[i].format.toString() : 'n';\n                        break;\n                    }\n                }\n                var value = intl.formatNumber((sizeValue / 1024), { format: sizeFormat });\n                modifiedSize = value + ' ' + getLocaleText(this.parent, 'KB');\n            }\n            sizeEle.innerHTML = modifiedSize;\n        }\n        if (this.parent.isMobile) {\n            if (getValue('_fm_modified', args.data) !== undefined && args.row.querySelector('.e-fe-date')) {\n                var dateEle = args.row.querySelector('.e-fe-date');\n                var intl = new Internationalization(this.parent.locale);\n                var columns = this.parent.detailsViewSettings.columns;\n                var format = void 0;\n                for (var i = 0; i < columns.length; i++) {\n                    if (columns[i].field === 'dateModified') {\n                        format = columns[i].format;\n                        break;\n                    }\n                }\n                var formattedString = intl.formatDate(new Date(getValue('_fm_modified', args.data)), format);\n                dateEle.innerHTML = formattedString;\n            }\n        }\n        var checkWrap = args.row.querySelector('.' + CLS.CB_WRAP);\n        if (checkWrap) {\n            checkWrap.classList.add('e-small');\n        }\n        if (!hasEditAccess(args.data)) {\n            args.row.className += ' ' + getAccessClass(args.data);\n        }\n        var eventArgs = {\n            element: args.row,\n            fileDetails: args.data,\n            module: 'DetailsView'\n        };\n        this.parent.trigger('fileLoad', eventArgs);\n    };\n    DetailsView.prototype.onActionBegin = function (args) {\n        if (args.requestType === 'sorting') {\n            this.parent.setProperties({ sortOrder: args.direction }, true);\n            this.parent.setProperties({ sortBy: args.columnName }, true);\n            if (this.parent.selectedItems.length !== 0) {\n                this.sortItem = true;\n                var rows = this.gridObj.getSelectedRowIndexes();\n                var len = rows.length;\n                this.sortSelectedNodes = [];\n                while (len > 0) {\n                    var data = this.gridObj.getRowsObject()[rows[len - 1]].data;\n                    this.sortSelectedNodes.push(getValue(this.parent.hasId ? 'id' : 'name', data));\n                    len--;\n                }\n            }\n            this.parent.notify(events.sortByChange, {});\n        }\n    };\n    DetailsView.prototype.onHeaderCellInfo = function (args) {\n        var checkWrap = args.node.querySelector('.' + CLS.CB_WRAP);\n        if (checkWrap) {\n            checkWrap.classList.add('e-small');\n        }\n    };\n    DetailsView.prototype.onBeforeDataBound = function (args) {\n        var _this = this;\n        showSpinner(this.parent.element);\n        var nameColumn = this.parent.detailsViewSettings.columns.find(function (column) { return column.field === _this.parent.sortBy; });\n        if (nameColumn && !('sortComparer' in nameColumn)) {\n            var items = getSortedData(this.parent, (this.parent.enableVirtualization)\n                ? args.result\n                : this.gridObj.dataSource);\n            args.result = items;\n        }\n    };\n    /* istanbul ignore next */\n    DetailsView.prototype.onDataBound = function () {\n        this.createDragObj();\n        if ((this.parent.selectedItems.length !== 0 && !this.parent.enableVirtualization) ||\n            ((this.parent.selectedItems.length !== 0 && this.parent.enableVirtualization &&\n                this.element.querySelector('.e-content').scrollTop === 0))) {\n            this.selectRecords(this.parent.selectedItems);\n        }\n        if (this.isPasteOperation === true && (!isNullOrUndefined(this.gridObj.getDataRows()) && this.gridObj.getDataRows().length > 0)) {\n            if (!this.isColumnRefresh) {\n                this.selectRecords(this.parent.pasteNodes);\n                this.isPasteOperation = false;\n            }\n            else {\n                this.isColumnRefresh = false;\n            }\n        }\n        if (this.parent.createdItem) {\n            this.selectRecords([getValue(this.parent.hasId ? 'id' : 'name', this.parent.createdItem)]);\n            this.parent.createdItem = null;\n        }\n        if (this.parent.layoutSelectedItems.length) {\n            this.selectRecords(this.parent.layoutSelectedItems);\n        }\n        if (this.parent.renamedItem) {\n            this.addSelection(this.parent.renamedItem);\n            this.parent.renamedItem = null;\n        }\n        if (this.sortItem === true) {\n            this.selectRecords(this.sortSelectedNodes);\n            this.sortItem = false;\n        }\n        if (this.isSelectionUpdate) {\n            if (!this.isColumnRefresh) {\n                this.selectRecords(this.currentSelectedItem);\n                this.isSelectionUpdate = false;\n            }\n            else {\n                this.isColumnRefresh = false;\n            }\n        }\n        if (this.uploadOperation === true) {\n            this.count++;\n            this.selectRecords(this.parent.uploadItem);\n            if (this.count === this.parent.uploadItem.length) {\n                this.uploadOperation = false;\n                this.parent.uploadItem = [];\n            }\n        }\n        if (this.gridObj.currentViewData.length * this.gridObj.getRowHeight() < this.gridObj.height) {\n            var hdTable = this.gridObj.getHeaderContent();\n            hdTable.style.paddingRight = '';\n            hdTable.style.paddingLeft = '';\n            var hdContent = select('.e-headercontent', hdTable);\n            hdContent.style.borderRightWidth = '0';\n            var cnTable = this.gridObj.getContent().querySelector('.e-content');\n            cnTable.style.overflowY = '';\n            cnTable.classList.add('e-scrollShow');\n        }\n        else {\n            var hdTable = this.gridObj.getHeaderContent();\n            if (!this.parent.enableRtl) {\n                hdTable.style.paddingRight = '16px';\n            }\n            else {\n                hdTable.style.paddingLeft = '16px';\n            }\n            var cnTable = this.gridObj.getContent().querySelector('.e-content');\n            cnTable.classList.remove('e-scrollShow');\n        }\n        this.isRendered = true;\n        this.parent.isLayoutChange = false;\n        hideSpinner(this.parent.element);\n        this.checkEmptyDiv(this.emptyArgs);\n        this.isInteracted = this.isLoaded ? true : this.isInteracted;\n        this.isLoaded = false;\n    };\n    DetailsView.prototype.selectRecords = function (nodes) {\n        var gridRecords = this.gridObj.getCurrentViewRecords();\n        var sRecords = [];\n        for (var i = 0, len = gridRecords.length; i < len; i++) {\n            var node = this.parent.hasId ? getValue('id', gridRecords[i]) : getName(this.parent, gridRecords[i]);\n            if (nodes.indexOf(node) !== -1) {\n                sRecords.push(i);\n            }\n            else if (!this.parent.showFileExtension && !this.parent.hasId && node.includes('.')) {\n                var Str2 = node.split('.').slice(0, -1).join('.');\n                if (nodes.indexOf(Str2) !== -1) {\n                    sRecords.push(i);\n                }\n            }\n        }\n        if (sRecords.length !== 0) {\n            this.gridObj.selectRows(sRecords);\n            this.addFocus(this.gridObj.selectedRowIndex);\n        }\n    };\n    DetailsView.prototype.addSelection = function (data) {\n        var items = this.gridObj.getCurrentViewRecords();\n        var rData = [];\n        if (this.parent.hasId) {\n            rData = new DataManager(items).\n                executeLocal(new Query().where('id', 'equal', this.parent.renamedId, false));\n        }\n        else {\n            var nData = new DataManager(items).\n                executeLocal(new Query().where('name', 'equal', getValue('name', data), false));\n            if (nData.length > 0) {\n                rData = new DataManager(nData).\n                    executeLocal(new Query().where('filterPath', 'equal', this.parent.filterPath, false));\n            }\n        }\n        if (rData.length > 0) {\n            var index = items.indexOf(rData[0]);\n            this.gridObj.selectRows([index]);\n        }\n    };\n    DetailsView.prototype.onSortColumn = function () {\n        if (this.parent.sortOrder !== 'None') {\n            this.gridObj.sortModule.sortColumn(this.parent.sortBy, this.parent.sortOrder);\n        }\n        else {\n            this.gridObj.dataSource = getSortedData(this.parent, this.gridObj.dataSource);\n        }\n        if (this.element.querySelector('.e-content').scrollTop !== 0) {\n            this.gridObj.freezeRefresh();\n        }\n    };\n    DetailsView.prototype.onPropertyChanged = function (e) {\n        if (e.module !== this.getModuleName() && e.module !== 'common') {\n            /* istanbul ignore next */\n            return;\n        }\n        for (var _i = 0, _a = Object.keys(e.newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'allowDragAndDrop':\n                    this.createDragObj();\n                    break;\n                case 'height':\n                    this.adjustHeight();\n                    break;\n                case 'detailsViewSettings':\n                    if (!isNullOrUndefined(this.gridObj)) {\n                        this.checkNameWidth();\n                        var columns = this.getColumns();\n                        this.gridObj.columns = columns;\n                        this.gridObj.allowResizing = this.parent.detailsViewSettings.columnResizing;\n                        this.gridObj.dataBind();\n                        this.gridObj.refreshColumns();\n                    }\n                    break;\n                case 'selectedItems':\n                    this.interaction = false;\n                    if (this.parent.selectedItems.length !== 0) {\n                        if (!this.parent.allowMultiSelection) {\n                            var slItems = this.parent.selectedItems.slice(this.parent.selectedItems.length - 1);\n                            this.parent.setProperties({ selectedItems: slItems }, true);\n                        }\n                        this.selectRecords(this.parent.selectedItems);\n                        this.parent.setProperties({ selectedItems: this.parent.selectedItems }, true);\n                    }\n                    else if (!isNOU(this.gridObj)) {\n                        this.gridObj.clearSelection();\n                        this.interaction = true;\n                    }\n                    break;\n                case 'showFileExtension':\n                    read(this.parent, events.pathChanged, this.parent.path);\n                    break;\n                case 'showHiddenItems':\n                    read(this.parent, events.pathChanged, this.parent.path);\n                    break;\n                case 'showItemCheckBoxes':\n                case 'allowMultiSelection':\n                    if (!isNullOrUndefined(this.gridObj)) {\n                        this.currentSelectedItem = this.parent.selectedItems;\n                        this.gridObj.selectionSettings.type = e.newProp.allowMultiSelection ? 'Multiple' : 'Single';\n                        this.isSelectionUpdate = true;\n                        this.renderCheckBox();\n                    }\n                    break;\n                case 'view':\n                    updateLayout(this.parent, 'Details');\n                    break;\n                case 'width':\n                    this.onDetailsResize();\n            }\n        }\n    };\n    DetailsView.prototype.onPathChanged = function (args) {\n        this.parent.isCut = false;\n        var pathField = this.parent.detailsViewSettings.columns.find(function (column) { return column.field === 'filterPath'; });\n        if ((this.parent.breadcrumbbarModule.searchObj.element.value.trim() === '' && this.gridObj) ||\n            (!isNullOrUndefined(pathField) && !isNullOrUndefined(pathField.hideAtMedia) && pathField.hideAtMedia !== '')) {\n            this.parent.searchedItems = [];\n            if (!this.parent.isFiltered) {\n                this.removePathColumn(false);\n            }\n            else {\n                this.updatePathColumn();\n            }\n        }\n        removeBlur(this.parent);\n        if (this.parent.view === 'Details') {\n            /* istanbul ignore next */\n            this.isInteracted = false;\n            showSpinner(this.parent.element);\n            this.parent.setProperties({ selectedItems: [] }, true);\n            this.gridObj.dataSource = getSortedData(this.parent, args.files);\n            this.gridObj.freezeRefresh();\n            if (this.parent.isReact) {\n                this.gridObj.on('reactTemplateRender', this.reactTemplateRender, this);\n            }\n        }\n        this.emptyArgs = args;\n    };\n    DetailsView.prototype.updatePathColumn = function () {\n        var len = this.gridObj.columns.length;\n        var columnData = JSON.parse(JSON.stringify(this.gridObj.columns));\n        if (columnData[len - 1].field && columnData[len - 1].field !== 'filterPath' && !this.parent.isMobile) {\n            var pathColumn = {\n                field: 'filterPath', headerText: getLocaleText(this.parent, 'Path'), minWidth: 180, width: 'auto'\n            };\n            this.gridObj.columns.push(pathColumn);\n            this.adjustWidth(this.gridObj.columns, 'filterPath');\n            this.adjustWidth(this.gridObj.columns, 'name');\n            this.isColumnRefresh = true;\n            this.gridObj.refreshColumns();\n        }\n    };\n    DetailsView.prototype.checkEmptyDiv = function (args) {\n        var items = getSortedData(this.parent, args.files);\n        if (items.length === 0 && !isNOU(this.element.querySelector('.' + CLS.GRID_VIEW))) {\n            createEmptyElement(this.parent, this.element, args);\n        }\n        else if (items.length !== 0 && this.element.querySelector('.' + CLS.EMPTY)) {\n            if (this.element.querySelector('.' + CLS.GRID_VIEW).querySelector('.' + CLS.EMPTY)) {\n                var emptyDiv = this.element.querySelector('.' + CLS.GRID_VIEW).querySelector('.' + CLS.EMPTY);\n                this.element.querySelector('.' + CLS.GRID_VIEW).removeChild(emptyDiv);\n            }\n            else {\n                this.element.removeChild(this.element.querySelector('.' + CLS.EMPTY));\n            }\n        }\n    };\n    DetailsView.prototype.onOpenInit = function () {\n        if (this.parent.activeModule === 'detailsview') {\n            var data = this.gridObj.getSelectedRecords()[0];\n            this.openContent(data);\n        }\n    };\n    DetailsView.prototype.DblClickEvents = function (args) {\n        this.gridObj.selectRows([args.rowIndex]);\n        var data;\n        if (args.rowData) {\n            data = JSON.parse(JSON.stringify(args.rowData));\n            this.openContent(data);\n        }\n    };\n    DetailsView.prototype.openContent = function (data) {\n        var _this = this;\n        if (!hasReadAccess(data)) {\n            createDeniedDialog(this.parent, data, events.permissionRead);\n            return;\n        }\n        var eventArgs = { cancel: false, fileDetails: data, module: 'DetailsView' };\n        this.parent.trigger('fileOpen', eventArgs, function (fileOpenArgs) {\n            if (!fileOpenArgs.cancel) {\n                var name_2 = getValue('name', data);\n                if (getValue('isFile', data)) {\n                    var icon = fileType(data);\n                    if (icon === CLS.ICON_IMAGE) {\n                        var imgUrl = getImageUrl(_this.parent, data);\n                        createImageDialog(_this.parent, name_2, imgUrl);\n                    }\n                }\n                else {\n                    var val = _this.parent.breadcrumbbarModule.searchObj.element.value;\n                    if (val === '' && !_this.parent.isFiltered) {\n                        var id = getValue('id', data);\n                        _this.parent.oldPath = _this.parent.path;\n                        var newPath = _this.parent.path + (isNOU(id) ? name_2 : id) + '/';\n                        _this.parent.setProperties({ path: newPath }, true);\n                        _this.parent.pathNames.push(name_2);\n                        _this.parent.pathId.push(getValue('_fm_id', data));\n                        _this.parent.itemData = [data];\n                        openAction(_this.parent);\n                    }\n                    else {\n                        openSearchFolder(_this.parent, data);\n                    }\n                    _this.parent.isFiltered = false;\n                }\n                _this.element.focus();\n                if (_this.parent.enableVirtualization) {\n                    _this.parent.element.querySelector('#' + _this.parent.element.id + CLS.IMG_DIALOG_ID).focus();\n                }\n            }\n        });\n    };\n    /* istanbul ignore next */\n    DetailsView.prototype.onLayoutChange = function (args) {\n        if (this.parent.view === 'Details') {\n            if (this.parent.enableVirtualization) {\n                this.parent.setProperties({ selectedItems: [] }, true);\n            }\n            if (!this.gridObj) {\n                this.render(args);\n            }\n            else {\n                this.isLoaded = true;\n            }\n            if (this.parent.isFiltered) {\n                this.updatePathColumn();\n                this.parent.setProperties({ selectedItems: [] }, true);\n            }\n            this.gridObj.dataSource = getSortedData(this.parent, args.files);\n            this.parent.notify(events.hideLayout, {});\n            this.gridObj.element.classList.remove(CLS.DISPLAY_NONE);\n            this.isInteracted = false;\n            this.gridObj.clearSelection();\n            if (this.parent.breadcrumbbarModule.searchObj.element.value.trim() !== '') {\n                this.onSearchFiles(args);\n            }\n            this.adjustHeight();\n            if (this.gridObj.sortSettings.columns.length > 0 && this.gridObj.sortSettings.columns[0].field !== this.parent.sortBy) {\n                if (this.parent.sortOrder !== 'None') {\n                    this.gridObj.sortColumn(this.parent.sortBy, this.parent.sortOrder);\n                }\n            }\n        }\n    };\n    /* istanbul ignore next */\n    DetailsView.prototype.onSearchFiles = function (args) {\n        if (this.parent.view === 'Details') {\n            this.parent.setProperties({ selectedItems: [] }, true);\n            this.parent.notify(events.selectionChanged, {});\n            if (!this.parent.isLayoutChange) {\n                this.parent.layoutSelectedItems = [];\n            }\n            this.updatePathColumn();\n            this.parent.searchedItems = args.files;\n            this.onPathChanged(args);\n        }\n    };\n    DetailsView.prototype.removePathColumn = function (isRefresh) {\n        var len = this.gridObj.columns.length;\n        var columnData = JSON.parse(JSON.stringify(this.gridObj.columns));\n        if (columnData[len - 1].field && (columnData[len - 1].field === 'filterPath')) {\n            /* istanbul ignore next */\n            if (!isNullOrUndefined(this.gridObj.sortSettings.columns[0]) && this.gridObj.sortSettings.columns[0].field === 'filterPath') {\n                if (this.parent.sortOrder !== 'None') {\n                    this.gridObj.sortColumn('name', this.parent.sortOrder);\n                }\n                else {\n                    this.gridObj.dataSource = getSortedData(this.parent, this.gridObj.dataSource);\n                }\n                this.parent.notify(events.sortByChange, {});\n            }\n            this.gridObj.columns.pop();\n            if (!isRefresh) {\n                this.isColumnRefresh = true;\n                this.gridObj.refreshColumns();\n            }\n        }\n    };\n    DetailsView.prototype.onFinalizeEnd = function (args) {\n        if (this.parent.view !== 'Details') {\n            return;\n        }\n        if (!this.gridObj) {\n            this.render(args);\n        }\n        else {\n            this.onPathChanged(args);\n        }\n    };\n    DetailsView.prototype.onCreateEnd = function (args) {\n        if (this.parent.view !== 'Details') {\n            return;\n        }\n        this.onPathChanged(args);\n    };\n    DetailsView.prototype.onRenameInit = function () {\n        if (this.parent.activeModule === 'detailsview' && this.parent.selectedItems.length === 1) {\n            this.updateRenameData();\n        }\n    };\n    DetailsView.prototype.onSelectedData = function () {\n        if (this.parent.activeModule === 'detailsview') {\n            this.parent.itemData = this.gridObj.getSelectedRecords();\n        }\n    };\n    DetailsView.prototype.onDeleteInit = function () {\n        if (this.parent.activeModule === 'detailsview') {\n            Delete(this.parent, this.parent.selectedItems, this.parent.path, 'delete');\n        }\n    };\n    /* istanbul ignore next */\n    DetailsView.prototype.onDeleteEnd = function (args) {\n        if (this.parent.view !== 'Details') {\n            return;\n        }\n        this.onPathChanged(args);\n        this.parent.setProperties({ selectedItems: [] }, true);\n    };\n    DetailsView.prototype.onRefreshEnd = function (args) {\n        if (this.parent.view !== 'Details') {\n            return;\n        }\n        this.isInteracted = false;\n        this.removePathColumn(false);\n        this.gridObj.dataSource = getSortedData(this.parent, args.files);\n        this.emptyArgs = args;\n    };\n    DetailsView.prototype.onHideLayout = function () {\n        if (this.parent.view !== 'Details' && this.gridObj) {\n            this.gridObj.element.classList.add(CLS.DISPLAY_NONE);\n        }\n    };\n    DetailsView.prototype.onSelectAllInit = function () {\n        if (this.parent.view === 'Details') {\n            this.isInteracted = false;\n            if (this.parent.allowMultiSelection) {\n                this.gridObj.selectionModule.selectRowsByRange(0, this.gridObj.getRows().length);\n            }\n            else {\n                this.gridObj.selectRow(this.gridObj.getRows().length - 1);\n            }\n            this.isInteracted = true;\n            this.interaction = true;\n        }\n    };\n    DetailsView.prototype.onClearAllInit = function () {\n        if (this.parent.view === 'Details') {\n            this.removeSelection();\n            this.interaction = true;\n        }\n    };\n    /* istanbul ignore next */\n    DetailsView.prototype.onSelectionChanged = function () {\n        removeClass([this.element], CLS.HEADER_CHECK);\n        if (this.parent.selectedItems.length > 0) {\n            addClass([this.element], CLS.HEADER_CHECK);\n        }\n    };\n    DetailsView.prototype.onLayoutRefresh = function () {\n        if (this.parent.view !== 'Details') {\n            return;\n        }\n        this.adjustHeight();\n    };\n    DetailsView.prototype.onBeforeRequest = function () {\n        this.isRendered = false;\n    };\n    DetailsView.prototype.onAfterRequest = function () {\n        this.isRendered = true;\n    };\n    DetailsView.prototype.onUpdateSelectionData = function () {\n        if (this.parent.view !== 'Details') {\n            return;\n        }\n        this.parent.itemData = this.gridObj.getSelectedRecords();\n    };\n    DetailsView.prototype.addEventListener = function () {\n        this.parent.on(events.finalizeEnd, this.onFinalizeEnd, this);\n        this.parent.on(events.destroy, this.destroy, this);\n        this.parent.on(events.layoutChange, this.onLayoutChange, this);\n        this.parent.on(events.pathChanged, this.onPathChanged, this);\n        this.parent.on(events.createEnd, this.onCreateEnd, this);\n        this.parent.on(events.dropInit, this.onDropInit, this);\n        this.parent.on(events.detailsInit, this.onDetailsInit, this);\n        this.parent.on(events.refreshEnd, this.onRefreshEnd, this);\n        this.parent.on(events.search, this.onSearchFiles, this);\n        this.parent.on(events.methodCall, this.onMethodCall, this);\n        this.parent.on(events.actionFailure, this.onActionFailure, this);\n        this.parent.on(events.modelChanged, this.onPropertyChanged, this);\n        this.parent.on(events.deleteInit, this.onDeleteInit, this);\n        this.parent.on(events.deleteEnd, this.onDeleteEnd, this);\n        this.parent.on(events.selectedData, this.onSelectedData, this);\n        this.parent.on(events.renameInit, this.onRenameInit, this);\n        this.parent.on(events.renameEnd, this.onPathChanged, this);\n        this.parent.on(events.openInit, this.onOpenInit, this);\n        this.parent.on(events.sortColumn, this.onSortColumn, this);\n        this.parent.on(events.openEnd, this.onPathChanged, this);\n        this.parent.on(events.filterEnd, this.onPathChanged, this);\n        this.parent.on(events.pasteInit, this.onPasteInit, this);\n        this.parent.on(events.hideLayout, this.onHideLayout, this);\n        this.parent.on(events.selectAllInit, this.onSelectAllInit, this);\n        this.parent.on(events.clearAllInit, this.onClearAllInit, this);\n        this.parent.on(events.pathColumn, this.onPathColumn, this);\n        this.parent.on(events.selectionChanged, this.onSelectionChanged, this);\n        this.parent.on(events.beforeRequest, this.onBeforeRequest, this);\n        this.parent.on(events.afterRequest, this.onAfterRequest, this);\n        this.parent.on(events.pasteEnd, this.onpasteEnd, this);\n        this.parent.on(events.cutCopyInit, this.oncutCopyInit, this);\n        this.parent.on(events.menuItemData, this.onMenuItemData, this);\n        this.parent.on(events.resizeEnd, this.onDetailsResizeHandler, this);\n        this.parent.on(events.splitterResize, this.onDetailsResize, this);\n        this.parent.on(events.layoutRefresh, this.onLayoutRefresh, this);\n        this.parent.on(events.dropPath, this.onDropPath, this);\n        this.parent.on(events.updateSelectionData, this.onUpdateSelectionData, this);\n    };\n    DetailsView.prototype.removeEventListener = function () {\n        this.parent.off(events.finalizeEnd, this.onFinalizeEnd);\n        this.parent.off(events.destroy, this.destroy);\n        this.parent.off(events.layoutChange, this.onLayoutChange);\n        this.parent.off(events.pathChanged, this.onPathChanged);\n        this.parent.off(events.pasteInit, this.onPasteInit);\n        this.parent.off(events.createEnd, this.onCreateEnd);\n        this.parent.off(events.refreshEnd, this.onRefreshEnd);\n        this.parent.off(events.search, this.onSearchFiles);\n        this.parent.off(events.methodCall, this.onMethodCall);\n        this.parent.off(events.actionFailure, this.onActionFailure);\n        this.parent.off(events.modelChanged, this.onPropertyChanged);\n        this.parent.off(events.renameInit, this.onRenameInit);\n        this.parent.off(events.renameEnd, this.onPathChanged);\n        this.parent.off(events.filterEnd, this.onPathChanged);\n        this.parent.off(events.openInit, this.onOpenInit);\n        this.parent.off(events.sortColumn, this.onSortColumn);\n        this.parent.off(events.openEnd, this.onPathChanged);\n        this.parent.off(events.hideLayout, this.onHideLayout);\n        this.parent.off(events.selectAllInit, this.onSelectAllInit);\n        this.parent.off(events.clearAllInit, this.onClearAllInit);\n        this.parent.off(events.deleteInit, this.onDeleteInit);\n        this.parent.off(events.deleteEnd, this.onDeleteEnd);\n        this.parent.off(events.pathColumn, this.onPathColumn);\n        this.parent.off(events.selectionChanged, this.onSelectionChanged);\n        this.parent.off(events.beforeRequest, this.onBeforeRequest);\n        this.parent.off(events.afterRequest, this.onAfterRequest);\n        this.parent.off(events.pasteEnd, this.onpasteEnd);\n        this.parent.off(events.cutCopyInit, this.oncutCopyInit);\n        this.parent.off(events.dropInit, this.onDropInit);\n        this.parent.off(events.selectedData, this.onSelectedData);\n        this.parent.off(events.detailsInit, this.onDetailsInit);\n        this.parent.off(events.menuItemData, this.onMenuItemData);\n        this.parent.off(events.resizeEnd, this.onDetailsResizeHandler);\n        this.parent.off(events.splitterResize, this.onDetailsResize);\n        this.parent.off(events.layoutRefresh, this.onLayoutRefresh);\n        this.parent.off(events.dropPath, this.onDropPath);\n        this.parent.off(events.updateSelectionData, this.onUpdateSelectionData);\n    };\n    DetailsView.prototype.onActionFailure = function () { this.interaction = true; };\n    DetailsView.prototype.onMenuItemData = function (args) {\n        if (this.parent.activeModule === this.getModuleName()) {\n            this.parent.itemData = [this.gridObj.getRowInfo(args.target).rowData];\n        }\n    };\n    DetailsView.prototype.onPasteInit = function () {\n        if (this.parent.activeModule === this.getModuleName()) {\n            this.parent.itemData = (this.parent.folderPath !== '') ? this.gridObj.getSelectedRecords() :\n                [getPathObject(this.parent)];\n        }\n    };\n    DetailsView.prototype.onDetailsInit = function () {\n        if (this.parent.activeModule === this.getModuleName()) {\n            if (this.parent.selectedItems.length !== 0) {\n                this.parent.itemData = this.gridObj.getSelectedRecords();\n            }\n            else {\n                this.parent.itemData = [getValue(this.parent.pathId[this.parent.pathId.length - 1], this.parent.feParent)];\n            }\n        }\n    };\n    DetailsView.prototype.dragHelper = function (args) {\n        var dragTarget = args.sender.target;\n        var dragLi = dragTarget.closest('tr.e-row');\n        if (!dragLi) {\n            return null;\n        }\n        var name;\n        if (dragLi.getElementsByClassName('e-fe-text')[0]) {\n            name = this.parent.hasId ? this.gridObj.getRowInfo(dragLi).rowData.id : dragLi.getElementsByClassName('e-fe-text')[0].innerText;\n        }\n        else if (dragLi.getElementsByClassName('e-rowcell e-templatecell')[0].nextElementSibling) {\n            name = this.parent.hasId ? this.gridObj.getRowInfo(dragLi).rowData.id : dragLi.getElementsByClassName('e-rowcell e-templatecell')[0].nextElementSibling.innerText;\n        }\n        if (dragLi && !dragLi.querySelector('.e-active')) {\n            this.selectRecords([name]);\n        }\n        getModule(this.parent, dragLi);\n        this.parent.activeElements = [];\n        this.parent.dragData = [];\n        this.parent.dragData = this.gridObj.getSelectedRecords();\n        var dragRow;\n        if (this.parent.dragData.length === 0 && dragLi) {\n            dragRow = this.gridObj.getRowInfo(dragLi);\n        }\n        if (dragRow) {\n            this.parent.dragData.push(dragRow.rowData);\n        }\n        this.parent.dragPath = this.parent.path;\n        this.parent.activeElements = this.gridObj.getSelectedRows();\n        createVirtualDragElement(this.parent);\n        return this.parent.virtualDragElement;\n    };\n    /* istanbul ignore next */\n    DetailsView.prototype.onDetailsResize = function () {\n        if (this.parent.view === 'Details' && !this.parent.isMobile && !isNOU(this.gridObj)) {\n            var gridHeader = this.gridObj.getHeaderContent().querySelector('.e-headercontent');\n            var gridHeaderColGroup = gridHeader.firstChild.childNodes[0];\n            var gridContentColGroup = this.gridObj.getContent().querySelector('.e-content .e-table').children[0];\n            var gridHeaderColNames = this.gridObj.getColumns();\n            for (var i = 0; i < gridHeaderColNames.length; i++) {\n                if ((!this.isNameWidth && gridHeaderColNames[i].field === 'name') || gridHeaderColNames[i].field === 'filterPath') {\n                    if (this.parent.breadcrumbbarModule.searchObj.element.value === '' && !this.parent.isFiltered) {\n                        if (this.element.clientWidth <= 500) {\n                            gridHeaderColGroup.children[i].setAttribute('style', 'width: 120px');\n                            gridContentColGroup.children[i].setAttribute('style', 'width: 120px');\n                        }\n                        else if (this.element.clientWidth > 500) {\n                            gridHeaderColGroup.children[i].setAttribute('style', 'width: auto');\n                            gridContentColGroup.children[i].setAttribute('style', 'width: auto');\n                        }\n                    }\n                    else {\n                        if (this.element.clientWidth <= 680) {\n                            if (gridHeaderColNames[i].field === 'name') {\n                                gridHeaderColGroup.children[i].setAttribute('style', 'width: 120px');\n                                gridContentColGroup.children[i].setAttribute('style', 'width: 120px');\n                            }\n                            else {\n                                gridHeaderColGroup.children[i].setAttribute('style', 'width: 180px');\n                                gridContentColGroup.children[i].setAttribute('style', 'width: 180px');\n                            }\n                        }\n                        else if (this.element.clientWidth > 680) {\n                            gridHeaderColGroup.children[i].setAttribute('style', 'width: auto');\n                            gridContentColGroup.children[i].setAttribute('style', 'width: auto');\n                        }\n                    }\n                }\n            }\n        }\n    };\n    DetailsView.prototype.onDetailsResizeHandler = function () {\n        this.onDetailsResize();\n        if (this.parent.view === 'Details' && !this.parent.isMobile && !isNOU(this.gridObj)) {\n            this.adjustHeight();\n        }\n    };\n    DetailsView.prototype.createDragObj = function () {\n        var _this = this;\n        if (this.gridObj) {\n            if (this.parent.allowDragAndDrop && isNullOrUndefined(this.dragObj)) {\n                this.dragObj = new Draggable(this.gridObj.element, {\n                    cursorAt: this.parent.dragCursorPosition,\n                    distance: 5,\n                    enableTailMode: true,\n                    dragArea: this.parent.element,\n                    dragTarget: '.' + CLS.ROW,\n                    drag: draggingHandler.bind(this, this.parent),\n                    dragStart: function (args) {\n                        dragStartHandler(_this.parent, args, _this.dragObj);\n                    },\n                    dragStop: dragStopHandler.bind(this, this.parent),\n                    enableAutoScroll: false,\n                    helper: this.dragHelper.bind(this)\n                });\n            }\n            else if (!this.parent.allowDragAndDrop && this.dragObj) {\n                this.dragObj.destroy();\n                this.dragObj = null;\n            }\n        }\n    };\n    DetailsView.prototype.onDropInit = function (args) {\n        if (this.parent.targetModule === this.getModuleName()) {\n            /* istanbul ignore next */\n            var cwdData = getValue(this.parent.pathId[this.parent.pathId.length - 1], this.parent.feParent);\n            if (!args.target.closest('tr')) {\n                this.parent.dropPath = this.parent.path;\n                this.parent.dropData = cwdData;\n            }\n            else {\n                var info = null;\n                info = this.gridObj.getRowInfo(args.target).rowData;\n                this.parent.dropPath = info.isFile ? this.parent.path : getFullPath(this.parent, info, this.parent.path);\n                this.parent.dropData = info.isFile ? cwdData : info;\n            }\n        }\n    };\n    DetailsView.prototype.oncutCopyInit = function () {\n        if (this.parent.activeModule === this.getModuleName()) {\n            this.parent.activeRecords = this.gridObj.getSelectedRecords();\n            this.parent.activeElements = this.gridObj.getSelectedRows();\n        }\n    };\n    DetailsView.prototype.onpasteEnd = function (args) {\n        if (this.parent.view === 'Details') {\n            this.isPasteOperation = true;\n            if (this.parent.path === this.parent.destinationPath ||\n                this.parent.path === getDirectoryPath(this.parent, args) || this.parent.hasId) {\n                this.onPathChanged(args);\n            }\n        }\n    };\n    DetailsView.prototype.onDropPath = function (args) {\n        if (this.parent.view === 'Details') {\n            this.isPasteOperation = true;\n            this.onPathChanged(args);\n        }\n    };\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} - returns modules name.\n     * @private\n     */\n    DetailsView.prototype.getModuleName = function () {\n        return 'detailsview';\n    };\n    DetailsView.prototype.destroy = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.removeEventListener();\n        if (this.gridObj) {\n            if (this.parent.isReact) {\n                this.gridObj.off('reactTemplateRender', this.reactTemplateRender);\n            }\n            this.unWireEvents();\n            this.gridObj.destroy();\n        }\n    };\n    DetailsView.prototype.updateType = function (item) {\n        var folder = select('.' + CLS.FOLDER, item);\n        this.parent.isFile = isNOU(folder) ? true : false;\n    };\n    /* istanbul ignore next */\n    DetailsView.prototype.onSelection = function (action, args) {\n        var eventArgs = {\n            action: action, fileDetails: args.data, isInteracted: this.interaction, cancel: false, target: args.target\n        };\n        this.parent.trigger('fileSelection', eventArgs);\n        args.cancel = eventArgs.cancel;\n        if (!this.isMultiSelect) {\n            this.isMultiSelect = true;\n            if ((args.isShiftPressed || args.isCtrlPressed) && !this.parent.allowMultiSelection && (args.target && args.target.parentElement && !args.target.parentElement.classList.contains('e-checkbox-wrapper'))) {\n                args.cancel = true;\n                var rowIndex = (args && args.rowIndexes)\n                    ? args.rowIndexes[args.rowIndexes.length - 1]\n                    : args.rowIndex;\n                this.gridObj.selectRow(rowIndex);\n            }\n            this.isMultiSelect = false;\n        }\n    };\n    /* istanbul ignore next */\n    DetailsView.prototype.onSelected = function (args) {\n        this.parent.activeModule = 'detailsview';\n        if (!this.parent.isLayoutChange || this.parent.isFiltered) {\n            this.selectedRecords();\n        }\n        this.parent.notify(events.selectionChanged, {});\n        if (this.gridObj.getSelectedRowIndexes().length === 1) {\n            this.firstItemIndex = this.gridObj.selectedRowIndex;\n        }\n        this.gridObj.element.setAttribute('tabindex', '-1');\n        this.triggerSelect('select', args);\n        var item = this.gridObj.getRowByIndex(this.gridObj.selectedRowIndex);\n        this.updateType(item);\n        if (!isNOU(item) && !isNOU(item.querySelector('.e-checkselect'))) {\n            if (this.gridObj.getSelectedRowIndexes().length !== 1) {\n                var lastItemIndex = this.gridObj.getSelectedRowIndexes()[this.gridObj.getSelectedRowIndexes().length - 2];\n                var lastItem = this.gridObj.getRowByIndex(lastItemIndex);\n                lastItem.querySelector('.e-checkselect').setAttribute('tabindex', '-1');\n            }\n            item.querySelector('.e-rowcell.e-fe-checkbox').removeAttribute('tabindex');\n        }\n        if (!isNOU(this.gridObj) && !isNOU(this.gridObj.element.querySelector('.e-checkselectall'))) {\n            this.gridObj.element.querySelector('.e-checkselectall').setAttribute('tabindex', '-1');\n        }\n        var rows = this.gridObj.getSelectedRowIndexes();\n        if (!this.parent.allowMultiSelection) {\n            for (var i = 0; i < rows.length; i++) {\n                if (rows[i] === this.gridObj.selectedRowIndex) {\n                    this.gridObj.getRowByIndex(rows[i]).setAttribute('tabindex', '0');\n                }\n                else {\n                    this.gridObj.getRowByIndex(rows[i]).removeAttribute('tabindex');\n                }\n            }\n        }\n        var len = rows.length;\n        if (this.parent.enableVirtualization) {\n            this.parent.currentItemText = getValue('name', args.data);\n        }\n        else if (len > 0) {\n            var data = this.gridObj.getRowsObject()[rows[len - 1]].data;\n            this.parent.currentItemText = getValue('name', data);\n        }\n        var indexes = getValue('rowIndexes', args);\n        var multiSelect = getValue('enableSelectMultiTouch', this.gridObj.selectionModule);\n        if (this.parent.isDevice && isNOU(indexes) && args.target && !multiSelect && !args.target.closest('.e-headercell')) {\n            this.parent.isFile = getValue('isFile', args.data);\n            if (!this.parent.isFile) {\n                this.openContent(args.data);\n            }\n        }\n        this.parent.visitedItem = args.row;\n        if ((!this.parent.enableVirtualization) || (!args.isHeaderCheckboxClicked)) {\n            this.addFocus(this.gridObj.selectedRowIndex);\n        }\n        if (!this.parent.isLayoutChange) {\n            this.isInteracted = true;\n        }\n    };\n    /* istanbul ignore next */\n    DetailsView.prototype.onPathColumn = function () {\n        if (this.parent.view === 'Details' && !isNOU(this.gridObj)) {\n            if (this.parent.breadcrumbbarModule.searchObj.element.value === '' && !this.parent.isFiltered) {\n                this.removePathColumn(false);\n            }\n        }\n    };\n    DetailsView.prototype.selectedRecords = function () {\n        this.parent.setProperties({ selectedItems: [] }, true);\n        var selectedRecords = this.gridSelectNodes();\n        var selectSize = 0;\n        while (selectSize < selectedRecords.length) {\n            var record = selectedRecords[selectSize];\n            var name_3 = getItemName(this.parent, record);\n            this.parent.selectedItems.push(name_3);\n            selectSize++;\n        }\n        this.parent.setProperties({ selectedItems: this.parent.selectedItems }, true);\n    };\n    DetailsView.prototype.onDeSelection = function (args) {\n        /* istanbul ignore next */\n        if (!this.parent.allowMultiSelection && isNOU(args.data)) {\n            this.gridObj.getRowByIndex(args.rowIndex).removeAttribute('tabindex');\n        }\n        else if (this.gridObj.getSelectedRowIndexes().length > 1) {\n            var lastItemIndex = this.gridObj.getSelectedRowIndexes()[this.gridObj.getSelectedRowIndexes().length - 2];\n            this.gridObj.getRowByIndex(lastItemIndex).querySelector('.e-checkselect').removeAttribute('tabindex');\n        }\n        if (this.gridObj.selectedRowIndex === -1) {\n            this.gridObj.element.setAttribute('tabindex', '0');\n        }\n        if (!this.isInteracted) {\n            this.isInteracted = true;\n            return;\n        }\n        this.selectedRecords();\n        if (this.parent.selectedItems.length === 0) {\n            setValue('enableSelectMultiTouch', false, this.gridObj.selectionModule);\n            removeClass([this.parent.element], CLS.MULTI_SELECT);\n        }\n        this.parent.notify(events.selectionChanged, {});\n        this.triggerSelect('unselect', args);\n        this.parent.visitedItem = null;\n    };\n    DetailsView.prototype.triggerSelect = function (action, args) {\n        var eventArgs = { action: action, fileDetails: args.data, isInteracted: this.interaction };\n        this.parent.trigger('fileSelect', eventArgs);\n        this.interaction = true;\n    };\n    DetailsView.prototype.wireEvents = function () {\n        this.wireClickEvent(true);\n        this.keyboardModule = new KeyboardEvents(this.gridObj.element, {\n            keyAction: this.keyupHandler.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keyup'\n        });\n        this.keyboardDownModule = new KeyboardEvents(this.element, {\n            keyAction: this.keydownHandler.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keydown'\n        });\n        EventHandler.add(this.gridObj.element, 'blur', this.removeFocus, this);\n        EventHandler.add(this.parent.element, 'focusout', this.onBlur, this);\n    };\n    DetailsView.prototype.unWireEvents = function () {\n        this.wireClickEvent(false);\n        this.keyboardModule.destroy();\n        this.keyboardDownModule.destroy();\n        EventHandler.remove(this.gridObj.element, 'blur', this.removeFocus);\n        EventHandler.remove(this.parent.element, 'focusout', this.onBlur);\n    };\n    DetailsView.prototype.wireClickEvent = function (toBind) {\n        var _this = this;\n        if (toBind) {\n            var ele = this.gridObj.getContent();\n            this.clickObj = new Touch(ele, {\n                tap: function (eve) {\n                    if (eve.tapCount === 1 && eve.originalEvent.target.classList.contains('e-content')) {\n                        _this.onClearAllInit();\n                    }\n                },\n                tapHold: function (e) {\n                    if (_this.parent.isDevice) {\n                        e.originalEvent.preventDefault();\n                        if (_this.parent.allowMultiSelection) {\n                            setValue('enableSelectMultiTouch', _this.parent.allowMultiSelection, _this.gridObj.selectionModule);\n                            addClass([_this.parent.element], CLS.MULTI_SELECT);\n                        }\n                        var target = e.originalEvent.target;\n                        if (target) {\n                            var row = closest(target, '.' + CLS.ROW);\n                            var index = _this.gridObj.getRows().indexOf(row);\n                            _this.gridObj.selectRow(index);\n                        }\n                    }\n                }\n            });\n        }\n        else {\n            if (this.clickObj) {\n                this.clickObj.destroy();\n            }\n        }\n    };\n    /* istanbul ignore next */\n    DetailsView.prototype.removeSelection = function () {\n        removeClass([this.parent.element], CLS.MULTI_SELECT);\n        this.gridObj.clearSelection();\n        this.parent.setProperties({ selectedItems: [] }, true);\n        this.parent.notify(events.selectionChanged, {});\n        if (this.gridObj.selectedRowIndex === -1) {\n            this.startIndex = null;\n        }\n        this.isInteracted = true;\n    };\n    DetailsView.prototype.removeFocus = function () {\n        this.addFocus(null);\n    };\n    DetailsView.prototype.onBlur = function (e) {\n        if ((e.relatedTarget !== null && closest(e.relatedTarget, '.e-grid') !== e.relatedTarget)) {\n            return;\n        }\n        if (!isNOU(this.gridObj.element)) {\n            var thElements = this.gridObj.element.querySelectorAll('th');\n            for (var i = 0; i < thElements.length; i++) {\n                if (thElements[i].classList.contains('e-focus')) {\n                    this.addFocus(null);\n                }\n            }\n        }\n    };\n    DetailsView.prototype.getFocusedItemIndex = function () {\n        return (!isNOU(this.getFocusedItem())) ?\n            parseInt(this.getFocusedItem().getAttribute('data-rowindex'), 10) : null;\n    };\n    /* istanbul ignore next */\n    DetailsView.prototype.keydownHandler = function (e) {\n        if (!this.isRendered) {\n            return;\n        }\n        switch (e.action) {\n            case 'end':\n            case 'home':\n            case 'space':\n            case 'ctrlSpace':\n            case 'shiftSpace':\n            case 'csSpace':\n            case 'ctrlA':\n            case 'enter':\n            case 'altEnter':\n            case 'ctrlEnd':\n            case 'shiftEnd':\n            case 'csEnd':\n            case 'ctrlHome':\n            case 'shiftHome':\n            case 'csHome':\n            case 'ctrlDown':\n            case 'shiftDown':\n            case 'csDown':\n            case 'ctrlLeft':\n            case 'shiftLeft':\n            case 'csLeft':\n            case 'esc':\n            case 'del':\n            case 'shiftdel':\n            case 'ctrlC':\n            case 'ctrlV':\n            case 'ctrlX':\n            case 'f2':\n            case 'moveDown':\n            case 'moveUp':\n            case 'ctrlD':\n                e.preventDefault();\n                break;\n            default:\n                break;\n        }\n    };\n    /* istanbul ignore next */\n    DetailsView.prototype.keyupHandler = function (e) {\n        if (!this.isRendered) {\n            return;\n        }\n        e.preventDefault();\n        var action = e.action;\n        var gridItems = getSortedData(this.parent, this.gridObj.dataSource);\n        var gridLength = gridItems.length;\n        var focIndex = this.getFocusedItemIndex();\n        var selIndex = this.gridObj.selectedRowIndex;\n        var selRowIndeces = this.gridObj.getSelectedRowIndexes();\n        var rowData;\n        var firstItem;\n        var lastItem;\n        switch (action) {\n            case 'altEnter':\n                this.parent.notify(events.detailsInit, {});\n                GetDetails(this.parent, this.parent.selectedItems, this.parent.path, 'details');\n                break;\n            case 'esc':\n                removeActive(this.parent);\n                break;\n            case 'del':\n            case 'shiftdel':\n                this.performDelete();\n                break;\n            case 'enter':\n                if (this.gridObj.selectedRowIndex === -1 && this.gridObj.allowSorting === true) {\n                    if (!e.target.classList.contains('e-fe-grid-icon')) {\n                        var direction = !e.target.getElementsByClassName('e-ascending').length ? 'Ascending' : 'Descending';\n                        var currentField = this.gridObj.getColumnByUid(e.target.querySelector('.e-headercelldiv').getAttribute('e-mappinguid')).field;\n                        this.gridObj.sortColumn(currentField, direction);\n                        if (!isNOU(this.getFocusedItem().nextSibling)) {\n                            this.getFocusedItem().nextSibling.setAttribute('tabindex', '0');\n                        }\n                    }\n                    break;\n                }\n                rowData = this.gridObj.getRowsObject()[this.gridObj.selectedRowIndex].data;\n                if (rowData) {\n                    var data = JSON.parse(JSON.stringify(rowData));\n                    this.openContent(data);\n                }\n                break;\n            case 'ctrlC':\n                copyFiles(this.parent);\n                break;\n            case 'ctrlV':\n                this.parent.folderPath = '';\n                pasteHandler(this.parent);\n                break;\n            case 'ctrlX':\n                cutFiles(this.parent);\n                break;\n            case 'ctrlD':\n                this.doDownload();\n                break;\n            case 'f2':\n                this.performRename();\n                break;\n            case 'ctrlA':\n                if (!isNOU(gridItems[0]) && this.parent.allowMultiSelection) {\n                    var cnTable = this.gridObj.getContent().querySelector('.e-content');\n                    var crtSrlPos = cnTable.scrollTop;\n                    var crtFocusIndex = this.gridObj.selectedRowIndex;\n                    this.gridObj.selectionModule.selectRowsByRange(0, gridItems.length - 1);\n                    cnTable.scrollTop = crtSrlPos;\n                    if (crtFocusIndex !== -1) {\n                        this.addFocus(crtFocusIndex);\n                    }\n                }\n                break;\n            case 'ctrlHome':\n            case 'tab':\n                if (!isNOU(gridItems[0])) {\n                    if (!this.parent.allowMultiSelection && e.action === 'ctrlHome') {\n                        this.gridObj.selectRow(0);\n                    }\n                    else if (this.gridObj.selectedRowIndex !== -1 && e.action === 'tab') {\n                        return;\n                    }\n                    else {\n                        this.addHeaderFocus(e);\n                    }\n                }\n                break;\n            case 'ctrlEnd':\n                if (!isNOU(gridItems[0])) {\n                    if (!this.parent.allowMultiSelection) {\n                        this.gridObj.selectRow(gridLength - 1);\n                    }\n                    else {\n                        this.addFocus(gridLength - 1);\n                    }\n                }\n                break;\n            case 'shiftHome':\n            case 'shiftEnd':\n            case 'csHome':\n            case 'csEnd':\n                if (!this.parent.allowMultiSelection) {\n                    this.gridObj.selectRow((e.action === 'shiftHome' || e.action === 'csHome') ? 0 : gridItems.length - 1);\n                }\n                else {\n                    if (!isNOU(gridItems[0])) {\n                        if (!isNOU(selIndex) && selIndex !== -1) {\n                            this.checkRowsKey(gridItems, selIndex, null, e);\n                        }\n                        else {\n                            if (e.action === 'csHome' || e.action === 'shiftHome') {\n                                this.gridObj.selectRow(0);\n                            }\n                            else {\n                                this.gridObj.selectionModule.selectRowsByRange(0, gridItems.length - 1);\n                            }\n                        }\n                    }\n                }\n                break;\n            case 'space':\n            case 'csSpace':\n            case 'shiftSpace':\n            case 'ctrlSpace':\n                this.spaceSelection(selRowIndeces, focIndex, selIndex, e);\n                break;\n            case 'csUp':\n            case 'csDown':\n            case 'shiftUp':\n            case 'shiftDown':\n                this.shiftMoveMethod(gridItems, selIndex, focIndex, selRowIndeces, e);\n                break;\n            case 'ctrlUp':\n            case 'ctrlDown':\n                if (!this.parent.allowMultiSelection) {\n                    this.moveFunction(gridItems, e, selIndex);\n                }\n                else {\n                    this.ctrlMoveFunction(gridItems, e, selIndex);\n                }\n                break;\n            case 'home':\n                firstItem = [getValue(this.parent.hasId ? 'id' : 'name', gridItems[0])];\n                this.parent.setProperties({ selectedItems: firstItem }, true);\n                this.selectRecords(firstItem);\n                break;\n            case 'moveUp':\n            case 'moveDown':\n                this.moveFunction(gridItems, e, selIndex);\n                break;\n            case 'end':\n                lastItem = [getValue(this.parent.hasId ? 'id' : 'name', gridItems[gridLength - 1])];\n                this.parent.setProperties({ selectedItems: lastItem }, true);\n                this.selectRecords(lastItem);\n                break;\n            case 'back':\n                this.parent.traverseBackward();\n                break;\n        }\n    };\n    DetailsView.prototype.gridSelectNodes = function () {\n        return this.gridObj.getSelectedRecords();\n    };\n    DetailsView.prototype.doDownload = function () {\n        if (this.parent.selectedItems.length !== 0) {\n            this.parent.itemData = this.gridObj.getSelectedRecords();\n            var items = this.parent.itemData;\n            for (var i = 0; i < items.length; i++) {\n                if (!hasDownloadAccess(items[i])) {\n                    createDeniedDialog(this.parent, items[i], events.permissionDownload);\n                    return;\n                }\n            }\n            Download(this.parent, this.parent.path, this.parent.selectedItems);\n        }\n    };\n    DetailsView.prototype.performDelete = function () {\n        if (this.parent.selectedItems && this.parent.selectedItems.length > 0) {\n            this.parent.itemData = this.gridObj.getSelectedRecords();\n            var items = this.parent.itemData;\n            for (var i = 0; i < items.length; i++) {\n                if (!hasEditAccess(items[i])) {\n                    createDeniedDialog(this.parent, items[i], events.permissionEdit);\n                    return;\n                }\n            }\n            createDialog(this.parent, 'Delete');\n        }\n    };\n    DetailsView.prototype.performRename = function () {\n        if (this.parent.selectedItems.length === 1) {\n            this.updateRenameData();\n            doRename(this.parent);\n        }\n    };\n    DetailsView.prototype.updateRenameData = function () {\n        var data = this.gridSelectNodes()[0];\n        updateRenamingData(this.parent, data);\n    };\n    DetailsView.prototype.shiftMoveMethod = function (gridItems, selIndex, focIndex, selRowIndeces, e) {\n        if (!this.parent.allowMultiSelection) {\n            this.moveFunction(gridItems, e, selIndex);\n        }\n        else {\n            if (selIndex === -1 && (e.action === 'csUp' || e.action === 'csDown')) {\n                this.ctrlMoveFunction(gridItems, e, selIndex);\n            }\n            else if (selIndex !== -1 && focIndex !== selIndex &&\n                !((e.action === 'csUp' || e.action === 'csDown') && this.isSelected(selRowIndeces, focIndex))) {\n                this.shiftSelectFocusItem(selIndex, focIndex, selRowIndeces, e);\n            }\n            else {\n                this.shiftSelectedItem(selIndex, selRowIndeces, gridItems, e);\n            }\n        }\n    };\n    DetailsView.prototype.moveFunction = function (selectedItems, e, rowIndex) {\n        if (!isNOU(this.getFocusedItem()) && this.parent.allowMultiSelection) {\n            if (e.action === 'moveDown') {\n                this.gridObj.selectRow(this.getFocusedItemIndex() + 1);\n            }\n            else {\n                this.gridObj.selectRow(this.getFocusedItemIndex() - 1);\n            }\n        }\n        else if (!isNOU(rowIndex) && rowIndex !== -1) {\n            if (e.action === 'moveDown' || e.action === 'ctrlDown' || e.action === 'shiftDown' || e.action === 'csDown') {\n                this.gridObj.selectRow(rowIndex + ((rowIndex !== selectedItems.length - 1) ? 1 : 0));\n            }\n            else {\n                this.gridObj.selectRow(rowIndex - ((rowIndex !== 0) ? 1 : 0));\n            }\n        }\n        else {\n            if (!isNOU(selectedItems[0])) {\n                this.gridObj.selectRow(0);\n            }\n        }\n    };\n    DetailsView.prototype.spaceSelection = function (selRowIndeces, focIndex, selIndex, e) {\n        if (!this.isSelected(selRowIndeces, focIndex) && selIndex !== -1 && (e.action === 'shiftSpace' || e.action === 'csSpace')) {\n            if (focIndex < selIndex) {\n                this.gridObj.selectionModule.selectRowsByRange(focIndex, selIndex);\n            }\n            else {\n                this.gridObj.selectionModule.selectRowsByRange(selIndex, focIndex);\n            }\n        }\n        else if (!isNOU(this.getFocusedItem()) && focIndex !== selIndex) {\n            selRowIndeces.push(this.getFocusedItemIndex());\n            this.gridObj.selectRows(selRowIndeces);\n        }\n        else if (selIndex !== -1 && e.action === 'ctrlSpace' && this.parent.allowMultiSelection) {\n            var lItem = selIndex;\n            selRowIndeces.pop();\n            this.gridObj.selectRows(selRowIndeces);\n            this.addFocus(lItem);\n        }\n        else if (e.action === 'shiftSpace') {\n            this.gridObj.selectRow(selIndex);\n        }\n    };\n    DetailsView.prototype.ctrlMoveFunction = function (items, e, rowIndex) {\n        var nextItem;\n        if (!isNOU(this.getFocusedItem())) {\n            var nextIndex = this.getFocusedItemIndex();\n            nextItem = (e.action === 'ctrlDown' || e.action === 'csDown') ?\n                nextIndex + ((nextIndex < items.length - 1) ? 1 : 0) : nextIndex - ((nextIndex < 1) ? 0 : 1);\n        }\n        else if (!isNOU(rowIndex) && rowIndex !== -1) {\n            nextItem = (e.action === 'ctrlDown' || e.action === 'csDown') ?\n                rowIndex + ((rowIndex < items.length) ? 1 : 0) : rowIndex - ((rowIndex < 1) ? 0 : 1);\n        }\n        else {\n            if (!isNOU(items[0])) {\n                nextItem = 0;\n            }\n        }\n        this.addFocus(nextItem);\n    };\n    DetailsView.prototype.checkRowsKey = function (items, indexValue, focIndex, e) {\n        if (this.gridObj.checkAllRows === 'Uncheck' || this.gridObj.checkAllRows === 'Intermediate') {\n            if (e.action !== 'csHome' && e.action !== 'csEnd') {\n                if (isNOU(this.startIndex) && this.firstItemIndex !== indexValue) {\n                    this.firstItemIndex = indexValue;\n                }\n                if (e.action === 'shiftEnd') {\n                    this.gridObj.selectionModule.selectRowsByRange(this.firstItemIndex, items.length - 1);\n                }\n                else {\n                    this.gridObj.selectionModule.selectRowsByRange(0, this.firstItemIndex);\n                }\n                this.startIndex = indexValue;\n            }\n            else {\n                if (e.action === 'csEnd') {\n                    this.gridObj.\n                        selectRows(this.InnerItems(isNOU(indexValue) ? 0 : indexValue, isNOU(focIndex) ? items.length - 1 : focIndex, e));\n                }\n                else {\n                    if (isNOU(indexValue)) {\n                        this.gridObj.selectRow(0);\n                    }\n                    else {\n                        this.gridObj.selectRows(this.InnerItems(isNOU(focIndex) ? 0 : focIndex, indexValue, e));\n                    }\n                }\n            }\n        }\n        else {\n            this.gridObj.selectionModule.selectRow(((e.action === 'shiftHome' || e.action === 'csHome') ? 0 : items.length - 1));\n        }\n    };\n    DetailsView.prototype.InnerItems = function (fItem, lItem, e) {\n        var itemArr = this.gridObj.getSelectedRowIndexes();\n        if (e.action === 'csEnd') {\n            for (var i = fItem + 1; i <= lItem; i++) {\n                itemArr.push(i);\n            }\n        }\n        else {\n            for (var i = lItem - 1; fItem <= i; i--) {\n                itemArr.push(i);\n            }\n        }\n        return itemArr;\n    };\n    DetailsView.prototype.shiftSelectFocusItem = function (selIndex, fIndex, selRowIndexes, e) {\n        var lItem = fIndex + ((e.action === 'shiftDown' || e.action === 'csDown') ? 1 : -1);\n        var fItem = isNOU(this.startIndex) ? selIndex : selRowIndexes[0];\n        if (fItem === lItem) {\n            this.gridObj.selectRow(fItem);\n        }\n        else {\n            if (fItem < lItem) {\n                if (e.action === 'shiftDown' || e.action === 'csDown') {\n                    this.gridObj.selectionModule.selectRowsByRange(fItem, lItem);\n                }\n                else {\n                    this.gridObj.selectionModule.selectRowsByRange(lItem, fItem);\n                }\n            }\n            else if (e.action === 'shiftDown' || e.action === 'csDown') {\n                this.gridObj.selectionModule.selectRowsByRange(lItem, fItem);\n            }\n            else {\n                this.gridObj.selectionModule.selectRowsByRange(fItem, lItem);\n            }\n        }\n        this.startIndex = this.gridObj.selectedRowIndex;\n    };\n    DetailsView.prototype.addFocus = function (item) {\n        var fItem = this.getFocusedItem();\n        var itemElement = this.gridObj.getRowByIndex(item);\n        if (fItem) {\n            fItem.removeAttribute('tabindex');\n            removeClass([fItem], [CLS.FOCUS, CLS.FOCUSED]);\n        }\n        if (!isNOU(itemElement)) {\n            this.gridObj.element.setAttribute('tabindex', '-1');\n            itemElement.setAttribute('tabindex', '0');\n            itemElement.focus();\n            addClass([itemElement], [CLS.FOCUS, CLS.FOCUSED]);\n        }\n    };\n    DetailsView.prototype.addHeaderFocus = function (e) {\n        var treeFocus = select('.e-row', this.element);\n        this.gridObj.element.setAttribute('tabindex', '-1');\n        var nameFocus;\n        if (!isNOU(e.target) && e.target.classList.contains('e-defaultcursor')) {\n            this.addFocus(0);\n            nameFocus = e.target.nextElementSibling;\n        }\n        else if (!isNOU(this.gridObj.element.querySelector('.e-focus')) && (this.gridObj.element.querySelector('.e-focus').tagName === 'TH')) {\n            nameFocus = this.gridObj.element.querySelector('.e-focus').nextElementSibling;\n            this.addFocus(0);\n        }\n        else {\n            nameFocus = select('th.e-fe-grid-icon', this.element);\n        }\n        if (!isNOU(nameFocus)) {\n            nameFocus.setAttribute('tabindex', '0');\n            nameFocus.focus();\n            addClass([nameFocus], [CLS.FOCUS, CLS.FOCUSED]);\n            treeFocus.setAttribute('tabindex', '0');\n            if (treeFocus.tabIndex === 0 && nameFocus.tabIndex === 0) {\n                removeClass([treeFocus], [CLS.FOCUS, CLS.FOCUSED]);\n            }\n        }\n    };\n    DetailsView.prototype.getFocusedItem = function () {\n        return select('.' + CLS.FOCUSED, this.element);\n    };\n    DetailsView.prototype.isSelected = function (selRowIndexes, focIndex) {\n        var check = false;\n        for (var i = 0; i <= selRowIndexes.length - 1; i++) {\n            if (selRowIndexes[i] === focIndex) {\n                check = true;\n                break;\n            }\n        }\n        return check;\n    };\n    DetailsView.prototype.shiftSelectedItem = function (selIndex, selRowIndexes, gridItems, e) {\n        if (selIndex === -1) {\n            this.gridObj.selectRow(0);\n        }\n        else {\n            if (isNOU(this.startIndex) && e.shiftKey) {\n                this.startIndex = this.gridObj.selectedRowIndex;\n                this.gridObj.selectRows([selIndex, (e.action === 'shiftDown' || e.action === 'csDown') ?\n                        (selIndex + ((selIndex !== gridItems.length - 1) ? 1 : 0)) : (selIndex - ((selIndex !== 0) ? 1 : 0))]);\n            }\n            else {\n                if (e.action === 'shiftDown' || e.action === 'shiftUp') {\n                    if (e.action === 'shiftDown' && selRowIndexes.indexOf(selIndex + 1) === -1) {\n                        if (selIndex !== gridItems.length - 1) {\n                            selRowIndexes.push(selIndex + 1);\n                        }\n                    }\n                    else if (e.action === 'shiftUp' && selRowIndexes.indexOf(selIndex - 1) === -1) {\n                        if (selIndex !== 0) {\n                            selRowIndexes.push(selIndex - 1);\n                        }\n                    }\n                    else {\n                        selRowIndexes.pop();\n                    }\n                    this.gridObj.selectRows(selRowIndexes);\n                }\n                else {\n                    if (e.action === 'csDown') {\n                        if (!this.isSelected(selRowIndexes, this.getFocusedItemIndex() + 1)) {\n                            selRowIndexes.push((this.getFocusedItemIndex() + 1));\n                            this.gridObj.selectRows(selRowIndexes);\n                        }\n                        else {\n                            this.addFocus(this.getFocusedItemIndex() + 1);\n                        }\n                    }\n                    else if (!this.isSelected(selRowIndexes, this.getFocusedItemIndex() - 1)) {\n                        selRowIndexes.push((this.getFocusedItemIndex() - 1));\n                        this.gridObj.selectRows(selRowIndexes);\n                    }\n                    else {\n                        this.addFocus(this.getFocusedItemIndex() - 1);\n                    }\n                }\n            }\n        }\n    };\n    DetailsView.prototype.onMethodCall = function (e) {\n        if (this.parent.view !== 'Details') {\n            return;\n        }\n        var action = getValue('action', e);\n        switch (action) {\n            case 'deleteFiles':\n                this.deleteFiles(getValue('ids', e));\n                break;\n            case 'downloadFiles':\n                this.downloadFiles(getValue('ids', e));\n                break;\n            case 'openFile':\n                this.openFile(getValue('id', e));\n                break;\n            case 'createFolder':\n                this.interaction = false;\n                break;\n            case 'renameFile':\n                this.interaction = false;\n                this.renameFile(getValue('id', e), getValue('newName', e));\n                break;\n            case 'selectAll':\n                this.interaction = false;\n                this.onSelectAllInit();\n                break;\n            case 'clearSelection':\n                this.interaction = false;\n                this.onClearAllInit();\n                break;\n        }\n    };\n    DetailsView.prototype.getRecords = function (nodes) {\n        var gridRecords = this.gridObj.getCurrentViewRecords();\n        var records = [];\n        var hasFilter = (this.parent.breadcrumbbarModule.searchObj.element.value !== '' || this.parent.isFiltered) ? true : false;\n        var filter = this.parent.hasId ? 'id' : 'name';\n        if (this.parent.hasId || !hasFilter) {\n            for (var i = 0, len = gridRecords.length; i < len; i++) {\n                if (nodes.indexOf(getValue(filter, gridRecords[i])) !== -1) {\n                    records.push(gridRecords[i]);\n                }\n            }\n        }\n        else {\n            for (var i = 0, len = gridRecords.length; i < len; i++) {\n                var name_4 = getValue('filterPath', gridRecords[i]) + getValue('name', gridRecords[i]);\n                if (nodes.indexOf(name_4) !== -1) {\n                    records.push(gridRecords[i]);\n                }\n            }\n        }\n        return records;\n    };\n    DetailsView.prototype.deleteFiles = function (ids) {\n        this.parent.activeModule = 'detailsview';\n        if (isNOU(ids)) {\n            this.performDelete();\n            return;\n        }\n        var records = this.getRecords(ids);\n        if (records.length === 0) {\n            return;\n        }\n        var data = [];\n        var newIds = [];\n        for (var i = 0; i < records.length; i++) {\n            data[i] = records[i];\n            newIds[i] = getItemName(this.parent, data[i]);\n        }\n        doDeleteFiles(this.parent, data, newIds);\n    };\n    DetailsView.prototype.downloadFiles = function (ids) {\n        if (isNOU(ids)) {\n            this.doDownload();\n            return;\n        }\n        var dRecords = this.getRecords(ids);\n        if (dRecords.length === 0) {\n            return;\n        }\n        var data = [];\n        var newIds = [];\n        for (var i = 0; i < dRecords.length; i++) {\n            data[i] = dRecords[i];\n            newIds[i] = getItemName(this.parent, data[i]);\n        }\n        doDownloadFiles(this.parent, data, newIds);\n    };\n    DetailsView.prototype.openFile = function (id) {\n        if (isNOU(id)) {\n            return;\n        }\n        var records = this.getRecords([id]);\n        if (records.length > 0) {\n            this.openContent(records[0]);\n        }\n    };\n    DetailsView.prototype.renameFile = function (id, name) {\n        this.parent.activeModule = 'detailsview';\n        if (isNOU(id)) {\n            this.performRename();\n            return;\n        }\n        var records = this.getRecords([id]);\n        if (records.length > 0) {\n            updateRenamingData(this.parent, records[0]);\n            if (!isNOU(name)) {\n                if (hasEditAccess(this.parent.itemData[0])) {\n                    rename(this.parent, this.parent.path, name);\n                }\n                else {\n                    createDeniedDialog(this.parent, this.parent.itemData[0], events.permissionEdit);\n                }\n            }\n            else {\n                doRename(this.parent);\n            }\n        }\n    };\n    return DetailsView;\n}());\nexport { DetailsView };\n"],"mappings":";;;AAAA,SAASA,IAAI,EAAEC,MAAM,EAAEC,WAAW,EAAEC,IAAI,EAAEC,aAAa,QAAQ,uBAAuB;AACtF,SAASC,MAAM,EAAEC,cAAc,EAAEC,YAAY,EAAEC,QAAQ,EAAEC,iBAAiB,QAAQ,sBAAsB;AACxG,SAASA,iBAAiB,IAAIC,KAAK,EAAEC,KAAK,EAAEC,QAAQ,EAAEC,QAAQ,EAAEC,WAAW,QAAQ,sBAAsB;AACzG,SAASC,oBAAoB,EAAEC,OAAO,EAAEC,SAAS,EAAEC,qBAAqB,EAAEC,MAAM,EAAEC,kBAAkB,QAAQ,sBAAsB;AAClI,SAASC,WAAW,EAAEC,KAAK,QAAQ,sBAAsB;AACzD,SAASC,WAAW,EAAEC,WAAW,QAAQ,wBAAwB;AACjE,OAAO,KAAKC,MAAM,MAAM,kBAAkB;AAC1C,OAAO,KAAKC,GAAG,MAAM,iBAAiB;AACtC,SAASC,YAAY,EAAEC,iBAAiB,QAAQ,kBAAkB;AAClE,SAASC,UAAU,EAAEC,UAAU,EAAEC,WAAW,EAAEC,QAAQ,EAAEC,aAAa,EAAEC,aAAa,EAAEC,YAAY,QAAQ,mBAAmB;AAC7H,SAASC,kBAAkB,QAAQ,mBAAmB;AACtD,SAASC,IAAI,EAAEC,QAAQ,EAAEC,UAAU,EAAEC,MAAM,QAAQ,sBAAsB;AACzE,SAASC,QAAQ,EAAEC,OAAO,EAAEC,gBAAgB,EAAEC,SAAS,EAAEC,YAAY,EAAEC,YAAY,EAAEC,aAAa,EAAEC,OAAO,QAAQ,iBAAiB;AACpI,SAASC,aAAa,EAAEC,aAAa,EAAEC,iBAAiB,EAAEC,QAAQ,EAAEC,cAAc,EAAEC,kBAAkB,EAAEC,MAAM,QAAQ,iBAAiB;AACvI,SAASC,wBAAwB,EAAEC,eAAe,EAAEC,gBAAgB,EAAEC,eAAe,EAAEC,SAAS,EAAEC,WAAW,QAAQ,iBAAiB;AACtI,SAASC,gBAAgB,EAAEC,kBAAkB,EAAEC,WAAW,EAAEC,aAAa,EAAEC,eAAe,QAAQ,iBAAiB;AACnH;AACA;AACA;AACA;AACA,IAAIC,WAAW,GAAG,aAAe,YAAY;EACzC;AACJ;AACA;AACA;AACA;AACA;EACI,SAASA,WAAWA,CAACC,MAAM,EAAE;IACzB,IAAI,CAACC,YAAY,GAAG,IAAI;IACxB,IAAI,CAACC,WAAW,GAAG,IAAI;IACvB,IAAI,CAACC,gBAAgB,GAAG,KAAK;IAC7B,IAAI,CAACC,eAAe,GAAG,KAAK;IAC5B,IAAI,CAACC,OAAO,GAAG,IAAI;IACnB,IAAI,CAACC,UAAU,GAAG,IAAI;IACtB,IAAI,CAACC,cAAc,GAAG,IAAI;IAC1B,IAAI,CAACC,iBAAiB,GAAG,KAAK;IAC9B,IAAI,CAACC,mBAAmB,GAAG,EAAE;IAC7B,IAAI,CAACC,KAAK,GAAG,CAAC;IACd,IAAI,CAACC,UAAU,GAAG,IAAI;IACtB,IAAI,CAACC,QAAQ,GAAG,KAAK;IACrB,IAAI,CAACC,WAAW,GAAG,KAAK;IACxB,IAAI,CAACC,aAAa,GAAG,KAAK;IAC1B,IAAI,CAACC,cAAc,GAAG,KAAK;IAC3B,IAAI,CAACC,eAAe,GAAG,KAAK;IAC5BpF,IAAI,CAACqF,MAAM,CAACpF,MAAM,EAAEC,WAAW,EAAEC,IAAI,EAAEC,aAAa,CAAC;IACrD,IAAI,CAACgE,MAAM,GAAGA,MAAM;IACpB,IAAI,CAACkB,OAAO,GAAGjF,MAAM,CAAC,GAAG,GAAG,IAAI,CAAC+D,MAAM,CAACkB,OAAO,CAACC,EAAE,GAAG7D,GAAG,CAAC8D,OAAO,EAAE,IAAI,CAACpB,MAAM,CAACkB,OAAO,CAAC;IACtF,IAAI,CAACG,gBAAgB,CAAC,CAAC;IACvB,IAAI,CAACC,UAAU,GAAG;MACdC,QAAQ,EAAE,WAAW;MACrBC,GAAG,EAAE,QAAQ;MACbC,GAAG,EAAE,KAAK;MACVC,QAAQ,EAAE,WAAW;MACrBC,OAAO,EAAE,UAAU;MACnBC,QAAQ,EAAE,WAAW;MACrBC,QAAQ,EAAE,gBAAgB;MAC1BC,QAAQ,EAAE,gBAAgB;MAC1BC,SAAS,EAAE,iBAAiB;MAC5BC,QAAQ,EAAE,WAAW;MACrBC,SAAS,EAAE,YAAY;MACvBC,SAAS,EAAE,iBAAiB;MAC5BC,OAAO,EAAE,eAAe;MACxBC,MAAM,EAAE,cAAc;MACtBC,KAAK,EAAE,gBAAgB;MACvBC,MAAM,EAAE,iBAAiB;MACzBC,MAAM,EAAE,sBAAsB;MAC9BC,IAAI,EAAE,oBAAoB;MAC1BC,KAAK,EAAE,OAAO;MACdC,SAAS,EAAE,YAAY;MACvBC,UAAU,EAAE,aAAa;MACzBC,OAAO,EAAE,kBAAkB;MAC3BC,GAAG,EAAE,KAAK;MACVC,IAAI,EAAE,MAAM;MACZC,MAAM,EAAE,SAAS;MACjBC,GAAG,EAAE,QAAQ;MACbC,KAAK,EAAE,IAAI,CAACjD,MAAM,CAACkD,KAAK,GAAG,OAAO,GAAG,QAAQ;MAC7CC,KAAK,EAAE,IAAI,CAACnD,MAAM,CAACkD,KAAK,GAAG,OAAO,GAAG,QAAQ;MAC7CE,KAAK,EAAE,IAAI,CAACpD,MAAM,CAACkD,KAAK,GAAG,OAAO,GAAG,QAAQ;MAC7CG,UAAU,EAAE,cAAc;MAC1BC,QAAQ,EAAE,cAAc;MACxBC,KAAK,EAAE,QAAQ;MACfC,EAAE,EAAE,IAAI;MACRC,KAAK,EAAE,QAAQ;MACfC,KAAK,EAAE,OAAO;MACdC,IAAI,EAAE;IACV,CAAC;EACL;EACA;EACA5D,WAAW,CAAC6D,SAAS,CAACC,MAAM,GAAG,UAAUC,IAAI,EAAE;IAC3C,IAAIC,KAAK,GAAG,IAAI;IAChB3G,WAAW,CAAC,IAAI,CAAC4C,MAAM,CAACkB,OAAO,CAAC;IAChC,IAAI,IAAI,CAAClB,MAAM,CAACgE,IAAI,KAAK,SAAS,EAAE;MAChCtH,WAAW,CAAC,CAAC,IAAI,CAACsD,MAAM,CAACkB,OAAO,CAAC,EAAE5D,GAAG,CAAC2G,YAAY,CAAC;MACpD,IAAIC,KAAK,GAAGrG,aAAa,CAAC,IAAI,CAACmC,MAAM,EAAE8D,IAAI,CAACK,KAAK,CAAC;MAClD,IAAI,CAACC,cAAc,CAAC,CAAC;MACrB,IAAIC,OAAO,GAAG,IAAI,CAACC,UAAU,CAAC,CAAC;MAC/B,IAAIC,YAAY,GAAG,KAAK,CAAC;MACzB,IAAIC,gBAAgB,GAAG,CAACnI,iBAAiB,CAACgI,OAAO,CAAC,IAC9CA,OAAO,CAACI,SAAS,CAAC,UAAUC,GAAG,EAAE;QAAE,OAAOA,GAAG,CAACC,KAAK,KAAKZ,KAAK,CAAC/D,MAAM,CAAC4E,MAAM;MAAE,CAAC,CAAC,KAAK,CAAC,CAAC;MAC1F,IAAI,IAAI,CAAC5E,MAAM,CAAC6E,QAAQ,IAAI,CAACL,gBAAgB,EAAE;QAC3CD,YAAY,GAAG,EAAE;MACrB,CAAC,MACI;QACD,IAAI,IAAI,CAACvE,MAAM,CAAC8E,SAAS,KAAK,MAAM,EAAE;UAClCP,YAAY,GAAG,CAAC;YAAEQ,SAAS,EAAE,IAAI,CAAC/E,MAAM,CAAC8E,SAAS;YAAEH,KAAK,EAAE,IAAI,CAAC3E,MAAM,CAAC4E;UAAO,CAAC,CAAC;QACpF;MACJ;MACA,IAAI,CAACI,OAAO,GAAG,IAAIpJ,IAAI,CAAC;QACpBqJ,UAAU,EAAEf,KAAK;QACjBgB,YAAY,EAAE,IAAI;QAClBC,YAAY,EAAE,IAAI,CAACC,WAAW,CAACC,IAAI,CAAC,IAAI,EAAE,QAAQ,CAAC;QACnDC,cAAc,EAAE,IAAI,CAACF,WAAW,CAACC,IAAI,CAAC,IAAI,EAAE,UAAU,CAAC;QACvDE,WAAW,EAAE,IAAI,CAACC,UAAU,CAACH,IAAI,CAAC,IAAI,CAAC;QACvCI,aAAa,EAAE,IAAI,CAACC,aAAa,CAACL,IAAI,CAAC,IAAI,CAAC;QAC5CM,aAAa,EAAE,IAAI,CAAC3F,MAAM,CAAC4F,mBAAmB,CAACC,cAAc;QAC7DC,iBAAiB,EAAE;UACfC,IAAI,EAAE,IAAI,CAAC/F,MAAM,CAACgG,mBAAmB,GAAG,UAAU,GAAG,QAAQ;UAC7DC,YAAY,EAAE;QAClB,CAAC;QACDC,SAAS,EAAE,IAAI,CAAClG,MAAM,CAACkG,SAAS;QAChCC,YAAY,EAAE;UAAEC,QAAQ,EAAE;QAAG,CAAC;QAC9BC,oBAAoB,EAAE,IAAI,CAACrG,MAAM,CAACqG,oBAAoB;QACtDC,iBAAiB,EAAE,IAAI,CAACtG,MAAM,CAACsG,iBAAiB;QAChDC,oBAAoB,EAAE,IAAI;QAC1BhC,YAAY,EAAE;UAAEiC,WAAW,EAAE,KAAK;UAAEnC,OAAO,EAAEE;QAAa,CAAC;QAC3DF,OAAO,EAAEA,OAAO;QAChBoC,iBAAiB,EAAE,IAAI,CAACC,cAAc,CAACrB,IAAI,CAAC,IAAI,CAAC;QACjDsB,eAAe,EAAE,IAAI,CAACC,iBAAiB,CAACvB,IAAI,CAAC,IAAI,CAAC;QAClDwB,SAAS,EAAE,IAAI,CAACC,WAAW,CAACzB,IAAI,CAAC,IAAI,CAAC;QACtC0B,YAAY,EAAE,IAAI,CAACC,cAAc,CAAC3B,IAAI,CAAC,IAAI,CAAC;QAC5C4B,WAAW,EAAE,IAAI,CAACC,aAAa,CAAC7B,IAAI,CAAC,IAAI,CAAC;QAC1C8B,cAAc,EAAE,IAAI,CAACC,gBAAgB,CAAC/B,IAAI,CAAC,IAAI,CAAC;QAChDgC,KAAK,EAAE,MAAM;QACbC,MAAM,EAAG,IAAI,CAACtH,MAAM,CAACqG,oBAAoB,GAAI,IAAI,CAACkB,aAAa,CAAC,CAAC,GAAG,MAAM;QAC1EC,UAAU,EAAE,SAAAA,CAAU1D,IAAI,EAAE;UAAEA,IAAI,CAAC2D,MAAM,GAAG,IAAI;QAAE,CAAC;QACnDC,IAAI,EAAE,SAAAA,CAAA,EAAY;UACd,IAAI,CAACC,WAAW,CAACC,OAAO,CAAC,CAAC;QAC9B,CAAC;QACDC,MAAM,EAAE,IAAI,CAAC7H,MAAM,CAAC6H;MACxB,CAAC,CAAC;MACF,IAAI,IAAI,CAAC7H,MAAM,CAAC8H,OAAO,EAAE;QACrB,IAAI,CAAC9C,OAAO,CAAC8C,OAAO,GAAG,IAAI;QAC3B,IAAI,CAAC9C,OAAO,CAAC+C,OAAO,GAAG,EAAE;QACzB,IAAI,CAAC/C,OAAO,CAACgD,EAAE,CAAC,qBAAqB,EAAE,IAAI,CAACC,mBAAmB,EAAE,IAAI,CAAC;MAC1E;MACA,IAAI,CAACjD,OAAO,CAACkD,gBAAgB,GAAG,IAAI;MACpC,IAAI,CAAClD,OAAO,CAACmD,QAAQ,CAAC,GAAG,GAAG,IAAI,CAACnI,MAAM,CAACkB,OAAO,CAACC,EAAE,GAAG7D,GAAG,CAAC8D,OAAO,CAAC;MACjE,IAAI,CAACgH,UAAU,CAAC,CAAC;MACjB,IAAI,CAACC,YAAY,CAAC,CAAC;MACnB,IAAI,CAACC,SAAS,GAAGxE,IAAI;IACzB;EACJ,CAAC;EACD/D,WAAW,CAAC6D,SAAS,CAACqE,mBAAmB,GAAG,UAAUnE,IAAI,EAAE;IACxD,IAAI,CAAC9D,MAAM,CAAC,SAAS,CAAC,GAAG8D,IAAI;IAC7B,IAAI,IAAI,CAAC9D,MAAM,CAAC+H,OAAO,IAAI,IAAI,CAAC/H,MAAM,CAACuI,aAAa,IAAI,IAAI,CAACvI,MAAM,CAACuI,aAAa,CAACC,UAAU,IACxF,IAAI,CAACxI,MAAM,CAACuI,aAAa,CAACC,UAAU,CAACT,OAAO,EAAE;MAC9C,IAAI,CAAC/H,MAAM,CAAC,SAAS,CAAC,GAAG,IAAI,CAACA,MAAM,CAAC,SAAS,CAAC,CAACyI,MAAM,CAAC,IAAI,CAACzI,MAAM,CAACuI,aAAa,CAACC,UAAU,CAACT,OAAO,CAAC;IACxG;IACA,IAAI,CAAC/H,MAAM,CAAC0I,MAAM,CAAC,qBAAqB,EAAE,IAAI,CAAC1I,MAAM,CAAC,SAAS,CAAC,CAAC;IACjE,IAAI,CAACA,MAAM,CAAC,sBAAsB,CAAC,CAAC,CAAC;EACzC,CAAC;EACD;AACJ;AACA;AACA;AACA;AACA;EACID,WAAW,CAAC6D,SAAS,CAAC2D,aAAa,GAAG,YAAY;IAC9C;IACA,IAAIoB,IAAI,GAAG1M,MAAM,CAAC,GAAG,GAAG,IAAI,CAAC+D,MAAM,CAACkB,OAAO,CAACC,EAAE,GAAG7D,GAAG,CAACsL,UAAU,EAAE,IAAI,CAAC5I,MAAM,CAACkB,OAAO,CAAC;IACrF,IAAI2H,GAAG,GAAG5M,MAAM,CAAC,GAAG,GAAG,IAAI,CAAC+D,MAAM,CAACkB,OAAO,CAACC,EAAE,GAAG7D,GAAG,CAACwL,gBAAgB,EAAE,IAAI,CAAC9I,MAAM,CAACkB,OAAO,CAAC;IAC1F;IACA,IAAI6H,eAAe,GAAG,EAAE;IACxB;IACA,OAAQJ,IAAI,CAACK,YAAY,GAAGH,GAAG,CAACG,YAAY,GAAGD,eAAe;EAClE,CAAC;EACDhJ,WAAW,CAAC6D,SAAS,CAACQ,cAAc,GAAG,YAAY;IAC/C,IAAI6E,aAAa,GAAG,IAAI,CAACjJ,MAAM,CAAC4F,mBAAmB,CAACvB,OAAO;IAC3D,IAAI,CAACxD,WAAW,GAAG,KAAK;IACxB,KAAK,IAAIqI,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGD,aAAa,CAACE,MAAM,EAAED,CAAC,EAAE,EAAE;MAC3C,IAAID,aAAa,CAACC,CAAC,CAAC,CAACvE,KAAK,KAAK,MAAM,EAAE;QACnC,IAAI,CAAC9D,WAAW,GAAG,CAACvE,KAAK,CAAC2M,aAAa,CAACC,CAAC,CAAC,CAAC7B,KAAK,CAAC;QACjD;MACJ;IACJ;EACJ,CAAC;EACDtH,WAAW,CAAC6D,SAAS,CAACwF,WAAW,GAAG,UAAU/E,OAAO,EAAEgF,SAAS,EAAE;IAC9D,IAAI,IAAI,CAACxI,WAAW,IAAKwI,SAAS,KAAK,MAAO,EAAE;MAC5C;IACJ;IACA,KAAK,IAAIH,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG7E,OAAO,CAAC8E,MAAM,EAAED,CAAC,EAAE,EAAE;MACrC,IAAI7E,OAAO,CAAC6E,CAAC,CAAC,CAACvE,KAAK,KAAK0E,SAAS,EAAE;QAChC,IAAIC,SAAS,GAAG,KAAK,CAAC;QACtB,IAAI,IAAI,CAACtJ,MAAM,CAACuJ,mBAAmB,CAACC,SAAS,CAACtI,OAAO,CAACuI,KAAK,KAAK,EAAE,IAAI,CAAC,IAAI,CAACzJ,MAAM,CAAC0J,UAAU,EAAE;UAC3FJ,SAAS,GAAI,IAAI,CAACpI,OAAO,CAACyI,WAAW,IAAI,GAAG,GAAI,OAAO,GAAG,MAAM;QACpE,CAAC,MACI;UACDL,SAAS,GAAI,IAAI,CAACpI,OAAO,CAACyI,WAAW,IAAI,GAAG,GAAMN,SAAS,KAAK,MAAM,GAAI,OAAO,GAAG,OAAO,GAAI,MAAM;QACzG;QACAhF,OAAO,CAAC6E,CAAC,CAAC,CAAC7B,KAAK,GAAGiC,SAAS;MAChC;IACJ;EACJ,CAAC;EACDvJ,WAAW,CAAC6D,SAAS,CAACU,UAAU,GAAG,YAAY;IAC3C,IAAID,OAAO;IACX,IAAIuF,mBAAmB,GAAG,IAAI,CAAC5J,MAAM,CAAC4J,mBAAmB;IACzD,IAAI,IAAI,CAAC5J,MAAM,CAAC6E,QAAQ,EAAE;MACtBR,OAAO,GAAG,CACN;QACIM,KAAK,EAAE,MAAM;QAAEkF,UAAU,EAAE/L,aAAa,CAAC,IAAI,CAACkC,MAAM,EAAE,MAAM,CAAC;QAAEqH,KAAK,EAAE,MAAM;QAAEyC,QAAQ,EAAE,GAAG;QAAEC,eAAe,EAAE,MAAM;QACpHC,QAAQ,EAAElN,qBAAqB,CAAC,UAAUmN,IAAI,EAAE;UAC5C,IAAIC,IAAI,GAAGN,mBAAmB,GAAG5M,kBAAkB,CAACmN,QAAQ,CAACF,IAAI,CAACC,IAAI,CAAC,GAAGD,IAAI,CAACC,IAAI;UACnF,OAAO,2BAA2B,GAAGA,IAAI,GAAG,iCAAiC,GAAGD,IAAI,CAACG,YAAY,GAAG,kCAAkC,GAAGH,IAAI,CAACI,IAAI,GAAG,SAAS;QAClK,CAAC;MACL,CAAC,CACJ;IACL,CAAC,MACI;MACDhG,OAAO,GAAGtH,MAAM,CAAC,EAAE,EAAE,IAAI,CAACiD,MAAM,CAAC4F,mBAAmB,CAACvB,OAAO,EAAE,IAAI,EAAE,IAAI,CAAC;MACzE,IAAI,CAAC+E,WAAW,CAAC/E,OAAO,EAAE,MAAM,CAAC;MACjC,IAAIiG,OAAO,GAAG,SAAAA,CAAUpB,CAAC,EAAEqB,GAAG,EAAE;QAC5BlG,OAAO,CAAC6E,CAAC,CAAC,CAACW,UAAU,GAAG/L,aAAa,CAAC0M,MAAM,CAACxK,MAAM,EAAEqE,OAAO,CAAC6E,CAAC,CAAC,CAACW,UAAU,CAAC;QAC3E,IAAIxF,OAAO,CAAC6E,CAAC,CAAC,CAACvE,KAAK,KAAK,MAAM,IAAI,CAACrI,KAAK,CAAC+H,OAAO,CAAC6E,CAAC,CAAC,CAACc,QAAQ,CAAC,IAAI,EAAE,OAAO3F,OAAO,CAAC6E,CAAC,CAAC,CAACc,QAAQ,KAAK,UAAU,CAAC,EAAE;UAC5G,IAAIS,UAAU,GAAGpG,OAAO,CAAC6E,CAAC,CAAC,CAACc,QAAQ;UACpC3F,OAAO,CAAC6E,CAAC,CAAC,CAACc,QAAQ,GAAGlN,qBAAqB,CAAC,UAAUmN,IAAI,EAAE;YACxD,IAAIC,IAAI,GAAGN,mBAAmB,GAAG5M,kBAAkB,CAACmN,QAAQ,CAACF,IAAI,CAACC,IAAI,CAAC,GAAGD,IAAI,CAACC,IAAI;YACnF,OAAOO,UAAU,CAACC,OAAO,CAAC,WAAW,EAAER,IAAI,CAAC;UAChD,CAAC,CAAC;QACN;MACJ,CAAC;MACD,IAAIM,MAAM,GAAG,IAAI;MACjB,KAAK,IAAItB,CAAC,GAAG,CAAC,EAAEqB,GAAG,GAAGlG,OAAO,CAAC8E,MAAM,EAAED,CAAC,GAAGqB,GAAG,EAAErB,CAAC,EAAE,EAAE;QAChDoB,OAAO,CAACpB,CAAC,EAAEqB,GAAG,CAAC;MACnB;IACJ;IACA,IAAII,MAAM,GAAK,IAAI,CAAC3K,MAAM,CAAC6E,QAAQ,IAAI,IAAI,CAAC7E,MAAM,CAAC4K,QAAQ,GAAI,IAAI,GAAG,IAAK;IAC3E,IAAIC,IAAI,GAAG;MACPlG,KAAK,EAAE,MAAM;MAAE0C,KAAK,EAAEsD,MAAM;MAAEb,QAAQ,EAAEa,MAAM;MAC9CX,QAAQ,EAAElN,qBAAqB,CAAC,UAAUmN,IAAI,EAAE;QAC5C,OAAO,0BAA0B,GAAGA,IAAI,CAACa,aAAa,GAAG,YAAY;MACzE,CAAC,CAAC;MAAEnF,aAAa,EAAE,KAAK;MAAET,YAAY,EAAE,IAAI;MAAE6F,gBAAgB,EAAE;QAAEC,KAAK,EAAE;MAAiB,CAAC;MAC3FC,cAAc,EAAEnO,qBAAqB,CAAC,YAAY;QAC9C,OAAO,+CAA+C;MAC1D,CAAC;IACL,CAAC;IACDuH,OAAO,CAAC6G,OAAO,CAACL,IAAI,CAAC;IACrB,IAAI,IAAI,CAAC7K,MAAM,CAACmL,kBAAkB,EAAE;MAChC,IAAIC,MAAM,GAAI,IAAI,CAACpL,MAAM,CAAC4K,QAAQ,GAAG,IAAI,GAAG,IAAK;MACjD,IAAIS,IAAI,GAAG;QACPtF,IAAI,EAAE,UAAU;QAAEsB,KAAK,EAAE+D,MAAM;QAAEtB,QAAQ,EAAEsB,MAAM;QAAEL,gBAAgB,EAAE;UAAEC,KAAK,EAAE;QAAgB,CAAC;QAC/FrF,aAAa,EAAE,KAAK;QAAET,YAAY,EAAE;MACxC,CAAC;MACD,IAAI,IAAI,CAAClF,MAAM,CAAC6E,QAAQ,EAAE;QACtBR,OAAO,CAACiH,IAAI,CAACD,IAAI,CAAC;MACtB,CAAC,MACI;QACDhH,OAAO,CAAC6G,OAAO,CAACG,IAAI,CAAC;MACzB;IACJ;IACA,KAAK,IAAInC,CAAC,GAAG,CAAC,EAAEqB,GAAG,GAAGlG,OAAO,CAAC8E,MAAM,EAAED,CAAC,GAAGqB,GAAG,EAAErB,CAAC,EAAE,EAAE;MAChD7E,OAAO,CAAC6E,CAAC,CAAC,CAACqC,iBAAiB,GAAG,CAAC,IAAI,CAACvL,MAAM,CAAC4J,mBAAmB;IACnE;IACA,IAAI,IAAI,CAAC5J,MAAM,CAACwL,oBAAoB,EAAE;MAClC,IAAIC,UAAU,GAAG;QAAE9G,KAAK,EAAE,MAAM;QAAE+G,OAAO,EAAE,KAAK;QAAEX,gBAAgB,EAAE;UAAEC,KAAK,EAAE;QAAc;MAAE,CAAC;MAC9F3G,OAAO,CAACiH,IAAI,CAACG,UAAU,CAAC;IAC5B;IACA,OAAOpH,OAAO;EAClB,CAAC;EACDtE,WAAW,CAAC6D,SAAS,CAACyE,YAAY,GAAG,YAAY;IAC7C,IAAI,CAAC,IAAI,CAACrD,OAAO,EAAE;MACf;IACJ;IACA,IAAI2D,IAAI,GAAG1M,MAAM,CAAC,GAAG,GAAG,IAAI,CAAC+D,MAAM,CAACkB,OAAO,CAACC,EAAE,GAAG7D,GAAG,CAACsL,UAAU,EAAE,IAAI,CAAC5I,MAAM,CAACkB,OAAO,CAAC;IACrF,IAAI2H,GAAG,GAAG5M,MAAM,CAAC,GAAG,GAAG,IAAI,CAAC+D,MAAM,CAACkB,OAAO,CAACC,EAAE,GAAG7D,GAAG,CAACwL,gBAAgB,EAAE,IAAI,CAAC9I,MAAM,CAACkB,OAAO,CAAC;IAC1F,IAAIyK,UAAU,GAAG1P,MAAM,CAAC,GAAG,GAAGqB,GAAG,CAACsO,WAAW,EAAE,IAAI,CAAC5L,MAAM,CAACkB,OAAO,CAAC;IACnE,IAAIoG,MAAM,GAAIqB,IAAI,CAACK,YAAY,GAAGH,GAAG,CAACG,YAAY,GAAG2C,UAAU,CAAC3C,YAAa;IAC7E,IAAI,CAAChE,OAAO,CAACsC,MAAM,GAAGA,MAAM;IAC5B,IAAI,CAACtC,OAAO,CAAC6G,QAAQ,CAAC,CAAC;EAC3B,CAAC;EACD9L,WAAW,CAAC6D,SAAS,CAACkI,cAAc,GAAG,YAAY;IAC/C,IAAI,CAAC9G,OAAO,CAACX,OAAO,GAAG,IAAI,CAACC,UAAU,CAAC,CAAC;IACxC,IAAI,CAAClE,eAAe,GAAG,IAAI;IAC3B,IAAI,CAAC4E,OAAO,CAAC+G,cAAc,CAAC,CAAC;EACjC,CAAC;EACDhM,WAAW,CAAC6D,SAAS,CAACoD,cAAc,GAAG,UAAUlD,IAAI,EAAE;IACnD,IAAIkI,EAAE,GAAG/P,MAAM,CAAC,iBAAiB,EAAE6H,IAAI,CAACmI,GAAG,CAAC;IAC5C,IAAI,CAACD,EAAE,EAAE;MACL,IAAI3H,OAAO,GAAG,IAAI,CAACrE,MAAM,CAAC4F,mBAAmB,CAACvB,OAAO;MACrD,KAAK,IAAI6E,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG7E,OAAO,CAAC8E,MAAM,EAAED,CAAC,EAAE,EAAE;QACrC,IAAI7E,OAAO,CAAC6E,CAAC,CAAC,CAACvE,KAAK,KAAK,MAAM,EAAE;UAC7BqH,EAAE,GAAGlI,IAAI,CAACmI,GAAG,CAACC,QAAQ,CAAC,IAAI,CAAClM,MAAM,CAACgG,mBAAmB,GAAIkD,CAAC,GAAG,CAAC,GAAKA,CAAC,GAAG,CAAE,CAAC;UAC3E;QACJ;MACJ;IACJ;IACA,IAAI8C,EAAE,EAAE;MACJA,EAAE,CAACG,YAAY,CAAC,OAAO,EAAE/P,QAAQ,CAAC,MAAM,EAAE0H,IAAI,CAACmG,IAAI,CAAC,CAAC;IACzD;IACA,IAAI,IAAI,CAACjK,MAAM,CAACoM,cAAc,IAAI,IAAI,CAACpM,MAAM,CAACqM,KAAK,IAAI,IAAI,CAACrM,MAAM,CAACsM,UAAU,KAAK,MAAM,IACpF,IAAI,CAACtM,MAAM,CAACuM,aAAa,IAAI,IAAI,CAACvM,MAAM,CAACuM,aAAa,CAACpD,MAAM,KAAK,CAAC,EAAE;MACrE,IAAI,IAAI,CAACnJ,MAAM,CAACuM,aAAa,CAACC,OAAO,CAACpQ,QAAQ,CAAC,MAAM,EAAE0H,IAAI,CAACmG,IAAI,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE;QACvE3L,OAAO,CAACwF,IAAI,CAACmI,GAAG,CAAC;MACrB;IACJ;IACA,IAAI,CAAC,IAAI,CAACjM,MAAM,CAACyM,iBAAiB,IAAIrQ,QAAQ,CAAC,QAAQ,EAAE0H,IAAI,CAACmG,IAAI,CAAC,EAAE;MACjE,IAAIyC,IAAI,GAAGtQ,QAAQ,CAAC,MAAM,EAAE0H,IAAI,CAACmG,IAAI,CAAC;MACtC,IAAI0C,OAAO,GAAG7I,IAAI,CAACmI,GAAG,CAACW,aAAa,CAAC,WAAW,GAAGF,IAAI,GAAG,IAAI,CAAC;MAC/D,IAAIC,OAAO,EAAE;QACT,IAAIE,MAAM,GAAGzQ,QAAQ,CAAC,MAAM,EAAE0H,IAAI,CAACmG,IAAI,CAAC;QACxC,IAAIlE,IAAI,GAAG3J,QAAQ,CAAC,MAAM,EAAE0H,IAAI,CAACmG,IAAI,CAAC;QACtC,IAAI4C,MAAM,CAACL,OAAO,CAACzG,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE;UAC7B4G,OAAO,CAACG,SAAS,GAAGD,MAAM,CAACE,MAAM,CAAC,CAAC,EAAEF,MAAM,CAAC1D,MAAM,GAAGpD,IAAI,CAACoD,MAAM,CAAC;QACrE;MACJ;IACJ;IACA,IAAI/M,QAAQ,CAAC,MAAM,EAAE0H,IAAI,CAACmG,IAAI,CAAC,KAAK+C,SAAS,IAAIlJ,IAAI,CAACmI,GAAG,CAACW,aAAa,CAAC,YAAY,CAAC,EAAE;MACnF,IAAIK,OAAO,GAAGnJ,IAAI,CAACmI,GAAG,CAACW,aAAa,CAAC,YAAY,CAAC;MAClD,IAAIM,YAAY,GAAG,KAAK,CAAC;MACzB,IAAI,CAAC9Q,QAAQ,CAAC,QAAQ,EAAE0H,IAAI,CAACmG,IAAI,CAAC,EAAE;QAChCiD,YAAY,GAAG,EAAE;MACrB,CAAC,MACI;QACD,IAAIC,SAAS,GAAG/Q,QAAQ,CAAC,MAAM,EAAE0H,IAAI,CAACmG,IAAI,CAAC;QAC3C,IAAImD,IAAI,GAAG,IAAIzQ,oBAAoB,CAAC,IAAI,CAACqD,MAAM,CAAC6H,MAAM,CAAC;QACvD,IAAIwF,UAAU,GAAG,KAAK,CAAC;QACvB,IAAIhJ,OAAO,GAAG,IAAI,CAACrE,MAAM,CAAC4F,mBAAmB,CAACvB,OAAO;QACrD,KAAK,IAAI6E,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG7E,OAAO,CAAC8E,MAAM,EAAED,CAAC,EAAE,EAAE;UACrC,IAAI7E,OAAO,CAAC6E,CAAC,CAAC,CAACvE,KAAK,KAAK,MAAM,EAAE;YAC7B0I,UAAU,GAAG,CAAChR,iBAAiB,CAACgI,OAAO,CAAC6E,CAAC,CAAC,CAACoE,MAAM,CAAC,GAAGjJ,OAAO,CAAC6E,CAAC,CAAC,CAACoE,MAAM,CAACC,QAAQ,CAAC,CAAC,GAAG,GAAG;YACvF;UACJ;QACJ;QACA,IAAI9D,KAAK,GAAG2D,IAAI,CAACI,YAAY,CAAEL,SAAS,GAAG,IAAI,EAAG;UAAEG,MAAM,EAAED;QAAW,CAAC,CAAC;QACzEH,YAAY,GAAGzD,KAAK,GAAG,GAAG,GAAG3L,aAAa,CAAC,IAAI,CAACkC,MAAM,EAAE,IAAI,CAAC;MACjE;MACAiN,OAAO,CAACH,SAAS,GAAGI,YAAY;IACpC;IACA,IAAI,IAAI,CAAClN,MAAM,CAAC6E,QAAQ,EAAE;MACtB,IAAIzI,QAAQ,CAAC,cAAc,EAAE0H,IAAI,CAACmG,IAAI,CAAC,KAAK+C,SAAS,IAAIlJ,IAAI,CAACmI,GAAG,CAACW,aAAa,CAAC,YAAY,CAAC,EAAE;QAC3F,IAAIa,OAAO,GAAG3J,IAAI,CAACmI,GAAG,CAACW,aAAa,CAAC,YAAY,CAAC;QAClD,IAAIQ,IAAI,GAAG,IAAIzQ,oBAAoB,CAAC,IAAI,CAACqD,MAAM,CAAC6H,MAAM,CAAC;QACvD,IAAIxD,OAAO,GAAG,IAAI,CAACrE,MAAM,CAAC4F,mBAAmB,CAACvB,OAAO;QACrD,IAAIiJ,MAAM,GAAG,KAAK,CAAC;QACnB,KAAK,IAAIpE,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG7E,OAAO,CAAC8E,MAAM,EAAED,CAAC,EAAE,EAAE;UACrC,IAAI7E,OAAO,CAAC6E,CAAC,CAAC,CAACvE,KAAK,KAAK,cAAc,EAAE;YACrC2I,MAAM,GAAGjJ,OAAO,CAAC6E,CAAC,CAAC,CAACoE,MAAM;YAC1B;UACJ;QACJ;QACA,IAAII,eAAe,GAAGN,IAAI,CAACO,UAAU,CAAC,IAAIC,IAAI,CAACxR,QAAQ,CAAC,cAAc,EAAE0H,IAAI,CAACmG,IAAI,CAAC,CAAC,EAAEqD,MAAM,CAAC;QAC5FG,OAAO,CAACX,SAAS,GAAGY,eAAe;MACvC;IACJ;IACA,IAAIG,SAAS,GAAG/J,IAAI,CAACmI,GAAG,CAACW,aAAa,CAAC,GAAG,GAAGtP,GAAG,CAACwQ,OAAO,CAAC;IACzD,IAAID,SAAS,EAAE;MACXA,SAAS,CAACE,SAAS,CAACC,GAAG,CAAC,SAAS,CAAC;IACtC;IACA,IAAI,CAAClP,aAAa,CAACgF,IAAI,CAACmG,IAAI,CAAC,EAAE;MAC3BnG,IAAI,CAACmI,GAAG,CAACgC,SAAS,IAAI,GAAG,GAAGhP,cAAc,CAAC6E,IAAI,CAACmG,IAAI,CAAC;IACzD;IACA,IAAIiE,SAAS,GAAG;MACZhN,OAAO,EAAE4C,IAAI,CAACmI,GAAG;MACjBkC,WAAW,EAAErK,IAAI,CAACmG,IAAI;MACtBmE,MAAM,EAAE;IACZ,CAAC;IACD,IAAI,CAACpO,MAAM,CAACqO,OAAO,CAAC,UAAU,EAAEH,SAAS,CAAC;EAC9C,CAAC;EACDnO,WAAW,CAAC6D,SAAS,CAACsD,aAAa,GAAG,UAAUpD,IAAI,EAAE;IAClD,IAAIA,IAAI,CAACwK,WAAW,KAAK,SAAS,EAAE;MAChC,IAAI,CAACtO,MAAM,CAACuO,aAAa,CAAC;QAAEzJ,SAAS,EAAEhB,IAAI,CAACiB;MAAU,CAAC,EAAE,IAAI,CAAC;MAC9D,IAAI,CAAC/E,MAAM,CAACuO,aAAa,CAAC;QAAE3J,MAAM,EAAEd,IAAI,CAAC0K;MAAW,CAAC,EAAE,IAAI,CAAC;MAC5D,IAAI,IAAI,CAACxO,MAAM,CAACyO,aAAa,CAACtF,MAAM,KAAK,CAAC,EAAE;QACxC,IAAI,CAACuF,QAAQ,GAAG,IAAI;QACpB,IAAIC,IAAI,GAAG,IAAI,CAAC3J,OAAO,CAAC4J,qBAAqB,CAAC,CAAC;QAC/C,IAAIrE,GAAG,GAAGoE,IAAI,CAACxF,MAAM;QACrB,IAAI,CAAC0F,iBAAiB,GAAG,EAAE;QAC3B,OAAOtE,GAAG,GAAG,CAAC,EAAE;UACZ,IAAIN,IAAI,GAAG,IAAI,CAACjF,OAAO,CAAC8J,aAAa,CAAC,CAAC,CAACH,IAAI,CAACpE,GAAG,GAAG,CAAC,CAAC,CAAC,CAACN,IAAI;UAC3D,IAAI,CAAC4E,iBAAiB,CAACvD,IAAI,CAAClP,QAAQ,CAAC,IAAI,CAAC4D,MAAM,CAAC+O,KAAK,GAAG,IAAI,GAAG,MAAM,EAAE9E,IAAI,CAAC,CAAC;UAC9EM,GAAG,EAAE;QACT;MACJ;MACA,IAAI,CAACvK,MAAM,CAAC0I,MAAM,CAACrL,MAAM,CAAC2R,YAAY,EAAE,CAAC,CAAC,CAAC;IAC/C;EACJ,CAAC;EACDjP,WAAW,CAAC6D,SAAS,CAACwD,gBAAgB,GAAG,UAAUtD,IAAI,EAAE;IACrD,IAAI+J,SAAS,GAAG/J,IAAI,CAACmL,IAAI,CAACrC,aAAa,CAAC,GAAG,GAAGtP,GAAG,CAACwQ,OAAO,CAAC;IAC1D,IAAID,SAAS,EAAE;MACXA,SAAS,CAACE,SAAS,CAACC,GAAG,CAAC,SAAS,CAAC;IACtC;EACJ,CAAC;EACDjO,WAAW,CAAC6D,SAAS,CAACgD,iBAAiB,GAAG,UAAU9C,IAAI,EAAE;IACtD,IAAIC,KAAK,GAAG,IAAI;IAChB3G,WAAW,CAAC,IAAI,CAAC4C,MAAM,CAACkB,OAAO,CAAC;IAChC,IAAIgO,UAAU,GAAG,IAAI,CAAClP,MAAM,CAAC4F,mBAAmB,CAACvB,OAAO,CAAC8K,IAAI,CAAC,UAAUC,MAAM,EAAE;MAAE,OAAOA,MAAM,CAACzK,KAAK,KAAKZ,KAAK,CAAC/D,MAAM,CAAC4E,MAAM;IAAE,CAAC,CAAC;IACjI,IAAIsK,UAAU,IAAI,EAAE,cAAc,IAAIA,UAAU,CAAC,EAAE;MAC/C,IAAIhL,KAAK,GAAGrG,aAAa,CAAC,IAAI,CAACmC,MAAM,EAAG,IAAI,CAACA,MAAM,CAACqG,oBAAoB,GAClEvC,IAAI,CAACuL,MAAM,GACX,IAAI,CAACrK,OAAO,CAACC,UAAU,CAAC;MAC9BnB,IAAI,CAACuL,MAAM,GAAGnL,KAAK;IACvB;EACJ,CAAC;EACD;EACAnE,WAAW,CAAC6D,SAAS,CAACkD,WAAW,GAAG,YAAY;IAC5C,IAAI,CAACwI,aAAa,CAAC,CAAC;IACpB,IAAK,IAAI,CAACtP,MAAM,CAACyO,aAAa,CAACtF,MAAM,KAAK,CAAC,IAAI,CAAC,IAAI,CAACnJ,MAAM,CAACqG,oBAAoB,IAC1E,IAAI,CAACrG,MAAM,CAACyO,aAAa,CAACtF,MAAM,KAAK,CAAC,IAAI,IAAI,CAACnJ,MAAM,CAACqG,oBAAoB,IACxE,IAAI,CAACnF,OAAO,CAAC0L,aAAa,CAAC,YAAY,CAAC,CAAC2C,SAAS,KAAK,CAAG,EAAE;MAChE,IAAI,CAACC,aAAa,CAAC,IAAI,CAACxP,MAAM,CAACyO,aAAa,CAAC;IACjD;IACA,IAAI,IAAI,CAACtO,gBAAgB,KAAK,IAAI,IAAK,CAAC9D,iBAAiB,CAAC,IAAI,CAAC2I,OAAO,CAACyK,WAAW,CAAC,CAAC,CAAC,IAAI,IAAI,CAACzK,OAAO,CAACyK,WAAW,CAAC,CAAC,CAACtG,MAAM,GAAG,CAAE,EAAE;MAC7H,IAAI,CAAC,IAAI,CAAC/I,eAAe,EAAE;QACvB,IAAI,CAACoP,aAAa,CAAC,IAAI,CAACxP,MAAM,CAAC0P,UAAU,CAAC;QAC1C,IAAI,CAACvP,gBAAgB,GAAG,KAAK;MACjC,CAAC,MACI;QACD,IAAI,CAACC,eAAe,GAAG,KAAK;MAChC;IACJ;IACA,IAAI,IAAI,CAACJ,MAAM,CAAC2P,WAAW,EAAE;MACzB,IAAI,CAACH,aAAa,CAAC,CAACpT,QAAQ,CAAC,IAAI,CAAC4D,MAAM,CAAC+O,KAAK,GAAG,IAAI,GAAG,MAAM,EAAE,IAAI,CAAC/O,MAAM,CAAC2P,WAAW,CAAC,CAAC,CAAC;MAC1F,IAAI,CAAC3P,MAAM,CAAC2P,WAAW,GAAG,IAAI;IAClC;IACA,IAAI,IAAI,CAAC3P,MAAM,CAAC4P,mBAAmB,CAACzG,MAAM,EAAE;MACxC,IAAI,CAACqG,aAAa,CAAC,IAAI,CAACxP,MAAM,CAAC4P,mBAAmB,CAAC;IACvD;IACA,IAAI,IAAI,CAAC5P,MAAM,CAAC6P,WAAW,EAAE;MACzB,IAAI,CAACC,YAAY,CAAC,IAAI,CAAC9P,MAAM,CAAC6P,WAAW,CAAC;MAC1C,IAAI,CAAC7P,MAAM,CAAC6P,WAAW,GAAG,IAAI;IAClC;IACA,IAAI,IAAI,CAACnB,QAAQ,KAAK,IAAI,EAAE;MACxB,IAAI,CAACc,aAAa,CAAC,IAAI,CAACX,iBAAiB,CAAC;MAC1C,IAAI,CAACH,QAAQ,GAAG,KAAK;IACzB;IACA,IAAI,IAAI,CAAClO,iBAAiB,EAAE;MACxB,IAAI,CAAC,IAAI,CAACJ,eAAe,EAAE;QACvB,IAAI,CAACoP,aAAa,CAAC,IAAI,CAAC/O,mBAAmB,CAAC;QAC5C,IAAI,CAACD,iBAAiB,GAAG,KAAK;MAClC,CAAC,MACI;QACD,IAAI,CAACJ,eAAe,GAAG,KAAK;MAChC;IACJ;IACA,IAAI,IAAI,CAACY,eAAe,KAAK,IAAI,EAAE;MAC/B,IAAI,CAACN,KAAK,EAAE;MACZ,IAAI,CAAC8O,aAAa,CAAC,IAAI,CAACxP,MAAM,CAAC+P,UAAU,CAAC;MAC1C,IAAI,IAAI,CAACrP,KAAK,KAAK,IAAI,CAACV,MAAM,CAAC+P,UAAU,CAAC5G,MAAM,EAAE;QAC9C,IAAI,CAACnI,eAAe,GAAG,KAAK;QAC5B,IAAI,CAAChB,MAAM,CAAC+P,UAAU,GAAG,EAAE;MAC/B;IACJ;IACA,IAAI,IAAI,CAAC/K,OAAO,CAACgL,eAAe,CAAC7G,MAAM,GAAG,IAAI,CAACnE,OAAO,CAACiL,YAAY,CAAC,CAAC,GAAG,IAAI,CAACjL,OAAO,CAACsC,MAAM,EAAE;MACzF,IAAI4I,OAAO,GAAG,IAAI,CAAClL,OAAO,CAACmL,gBAAgB,CAAC,CAAC;MAC7CD,OAAO,CAACE,KAAK,CAACC,YAAY,GAAG,EAAE;MAC/BH,OAAO,CAACE,KAAK,CAACE,WAAW,GAAG,EAAE;MAC9B,IAAIC,SAAS,GAAGtU,MAAM,CAAC,kBAAkB,EAAEiU,OAAO,CAAC;MACnDK,SAAS,CAACH,KAAK,CAACI,gBAAgB,GAAG,GAAG;MACtC,IAAIC,OAAO,GAAG,IAAI,CAACzL,OAAO,CAAC0L,UAAU,CAAC,CAAC,CAAC9D,aAAa,CAAC,YAAY,CAAC;MACnE6D,OAAO,CAACL,KAAK,CAACO,SAAS,GAAG,EAAE;MAC5BF,OAAO,CAAC1C,SAAS,CAACC,GAAG,CAAC,cAAc,CAAC;IACzC,CAAC,MACI;MACD,IAAIkC,OAAO,GAAG,IAAI,CAAClL,OAAO,CAACmL,gBAAgB,CAAC,CAAC;MAC7C,IAAI,CAAC,IAAI,CAACnQ,MAAM,CAACkG,SAAS,EAAE;QACxBgK,OAAO,CAACE,KAAK,CAACC,YAAY,GAAG,MAAM;MACvC,CAAC,MACI;QACDH,OAAO,CAACE,KAAK,CAACE,WAAW,GAAG,MAAM;MACtC;MACA,IAAIG,OAAO,GAAG,IAAI,CAACzL,OAAO,CAAC0L,UAAU,CAAC,CAAC,CAAC9D,aAAa,CAAC,YAAY,CAAC;MACnE6D,OAAO,CAAC1C,SAAS,CAAC6C,MAAM,CAAC,cAAc,CAAC;IAC5C;IACA,IAAI,CAACjQ,UAAU,GAAG,IAAI;IACtB,IAAI,CAACX,MAAM,CAACoM,cAAc,GAAG,KAAK;IAClCjP,WAAW,CAAC,IAAI,CAAC6C,MAAM,CAACkB,OAAO,CAAC;IAChC,IAAI,CAAC2P,aAAa,CAAC,IAAI,CAACvI,SAAS,CAAC;IAClC,IAAI,CAACrI,YAAY,GAAG,IAAI,CAACW,QAAQ,GAAG,IAAI,GAAG,IAAI,CAACX,YAAY;IAC5D,IAAI,CAACW,QAAQ,GAAG,KAAK;EACzB,CAAC;EACDb,WAAW,CAAC6D,SAAS,CAAC4L,aAAa,GAAG,UAAUsB,KAAK,EAAE;IACnD,IAAIC,WAAW,GAAG,IAAI,CAAC/L,OAAO,CAACgM,qBAAqB,CAAC,CAAC;IACtD,IAAIC,QAAQ,GAAG,EAAE;IACjB,KAAK,IAAI/H,CAAC,GAAG,CAAC,EAAEqB,GAAG,GAAGwG,WAAW,CAAC5H,MAAM,EAAED,CAAC,GAAGqB,GAAG,EAAErB,CAAC,EAAE,EAAE;MACpD,IAAI+F,IAAI,GAAG,IAAI,CAACjP,MAAM,CAAC+O,KAAK,GAAG3S,QAAQ,CAAC,IAAI,EAAE2U,WAAW,CAAC7H,CAAC,CAAC,CAAC,GAAGtK,OAAO,CAAC,IAAI,CAACoB,MAAM,EAAE+Q,WAAW,CAAC7H,CAAC,CAAC,CAAC;MACpG,IAAI4H,KAAK,CAACtE,OAAO,CAACyC,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE;QAC5BgC,QAAQ,CAAC3F,IAAI,CAACpC,CAAC,CAAC;MACpB,CAAC,MACI,IAAI,CAAC,IAAI,CAAClJ,MAAM,CAACyM,iBAAiB,IAAI,CAAC,IAAI,CAACzM,MAAM,CAAC+O,KAAK,IAAIE,IAAI,CAACiC,QAAQ,CAAC,GAAG,CAAC,EAAE;QACjF,IAAIC,IAAI,GAAGlC,IAAI,CAACmC,KAAK,CAAC,GAAG,CAAC,CAACC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAACC,IAAI,CAAC,GAAG,CAAC;QACjD,IAAIR,KAAK,CAACtE,OAAO,CAAC2E,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE;UAC5BF,QAAQ,CAAC3F,IAAI,CAACpC,CAAC,CAAC;QACpB;MACJ;IACJ;IACA,IAAI+H,QAAQ,CAAC9H,MAAM,KAAK,CAAC,EAAE;MACvB,IAAI,CAACnE,OAAO,CAACuM,UAAU,CAACN,QAAQ,CAAC;MACjC,IAAI,CAACO,QAAQ,CAAC,IAAI,CAACxM,OAAO,CAACyM,gBAAgB,CAAC;IAChD;EACJ,CAAC;EACD1R,WAAW,CAAC6D,SAAS,CAACkM,YAAY,GAAG,UAAU7F,IAAI,EAAE;IACjD,IAAI/F,KAAK,GAAG,IAAI,CAACc,OAAO,CAACgM,qBAAqB,CAAC,CAAC;IAChD,IAAIU,KAAK,GAAG,EAAE;IACd,IAAI,IAAI,CAAC1R,MAAM,CAAC+O,KAAK,EAAE;MACnB2C,KAAK,GAAG,IAAIzU,WAAW,CAACiH,KAAK,CAAC,CAC1ByN,YAAY,CAAC,IAAIzU,KAAK,CAAC,CAAC,CAAC0U,KAAK,CAAC,IAAI,EAAE,OAAO,EAAE,IAAI,CAAC5R,MAAM,CAAC6R,SAAS,EAAE,KAAK,CAAC,CAAC;IACpF,CAAC,MACI;MACD,IAAIC,KAAK,GAAG,IAAI7U,WAAW,CAACiH,KAAK,CAAC,CAC9ByN,YAAY,CAAC,IAAIzU,KAAK,CAAC,CAAC,CAAC0U,KAAK,CAAC,MAAM,EAAE,OAAO,EAAExV,QAAQ,CAAC,MAAM,EAAE6N,IAAI,CAAC,EAAE,KAAK,CAAC,CAAC;MACnF,IAAI6H,KAAK,CAAC3I,MAAM,GAAG,CAAC,EAAE;QAClBuI,KAAK,GAAG,IAAIzU,WAAW,CAAC6U,KAAK,CAAC,CAC1BH,YAAY,CAAC,IAAIzU,KAAK,CAAC,CAAC,CAAC0U,KAAK,CAAC,YAAY,EAAE,OAAO,EAAE,IAAI,CAAC5R,MAAM,CAAC+R,UAAU,EAAE,KAAK,CAAC,CAAC;MAC7F;IACJ;IACA,IAAIL,KAAK,CAACvI,MAAM,GAAG,CAAC,EAAE;MAClB,IAAI6I,KAAK,GAAG9N,KAAK,CAACsI,OAAO,CAACkF,KAAK,CAAC,CAAC,CAAC,CAAC;MACnC,IAAI,CAAC1M,OAAO,CAACuM,UAAU,CAAC,CAACS,KAAK,CAAC,CAAC;IACpC;EACJ,CAAC;EACDjS,WAAW,CAAC6D,SAAS,CAACqO,YAAY,GAAG,YAAY;IAC7C,IAAI,IAAI,CAACjS,MAAM,CAAC8E,SAAS,KAAK,MAAM,EAAE;MAClC,IAAI,CAACE,OAAO,CAACkN,UAAU,CAACC,UAAU,CAAC,IAAI,CAACnS,MAAM,CAAC4E,MAAM,EAAE,IAAI,CAAC5E,MAAM,CAAC8E,SAAS,CAAC;IACjF,CAAC,MACI;MACD,IAAI,CAACE,OAAO,CAACC,UAAU,GAAGpH,aAAa,CAAC,IAAI,CAACmC,MAAM,EAAE,IAAI,CAACgF,OAAO,CAACC,UAAU,CAAC;IACjF;IACA,IAAI,IAAI,CAAC/D,OAAO,CAAC0L,aAAa,CAAC,YAAY,CAAC,CAAC2C,SAAS,KAAK,CAAC,EAAE;MAC1D,IAAI,CAACvK,OAAO,CAACoN,aAAa,CAAC,CAAC;IAChC;EACJ,CAAC;EACDrS,WAAW,CAAC6D,SAAS,CAACyO,iBAAiB,GAAG,UAAUC,CAAC,EAAE;IACnD,IAAIA,CAAC,CAAClE,MAAM,KAAK,IAAI,CAACmE,aAAa,CAAC,CAAC,IAAID,CAAC,CAAClE,MAAM,KAAK,QAAQ,EAAE;MAC5D;MACA;IACJ;IACA,KAAK,IAAIoE,EAAE,GAAG,CAAC,EAAEC,EAAE,GAAGC,MAAM,CAACC,IAAI,CAACL,CAAC,CAACM,OAAO,CAAC,EAAEJ,EAAE,GAAGC,EAAE,CAACtJ,MAAM,EAAEqJ,EAAE,EAAE,EAAE;MAChE,IAAIK,IAAI,GAAGJ,EAAE,CAACD,EAAE,CAAC;MACjB,QAAQK,IAAI;QACR,KAAK,kBAAkB;UACnB,IAAI,CAACvD,aAAa,CAAC,CAAC;UACpB;QACJ,KAAK,QAAQ;UACT,IAAI,CAACjH,YAAY,CAAC,CAAC;UACnB;QACJ,KAAK,qBAAqB;UACtB,IAAI,CAAChM,iBAAiB,CAAC,IAAI,CAAC2I,OAAO,CAAC,EAAE;YAClC,IAAI,CAACZ,cAAc,CAAC,CAAC;YACrB,IAAIC,OAAO,GAAG,IAAI,CAACC,UAAU,CAAC,CAAC;YAC/B,IAAI,CAACU,OAAO,CAACX,OAAO,GAAGA,OAAO;YAC9B,IAAI,CAACW,OAAO,CAACW,aAAa,GAAG,IAAI,CAAC3F,MAAM,CAAC4F,mBAAmB,CAACC,cAAc;YAC3E,IAAI,CAACb,OAAO,CAAC6G,QAAQ,CAAC,CAAC;YACvB,IAAI,CAAC7G,OAAO,CAAC+G,cAAc,CAAC,CAAC;UACjC;UACA;QACJ,KAAK,eAAe;UAChB,IAAI,CAAC7L,WAAW,GAAG,KAAK;UACxB,IAAI,IAAI,CAACF,MAAM,CAACyO,aAAa,CAACtF,MAAM,KAAK,CAAC,EAAE;YACxC,IAAI,CAAC,IAAI,CAACnJ,MAAM,CAACgG,mBAAmB,EAAE;cAClC,IAAI8M,OAAO,GAAG,IAAI,CAAC9S,MAAM,CAACyO,aAAa,CAAC4C,KAAK,CAAC,IAAI,CAACrR,MAAM,CAACyO,aAAa,CAACtF,MAAM,GAAG,CAAC,CAAC;cACnF,IAAI,CAACnJ,MAAM,CAACuO,aAAa,CAAC;gBAAEE,aAAa,EAAEqE;cAAQ,CAAC,EAAE,IAAI,CAAC;YAC/D;YACA,IAAI,CAACtD,aAAa,CAAC,IAAI,CAACxP,MAAM,CAACyO,aAAa,CAAC;YAC7C,IAAI,CAACzO,MAAM,CAACuO,aAAa,CAAC;cAAEE,aAAa,EAAE,IAAI,CAACzO,MAAM,CAACyO;YAAc,CAAC,EAAE,IAAI,CAAC;UACjF,CAAC,MACI,IAAI,CAACnS,KAAK,CAAC,IAAI,CAAC0I,OAAO,CAAC,EAAE;YAC3B,IAAI,CAACA,OAAO,CAAC+N,cAAc,CAAC,CAAC;YAC7B,IAAI,CAAC7S,WAAW,GAAG,IAAI;UAC3B;UACA;QACJ,KAAK,mBAAmB;UACpBjC,IAAI,CAAC,IAAI,CAAC+B,MAAM,EAAE3C,MAAM,CAAC2V,WAAW,EAAE,IAAI,CAAChT,MAAM,CAACiT,IAAI,CAAC;UACvD;QACJ,KAAK,iBAAiB;UAClBhV,IAAI,CAAC,IAAI,CAAC+B,MAAM,EAAE3C,MAAM,CAAC2V,WAAW,EAAE,IAAI,CAAChT,MAAM,CAACiT,IAAI,CAAC;UACvD;QACJ,KAAK,oBAAoB;QACzB,KAAK,qBAAqB;UACtB,IAAI,CAAC5W,iBAAiB,CAAC,IAAI,CAAC2I,OAAO,CAAC,EAAE;YAClC,IAAI,CAACvE,mBAAmB,GAAG,IAAI,CAACT,MAAM,CAACyO,aAAa;YACpD,IAAI,CAACzJ,OAAO,CAACc,iBAAiB,CAACC,IAAI,GAAGuM,CAAC,CAACM,OAAO,CAAC5M,mBAAmB,GAAG,UAAU,GAAG,QAAQ;YAC3F,IAAI,CAACxF,iBAAiB,GAAG,IAAI;YAC7B,IAAI,CAACsL,cAAc,CAAC,CAAC;UACzB;UACA;QACJ,KAAK,MAAM;UACP/N,YAAY,CAAC,IAAI,CAACiC,MAAM,EAAE,SAAS,CAAC;UACpC;QACJ,KAAK,OAAO;UACR,IAAI,CAACkT,eAAe,CAAC,CAAC;MAC9B;IACJ;EACJ,CAAC;EACDnT,WAAW,CAAC6D,SAAS,CAACuP,aAAa,GAAG,UAAUrP,IAAI,EAAE;IAClD,IAAI,CAAC9D,MAAM,CAACqM,KAAK,GAAG,KAAK;IACzB,IAAI+G,SAAS,GAAG,IAAI,CAACpT,MAAM,CAAC4F,mBAAmB,CAACvB,OAAO,CAAC8K,IAAI,CAAC,UAAUC,MAAM,EAAE;MAAE,OAAOA,MAAM,CAACzK,KAAK,KAAK,YAAY;IAAE,CAAC,CAAC;IACzH,IAAK,IAAI,CAAC3E,MAAM,CAACuJ,mBAAmB,CAACC,SAAS,CAACtI,OAAO,CAACuI,KAAK,CAAC4J,IAAI,CAAC,CAAC,KAAK,EAAE,IAAI,IAAI,CAACrO,OAAO,IACrF,CAAC3I,iBAAiB,CAAC+W,SAAS,CAAC,IAAI,CAAC/W,iBAAiB,CAAC+W,SAAS,CAACE,WAAW,CAAC,IAAIF,SAAS,CAACE,WAAW,KAAK,EAAG,EAAE;MAC9G,IAAI,CAACtT,MAAM,CAACuT,aAAa,GAAG,EAAE;MAC9B,IAAI,CAAC,IAAI,CAACvT,MAAM,CAAC0J,UAAU,EAAE;QACzB,IAAI,CAAC8J,gBAAgB,CAAC,KAAK,CAAC;MAChC,CAAC,MACI;QACD,IAAI,CAACC,gBAAgB,CAAC,CAAC;MAC3B;IACJ;IACAhW,UAAU,CAAC,IAAI,CAACuC,MAAM,CAAC;IACvB,IAAI,IAAI,CAACA,MAAM,CAACgE,IAAI,KAAK,SAAS,EAAE;MAChC;MACA,IAAI,CAAC/D,YAAY,GAAG,KAAK;MACzB7C,WAAW,CAAC,IAAI,CAAC4C,MAAM,CAACkB,OAAO,CAAC;MAChC,IAAI,CAAClB,MAAM,CAACuO,aAAa,CAAC;QAAEE,aAAa,EAAE;MAAG,CAAC,EAAE,IAAI,CAAC;MACtD,IAAI,CAACzJ,OAAO,CAACC,UAAU,GAAGpH,aAAa,CAAC,IAAI,CAACmC,MAAM,EAAE8D,IAAI,CAACK,KAAK,CAAC;MAChE,IAAI,CAACa,OAAO,CAACoN,aAAa,CAAC,CAAC;MAC5B,IAAI,IAAI,CAACpS,MAAM,CAAC8H,OAAO,EAAE;QACrB,IAAI,CAAC9C,OAAO,CAACgD,EAAE,CAAC,qBAAqB,EAAE,IAAI,CAACC,mBAAmB,EAAE,IAAI,CAAC;MAC1E;IACJ;IACA,IAAI,CAACK,SAAS,GAAGxE,IAAI;EACzB,CAAC;EACD/D,WAAW,CAAC6D,SAAS,CAAC6P,gBAAgB,GAAG,YAAY;IACjD,IAAIlJ,GAAG,GAAG,IAAI,CAACvF,OAAO,CAACX,OAAO,CAAC8E,MAAM;IACrC,IAAIuK,UAAU,GAAGC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,SAAS,CAAC,IAAI,CAAC7O,OAAO,CAACX,OAAO,CAAC,CAAC;IACjE,IAAIqP,UAAU,CAACnJ,GAAG,GAAG,CAAC,CAAC,CAAC5F,KAAK,IAAI+O,UAAU,CAACnJ,GAAG,GAAG,CAAC,CAAC,CAAC5F,KAAK,KAAK,YAAY,IAAI,CAAC,IAAI,CAAC3E,MAAM,CAAC6E,QAAQ,EAAE;MAClG,IAAIiP,UAAU,GAAG;QACbnP,KAAK,EAAE,YAAY;QAAEkF,UAAU,EAAE/L,aAAa,CAAC,IAAI,CAACkC,MAAM,EAAE,MAAM,CAAC;QAAE8J,QAAQ,EAAE,GAAG;QAAEzC,KAAK,EAAE;MAC/F,CAAC;MACD,IAAI,CAACrC,OAAO,CAACX,OAAO,CAACiH,IAAI,CAACwI,UAAU,CAAC;MACrC,IAAI,CAAC1K,WAAW,CAAC,IAAI,CAACpE,OAAO,CAACX,OAAO,EAAE,YAAY,CAAC;MACpD,IAAI,CAAC+E,WAAW,CAAC,IAAI,CAACpE,OAAO,CAACX,OAAO,EAAE,MAAM,CAAC;MAC9C,IAAI,CAACjE,eAAe,GAAG,IAAI;MAC3B,IAAI,CAAC4E,OAAO,CAAC+G,cAAc,CAAC,CAAC;IACjC;EACJ,CAAC;EACDhM,WAAW,CAAC6D,SAAS,CAACiN,aAAa,GAAG,UAAU/M,IAAI,EAAE;IAClD,IAAII,KAAK,GAAGrG,aAAa,CAAC,IAAI,CAACmC,MAAM,EAAE8D,IAAI,CAACK,KAAK,CAAC;IAClD,IAAID,KAAK,CAACiF,MAAM,KAAK,CAAC,IAAI,CAAC7M,KAAK,CAAC,IAAI,CAAC4E,OAAO,CAAC0L,aAAa,CAAC,GAAG,GAAGtP,GAAG,CAACyW,SAAS,CAAC,CAAC,EAAE;MAC/E/V,kBAAkB,CAAC,IAAI,CAACgC,MAAM,EAAE,IAAI,CAACkB,OAAO,EAAE4C,IAAI,CAAC;IACvD,CAAC,MACI,IAAII,KAAK,CAACiF,MAAM,KAAK,CAAC,IAAI,IAAI,CAACjI,OAAO,CAAC0L,aAAa,CAAC,GAAG,GAAGtP,GAAG,CAAC0W,KAAK,CAAC,EAAE;MACxE,IAAI,IAAI,CAAC9S,OAAO,CAAC0L,aAAa,CAAC,GAAG,GAAGtP,GAAG,CAACyW,SAAS,CAAC,CAACnH,aAAa,CAAC,GAAG,GAAGtP,GAAG,CAAC0W,KAAK,CAAC,EAAE;QAChF,IAAIC,QAAQ,GAAG,IAAI,CAAC/S,OAAO,CAAC0L,aAAa,CAAC,GAAG,GAAGtP,GAAG,CAACyW,SAAS,CAAC,CAACnH,aAAa,CAAC,GAAG,GAAGtP,GAAG,CAAC0W,KAAK,CAAC;QAC7F,IAAI,CAAC9S,OAAO,CAAC0L,aAAa,CAAC,GAAG,GAAGtP,GAAG,CAACyW,SAAS,CAAC,CAACG,WAAW,CAACD,QAAQ,CAAC;MACzE,CAAC,MACI;QACD,IAAI,CAAC/S,OAAO,CAACgT,WAAW,CAAC,IAAI,CAAChT,OAAO,CAAC0L,aAAa,CAAC,GAAG,GAAGtP,GAAG,CAAC0W,KAAK,CAAC,CAAC;MACzE;IACJ;EACJ,CAAC;EACDjU,WAAW,CAAC6D,SAAS,CAACuQ,UAAU,GAAG,YAAY;IAC3C,IAAI,IAAI,CAACnU,MAAM,CAACoU,YAAY,KAAK,aAAa,EAAE;MAC5C,IAAInK,IAAI,GAAG,IAAI,CAACjF,OAAO,CAACqP,kBAAkB,CAAC,CAAC,CAAC,CAAC,CAAC;MAC/C,IAAI,CAACC,WAAW,CAACrK,IAAI,CAAC;IAC1B;EACJ,CAAC;EACDlK,WAAW,CAAC6D,SAAS,CAAC8C,cAAc,GAAG,UAAU5C,IAAI,EAAE;IACnD,IAAI,CAACkB,OAAO,CAACuM,UAAU,CAAC,CAACzN,IAAI,CAACyQ,QAAQ,CAAC,CAAC;IACxC,IAAItK,IAAI;IACR,IAAInG,IAAI,CAAC0Q,OAAO,EAAE;MACdvK,IAAI,GAAG0J,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,SAAS,CAAC/P,IAAI,CAAC0Q,OAAO,CAAC,CAAC;MAC/C,IAAI,CAACF,WAAW,CAACrK,IAAI,CAAC;IAC1B;EACJ,CAAC;EACDlK,WAAW,CAAC6D,SAAS,CAAC0Q,WAAW,GAAG,UAAUrK,IAAI,EAAE;IAChD,IAAIlG,KAAK,GAAG,IAAI;IAChB,IAAI,CAAClF,aAAa,CAACoL,IAAI,CAAC,EAAE;MACtB/K,kBAAkB,CAAC,IAAI,CAACc,MAAM,EAAEiK,IAAI,EAAE5M,MAAM,CAACoX,cAAc,CAAC;MAC5D;IACJ;IACA,IAAIvG,SAAS,GAAG;MAAEzG,MAAM,EAAE,KAAK;MAAE0G,WAAW,EAAElE,IAAI;MAAEmE,MAAM,EAAE;IAAc,CAAC;IAC3E,IAAI,CAACpO,MAAM,CAACqO,OAAO,CAAC,UAAU,EAAEH,SAAS,EAAE,UAAUwG,YAAY,EAAE;MAC/D,IAAI,CAACA,YAAY,CAACjN,MAAM,EAAE;QACtB,IAAIkN,MAAM,GAAGvY,QAAQ,CAAC,MAAM,EAAE6N,IAAI,CAAC;QACnC,IAAI7N,QAAQ,CAAC,QAAQ,EAAE6N,IAAI,CAAC,EAAE;UAC1B,IAAIY,IAAI,GAAGjN,QAAQ,CAACqM,IAAI,CAAC;UACzB,IAAIY,IAAI,KAAKvN,GAAG,CAACsX,UAAU,EAAE;YACzB,IAAIC,MAAM,GAAGlX,WAAW,CAACoG,KAAK,CAAC/D,MAAM,EAAEiK,IAAI,CAAC;YAC5CzM,iBAAiB,CAACuG,KAAK,CAAC/D,MAAM,EAAE2U,MAAM,EAAEE,MAAM,CAAC;UACnD;QACJ,CAAC,MACI;UACD,IAAIC,GAAG,GAAG/Q,KAAK,CAAC/D,MAAM,CAACuJ,mBAAmB,CAACC,SAAS,CAACtI,OAAO,CAACuI,KAAK;UAClE,IAAIqL,GAAG,KAAK,EAAE,IAAI,CAAC/Q,KAAK,CAAC/D,MAAM,CAAC0J,UAAU,EAAE;YACxC,IAAIvI,EAAE,GAAG/E,QAAQ,CAAC,IAAI,EAAE6N,IAAI,CAAC;YAC7BlG,KAAK,CAAC/D,MAAM,CAAC+U,OAAO,GAAGhR,KAAK,CAAC/D,MAAM,CAACiT,IAAI;YACxC,IAAI+B,OAAO,GAAGjR,KAAK,CAAC/D,MAAM,CAACiT,IAAI,IAAI3W,KAAK,CAAC6E,EAAE,CAAC,GAAGwT,MAAM,GAAGxT,EAAE,CAAC,GAAG,GAAG;YACjE4C,KAAK,CAAC/D,MAAM,CAACuO,aAAa,CAAC;cAAE0E,IAAI,EAAE+B;YAAQ,CAAC,EAAE,IAAI,CAAC;YACnDjR,KAAK,CAAC/D,MAAM,CAACiV,SAAS,CAAC3J,IAAI,CAACqJ,MAAM,CAAC;YACnC5Q,KAAK,CAAC/D,MAAM,CAACkV,MAAM,CAAC5J,IAAI,CAAClP,QAAQ,CAAC,QAAQ,EAAE6N,IAAI,CAAC,CAAC;YAClDlG,KAAK,CAAC/D,MAAM,CAACmV,QAAQ,GAAG,CAAClL,IAAI,CAAC;YAC9BvM,UAAU,CAACqG,KAAK,CAAC/D,MAAM,CAAC;UAC5B,CAAC,MACI;YACDzB,gBAAgB,CAACwF,KAAK,CAAC/D,MAAM,EAAEiK,IAAI,CAAC;UACxC;UACAlG,KAAK,CAAC/D,MAAM,CAAC0J,UAAU,GAAG,KAAK;QACnC;QACA3F,KAAK,CAAC7C,OAAO,CAACkU,KAAK,CAAC,CAAC;QACrB,IAAIrR,KAAK,CAAC/D,MAAM,CAACqG,oBAAoB,EAAE;UACnCtC,KAAK,CAAC/D,MAAM,CAACkB,OAAO,CAAC0L,aAAa,CAAC,GAAG,GAAG7I,KAAK,CAAC/D,MAAM,CAACkB,OAAO,CAACC,EAAE,GAAG7D,GAAG,CAAC+X,aAAa,CAAC,CAACD,KAAK,CAAC,CAAC;QACjG;MACJ;IACJ,CAAC,CAAC;EACN,CAAC;EACD;EACArV,WAAW,CAAC6D,SAAS,CAAC0R,cAAc,GAAG,UAAUxR,IAAI,EAAE;IACnD,IAAI,IAAI,CAAC9D,MAAM,CAACgE,IAAI,KAAK,SAAS,EAAE;MAChC,IAAI,IAAI,CAAChE,MAAM,CAACqG,oBAAoB,EAAE;QAClC,IAAI,CAACrG,MAAM,CAACuO,aAAa,CAAC;UAAEE,aAAa,EAAE;QAAG,CAAC,EAAE,IAAI,CAAC;MAC1D;MACA,IAAI,CAAC,IAAI,CAACzJ,OAAO,EAAE;QACf,IAAI,CAACnB,MAAM,CAACC,IAAI,CAAC;MACrB,CAAC,MACI;QACD,IAAI,CAAClD,QAAQ,GAAG,IAAI;MACxB;MACA,IAAI,IAAI,CAACZ,MAAM,CAAC0J,UAAU,EAAE;QACxB,IAAI,CAAC+J,gBAAgB,CAAC,CAAC;QACvB,IAAI,CAACzT,MAAM,CAACuO,aAAa,CAAC;UAAEE,aAAa,EAAE;QAAG,CAAC,EAAE,IAAI,CAAC;MAC1D;MACA,IAAI,CAACzJ,OAAO,CAACC,UAAU,GAAGpH,aAAa,CAAC,IAAI,CAACmC,MAAM,EAAE8D,IAAI,CAACK,KAAK,CAAC;MAChE,IAAI,CAACnE,MAAM,CAAC0I,MAAM,CAACrL,MAAM,CAACkY,UAAU,EAAE,CAAC,CAAC,CAAC;MACzC,IAAI,CAACvQ,OAAO,CAAC9D,OAAO,CAAC6M,SAAS,CAAC6C,MAAM,CAACtT,GAAG,CAACkY,YAAY,CAAC;MACvD,IAAI,CAACvV,YAAY,GAAG,KAAK;MACzB,IAAI,CAAC+E,OAAO,CAAC+N,cAAc,CAAC,CAAC;MAC7B,IAAI,IAAI,CAAC/S,MAAM,CAACuJ,mBAAmB,CAACC,SAAS,CAACtI,OAAO,CAACuI,KAAK,CAAC4J,IAAI,CAAC,CAAC,KAAK,EAAE,EAAE;QACvE,IAAI,CAACoC,aAAa,CAAC3R,IAAI,CAAC;MAC5B;MACA,IAAI,CAACuE,YAAY,CAAC,CAAC;MACnB,IAAI,IAAI,CAACrD,OAAO,CAACT,YAAY,CAACF,OAAO,CAAC8E,MAAM,GAAG,CAAC,IAAI,IAAI,CAACnE,OAAO,CAACT,YAAY,CAACF,OAAO,CAAC,CAAC,CAAC,CAACM,KAAK,KAAK,IAAI,CAAC3E,MAAM,CAAC4E,MAAM,EAAE;QACnH,IAAI,IAAI,CAAC5E,MAAM,CAAC8E,SAAS,KAAK,MAAM,EAAE;UAClC,IAAI,CAACE,OAAO,CAACmN,UAAU,CAAC,IAAI,CAACnS,MAAM,CAAC4E,MAAM,EAAE,IAAI,CAAC5E,MAAM,CAAC8E,SAAS,CAAC;QACtE;MACJ;IACJ;EACJ,CAAC;EACD;EACA/E,WAAW,CAAC6D,SAAS,CAAC6R,aAAa,GAAG,UAAU3R,IAAI,EAAE;IAClD,IAAI,IAAI,CAAC9D,MAAM,CAACgE,IAAI,KAAK,SAAS,EAAE;MAChC,IAAI,CAAChE,MAAM,CAACuO,aAAa,CAAC;QAAEE,aAAa,EAAE;MAAG,CAAC,EAAE,IAAI,CAAC;MACtD,IAAI,CAACzO,MAAM,CAAC0I,MAAM,CAACrL,MAAM,CAACqY,gBAAgB,EAAE,CAAC,CAAC,CAAC;MAC/C,IAAI,CAAC,IAAI,CAAC1V,MAAM,CAACoM,cAAc,EAAE;QAC7B,IAAI,CAACpM,MAAM,CAAC4P,mBAAmB,GAAG,EAAE;MACxC;MACA,IAAI,CAAC6D,gBAAgB,CAAC,CAAC;MACvB,IAAI,CAACzT,MAAM,CAACuT,aAAa,GAAGzP,IAAI,CAACK,KAAK;MACtC,IAAI,CAACgP,aAAa,CAACrP,IAAI,CAAC;IAC5B;EACJ,CAAC;EACD/D,WAAW,CAAC6D,SAAS,CAAC4P,gBAAgB,GAAG,UAAUmC,SAAS,EAAE;IAC1D,IAAIpL,GAAG,GAAG,IAAI,CAACvF,OAAO,CAACX,OAAO,CAAC8E,MAAM;IACrC,IAAIuK,UAAU,GAAGC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,SAAS,CAAC,IAAI,CAAC7O,OAAO,CAACX,OAAO,CAAC,CAAC;IACjE,IAAIqP,UAAU,CAACnJ,GAAG,GAAG,CAAC,CAAC,CAAC5F,KAAK,IAAK+O,UAAU,CAACnJ,GAAG,GAAG,CAAC,CAAC,CAAC5F,KAAK,KAAK,YAAa,EAAE;MAC3E;MACA,IAAI,CAACtI,iBAAiB,CAAC,IAAI,CAAC2I,OAAO,CAACT,YAAY,CAACF,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,IAAI,CAACW,OAAO,CAACT,YAAY,CAACF,OAAO,CAAC,CAAC,CAAC,CAACM,KAAK,KAAK,YAAY,EAAE;QACzH,IAAI,IAAI,CAAC3E,MAAM,CAAC8E,SAAS,KAAK,MAAM,EAAE;UAClC,IAAI,CAACE,OAAO,CAACmN,UAAU,CAAC,MAAM,EAAE,IAAI,CAACnS,MAAM,CAAC8E,SAAS,CAAC;QAC1D,CAAC,MACI;UACD,IAAI,CAACE,OAAO,CAACC,UAAU,GAAGpH,aAAa,CAAC,IAAI,CAACmC,MAAM,EAAE,IAAI,CAACgF,OAAO,CAACC,UAAU,CAAC;QACjF;QACA,IAAI,CAACjF,MAAM,CAAC0I,MAAM,CAACrL,MAAM,CAAC2R,YAAY,EAAE,CAAC,CAAC,CAAC;MAC/C;MACA,IAAI,CAAChK,OAAO,CAACX,OAAO,CAACuR,GAAG,CAAC,CAAC;MAC1B,IAAI,CAACD,SAAS,EAAE;QACZ,IAAI,CAACvV,eAAe,GAAG,IAAI;QAC3B,IAAI,CAAC4E,OAAO,CAAC+G,cAAc,CAAC,CAAC;MACjC;IACJ;EACJ,CAAC;EACDhM,WAAW,CAAC6D,SAAS,CAACiS,aAAa,GAAG,UAAU/R,IAAI,EAAE;IAClD,IAAI,IAAI,CAAC9D,MAAM,CAACgE,IAAI,KAAK,SAAS,EAAE;MAChC;IACJ;IACA,IAAI,CAAC,IAAI,CAACgB,OAAO,EAAE;MACf,IAAI,CAACnB,MAAM,CAACC,IAAI,CAAC;IACrB,CAAC,MACI;MACD,IAAI,CAACqP,aAAa,CAACrP,IAAI,CAAC;IAC5B;EACJ,CAAC;EACD/D,WAAW,CAAC6D,SAAS,CAACkS,WAAW,GAAG,UAAUhS,IAAI,EAAE;IAChD,IAAI,IAAI,CAAC9D,MAAM,CAACgE,IAAI,KAAK,SAAS,EAAE;MAChC;IACJ;IACA,IAAI,CAACmP,aAAa,CAACrP,IAAI,CAAC;EAC5B,CAAC;EACD/D,WAAW,CAAC6D,SAAS,CAACmS,YAAY,GAAG,YAAY;IAC7C,IAAI,IAAI,CAAC/V,MAAM,CAACoU,YAAY,KAAK,aAAa,IAAI,IAAI,CAACpU,MAAM,CAACyO,aAAa,CAACtF,MAAM,KAAK,CAAC,EAAE;MACtF,IAAI,CAAC6M,gBAAgB,CAAC,CAAC;IAC3B;EACJ,CAAC;EACDjW,WAAW,CAAC6D,SAAS,CAACqS,cAAc,GAAG,YAAY;IAC/C,IAAI,IAAI,CAACjW,MAAM,CAACoU,YAAY,KAAK,aAAa,EAAE;MAC5C,IAAI,CAACpU,MAAM,CAACmV,QAAQ,GAAG,IAAI,CAACnQ,OAAO,CAACqP,kBAAkB,CAAC,CAAC;IAC5D;EACJ,CAAC;EACDtU,WAAW,CAAC6D,SAAS,CAACsS,YAAY,GAAG,YAAY;IAC7C,IAAI,IAAI,CAAClW,MAAM,CAACoU,YAAY,KAAK,aAAa,EAAE;MAC5ChW,MAAM,CAAC,IAAI,CAAC4B,MAAM,EAAE,IAAI,CAACA,MAAM,CAACyO,aAAa,EAAE,IAAI,CAACzO,MAAM,CAACiT,IAAI,EAAE,QAAQ,CAAC;IAC9E;EACJ,CAAC;EACD;EACAlT,WAAW,CAAC6D,SAAS,CAACuS,WAAW,GAAG,UAAUrS,IAAI,EAAE;IAChD,IAAI,IAAI,CAAC9D,MAAM,CAACgE,IAAI,KAAK,SAAS,EAAE;MAChC;IACJ;IACA,IAAI,CAACmP,aAAa,CAACrP,IAAI,CAAC;IACxB,IAAI,CAAC9D,MAAM,CAACuO,aAAa,CAAC;MAAEE,aAAa,EAAE;IAAG,CAAC,EAAE,IAAI,CAAC;EAC1D,CAAC;EACD1O,WAAW,CAAC6D,SAAS,CAACwS,YAAY,GAAG,UAAUtS,IAAI,EAAE;IACjD,IAAI,IAAI,CAAC9D,MAAM,CAACgE,IAAI,KAAK,SAAS,EAAE;MAChC;IACJ;IACA,IAAI,CAAC/D,YAAY,GAAG,KAAK;IACzB,IAAI,CAACuT,gBAAgB,CAAC,KAAK,CAAC;IAC5B,IAAI,CAACxO,OAAO,CAACC,UAAU,GAAGpH,aAAa,CAAC,IAAI,CAACmC,MAAM,EAAE8D,IAAI,CAACK,KAAK,CAAC;IAChE,IAAI,CAACmE,SAAS,GAAGxE,IAAI;EACzB,CAAC;EACD/D,WAAW,CAAC6D,SAAS,CAACyS,YAAY,GAAG,YAAY;IAC7C,IAAI,IAAI,CAACrW,MAAM,CAACgE,IAAI,KAAK,SAAS,IAAI,IAAI,CAACgB,OAAO,EAAE;MAChD,IAAI,CAACA,OAAO,CAAC9D,OAAO,CAAC6M,SAAS,CAACC,GAAG,CAAC1Q,GAAG,CAACkY,YAAY,CAAC;IACxD;EACJ,CAAC;EACDzV,WAAW,CAAC6D,SAAS,CAAC0S,eAAe,GAAG,YAAY;IAChD,IAAI,IAAI,CAACtW,MAAM,CAACgE,IAAI,KAAK,SAAS,EAAE;MAChC,IAAI,CAAC/D,YAAY,GAAG,KAAK;MACzB,IAAI,IAAI,CAACD,MAAM,CAACgG,mBAAmB,EAAE;QACjC,IAAI,CAAChB,OAAO,CAACuR,eAAe,CAACC,iBAAiB,CAAC,CAAC,EAAE,IAAI,CAACxR,OAAO,CAACyR,OAAO,CAAC,CAAC,CAACtN,MAAM,CAAC;MACpF,CAAC,MACI;QACD,IAAI,CAACnE,OAAO,CAAC0R,SAAS,CAAC,IAAI,CAAC1R,OAAO,CAACyR,OAAO,CAAC,CAAC,CAACtN,MAAM,GAAG,CAAC,CAAC;MAC7D;MACA,IAAI,CAAClJ,YAAY,GAAG,IAAI;MACxB,IAAI,CAACC,WAAW,GAAG,IAAI;IAC3B;EACJ,CAAC;EACDH,WAAW,CAAC6D,SAAS,CAAC+S,cAAc,GAAG,YAAY;IAC/C,IAAI,IAAI,CAAC3W,MAAM,CAACgE,IAAI,KAAK,SAAS,EAAE;MAChC,IAAI,CAAC4S,eAAe,CAAC,CAAC;MACtB,IAAI,CAAC1W,WAAW,GAAG,IAAI;IAC3B;EACJ,CAAC;EACD;EACAH,WAAW,CAAC6D,SAAS,CAACiT,kBAAkB,GAAG,YAAY;IACnDna,WAAW,CAAC,CAAC,IAAI,CAACwE,OAAO,CAAC,EAAE5D,GAAG,CAACwZ,YAAY,CAAC;IAC7C,IAAI,IAAI,CAAC9W,MAAM,CAACyO,aAAa,CAACtF,MAAM,GAAG,CAAC,EAAE;MACtC1M,QAAQ,CAAC,CAAC,IAAI,CAACyE,OAAO,CAAC,EAAE5D,GAAG,CAACwZ,YAAY,CAAC;IAC9C;EACJ,CAAC;EACD/W,WAAW,CAAC6D,SAAS,CAACmT,eAAe,GAAG,YAAY;IAChD,IAAI,IAAI,CAAC/W,MAAM,CAACgE,IAAI,KAAK,SAAS,EAAE;MAChC;IACJ;IACA,IAAI,CAACqE,YAAY,CAAC,CAAC;EACvB,CAAC;EACDtI,WAAW,CAAC6D,SAAS,CAACoT,eAAe,GAAG,YAAY;IAChD,IAAI,CAACrW,UAAU,GAAG,KAAK;EAC3B,CAAC;EACDZ,WAAW,CAAC6D,SAAS,CAACqT,cAAc,GAAG,YAAY;IAC/C,IAAI,CAACtW,UAAU,GAAG,IAAI;EAC1B,CAAC;EACDZ,WAAW,CAAC6D,SAAS,CAACsT,qBAAqB,GAAG,YAAY;IACtD,IAAI,IAAI,CAAClX,MAAM,CAACgE,IAAI,KAAK,SAAS,EAAE;MAChC;IACJ;IACA,IAAI,CAAChE,MAAM,CAACmV,QAAQ,GAAG,IAAI,CAACnQ,OAAO,CAACqP,kBAAkB,CAAC,CAAC;EAC5D,CAAC;EACDtU,WAAW,CAAC6D,SAAS,CAACvC,gBAAgB,GAAG,YAAY;IACjD,IAAI,CAACrB,MAAM,CAACgI,EAAE,CAAC3K,MAAM,CAAC8Z,WAAW,EAAE,IAAI,CAACtB,aAAa,EAAE,IAAI,CAAC;IAC5D,IAAI,CAAC7V,MAAM,CAACgI,EAAE,CAAC3K,MAAM,CAACuK,OAAO,EAAE,IAAI,CAACA,OAAO,EAAE,IAAI,CAAC;IAClD,IAAI,CAAC5H,MAAM,CAACgI,EAAE,CAAC3K,MAAM,CAAC+Z,YAAY,EAAE,IAAI,CAAC9B,cAAc,EAAE,IAAI,CAAC;IAC9D,IAAI,CAACtV,MAAM,CAACgI,EAAE,CAAC3K,MAAM,CAAC2V,WAAW,EAAE,IAAI,CAACG,aAAa,EAAE,IAAI,CAAC;IAC5D,IAAI,CAACnT,MAAM,CAACgI,EAAE,CAAC3K,MAAM,CAACga,SAAS,EAAE,IAAI,CAACvB,WAAW,EAAE,IAAI,CAAC;IACxD,IAAI,CAAC9V,MAAM,CAACgI,EAAE,CAAC3K,MAAM,CAACia,QAAQ,EAAE,IAAI,CAACC,UAAU,EAAE,IAAI,CAAC;IACtD,IAAI,CAACvX,MAAM,CAACgI,EAAE,CAAC3K,MAAM,CAACma,WAAW,EAAE,IAAI,CAACC,aAAa,EAAE,IAAI,CAAC;IAC5D,IAAI,CAACzX,MAAM,CAACgI,EAAE,CAAC3K,MAAM,CAACqa,UAAU,EAAE,IAAI,CAACtB,YAAY,EAAE,IAAI,CAAC;IAC1D,IAAI,CAACpW,MAAM,CAACgI,EAAE,CAAC3K,MAAM,CAACsa,MAAM,EAAE,IAAI,CAAClC,aAAa,EAAE,IAAI,CAAC;IACvD,IAAI,CAACzV,MAAM,CAACgI,EAAE,CAAC3K,MAAM,CAACua,UAAU,EAAE,IAAI,CAACC,YAAY,EAAE,IAAI,CAAC;IAC1D,IAAI,CAAC7X,MAAM,CAACgI,EAAE,CAAC3K,MAAM,CAACya,aAAa,EAAE,IAAI,CAACC,eAAe,EAAE,IAAI,CAAC;IAChE,IAAI,CAAC/X,MAAM,CAACgI,EAAE,CAAC3K,MAAM,CAAC2a,YAAY,EAAE,IAAI,CAAC3F,iBAAiB,EAAE,IAAI,CAAC;IACjE,IAAI,CAACrS,MAAM,CAACgI,EAAE,CAAC3K,MAAM,CAAC4a,UAAU,EAAE,IAAI,CAAC/B,YAAY,EAAE,IAAI,CAAC;IAC1D,IAAI,CAAClW,MAAM,CAACgI,EAAE,CAAC3K,MAAM,CAAC6a,SAAS,EAAE,IAAI,CAAC/B,WAAW,EAAE,IAAI,CAAC;IACxD,IAAI,CAACnW,MAAM,CAACgI,EAAE,CAAC3K,MAAM,CAAC8a,YAAY,EAAE,IAAI,CAAClC,cAAc,EAAE,IAAI,CAAC;IAC9D,IAAI,CAACjW,MAAM,CAACgI,EAAE,CAAC3K,MAAM,CAAC+a,UAAU,EAAE,IAAI,CAACrC,YAAY,EAAE,IAAI,CAAC;IAC1D,IAAI,CAAC/V,MAAM,CAACgI,EAAE,CAAC3K,MAAM,CAACgb,SAAS,EAAE,IAAI,CAAClF,aAAa,EAAE,IAAI,CAAC;IAC1D,IAAI,CAACnT,MAAM,CAACgI,EAAE,CAAC3K,MAAM,CAACib,QAAQ,EAAE,IAAI,CAACnE,UAAU,EAAE,IAAI,CAAC;IACtD,IAAI,CAACnU,MAAM,CAACgI,EAAE,CAAC3K,MAAM,CAAC8U,UAAU,EAAE,IAAI,CAACF,YAAY,EAAE,IAAI,CAAC;IAC1D,IAAI,CAACjS,MAAM,CAACgI,EAAE,CAAC3K,MAAM,CAACkb,OAAO,EAAE,IAAI,CAACpF,aAAa,EAAE,IAAI,CAAC;IACxD,IAAI,CAACnT,MAAM,CAACgI,EAAE,CAAC3K,MAAM,CAACmb,SAAS,EAAE,IAAI,CAACrF,aAAa,EAAE,IAAI,CAAC;IAC1D,IAAI,CAACnT,MAAM,CAACgI,EAAE,CAAC3K,MAAM,CAACob,SAAS,EAAE,IAAI,CAACC,WAAW,EAAE,IAAI,CAAC;IACxD,IAAI,CAAC1Y,MAAM,CAACgI,EAAE,CAAC3K,MAAM,CAACkY,UAAU,EAAE,IAAI,CAACc,YAAY,EAAE,IAAI,CAAC;IAC1D,IAAI,CAACrW,MAAM,CAACgI,EAAE,CAAC3K,MAAM,CAACsb,aAAa,EAAE,IAAI,CAACrC,eAAe,EAAE,IAAI,CAAC;IAChE,IAAI,CAACtW,MAAM,CAACgI,EAAE,CAAC3K,MAAM,CAACub,YAAY,EAAE,IAAI,CAACjC,cAAc,EAAE,IAAI,CAAC;IAC9D,IAAI,CAAC3W,MAAM,CAACgI,EAAE,CAAC3K,MAAM,CAACyW,UAAU,EAAE,IAAI,CAAC+E,YAAY,EAAE,IAAI,CAAC;IAC1D,IAAI,CAAC7Y,MAAM,CAACgI,EAAE,CAAC3K,MAAM,CAACqY,gBAAgB,EAAE,IAAI,CAACmB,kBAAkB,EAAE,IAAI,CAAC;IACtE,IAAI,CAAC7W,MAAM,CAACgI,EAAE,CAAC3K,MAAM,CAACyb,aAAa,EAAE,IAAI,CAAC9B,eAAe,EAAE,IAAI,CAAC;IAChE,IAAI,CAAChX,MAAM,CAACgI,EAAE,CAAC3K,MAAM,CAAC0b,YAAY,EAAE,IAAI,CAAC9B,cAAc,EAAE,IAAI,CAAC;IAC9D,IAAI,CAACjX,MAAM,CAACgI,EAAE,CAAC3K,MAAM,CAAC2b,QAAQ,EAAE,IAAI,CAACC,UAAU,EAAE,IAAI,CAAC;IACtD,IAAI,CAACjZ,MAAM,CAACgI,EAAE,CAAC3K,MAAM,CAAC6b,WAAW,EAAE,IAAI,CAACC,aAAa,EAAE,IAAI,CAAC;IAC5D,IAAI,CAACnZ,MAAM,CAACgI,EAAE,CAAC3K,MAAM,CAAC+b,YAAY,EAAE,IAAI,CAACC,cAAc,EAAE,IAAI,CAAC;IAC9D,IAAI,CAACrZ,MAAM,CAACgI,EAAE,CAAC3K,MAAM,CAACic,SAAS,EAAE,IAAI,CAACC,sBAAsB,EAAE,IAAI,CAAC;IACnE,IAAI,CAACvZ,MAAM,CAACgI,EAAE,CAAC3K,MAAM,CAACmc,cAAc,EAAE,IAAI,CAACtG,eAAe,EAAE,IAAI,CAAC;IACjE,IAAI,CAAClT,MAAM,CAACgI,EAAE,CAAC3K,MAAM,CAACoc,aAAa,EAAE,IAAI,CAAC1C,eAAe,EAAE,IAAI,CAAC;IAChE,IAAI,CAAC/W,MAAM,CAACgI,EAAE,CAAC3K,MAAM,CAACqc,QAAQ,EAAE,IAAI,CAACC,UAAU,EAAE,IAAI,CAAC;IACtD,IAAI,CAAC3Z,MAAM,CAACgI,EAAE,CAAC3K,MAAM,CAACuc,mBAAmB,EAAE,IAAI,CAAC1C,qBAAqB,EAAE,IAAI,CAAC;EAChF,CAAC;EACDnX,WAAW,CAAC6D,SAAS,CAACiW,mBAAmB,GAAG,YAAY;IACpD,IAAI,CAAC7Z,MAAM,CAAC8Z,GAAG,CAACzc,MAAM,CAAC8Z,WAAW,EAAE,IAAI,CAACtB,aAAa,CAAC;IACvD,IAAI,CAAC7V,MAAM,CAAC8Z,GAAG,CAACzc,MAAM,CAACuK,OAAO,EAAE,IAAI,CAACA,OAAO,CAAC;IAC7C,IAAI,CAAC5H,MAAM,CAAC8Z,GAAG,CAACzc,MAAM,CAAC+Z,YAAY,EAAE,IAAI,CAAC9B,cAAc,CAAC;IACzD,IAAI,CAACtV,MAAM,CAAC8Z,GAAG,CAACzc,MAAM,CAAC2V,WAAW,EAAE,IAAI,CAACG,aAAa,CAAC;IACvD,IAAI,CAACnT,MAAM,CAAC8Z,GAAG,CAACzc,MAAM,CAACob,SAAS,EAAE,IAAI,CAACC,WAAW,CAAC;IACnD,IAAI,CAAC1Y,MAAM,CAAC8Z,GAAG,CAACzc,MAAM,CAACga,SAAS,EAAE,IAAI,CAACvB,WAAW,CAAC;IACnD,IAAI,CAAC9V,MAAM,CAAC8Z,GAAG,CAACzc,MAAM,CAACqa,UAAU,EAAE,IAAI,CAACtB,YAAY,CAAC;IACrD,IAAI,CAACpW,MAAM,CAAC8Z,GAAG,CAACzc,MAAM,CAACsa,MAAM,EAAE,IAAI,CAAClC,aAAa,CAAC;IAClD,IAAI,CAACzV,MAAM,CAAC8Z,GAAG,CAACzc,MAAM,CAACua,UAAU,EAAE,IAAI,CAACC,YAAY,CAAC;IACrD,IAAI,CAAC7X,MAAM,CAAC8Z,GAAG,CAACzc,MAAM,CAACya,aAAa,EAAE,IAAI,CAACC,eAAe,CAAC;IAC3D,IAAI,CAAC/X,MAAM,CAAC8Z,GAAG,CAACzc,MAAM,CAAC2a,YAAY,EAAE,IAAI,CAAC3F,iBAAiB,CAAC;IAC5D,IAAI,CAACrS,MAAM,CAAC8Z,GAAG,CAACzc,MAAM,CAAC+a,UAAU,EAAE,IAAI,CAACrC,YAAY,CAAC;IACrD,IAAI,CAAC/V,MAAM,CAAC8Z,GAAG,CAACzc,MAAM,CAACgb,SAAS,EAAE,IAAI,CAAClF,aAAa,CAAC;IACrD,IAAI,CAACnT,MAAM,CAAC8Z,GAAG,CAACzc,MAAM,CAACmb,SAAS,EAAE,IAAI,CAACrF,aAAa,CAAC;IACrD,IAAI,CAACnT,MAAM,CAAC8Z,GAAG,CAACzc,MAAM,CAACib,QAAQ,EAAE,IAAI,CAACnE,UAAU,CAAC;IACjD,IAAI,CAACnU,MAAM,CAAC8Z,GAAG,CAACzc,MAAM,CAAC8U,UAAU,EAAE,IAAI,CAACF,YAAY,CAAC;IACrD,IAAI,CAACjS,MAAM,CAAC8Z,GAAG,CAACzc,MAAM,CAACkb,OAAO,EAAE,IAAI,CAACpF,aAAa,CAAC;IACnD,IAAI,CAACnT,MAAM,CAAC8Z,GAAG,CAACzc,MAAM,CAACkY,UAAU,EAAE,IAAI,CAACc,YAAY,CAAC;IACrD,IAAI,CAACrW,MAAM,CAAC8Z,GAAG,CAACzc,MAAM,CAACsb,aAAa,EAAE,IAAI,CAACrC,eAAe,CAAC;IAC3D,IAAI,CAACtW,MAAM,CAAC8Z,GAAG,CAACzc,MAAM,CAACub,YAAY,EAAE,IAAI,CAACjC,cAAc,CAAC;IACzD,IAAI,CAAC3W,MAAM,CAAC8Z,GAAG,CAACzc,MAAM,CAAC4a,UAAU,EAAE,IAAI,CAAC/B,YAAY,CAAC;IACrD,IAAI,CAAClW,MAAM,CAAC8Z,GAAG,CAACzc,MAAM,CAAC6a,SAAS,EAAE,IAAI,CAAC/B,WAAW,CAAC;IACnD,IAAI,CAACnW,MAAM,CAAC8Z,GAAG,CAACzc,MAAM,CAACyW,UAAU,EAAE,IAAI,CAAC+E,YAAY,CAAC;IACrD,IAAI,CAAC7Y,MAAM,CAAC8Z,GAAG,CAACzc,MAAM,CAACqY,gBAAgB,EAAE,IAAI,CAACmB,kBAAkB,CAAC;IACjE,IAAI,CAAC7W,MAAM,CAAC8Z,GAAG,CAACzc,MAAM,CAACyb,aAAa,EAAE,IAAI,CAAC9B,eAAe,CAAC;IAC3D,IAAI,CAAChX,MAAM,CAAC8Z,GAAG,CAACzc,MAAM,CAAC0b,YAAY,EAAE,IAAI,CAAC9B,cAAc,CAAC;IACzD,IAAI,CAACjX,MAAM,CAAC8Z,GAAG,CAACzc,MAAM,CAAC2b,QAAQ,EAAE,IAAI,CAACC,UAAU,CAAC;IACjD,IAAI,CAACjZ,MAAM,CAAC8Z,GAAG,CAACzc,MAAM,CAAC6b,WAAW,EAAE,IAAI,CAACC,aAAa,CAAC;IACvD,IAAI,CAACnZ,MAAM,CAAC8Z,GAAG,CAACzc,MAAM,CAACia,QAAQ,EAAE,IAAI,CAACC,UAAU,CAAC;IACjD,IAAI,CAACvX,MAAM,CAAC8Z,GAAG,CAACzc,MAAM,CAAC8a,YAAY,EAAE,IAAI,CAAClC,cAAc,CAAC;IACzD,IAAI,CAACjW,MAAM,CAAC8Z,GAAG,CAACzc,MAAM,CAACma,WAAW,EAAE,IAAI,CAACC,aAAa,CAAC;IACvD,IAAI,CAACzX,MAAM,CAAC8Z,GAAG,CAACzc,MAAM,CAAC+b,YAAY,EAAE,IAAI,CAACC,cAAc,CAAC;IACzD,IAAI,CAACrZ,MAAM,CAAC8Z,GAAG,CAACzc,MAAM,CAACic,SAAS,EAAE,IAAI,CAACC,sBAAsB,CAAC;IAC9D,IAAI,CAACvZ,MAAM,CAAC8Z,GAAG,CAACzc,MAAM,CAACmc,cAAc,EAAE,IAAI,CAACtG,eAAe,CAAC;IAC5D,IAAI,CAAClT,MAAM,CAAC8Z,GAAG,CAACzc,MAAM,CAACoc,aAAa,EAAE,IAAI,CAAC1C,eAAe,CAAC;IAC3D,IAAI,CAAC/W,MAAM,CAAC8Z,GAAG,CAACzc,MAAM,CAACqc,QAAQ,EAAE,IAAI,CAACC,UAAU,CAAC;IACjD,IAAI,CAAC3Z,MAAM,CAAC8Z,GAAG,CAACzc,MAAM,CAACuc,mBAAmB,EAAE,IAAI,CAAC1C,qBAAqB,CAAC;EAC3E,CAAC;EACDnX,WAAW,CAAC6D,SAAS,CAACmU,eAAe,GAAG,YAAY;IAAE,IAAI,CAAC7X,WAAW,GAAG,IAAI;EAAE,CAAC;EAChFH,WAAW,CAAC6D,SAAS,CAACyV,cAAc,GAAG,UAAUvV,IAAI,EAAE;IACnD,IAAI,IAAI,CAAC9D,MAAM,CAACoU,YAAY,KAAK,IAAI,CAAC7B,aAAa,CAAC,CAAC,EAAE;MACnD,IAAI,CAACvS,MAAM,CAACmV,QAAQ,GAAG,CAAC,IAAI,CAACnQ,OAAO,CAAC+U,UAAU,CAACjW,IAAI,CAACkW,MAAM,CAAC,CAACxF,OAAO,CAAC;IACzE;EACJ,CAAC;EACDzU,WAAW,CAAC6D,SAAS,CAAC8U,WAAW,GAAG,YAAY;IAC5C,IAAI,IAAI,CAAC1Y,MAAM,CAACoU,YAAY,KAAK,IAAI,CAAC7B,aAAa,CAAC,CAAC,EAAE;MACnD,IAAI,CAACvS,MAAM,CAACmV,QAAQ,GAAI,IAAI,CAACnV,MAAM,CAACia,UAAU,KAAK,EAAE,GAAI,IAAI,CAACjV,OAAO,CAACqP,kBAAkB,CAAC,CAAC,GACtF,CAAC1V,aAAa,CAAC,IAAI,CAACqB,MAAM,CAAC,CAAC;IACpC;EACJ,CAAC;EACDD,WAAW,CAAC6D,SAAS,CAAC6T,aAAa,GAAG,YAAY;IAC9C,IAAI,IAAI,CAACzX,MAAM,CAACoU,YAAY,KAAK,IAAI,CAAC7B,aAAa,CAAC,CAAC,EAAE;MACnD,IAAI,IAAI,CAACvS,MAAM,CAACyO,aAAa,CAACtF,MAAM,KAAK,CAAC,EAAE;QACxC,IAAI,CAACnJ,MAAM,CAACmV,QAAQ,GAAG,IAAI,CAACnQ,OAAO,CAACqP,kBAAkB,CAAC,CAAC;MAC5D,CAAC,MACI;QACD,IAAI,CAACrU,MAAM,CAACmV,QAAQ,GAAG,CAAC/Y,QAAQ,CAAC,IAAI,CAAC4D,MAAM,CAACkV,MAAM,CAAC,IAAI,CAAClV,MAAM,CAACkV,MAAM,CAAC/L,MAAM,GAAG,CAAC,CAAC,EAAE,IAAI,CAACnJ,MAAM,CAACka,QAAQ,CAAC,CAAC;MAC9G;IACJ;EACJ,CAAC;EACDna,WAAW,CAAC6D,SAAS,CAACuW,UAAU,GAAG,UAAUrW,IAAI,EAAE;IAC/C,IAAIsW,UAAU,GAAGtW,IAAI,CAACuW,MAAM,CAACL,MAAM;IACnC,IAAIM,MAAM,GAAGF,UAAU,CAACxd,OAAO,CAAC,UAAU,CAAC;IAC3C,IAAI,CAAC0d,MAAM,EAAE;MACT,OAAO,IAAI;IACf;IACA,IAAIpQ,IAAI;IACR,IAAIoQ,MAAM,CAACC,sBAAsB,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,EAAE;MAC/CrQ,IAAI,GAAG,IAAI,CAAClK,MAAM,CAAC+O,KAAK,GAAG,IAAI,CAAC/J,OAAO,CAAC+U,UAAU,CAACO,MAAM,CAAC,CAAC9F,OAAO,CAACrT,EAAE,GAAGmZ,MAAM,CAACC,sBAAsB,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAACC,SAAS;IACnI,CAAC,MACI,IAAIF,MAAM,CAACC,sBAAsB,CAAC,0BAA0B,CAAC,CAAC,CAAC,CAAC,CAACE,kBAAkB,EAAE;MACtFvQ,IAAI,GAAG,IAAI,CAAClK,MAAM,CAAC+O,KAAK,GAAG,IAAI,CAAC/J,OAAO,CAAC+U,UAAU,CAACO,MAAM,CAAC,CAAC9F,OAAO,CAACrT,EAAE,GAAGmZ,MAAM,CAACC,sBAAsB,CAAC,0BAA0B,CAAC,CAAC,CAAC,CAAC,CAACE,kBAAkB,CAACD,SAAS;IACrK;IACA,IAAIF,MAAM,IAAI,CAACA,MAAM,CAAC1N,aAAa,CAAC,WAAW,CAAC,EAAE;MAC9C,IAAI,CAAC4C,aAAa,CAAC,CAACtF,IAAI,CAAC,CAAC;IAC9B;IACA1K,SAAS,CAAC,IAAI,CAACQ,MAAM,EAAEsa,MAAM,CAAC;IAC9B,IAAI,CAACta,MAAM,CAAC0a,cAAc,GAAG,EAAE;IAC/B,IAAI,CAAC1a,MAAM,CAAC2a,QAAQ,GAAG,EAAE;IACzB,IAAI,CAAC3a,MAAM,CAAC2a,QAAQ,GAAG,IAAI,CAAC3V,OAAO,CAACqP,kBAAkB,CAAC,CAAC;IACxD,IAAIuG,OAAO;IACX,IAAI,IAAI,CAAC5a,MAAM,CAAC2a,QAAQ,CAACxR,MAAM,KAAK,CAAC,IAAImR,MAAM,EAAE;MAC7CM,OAAO,GAAG,IAAI,CAAC5V,OAAO,CAAC+U,UAAU,CAACO,MAAM,CAAC;IAC7C;IACA,IAAIM,OAAO,EAAE;MACT,IAAI,CAAC5a,MAAM,CAAC2a,QAAQ,CAACrP,IAAI,CAACsP,OAAO,CAACpG,OAAO,CAAC;IAC9C;IACA,IAAI,CAACxU,MAAM,CAAC6a,QAAQ,GAAG,IAAI,CAAC7a,MAAM,CAACiT,IAAI;IACvC,IAAI,CAACjT,MAAM,CAAC0a,cAAc,GAAG,IAAI,CAAC1V,OAAO,CAAC8V,eAAe,CAAC,CAAC;IAC3D1b,wBAAwB,CAAC,IAAI,CAACY,MAAM,CAAC;IACrC,OAAO,IAAI,CAACA,MAAM,CAAC+a,kBAAkB;EACzC,CAAC;EACD;EACAhb,WAAW,CAAC6D,SAAS,CAACsP,eAAe,GAAG,YAAY;IAChD,IAAI,IAAI,CAAClT,MAAM,CAACgE,IAAI,KAAK,SAAS,IAAI,CAAC,IAAI,CAAChE,MAAM,CAAC6E,QAAQ,IAAI,CAACvI,KAAK,CAAC,IAAI,CAAC0I,OAAO,CAAC,EAAE;MACjF,IAAI2G,UAAU,GAAG,IAAI,CAAC3G,OAAO,CAACmL,gBAAgB,CAAC,CAAC,CAACvD,aAAa,CAAC,kBAAkB,CAAC;MAClF,IAAIoO,kBAAkB,GAAGrP,UAAU,CAACsP,UAAU,CAACC,UAAU,CAAC,CAAC,CAAC;MAC5D,IAAIC,mBAAmB,GAAG,IAAI,CAACnW,OAAO,CAAC0L,UAAU,CAAC,CAAC,CAAC9D,aAAa,CAAC,qBAAqB,CAAC,CAACV,QAAQ,CAAC,CAAC,CAAC;MACpG,IAAIkP,kBAAkB,GAAG,IAAI,CAACpW,OAAO,CAACV,UAAU,CAAC,CAAC;MAClD,KAAK,IAAI4E,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGkS,kBAAkB,CAACjS,MAAM,EAAED,CAAC,EAAE,EAAE;QAChD,IAAK,CAAC,IAAI,CAACrI,WAAW,IAAIua,kBAAkB,CAAClS,CAAC,CAAC,CAACvE,KAAK,KAAK,MAAM,IAAKyW,kBAAkB,CAAClS,CAAC,CAAC,CAACvE,KAAK,KAAK,YAAY,EAAE;UAC/G,IAAI,IAAI,CAAC3E,MAAM,CAACuJ,mBAAmB,CAACC,SAAS,CAACtI,OAAO,CAACuI,KAAK,KAAK,EAAE,IAAI,CAAC,IAAI,CAACzJ,MAAM,CAAC0J,UAAU,EAAE;YAC3F,IAAI,IAAI,CAACxI,OAAO,CAACyI,WAAW,IAAI,GAAG,EAAE;cACjCqR,kBAAkB,CAAC9O,QAAQ,CAAChD,CAAC,CAAC,CAACiD,YAAY,CAAC,OAAO,EAAE,cAAc,CAAC;cACpEgP,mBAAmB,CAACjP,QAAQ,CAAChD,CAAC,CAAC,CAACiD,YAAY,CAAC,OAAO,EAAE,cAAc,CAAC;YACzE,CAAC,MACI,IAAI,IAAI,CAACjL,OAAO,CAACyI,WAAW,GAAG,GAAG,EAAE;cACrCqR,kBAAkB,CAAC9O,QAAQ,CAAChD,CAAC,CAAC,CAACiD,YAAY,CAAC,OAAO,EAAE,aAAa,CAAC;cACnEgP,mBAAmB,CAACjP,QAAQ,CAAChD,CAAC,CAAC,CAACiD,YAAY,CAAC,OAAO,EAAE,aAAa,CAAC;YACxE;UACJ,CAAC,MACI;YACD,IAAI,IAAI,CAACjL,OAAO,CAACyI,WAAW,IAAI,GAAG,EAAE;cACjC,IAAIyR,kBAAkB,CAAClS,CAAC,CAAC,CAACvE,KAAK,KAAK,MAAM,EAAE;gBACxCqW,kBAAkB,CAAC9O,QAAQ,CAAChD,CAAC,CAAC,CAACiD,YAAY,CAAC,OAAO,EAAE,cAAc,CAAC;gBACpEgP,mBAAmB,CAACjP,QAAQ,CAAChD,CAAC,CAAC,CAACiD,YAAY,CAAC,OAAO,EAAE,cAAc,CAAC;cACzE,CAAC,MACI;gBACD6O,kBAAkB,CAAC9O,QAAQ,CAAChD,CAAC,CAAC,CAACiD,YAAY,CAAC,OAAO,EAAE,cAAc,CAAC;gBACpEgP,mBAAmB,CAACjP,QAAQ,CAAChD,CAAC,CAAC,CAACiD,YAAY,CAAC,OAAO,EAAE,cAAc,CAAC;cACzE;YACJ,CAAC,MACI,IAAI,IAAI,CAACjL,OAAO,CAACyI,WAAW,GAAG,GAAG,EAAE;cACrCqR,kBAAkB,CAAC9O,QAAQ,CAAChD,CAAC,CAAC,CAACiD,YAAY,CAAC,OAAO,EAAE,aAAa,CAAC;cACnEgP,mBAAmB,CAACjP,QAAQ,CAAChD,CAAC,CAAC,CAACiD,YAAY,CAAC,OAAO,EAAE,aAAa,CAAC;YACxE;UACJ;QACJ;MACJ;IACJ;EACJ,CAAC;EACDpM,WAAW,CAAC6D,SAAS,CAAC2V,sBAAsB,GAAG,YAAY;IACvD,IAAI,CAACrG,eAAe,CAAC,CAAC;IACtB,IAAI,IAAI,CAAClT,MAAM,CAACgE,IAAI,KAAK,SAAS,IAAI,CAAC,IAAI,CAAChE,MAAM,CAAC6E,QAAQ,IAAI,CAACvI,KAAK,CAAC,IAAI,CAAC0I,OAAO,CAAC,EAAE;MACjF,IAAI,CAACqD,YAAY,CAAC,CAAC;IACvB;EACJ,CAAC;EACDtI,WAAW,CAAC6D,SAAS,CAAC0L,aAAa,GAAG,YAAY;IAC9C,IAAIvL,KAAK,GAAG,IAAI;IAChB,IAAI,IAAI,CAACiB,OAAO,EAAE;MACd,IAAI,IAAI,CAAChF,MAAM,CAACqb,gBAAgB,IAAIhf,iBAAiB,CAAC,IAAI,CAACgE,OAAO,CAAC,EAAE;QACjE,IAAI,CAACA,OAAO,GAAG,IAAIxD,SAAS,CAAC,IAAI,CAACmI,OAAO,CAAC9D,OAAO,EAAE;UAC/Coa,QAAQ,EAAE,IAAI,CAACtb,MAAM,CAACub,kBAAkB;UACxCC,QAAQ,EAAE,CAAC;UACXC,cAAc,EAAE,IAAI;UACpBC,QAAQ,EAAE,IAAI,CAAC1b,MAAM,CAACkB,OAAO;UAC7BkZ,UAAU,EAAE,GAAG,GAAG9c,GAAG,CAACqe,GAAG;UACzBC,IAAI,EAAErc,eAAe,CAAC8F,IAAI,CAAC,IAAI,EAAE,IAAI,CAACrF,MAAM,CAAC;UAC7C6b,SAAS,EAAE,SAAAA,CAAU/X,IAAI,EAAE;YACvBxE,gBAAgB,CAACyE,KAAK,CAAC/D,MAAM,EAAE8D,IAAI,EAAEC,KAAK,CAAC1D,OAAO,CAAC;UACvD,CAAC;UACDyb,QAAQ,EAAEzc,eAAe,CAACgG,IAAI,CAAC,IAAI,EAAE,IAAI,CAACrF,MAAM,CAAC;UACjD+b,gBAAgB,EAAE,KAAK;UACvBC,MAAM,EAAE,IAAI,CAAC7B,UAAU,CAAC9U,IAAI,CAAC,IAAI;QACrC,CAAC,CAAC;MACN,CAAC,MACI,IAAI,CAAC,IAAI,CAACrF,MAAM,CAACqb,gBAAgB,IAAI,IAAI,CAAChb,OAAO,EAAE;QACpD,IAAI,CAACA,OAAO,CAACuH,OAAO,CAAC,CAAC;QACtB,IAAI,CAACvH,OAAO,GAAG,IAAI;MACvB;IACJ;EACJ,CAAC;EACDN,WAAW,CAAC6D,SAAS,CAAC2T,UAAU,GAAG,UAAUzT,IAAI,EAAE;IAC/C,IAAI,IAAI,CAAC9D,MAAM,CAACic,YAAY,KAAK,IAAI,CAAC1J,aAAa,CAAC,CAAC,EAAE;MACnD;MACA,IAAI2J,OAAO,GAAG9f,QAAQ,CAAC,IAAI,CAAC4D,MAAM,CAACkV,MAAM,CAAC,IAAI,CAAClV,MAAM,CAACkV,MAAM,CAAC/L,MAAM,GAAG,CAAC,CAAC,EAAE,IAAI,CAACnJ,MAAM,CAACka,QAAQ,CAAC;MAC/F,IAAI,CAACpW,IAAI,CAACkW,MAAM,CAACpd,OAAO,CAAC,IAAI,CAAC,EAAE;QAC5B,IAAI,CAACoD,MAAM,CAAC0Z,QAAQ,GAAG,IAAI,CAAC1Z,MAAM,CAACiT,IAAI;QACvC,IAAI,CAACjT,MAAM,CAACmc,QAAQ,GAAGD,OAAO;MAClC,CAAC,MACI;QACD,IAAIE,IAAI,GAAG,IAAI;QACfA,IAAI,GAAG,IAAI,CAACpX,OAAO,CAAC+U,UAAU,CAACjW,IAAI,CAACkW,MAAM,CAAC,CAACxF,OAAO;QACnD,IAAI,CAACxU,MAAM,CAAC0Z,QAAQ,GAAG0C,IAAI,CAACC,MAAM,GAAG,IAAI,CAACrc,MAAM,CAACiT,IAAI,GAAGxT,WAAW,CAAC,IAAI,CAACO,MAAM,EAAEoc,IAAI,EAAE,IAAI,CAACpc,MAAM,CAACiT,IAAI,CAAC;QACxG,IAAI,CAACjT,MAAM,CAACmc,QAAQ,GAAGC,IAAI,CAACC,MAAM,GAAGH,OAAO,GAAGE,IAAI;MACvD;IACJ;EACJ,CAAC;EACDrc,WAAW,CAAC6D,SAAS,CAACuV,aAAa,GAAG,YAAY;IAC9C,IAAI,IAAI,CAACnZ,MAAM,CAACoU,YAAY,KAAK,IAAI,CAAC7B,aAAa,CAAC,CAAC,EAAE;MACnD,IAAI,CAACvS,MAAM,CAACsc,aAAa,GAAG,IAAI,CAACtX,OAAO,CAACqP,kBAAkB,CAAC,CAAC;MAC7D,IAAI,CAACrU,MAAM,CAAC0a,cAAc,GAAG,IAAI,CAAC1V,OAAO,CAAC8V,eAAe,CAAC,CAAC;IAC/D;EACJ,CAAC;EACD/a,WAAW,CAAC6D,SAAS,CAACqV,UAAU,GAAG,UAAUnV,IAAI,EAAE;IAC/C,IAAI,IAAI,CAAC9D,MAAM,CAACgE,IAAI,KAAK,SAAS,EAAE;MAChC,IAAI,CAAC7D,gBAAgB,GAAG,IAAI;MAC5B,IAAI,IAAI,CAACH,MAAM,CAACiT,IAAI,KAAK,IAAI,CAACjT,MAAM,CAACuc,eAAe,IAChD,IAAI,CAACvc,MAAM,CAACiT,IAAI,KAAKvT,gBAAgB,CAAC,IAAI,CAACM,MAAM,EAAE8D,IAAI,CAAC,IAAI,IAAI,CAAC9D,MAAM,CAAC+O,KAAK,EAAE;QAC/E,IAAI,CAACoE,aAAa,CAACrP,IAAI,CAAC;MAC5B;IACJ;EACJ,CAAC;EACD/D,WAAW,CAAC6D,SAAS,CAAC+V,UAAU,GAAG,UAAU7V,IAAI,EAAE;IAC/C,IAAI,IAAI,CAAC9D,MAAM,CAACgE,IAAI,KAAK,SAAS,EAAE;MAChC,IAAI,CAAC7D,gBAAgB,GAAG,IAAI;MAC5B,IAAI,CAACgT,aAAa,CAACrP,IAAI,CAAC;IAC5B;EACJ,CAAC;EACD;AACJ;AACA;AACA;AACA;AACA;EACI/D,WAAW,CAAC6D,SAAS,CAAC2O,aAAa,GAAG,YAAY;IAC9C,OAAO,aAAa;EACxB,CAAC;EACDxS,WAAW,CAAC6D,SAAS,CAACgE,OAAO,GAAG,YAAY;IACxC,IAAI,IAAI,CAAC5H,MAAM,CAACwc,WAAW,EAAE;MACzB;IACJ;IACA,IAAI,CAAC3C,mBAAmB,CAAC,CAAC;IAC1B,IAAI,IAAI,CAAC7U,OAAO,EAAE;MACd,IAAI,IAAI,CAAChF,MAAM,CAAC8H,OAAO,EAAE;QACrB,IAAI,CAAC9C,OAAO,CAAC8U,GAAG,CAAC,qBAAqB,EAAE,IAAI,CAAC7R,mBAAmB,CAAC;MACrE;MACA,IAAI,CAACwU,YAAY,CAAC,CAAC;MACnB,IAAI,CAACzX,OAAO,CAAC4C,OAAO,CAAC,CAAC;IAC1B;EACJ,CAAC;EACD7H,WAAW,CAAC6D,SAAS,CAAC8Y,UAAU,GAAG,UAAUC,IAAI,EAAE;IAC/C,IAAIC,MAAM,GAAG3gB,MAAM,CAAC,GAAG,GAAGqB,GAAG,CAACuf,MAAM,EAAEF,IAAI,CAAC;IAC3C,IAAI,CAAC3c,MAAM,CAACqc,MAAM,GAAG/f,KAAK,CAACsgB,MAAM,CAAC,GAAG,IAAI,GAAG,KAAK;EACrD,CAAC;EACD;EACA7c,WAAW,CAAC6D,SAAS,CAACwB,WAAW,GAAG,UAAU0X,MAAM,EAAEhZ,IAAI,EAAE;IACxD,IAAIoK,SAAS,GAAG;MACZ4O,MAAM,EAAEA,MAAM;MAAE3O,WAAW,EAAErK,IAAI,CAACmG,IAAI;MAAEhK,YAAY,EAAE,IAAI,CAACC,WAAW;MAAEuH,MAAM,EAAE,KAAK;MAAEuS,MAAM,EAAElW,IAAI,CAACkW;IACxG,CAAC;IACD,IAAI,CAACha,MAAM,CAACqO,OAAO,CAAC,eAAe,EAAEH,SAAS,CAAC;IAC/CpK,IAAI,CAAC2D,MAAM,GAAGyG,SAAS,CAACzG,MAAM;IAC9B,IAAI,CAAC,IAAI,CAAC3G,aAAa,EAAE;MACrB,IAAI,CAACA,aAAa,GAAG,IAAI;MACzB,IAAI,CAACgD,IAAI,CAACiZ,cAAc,IAAIjZ,IAAI,CAACkZ,aAAa,KAAK,CAAC,IAAI,CAAChd,MAAM,CAACgG,mBAAmB,IAAKlC,IAAI,CAACkW,MAAM,IAAIlW,IAAI,CAACkW,MAAM,CAACiD,aAAa,IAAI,CAACnZ,IAAI,CAACkW,MAAM,CAACiD,aAAa,CAAClP,SAAS,CAACmP,QAAQ,CAAC,oBAAoB,CAAE,EAAE;QACtMpZ,IAAI,CAAC2D,MAAM,GAAG,IAAI;QAClB,IAAI8M,QAAQ,GAAIzQ,IAAI,IAAIA,IAAI,CAACqZ,UAAU,GACjCrZ,IAAI,CAACqZ,UAAU,CAACrZ,IAAI,CAACqZ,UAAU,CAAChU,MAAM,GAAG,CAAC,CAAC,GAC3CrF,IAAI,CAACyQ,QAAQ;QACnB,IAAI,CAACvP,OAAO,CAAC0R,SAAS,CAACnC,QAAQ,CAAC;MACpC;MACA,IAAI,CAACzT,aAAa,GAAG,KAAK;IAC9B;EACJ,CAAC;EACD;EACAf,WAAW,CAAC6D,SAAS,CAAC4B,UAAU,GAAG,UAAU1B,IAAI,EAAE;IAC/C,IAAI,CAAC9D,MAAM,CAACoU,YAAY,GAAG,aAAa;IACxC,IAAI,CAAC,IAAI,CAACpU,MAAM,CAACoM,cAAc,IAAI,IAAI,CAACpM,MAAM,CAAC0J,UAAU,EAAE;MACvD,IAAI,CAAC0T,eAAe,CAAC,CAAC;IAC1B;IACA,IAAI,CAACpd,MAAM,CAAC0I,MAAM,CAACrL,MAAM,CAACqY,gBAAgB,EAAE,CAAC,CAAC,CAAC;IAC/C,IAAI,IAAI,CAAC1Q,OAAO,CAAC4J,qBAAqB,CAAC,CAAC,CAACzF,MAAM,KAAK,CAAC,EAAE;MACnD,IAAI,CAAC5I,cAAc,GAAG,IAAI,CAACyE,OAAO,CAACyM,gBAAgB;IACvD;IACA,IAAI,CAACzM,OAAO,CAAC9D,OAAO,CAACiL,YAAY,CAAC,UAAU,EAAE,IAAI,CAAC;IACnD,IAAI,CAACkR,aAAa,CAAC,QAAQ,EAAEvZ,IAAI,CAAC;IAClC,IAAI6Y,IAAI,GAAG,IAAI,CAAC3X,OAAO,CAACsY,aAAa,CAAC,IAAI,CAACtY,OAAO,CAACyM,gBAAgB,CAAC;IACpE,IAAI,CAACiL,UAAU,CAACC,IAAI,CAAC;IACrB,IAAI,CAACrgB,KAAK,CAACqgB,IAAI,CAAC,IAAI,CAACrgB,KAAK,CAACqgB,IAAI,CAAC/P,aAAa,CAAC,gBAAgB,CAAC,CAAC,EAAE;MAC9D,IAAI,IAAI,CAAC5H,OAAO,CAAC4J,qBAAqB,CAAC,CAAC,CAACzF,MAAM,KAAK,CAAC,EAAE;QACnD,IAAIoU,aAAa,GAAG,IAAI,CAACvY,OAAO,CAAC4J,qBAAqB,CAAC,CAAC,CAAC,IAAI,CAAC5J,OAAO,CAAC4J,qBAAqB,CAAC,CAAC,CAACzF,MAAM,GAAG,CAAC,CAAC;QACzG,IAAIqU,QAAQ,GAAG,IAAI,CAACxY,OAAO,CAACsY,aAAa,CAACC,aAAa,CAAC;QACxDC,QAAQ,CAAC5Q,aAAa,CAAC,gBAAgB,CAAC,CAACT,YAAY,CAAC,UAAU,EAAE,IAAI,CAAC;MAC3E;MACAwQ,IAAI,CAAC/P,aAAa,CAAC,0BAA0B,CAAC,CAAC6Q,eAAe,CAAC,UAAU,CAAC;IAC9E;IACA,IAAI,CAACnhB,KAAK,CAAC,IAAI,CAAC0I,OAAO,CAAC,IAAI,CAAC1I,KAAK,CAAC,IAAI,CAAC0I,OAAO,CAAC9D,OAAO,CAAC0L,aAAa,CAAC,mBAAmB,CAAC,CAAC,EAAE;MACzF,IAAI,CAAC5H,OAAO,CAAC9D,OAAO,CAAC0L,aAAa,CAAC,mBAAmB,CAAC,CAACT,YAAY,CAAC,UAAU,EAAE,IAAI,CAAC;IAC1F;IACA,IAAIwC,IAAI,GAAG,IAAI,CAAC3J,OAAO,CAAC4J,qBAAqB,CAAC,CAAC;IAC/C,IAAI,CAAC,IAAI,CAAC5O,MAAM,CAACgG,mBAAmB,EAAE;MAClC,KAAK,IAAIkD,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGyF,IAAI,CAACxF,MAAM,EAAED,CAAC,EAAE,EAAE;QAClC,IAAIyF,IAAI,CAACzF,CAAC,CAAC,KAAK,IAAI,CAAClE,OAAO,CAACyM,gBAAgB,EAAE;UAC3C,IAAI,CAACzM,OAAO,CAACsY,aAAa,CAAC3O,IAAI,CAACzF,CAAC,CAAC,CAAC,CAACiD,YAAY,CAAC,UAAU,EAAE,GAAG,CAAC;QACrE,CAAC,MACI;UACD,IAAI,CAACnH,OAAO,CAACsY,aAAa,CAAC3O,IAAI,CAACzF,CAAC,CAAC,CAAC,CAACuU,eAAe,CAAC,UAAU,CAAC;QACnE;MACJ;IACJ;IACA,IAAIlT,GAAG,GAAGoE,IAAI,CAACxF,MAAM;IACrB,IAAI,IAAI,CAACnJ,MAAM,CAACqG,oBAAoB,EAAE;MAClC,IAAI,CAACrG,MAAM,CAAC0d,eAAe,GAAGthB,QAAQ,CAAC,MAAM,EAAE0H,IAAI,CAACmG,IAAI,CAAC;IAC7D,CAAC,MACI,IAAIM,GAAG,GAAG,CAAC,EAAE;MACd,IAAIN,IAAI,GAAG,IAAI,CAACjF,OAAO,CAAC8J,aAAa,CAAC,CAAC,CAACH,IAAI,CAACpE,GAAG,GAAG,CAAC,CAAC,CAAC,CAACN,IAAI;MAC3D,IAAI,CAACjK,MAAM,CAAC0d,eAAe,GAAGthB,QAAQ,CAAC,MAAM,EAAE6N,IAAI,CAAC;IACxD;IACA,IAAI0T,OAAO,GAAGvhB,QAAQ,CAAC,YAAY,EAAE0H,IAAI,CAAC;IAC1C,IAAI8Z,WAAW,GAAGxhB,QAAQ,CAAC,wBAAwB,EAAE,IAAI,CAAC4I,OAAO,CAACuR,eAAe,CAAC;IAClF,IAAI,IAAI,CAACvW,MAAM,CAAC6d,QAAQ,IAAIvhB,KAAK,CAACqhB,OAAO,CAAC,IAAI7Z,IAAI,CAACkW,MAAM,IAAI,CAAC4D,WAAW,IAAI,CAAC9Z,IAAI,CAACkW,MAAM,CAACpd,OAAO,CAAC,eAAe,CAAC,EAAE;MAChH,IAAI,CAACoD,MAAM,CAACqc,MAAM,GAAGjgB,QAAQ,CAAC,QAAQ,EAAE0H,IAAI,CAACmG,IAAI,CAAC;MAClD,IAAI,CAAC,IAAI,CAACjK,MAAM,CAACqc,MAAM,EAAE;QACrB,IAAI,CAAC/H,WAAW,CAACxQ,IAAI,CAACmG,IAAI,CAAC;MAC/B;IACJ;IACA,IAAI,CAACjK,MAAM,CAAC8d,WAAW,GAAGha,IAAI,CAACmI,GAAG;IAClC,IAAK,CAAC,IAAI,CAACjM,MAAM,CAACqG,oBAAoB,IAAM,CAACvC,IAAI,CAACia,uBAAwB,EAAE;MACxE,IAAI,CAACvM,QAAQ,CAAC,IAAI,CAACxM,OAAO,CAACyM,gBAAgB,CAAC;IAChD;IACA,IAAI,CAAC,IAAI,CAACzR,MAAM,CAACoM,cAAc,EAAE;MAC7B,IAAI,CAACnM,YAAY,GAAG,IAAI;IAC5B;EACJ,CAAC;EACD;EACAF,WAAW,CAAC6D,SAAS,CAACiV,YAAY,GAAG,YAAY;IAC7C,IAAI,IAAI,CAAC7Y,MAAM,CAACgE,IAAI,KAAK,SAAS,IAAI,CAAC1H,KAAK,CAAC,IAAI,CAAC0I,OAAO,CAAC,EAAE;MACxD,IAAI,IAAI,CAAChF,MAAM,CAACuJ,mBAAmB,CAACC,SAAS,CAACtI,OAAO,CAACuI,KAAK,KAAK,EAAE,IAAI,CAAC,IAAI,CAACzJ,MAAM,CAAC0J,UAAU,EAAE;QAC3F,IAAI,CAAC8J,gBAAgB,CAAC,KAAK,CAAC;MAChC;IACJ;EACJ,CAAC;EACDzT,WAAW,CAAC6D,SAAS,CAACwZ,eAAe,GAAG,YAAY;IAChD,IAAI,CAACpd,MAAM,CAACuO,aAAa,CAAC;MAAEE,aAAa,EAAE;IAAG,CAAC,EAAE,IAAI,CAAC;IACtD,IAAI2O,eAAe,GAAG,IAAI,CAACY,eAAe,CAAC,CAAC;IAC5C,IAAIC,UAAU,GAAG,CAAC;IAClB,OAAOA,UAAU,GAAGb,eAAe,CAACjU,MAAM,EAAE;MACxC,IAAI+U,MAAM,GAAGd,eAAe,CAACa,UAAU,CAAC;MACxC,IAAIE,MAAM,GAAGve,WAAW,CAAC,IAAI,CAACI,MAAM,EAAEke,MAAM,CAAC;MAC7C,IAAI,CAACle,MAAM,CAACyO,aAAa,CAACnD,IAAI,CAAC6S,MAAM,CAAC;MACtCF,UAAU,EAAE;IAChB;IACA,IAAI,CAACje,MAAM,CAACuO,aAAa,CAAC;MAAEE,aAAa,EAAE,IAAI,CAACzO,MAAM,CAACyO;IAAc,CAAC,EAAE,IAAI,CAAC;EACjF,CAAC;EACD1O,WAAW,CAAC6D,SAAS,CAAC8B,aAAa,GAAG,UAAU5B,IAAI,EAAE;IAClD;IACA,IAAI,CAAC,IAAI,CAAC9D,MAAM,CAACgG,mBAAmB,IAAI1J,KAAK,CAACwH,IAAI,CAACmG,IAAI,CAAC,EAAE;MACtD,IAAI,CAACjF,OAAO,CAACsY,aAAa,CAACxZ,IAAI,CAACyQ,QAAQ,CAAC,CAACkJ,eAAe,CAAC,UAAU,CAAC;IACzE,CAAC,MACI,IAAI,IAAI,CAACzY,OAAO,CAAC4J,qBAAqB,CAAC,CAAC,CAACzF,MAAM,GAAG,CAAC,EAAE;MACtD,IAAIoU,aAAa,GAAG,IAAI,CAACvY,OAAO,CAAC4J,qBAAqB,CAAC,CAAC,CAAC,IAAI,CAAC5J,OAAO,CAAC4J,qBAAqB,CAAC,CAAC,CAACzF,MAAM,GAAG,CAAC,CAAC;MACzG,IAAI,CAACnE,OAAO,CAACsY,aAAa,CAACC,aAAa,CAAC,CAAC3Q,aAAa,CAAC,gBAAgB,CAAC,CAAC6Q,eAAe,CAAC,UAAU,CAAC;IACzG;IACA,IAAI,IAAI,CAACzY,OAAO,CAACyM,gBAAgB,KAAK,CAAC,CAAC,EAAE;MACtC,IAAI,CAACzM,OAAO,CAAC9D,OAAO,CAACiL,YAAY,CAAC,UAAU,EAAE,GAAG,CAAC;IACtD;IACA,IAAI,CAAC,IAAI,CAAClM,YAAY,EAAE;MACpB,IAAI,CAACA,YAAY,GAAG,IAAI;MACxB;IACJ;IACA,IAAI,CAACmd,eAAe,CAAC,CAAC;IACtB,IAAI,IAAI,CAACpd,MAAM,CAACyO,aAAa,CAACtF,MAAM,KAAK,CAAC,EAAE;MACxC3M,QAAQ,CAAC,wBAAwB,EAAE,KAAK,EAAE,IAAI,CAACwI,OAAO,CAACuR,eAAe,CAAC;MACvE7Z,WAAW,CAAC,CAAC,IAAI,CAACsD,MAAM,CAACkB,OAAO,CAAC,EAAE5D,GAAG,CAAC2G,YAAY,CAAC;IACxD;IACA,IAAI,CAACjE,MAAM,CAAC0I,MAAM,CAACrL,MAAM,CAACqY,gBAAgB,EAAE,CAAC,CAAC,CAAC;IAC/C,IAAI,CAAC2H,aAAa,CAAC,UAAU,EAAEvZ,IAAI,CAAC;IACpC,IAAI,CAAC9D,MAAM,CAAC8d,WAAW,GAAG,IAAI;EAClC,CAAC;EACD/d,WAAW,CAAC6D,SAAS,CAACyZ,aAAa,GAAG,UAAUP,MAAM,EAAEhZ,IAAI,EAAE;IAC1D,IAAIoK,SAAS,GAAG;MAAE4O,MAAM,EAAEA,MAAM;MAAE3O,WAAW,EAAErK,IAAI,CAACmG,IAAI;MAAEhK,YAAY,EAAE,IAAI,CAACC;IAAY,CAAC;IAC1F,IAAI,CAACF,MAAM,CAACqO,OAAO,CAAC,YAAY,EAAEH,SAAS,CAAC;IAC5C,IAAI,CAAChO,WAAW,GAAG,IAAI;EAC3B,CAAC;EACDH,WAAW,CAAC6D,SAAS,CAACwE,UAAU,GAAG,YAAY;IAC3C,IAAI,CAACgW,cAAc,CAAC,IAAI,CAAC;IACzB,IAAI,CAACC,cAAc,GAAG,IAAIniB,cAAc,CAAC,IAAI,CAAC8I,OAAO,CAAC9D,OAAO,EAAE;MAC3Dod,SAAS,EAAE,IAAI,CAACC,YAAY,CAAClZ,IAAI,CAAC,IAAI,CAAC;MACvC/D,UAAU,EAAE,IAAI,CAACA,UAAU;MAC3Bkd,SAAS,EAAE;IACf,CAAC,CAAC;IACF,IAAI,CAACC,kBAAkB,GAAG,IAAIviB,cAAc,CAAC,IAAI,CAACgF,OAAO,EAAE;MACvDod,SAAS,EAAE,IAAI,CAACI,cAAc,CAACrZ,IAAI,CAAC,IAAI,CAAC;MACzC/D,UAAU,EAAE,IAAI,CAACA,UAAU;MAC3Bkd,SAAS,EAAE;IACf,CAAC,CAAC;IACFriB,YAAY,CAAC6R,GAAG,CAAC,IAAI,CAAChJ,OAAO,CAAC9D,OAAO,EAAE,MAAM,EAAE,IAAI,CAACyd,WAAW,EAAE,IAAI,CAAC;IACtExiB,YAAY,CAAC6R,GAAG,CAAC,IAAI,CAAChO,MAAM,CAACkB,OAAO,EAAE,UAAU,EAAE,IAAI,CAAC0d,MAAM,EAAE,IAAI,CAAC;EACxE,CAAC;EACD7e,WAAW,CAAC6D,SAAS,CAAC6Y,YAAY,GAAG,YAAY;IAC7C,IAAI,CAAC2B,cAAc,CAAC,KAAK,CAAC;IAC1B,IAAI,CAACC,cAAc,CAACzW,OAAO,CAAC,CAAC;IAC7B,IAAI,CAAC6W,kBAAkB,CAAC7W,OAAO,CAAC,CAAC;IACjCzL,YAAY,CAACyU,MAAM,CAAC,IAAI,CAAC5L,OAAO,CAAC9D,OAAO,EAAE,MAAM,EAAE,IAAI,CAACyd,WAAW,CAAC;IACnExiB,YAAY,CAACyU,MAAM,CAAC,IAAI,CAAC5Q,MAAM,CAACkB,OAAO,EAAE,UAAU,EAAE,IAAI,CAAC0d,MAAM,CAAC;EACrE,CAAC;EACD7e,WAAW,CAAC6D,SAAS,CAACwa,cAAc,GAAG,UAAUS,MAAM,EAAE;IACrD,IAAI9a,KAAK,GAAG,IAAI;IAChB,IAAI8a,MAAM,EAAE;MACR,IAAIC,GAAG,GAAG,IAAI,CAAC9Z,OAAO,CAAC0L,UAAU,CAAC,CAAC;MACnC,IAAI,CAACqO,QAAQ,GAAG,IAAIxiB,KAAK,CAACuiB,GAAG,EAAE;QAC3BE,GAAG,EAAE,SAAAA,CAAUC,GAAG,EAAE;UAChB,IAAIA,GAAG,CAACC,QAAQ,KAAK,CAAC,IAAID,GAAG,CAACE,aAAa,CAACnF,MAAM,CAACjM,SAAS,CAACmP,QAAQ,CAAC,WAAW,CAAC,EAAE;YAChFnZ,KAAK,CAAC4S,cAAc,CAAC,CAAC;UAC1B;QACJ,CAAC;QACDyI,OAAO,EAAE,SAAAA,CAAU9M,CAAC,EAAE;UAClB,IAAIvO,KAAK,CAAC/D,MAAM,CAAC6d,QAAQ,EAAE;YACvBvL,CAAC,CAAC6M,aAAa,CAACE,cAAc,CAAC,CAAC;YAChC,IAAItb,KAAK,CAAC/D,MAAM,CAACgG,mBAAmB,EAAE;cAClCxJ,QAAQ,CAAC,wBAAwB,EAAEuH,KAAK,CAAC/D,MAAM,CAACgG,mBAAmB,EAAEjC,KAAK,CAACiB,OAAO,CAACuR,eAAe,CAAC;cACnG9Z,QAAQ,CAAC,CAACsH,KAAK,CAAC/D,MAAM,CAACkB,OAAO,CAAC,EAAE5D,GAAG,CAAC2G,YAAY,CAAC;YACtD;YACA,IAAI+V,MAAM,GAAG1H,CAAC,CAAC6M,aAAa,CAACnF,MAAM;YACnC,IAAIA,MAAM,EAAE;cACR,IAAI/N,GAAG,GAAGrP,OAAO,CAACod,MAAM,EAAE,GAAG,GAAG1c,GAAG,CAACqe,GAAG,CAAC;cACxC,IAAI3J,KAAK,GAAGjO,KAAK,CAACiB,OAAO,CAACyR,OAAO,CAAC,CAAC,CAACjK,OAAO,CAACP,GAAG,CAAC;cAChDlI,KAAK,CAACiB,OAAO,CAAC0R,SAAS,CAAC1E,KAAK,CAAC;YAClC;UACJ;QACJ;MACJ,CAAC,CAAC;IACN,CAAC,MACI;MACD,IAAI,IAAI,CAAC+M,QAAQ,EAAE;QACf,IAAI,CAACA,QAAQ,CAACnX,OAAO,CAAC,CAAC;MAC3B;IACJ;EACJ,CAAC;EACD;EACA7H,WAAW,CAAC6D,SAAS,CAACgT,eAAe,GAAG,YAAY;IAChDla,WAAW,CAAC,CAAC,IAAI,CAACsD,MAAM,CAACkB,OAAO,CAAC,EAAE5D,GAAG,CAAC2G,YAAY,CAAC;IACpD,IAAI,CAACe,OAAO,CAAC+N,cAAc,CAAC,CAAC;IAC7B,IAAI,CAAC/S,MAAM,CAACuO,aAAa,CAAC;MAAEE,aAAa,EAAE;IAAG,CAAC,EAAE,IAAI,CAAC;IACtD,IAAI,CAACzO,MAAM,CAAC0I,MAAM,CAACrL,MAAM,CAACqY,gBAAgB,EAAE,CAAC,CAAC,CAAC;IAC/C,IAAI,IAAI,CAAC1Q,OAAO,CAACyM,gBAAgB,KAAK,CAAC,CAAC,EAAE;MACtC,IAAI,CAACnR,UAAU,GAAG,IAAI;IAC1B;IACA,IAAI,CAACL,YAAY,GAAG,IAAI;EAC5B,CAAC;EACDF,WAAW,CAAC6D,SAAS,CAAC+a,WAAW,GAAG,YAAY;IAC5C,IAAI,CAACnN,QAAQ,CAAC,IAAI,CAAC;EACvB,CAAC;EACDzR,WAAW,CAAC6D,SAAS,CAACgb,MAAM,GAAG,UAAUtM,CAAC,EAAE;IACxC,IAAKA,CAAC,CAACgN,aAAa,KAAK,IAAI,IAAI1iB,OAAO,CAAC0V,CAAC,CAACgN,aAAa,EAAE,SAAS,CAAC,KAAKhN,CAAC,CAACgN,aAAa,EAAG;MACvF;IACJ;IACA,IAAI,CAAChjB,KAAK,CAAC,IAAI,CAAC0I,OAAO,CAAC9D,OAAO,CAAC,EAAE;MAC9B,IAAIqe,UAAU,GAAG,IAAI,CAACva,OAAO,CAAC9D,OAAO,CAACse,gBAAgB,CAAC,IAAI,CAAC;MAC5D,KAAK,IAAItW,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGqW,UAAU,CAACpW,MAAM,EAAED,CAAC,EAAE,EAAE;QACxC,IAAIqW,UAAU,CAACrW,CAAC,CAAC,CAAC6E,SAAS,CAACmP,QAAQ,CAAC,SAAS,CAAC,EAAE;UAC7C,IAAI,CAAC1L,QAAQ,CAAC,IAAI,CAAC;QACvB;MACJ;IACJ;EACJ,CAAC;EACDzR,WAAW,CAAC6D,SAAS,CAAC6b,mBAAmB,GAAG,YAAY;IACpD,OAAQ,CAACnjB,KAAK,CAAC,IAAI,CAACojB,cAAc,CAAC,CAAC,CAAC,GACjCC,QAAQ,CAAC,IAAI,CAACD,cAAc,CAAC,CAAC,CAACE,YAAY,CAAC,eAAe,CAAC,EAAE,EAAE,CAAC,GAAG,IAAI;EAChF,CAAC;EACD;EACA7f,WAAW,CAAC6D,SAAS,CAAC8a,cAAc,GAAG,UAAUpM,CAAC,EAAE;IAChD,IAAI,CAAC,IAAI,CAAC3R,UAAU,EAAE;MAClB;IACJ;IACA,QAAQ2R,CAAC,CAACwK,MAAM;MACZ,KAAK,KAAK;MACV,KAAK,MAAM;MACX,KAAK,OAAO;MACZ,KAAK,WAAW;MAChB,KAAK,YAAY;MACjB,KAAK,SAAS;MACd,KAAK,OAAO;MACZ,KAAK,OAAO;MACZ,KAAK,UAAU;MACf,KAAK,SAAS;MACd,KAAK,UAAU;MACf,KAAK,OAAO;MACZ,KAAK,UAAU;MACf,KAAK,WAAW;MAChB,KAAK,QAAQ;MACb,KAAK,UAAU;MACf,KAAK,WAAW;MAChB,KAAK,QAAQ;MACb,KAAK,UAAU;MACf,KAAK,WAAW;MAChB,KAAK,QAAQ;MACb,KAAK,KAAK;MACV,KAAK,KAAK;MACV,KAAK,UAAU;MACf,KAAK,OAAO;MACZ,KAAK,OAAO;MACZ,KAAK,OAAO;MACZ,KAAK,IAAI;MACT,KAAK,UAAU;MACf,KAAK,QAAQ;MACb,KAAK,OAAO;QACRxK,CAAC,CAAC+M,cAAc,CAAC,CAAC;QAClB;MACJ;QACI;IACR;EACJ,CAAC;EACD;EACAtf,WAAW,CAAC6D,SAAS,CAAC2a,YAAY,GAAG,UAAUjM,CAAC,EAAE;IAC9C,IAAI,CAAC,IAAI,CAAC3R,UAAU,EAAE;MAClB;IACJ;IACA2R,CAAC,CAAC+M,cAAc,CAAC,CAAC;IAClB,IAAIvC,MAAM,GAAGxK,CAAC,CAACwK,MAAM;IACrB,IAAI+C,SAAS,GAAGhiB,aAAa,CAAC,IAAI,CAACmC,MAAM,EAAE,IAAI,CAACgF,OAAO,CAACC,UAAU,CAAC;IACnE,IAAI6a,UAAU,GAAGD,SAAS,CAAC1W,MAAM;IACjC,IAAI4W,QAAQ,GAAG,IAAI,CAACN,mBAAmB,CAAC,CAAC;IACzC,IAAIO,QAAQ,GAAG,IAAI,CAAChb,OAAO,CAACyM,gBAAgB;IAC5C,IAAIwO,aAAa,GAAG,IAAI,CAACjb,OAAO,CAAC4J,qBAAqB,CAAC,CAAC;IACxD,IAAI4F,OAAO;IACX,IAAI0L,SAAS;IACb,IAAI1C,QAAQ;IACZ,QAAQV,MAAM;MACV,KAAK,UAAU;QACX,IAAI,CAAC9c,MAAM,CAAC0I,MAAM,CAACrL,MAAM,CAACma,WAAW,EAAE,CAAC,CAAC,CAAC;QAC1CrZ,UAAU,CAAC,IAAI,CAAC6B,MAAM,EAAE,IAAI,CAACA,MAAM,CAACyO,aAAa,EAAE,IAAI,CAACzO,MAAM,CAACiT,IAAI,EAAE,SAAS,CAAC;QAC/E;MACJ,KAAK,KAAK;QACNxU,YAAY,CAAC,IAAI,CAACuB,MAAM,CAAC;QACzB;MACJ,KAAK,KAAK;MACV,KAAK,UAAU;QACX,IAAI,CAACmgB,aAAa,CAAC,CAAC;QACpB;MACJ,KAAK,OAAO;QACR,IAAI,IAAI,CAACnb,OAAO,CAACyM,gBAAgB,KAAK,CAAC,CAAC,IAAI,IAAI,CAACzM,OAAO,CAACE,YAAY,KAAK,IAAI,EAAE;UAC5E,IAAI,CAACoN,CAAC,CAAC0H,MAAM,CAACjM,SAAS,CAACmP,QAAQ,CAAC,gBAAgB,CAAC,EAAE;YAChD,IAAInY,SAAS,GAAG,CAACuN,CAAC,CAAC0H,MAAM,CAACO,sBAAsB,CAAC,aAAa,CAAC,CAACpR,MAAM,GAAG,WAAW,GAAG,YAAY;YACnG,IAAIiX,YAAY,GAAG,IAAI,CAACpb,OAAO,CAACqb,cAAc,CAAC/N,CAAC,CAAC0H,MAAM,CAACpN,aAAa,CAAC,kBAAkB,CAAC,CAACgT,YAAY,CAAC,cAAc,CAAC,CAAC,CAACjb,KAAK;YAC7H,IAAI,CAACK,OAAO,CAACmN,UAAU,CAACiO,YAAY,EAAErb,SAAS,CAAC;YAChD,IAAI,CAACzI,KAAK,CAAC,IAAI,CAACojB,cAAc,CAAC,CAAC,CAACY,WAAW,CAAC,EAAE;cAC3C,IAAI,CAACZ,cAAc,CAAC,CAAC,CAACY,WAAW,CAACnU,YAAY,CAAC,UAAU,EAAE,GAAG,CAAC;YACnE;UACJ;UACA;QACJ;QACAqI,OAAO,GAAG,IAAI,CAACxP,OAAO,CAAC8J,aAAa,CAAC,CAAC,CAAC,IAAI,CAAC9J,OAAO,CAACyM,gBAAgB,CAAC,CAACxH,IAAI;QAC1E,IAAIuK,OAAO,EAAE;UACT,IAAIvK,IAAI,GAAG0J,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,SAAS,CAACW,OAAO,CAAC,CAAC;UAC9C,IAAI,CAACF,WAAW,CAACrK,IAAI,CAAC;QAC1B;QACA;MACJ,KAAK,OAAO;QACRzL,SAAS,CAAC,IAAI,CAACwB,MAAM,CAAC;QACtB;MACJ,KAAK,OAAO;QACR,IAAI,CAACA,MAAM,CAACia,UAAU,GAAG,EAAE;QAC3Bvb,YAAY,CAAC,IAAI,CAACsB,MAAM,CAAC;QACzB;MACJ,KAAK,OAAO;QACR3B,QAAQ,CAAC,IAAI,CAAC2B,MAAM,CAAC;QACrB;MACJ,KAAK,OAAO;QACR,IAAI,CAACugB,UAAU,CAAC,CAAC;QACjB;MACJ,KAAK,IAAI;QACL,IAAI,CAACC,aAAa,CAAC,CAAC;QACpB;MACJ,KAAK,OAAO;QACR,IAAI,CAAClkB,KAAK,CAACujB,SAAS,CAAC,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC7f,MAAM,CAACgG,mBAAmB,EAAE;UACzD,IAAIyK,OAAO,GAAG,IAAI,CAACzL,OAAO,CAAC0L,UAAU,CAAC,CAAC,CAAC9D,aAAa,CAAC,YAAY,CAAC;UACnE,IAAI6T,SAAS,GAAGhQ,OAAO,CAAClB,SAAS;UACjC,IAAImR,aAAa,GAAG,IAAI,CAAC1b,OAAO,CAACyM,gBAAgB;UACjD,IAAI,CAACzM,OAAO,CAACuR,eAAe,CAACC,iBAAiB,CAAC,CAAC,EAAEqJ,SAAS,CAAC1W,MAAM,GAAG,CAAC,CAAC;UACvEsH,OAAO,CAAClB,SAAS,GAAGkR,SAAS;UAC7B,IAAIC,aAAa,KAAK,CAAC,CAAC,EAAE;YACtB,IAAI,CAAClP,QAAQ,CAACkP,aAAa,CAAC;UAChC;QACJ;QACA;MACJ,KAAK,UAAU;MACf,KAAK,KAAK;QACN,IAAI,CAACpkB,KAAK,CAACujB,SAAS,CAAC,CAAC,CAAC,CAAC,EAAE;UACtB,IAAI,CAAC,IAAI,CAAC7f,MAAM,CAACgG,mBAAmB,IAAIsM,CAAC,CAACwK,MAAM,KAAK,UAAU,EAAE;YAC7D,IAAI,CAAC9X,OAAO,CAAC0R,SAAS,CAAC,CAAC,CAAC;UAC7B,CAAC,MACI,IAAI,IAAI,CAAC1R,OAAO,CAACyM,gBAAgB,KAAK,CAAC,CAAC,IAAIa,CAAC,CAACwK,MAAM,KAAK,KAAK,EAAE;YACjE;UACJ,CAAC,MACI;YACD,IAAI,CAAC6D,cAAc,CAACrO,CAAC,CAAC;UAC1B;QACJ;QACA;MACJ,KAAK,SAAS;QACV,IAAI,CAAChW,KAAK,CAACujB,SAAS,CAAC,CAAC,CAAC,CAAC,EAAE;UACtB,IAAI,CAAC,IAAI,CAAC7f,MAAM,CAACgG,mBAAmB,EAAE;YAClC,IAAI,CAAChB,OAAO,CAAC0R,SAAS,CAACoJ,UAAU,GAAG,CAAC,CAAC;UAC1C,CAAC,MACI;YACD,IAAI,CAACtO,QAAQ,CAACsO,UAAU,GAAG,CAAC,CAAC;UACjC;QACJ;QACA;MACJ,KAAK,WAAW;MAChB,KAAK,UAAU;MACf,KAAK,QAAQ;MACb,KAAK,OAAO;QACR,IAAI,CAAC,IAAI,CAAC9f,MAAM,CAACgG,mBAAmB,EAAE;UAClC,IAAI,CAAChB,OAAO,CAAC0R,SAAS,CAAEpE,CAAC,CAACwK,MAAM,KAAK,WAAW,IAAIxK,CAAC,CAACwK,MAAM,KAAK,QAAQ,GAAI,CAAC,GAAG+C,SAAS,CAAC1W,MAAM,GAAG,CAAC,CAAC;QAC1G,CAAC,MACI;UACD,IAAI,CAAC7M,KAAK,CAACujB,SAAS,CAAC,CAAC,CAAC,CAAC,EAAE;YACtB,IAAI,CAACvjB,KAAK,CAAC0jB,QAAQ,CAAC,IAAIA,QAAQ,KAAK,CAAC,CAAC,EAAE;cACrC,IAAI,CAACY,YAAY,CAACf,SAAS,EAAEG,QAAQ,EAAE,IAAI,EAAE1N,CAAC,CAAC;YACnD,CAAC,MACI;cACD,IAAIA,CAAC,CAACwK,MAAM,KAAK,QAAQ,IAAIxK,CAAC,CAACwK,MAAM,KAAK,WAAW,EAAE;gBACnD,IAAI,CAAC9X,OAAO,CAAC0R,SAAS,CAAC,CAAC,CAAC;cAC7B,CAAC,MACI;gBACD,IAAI,CAAC1R,OAAO,CAACuR,eAAe,CAACC,iBAAiB,CAAC,CAAC,EAAEqJ,SAAS,CAAC1W,MAAM,GAAG,CAAC,CAAC;cAC3E;YACJ;UACJ;QACJ;QACA;MACJ,KAAK,OAAO;MACZ,KAAK,SAAS;MACd,KAAK,YAAY;MACjB,KAAK,WAAW;QACZ,IAAI,CAAC0X,cAAc,CAACZ,aAAa,EAAEF,QAAQ,EAAEC,QAAQ,EAAE1N,CAAC,CAAC;QACzD;MACJ,KAAK,MAAM;MACX,KAAK,QAAQ;MACb,KAAK,SAAS;MACd,KAAK,WAAW;QACZ,IAAI,CAACwO,eAAe,CAACjB,SAAS,EAAEG,QAAQ,EAAED,QAAQ,EAAEE,aAAa,EAAE3N,CAAC,CAAC;QACrE;MACJ,KAAK,QAAQ;MACb,KAAK,UAAU;QACX,IAAI,CAAC,IAAI,CAACtS,MAAM,CAACgG,mBAAmB,EAAE;UAClC,IAAI,CAAC+a,YAAY,CAAClB,SAAS,EAAEvN,CAAC,EAAE0N,QAAQ,CAAC;QAC7C,CAAC,MACI;UACD,IAAI,CAACgB,gBAAgB,CAACnB,SAAS,EAAEvN,CAAC,EAAE0N,QAAQ,CAAC;QACjD;QACA;MACJ,KAAK,MAAM;QACPE,SAAS,GAAG,CAAC9jB,QAAQ,CAAC,IAAI,CAAC4D,MAAM,CAAC+O,KAAK,GAAG,IAAI,GAAG,MAAM,EAAE8Q,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;QACvE,IAAI,CAAC7f,MAAM,CAACuO,aAAa,CAAC;UAAEE,aAAa,EAAEyR;QAAU,CAAC,EAAE,IAAI,CAAC;QAC7D,IAAI,CAAC1Q,aAAa,CAAC0Q,SAAS,CAAC;QAC7B;MACJ,KAAK,QAAQ;MACb,KAAK,UAAU;QACX,IAAI,CAACa,YAAY,CAAClB,SAAS,EAAEvN,CAAC,EAAE0N,QAAQ,CAAC;QACzC;MACJ,KAAK,KAAK;QACNxC,QAAQ,GAAG,CAACphB,QAAQ,CAAC,IAAI,CAAC4D,MAAM,CAAC+O,KAAK,GAAG,IAAI,GAAG,MAAM,EAAE8Q,SAAS,CAACC,UAAU,GAAG,CAAC,CAAC,CAAC,CAAC;QACnF,IAAI,CAAC9f,MAAM,CAACuO,aAAa,CAAC;UAAEE,aAAa,EAAE+O;QAAS,CAAC,EAAE,IAAI,CAAC;QAC5D,IAAI,CAAChO,aAAa,CAACgO,QAAQ,CAAC;QAC5B;MACJ,KAAK,MAAM;QACP,IAAI,CAACxd,MAAM,CAACihB,gBAAgB,CAAC,CAAC;QAC9B;IACR;EACJ,CAAC;EACDlhB,WAAW,CAAC6D,SAAS,CAACoa,eAAe,GAAG,YAAY;IAChD,OAAO,IAAI,CAAChZ,OAAO,CAACqP,kBAAkB,CAAC,CAAC;EAC5C,CAAC;EACDtU,WAAW,CAAC6D,SAAS,CAAC2c,UAAU,GAAG,YAAY;IAC3C,IAAI,IAAI,CAACvgB,MAAM,CAACyO,aAAa,CAACtF,MAAM,KAAK,CAAC,EAAE;MACxC,IAAI,CAACnJ,MAAM,CAACmV,QAAQ,GAAG,IAAI,CAACnQ,OAAO,CAACqP,kBAAkB,CAAC,CAAC;MACxD,IAAInQ,KAAK,GAAG,IAAI,CAAClE,MAAM,CAACmV,QAAQ;MAChC,KAAK,IAAIjM,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGhF,KAAK,CAACiF,MAAM,EAAED,CAAC,EAAE,EAAE;QACnC,IAAI,CAACnK,iBAAiB,CAACmF,KAAK,CAACgF,CAAC,CAAC,CAAC,EAAE;UAC9BhK,kBAAkB,CAAC,IAAI,CAACc,MAAM,EAAEkE,KAAK,CAACgF,CAAC,CAAC,EAAE7L,MAAM,CAAC6jB,kBAAkB,CAAC;UACpE;QACJ;MACJ;MACAhjB,QAAQ,CAAC,IAAI,CAAC8B,MAAM,EAAE,IAAI,CAACA,MAAM,CAACiT,IAAI,EAAE,IAAI,CAACjT,MAAM,CAACyO,aAAa,CAAC;IACtE;EACJ,CAAC;EACD1O,WAAW,CAAC6D,SAAS,CAACuc,aAAa,GAAG,YAAY;IAC9C,IAAI,IAAI,CAACngB,MAAM,CAACyO,aAAa,IAAI,IAAI,CAACzO,MAAM,CAACyO,aAAa,CAACtF,MAAM,GAAG,CAAC,EAAE;MACnE,IAAI,CAACnJ,MAAM,CAACmV,QAAQ,GAAG,IAAI,CAACnQ,OAAO,CAACqP,kBAAkB,CAAC,CAAC;MACxD,IAAInQ,KAAK,GAAG,IAAI,CAAClE,MAAM,CAACmV,QAAQ;MAChC,KAAK,IAAIjM,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGhF,KAAK,CAACiF,MAAM,EAAED,CAAC,EAAE,EAAE;QACnC,IAAI,CAACpK,aAAa,CAACoF,KAAK,CAACgF,CAAC,CAAC,CAAC,EAAE;UAC1BhK,kBAAkB,CAAC,IAAI,CAACc,MAAM,EAAEkE,KAAK,CAACgF,CAAC,CAAC,EAAE7L,MAAM,CAAC8jB,cAAc,CAAC;UAChE;QACJ;MACJ;MACA5jB,YAAY,CAAC,IAAI,CAACyC,MAAM,EAAE,QAAQ,CAAC;IACvC;EACJ,CAAC;EACDD,WAAW,CAAC6D,SAAS,CAAC4c,aAAa,GAAG,YAAY;IAC9C,IAAI,IAAI,CAACxgB,MAAM,CAACyO,aAAa,CAACtF,MAAM,KAAK,CAAC,EAAE;MACxC,IAAI,CAAC6M,gBAAgB,CAAC,CAAC;MACvBhX,QAAQ,CAAC,IAAI,CAACgB,MAAM,CAAC;IACzB;EACJ,CAAC;EACDD,WAAW,CAAC6D,SAAS,CAACoS,gBAAgB,GAAG,YAAY;IACjD,IAAI/L,IAAI,GAAG,IAAI,CAAC+T,eAAe,CAAC,CAAC,CAAC,CAAC,CAAC;IACpCre,kBAAkB,CAAC,IAAI,CAACK,MAAM,EAAEiK,IAAI,CAAC;EACzC,CAAC;EACDlK,WAAW,CAAC6D,SAAS,CAACkd,eAAe,GAAG,UAAUjB,SAAS,EAAEG,QAAQ,EAAED,QAAQ,EAAEE,aAAa,EAAE3N,CAAC,EAAE;IAC/F,IAAI,CAAC,IAAI,CAACtS,MAAM,CAACgG,mBAAmB,EAAE;MAClC,IAAI,CAAC+a,YAAY,CAAClB,SAAS,EAAEvN,CAAC,EAAE0N,QAAQ,CAAC;IAC7C,CAAC,MACI;MACD,IAAIA,QAAQ,KAAK,CAAC,CAAC,KAAK1N,CAAC,CAACwK,MAAM,KAAK,MAAM,IAAIxK,CAAC,CAACwK,MAAM,KAAK,QAAQ,CAAC,EAAE;QACnE,IAAI,CAACkE,gBAAgB,CAACnB,SAAS,EAAEvN,CAAC,EAAE0N,QAAQ,CAAC;MACjD,CAAC,MACI,IAAIA,QAAQ,KAAK,CAAC,CAAC,IAAID,QAAQ,KAAKC,QAAQ,IAC7C,EAAE,CAAC1N,CAAC,CAACwK,MAAM,KAAK,MAAM,IAAIxK,CAAC,CAACwK,MAAM,KAAK,QAAQ,KAAK,IAAI,CAACsE,UAAU,CAACnB,aAAa,EAAEF,QAAQ,CAAC,CAAC,EAAE;QAC/F,IAAI,CAACsB,oBAAoB,CAACrB,QAAQ,EAAED,QAAQ,EAAEE,aAAa,EAAE3N,CAAC,CAAC;MACnE,CAAC,MACI;QACD,IAAI,CAACgP,iBAAiB,CAACtB,QAAQ,EAAEC,aAAa,EAAEJ,SAAS,EAAEvN,CAAC,CAAC;MACjE;IACJ;EACJ,CAAC;EACDvS,WAAW,CAAC6D,SAAS,CAACmd,YAAY,GAAG,UAAUtS,aAAa,EAAE6D,CAAC,EAAEiC,QAAQ,EAAE;IACvE,IAAI,CAACjY,KAAK,CAAC,IAAI,CAACojB,cAAc,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC1f,MAAM,CAACgG,mBAAmB,EAAE;MAClE,IAAIsM,CAAC,CAACwK,MAAM,KAAK,UAAU,EAAE;QACzB,IAAI,CAAC9X,OAAO,CAAC0R,SAAS,CAAC,IAAI,CAAC+I,mBAAmB,CAAC,CAAC,GAAG,CAAC,CAAC;MAC1D,CAAC,MACI;QACD,IAAI,CAACza,OAAO,CAAC0R,SAAS,CAAC,IAAI,CAAC+I,mBAAmB,CAAC,CAAC,GAAG,CAAC,CAAC;MAC1D;IACJ,CAAC,MACI,IAAI,CAACnjB,KAAK,CAACiY,QAAQ,CAAC,IAAIA,QAAQ,KAAK,CAAC,CAAC,EAAE;MAC1C,IAAIjC,CAAC,CAACwK,MAAM,KAAK,UAAU,IAAIxK,CAAC,CAACwK,MAAM,KAAK,UAAU,IAAIxK,CAAC,CAACwK,MAAM,KAAK,WAAW,IAAIxK,CAAC,CAACwK,MAAM,KAAK,QAAQ,EAAE;QACzG,IAAI,CAAC9X,OAAO,CAAC0R,SAAS,CAACnC,QAAQ,IAAKA,QAAQ,KAAK9F,aAAa,CAACtF,MAAM,GAAG,CAAC,GAAI,CAAC,GAAG,CAAC,CAAC,CAAC;MACxF,CAAC,MACI;QACD,IAAI,CAACnE,OAAO,CAAC0R,SAAS,CAACnC,QAAQ,IAAKA,QAAQ,KAAK,CAAC,GAAI,CAAC,GAAG,CAAC,CAAC,CAAC;MACjE;IACJ,CAAC,MACI;MACD,IAAI,CAACjY,KAAK,CAACmS,aAAa,CAAC,CAAC,CAAC,CAAC,EAAE;QAC1B,IAAI,CAACzJ,OAAO,CAAC0R,SAAS,CAAC,CAAC,CAAC;MAC7B;IACJ;EACJ,CAAC;EACD3W,WAAW,CAAC6D,SAAS,CAACid,cAAc,GAAG,UAAUZ,aAAa,EAAEF,QAAQ,EAAEC,QAAQ,EAAE1N,CAAC,EAAE;IACnF,IAAI,CAAC,IAAI,CAAC8O,UAAU,CAACnB,aAAa,EAAEF,QAAQ,CAAC,IAAIC,QAAQ,KAAK,CAAC,CAAC,KAAK1N,CAAC,CAACwK,MAAM,KAAK,YAAY,IAAIxK,CAAC,CAACwK,MAAM,KAAK,SAAS,CAAC,EAAE;MACvH,IAAIiD,QAAQ,GAAGC,QAAQ,EAAE;QACrB,IAAI,CAAChb,OAAO,CAACuR,eAAe,CAACC,iBAAiB,CAACuJ,QAAQ,EAAEC,QAAQ,CAAC;MACtE,CAAC,MACI;QACD,IAAI,CAAChb,OAAO,CAACuR,eAAe,CAACC,iBAAiB,CAACwJ,QAAQ,EAAED,QAAQ,CAAC;MACtE;IACJ,CAAC,MACI,IAAI,CAACzjB,KAAK,CAAC,IAAI,CAACojB,cAAc,CAAC,CAAC,CAAC,IAAIK,QAAQ,KAAKC,QAAQ,EAAE;MAC7DC,aAAa,CAAC3U,IAAI,CAAC,IAAI,CAACmU,mBAAmB,CAAC,CAAC,CAAC;MAC9C,IAAI,CAACza,OAAO,CAACuM,UAAU,CAAC0O,aAAa,CAAC;IAC1C,CAAC,MACI,IAAID,QAAQ,KAAK,CAAC,CAAC,IAAI1N,CAAC,CAACwK,MAAM,KAAK,WAAW,IAAI,IAAI,CAAC9c,MAAM,CAACgG,mBAAmB,EAAE;MACrF,IAAIub,KAAK,GAAGvB,QAAQ;MACpBC,aAAa,CAACrK,GAAG,CAAC,CAAC;MACnB,IAAI,CAAC5Q,OAAO,CAACuM,UAAU,CAAC0O,aAAa,CAAC;MACtC,IAAI,CAACzO,QAAQ,CAAC+P,KAAK,CAAC;IACxB,CAAC,MACI,IAAIjP,CAAC,CAACwK,MAAM,KAAK,YAAY,EAAE;MAChC,IAAI,CAAC9X,OAAO,CAAC0R,SAAS,CAACsJ,QAAQ,CAAC;IACpC;EACJ,CAAC;EACDjgB,WAAW,CAAC6D,SAAS,CAACod,gBAAgB,GAAG,UAAU9c,KAAK,EAAEoO,CAAC,EAAEiC,QAAQ,EAAE;IACnE,IAAIiN,QAAQ;IACZ,IAAI,CAACllB,KAAK,CAAC,IAAI,CAACojB,cAAc,CAAC,CAAC,CAAC,EAAE;MAC/B,IAAI+B,SAAS,GAAG,IAAI,CAAChC,mBAAmB,CAAC,CAAC;MAC1C+B,QAAQ,GAAIlP,CAAC,CAACwK,MAAM,KAAK,UAAU,IAAIxK,CAAC,CAACwK,MAAM,KAAK,QAAQ,GACxD2E,SAAS,IAAKA,SAAS,GAAGvd,KAAK,CAACiF,MAAM,GAAG,CAAC,GAAI,CAAC,GAAG,CAAC,CAAC,GAAGsY,SAAS,IAAKA,SAAS,GAAG,CAAC,GAAI,CAAC,GAAG,CAAC,CAAC;IACpG,CAAC,MACI,IAAI,CAACnlB,KAAK,CAACiY,QAAQ,CAAC,IAAIA,QAAQ,KAAK,CAAC,CAAC,EAAE;MAC1CiN,QAAQ,GAAIlP,CAAC,CAACwK,MAAM,KAAK,UAAU,IAAIxK,CAAC,CAACwK,MAAM,KAAK,QAAQ,GACxDvI,QAAQ,IAAKA,QAAQ,GAAGrQ,KAAK,CAACiF,MAAM,GAAI,CAAC,GAAG,CAAC,CAAC,GAAGoL,QAAQ,IAAKA,QAAQ,GAAG,CAAC,GAAI,CAAC,GAAG,CAAC,CAAC;IAC5F,CAAC,MACI;MACD,IAAI,CAACjY,KAAK,CAAC4H,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE;QAClBsd,QAAQ,GAAG,CAAC;MAChB;IACJ;IACA,IAAI,CAAChQ,QAAQ,CAACgQ,QAAQ,CAAC;EAC3B,CAAC;EACDzhB,WAAW,CAAC6D,SAAS,CAACgd,YAAY,GAAG,UAAU1c,KAAK,EAAEwd,UAAU,EAAE3B,QAAQ,EAAEzN,CAAC,EAAE;IAC3E,IAAI,IAAI,CAACtN,OAAO,CAAC2c,YAAY,KAAK,SAAS,IAAI,IAAI,CAAC3c,OAAO,CAAC2c,YAAY,KAAK,cAAc,EAAE;MACzF,IAAIrP,CAAC,CAACwK,MAAM,KAAK,QAAQ,IAAIxK,CAAC,CAACwK,MAAM,KAAK,OAAO,EAAE;QAC/C,IAAIxgB,KAAK,CAAC,IAAI,CAACgE,UAAU,CAAC,IAAI,IAAI,CAACC,cAAc,KAAKmhB,UAAU,EAAE;UAC9D,IAAI,CAACnhB,cAAc,GAAGmhB,UAAU;QACpC;QACA,IAAIpP,CAAC,CAACwK,MAAM,KAAK,UAAU,EAAE;UACzB,IAAI,CAAC9X,OAAO,CAACuR,eAAe,CAACC,iBAAiB,CAAC,IAAI,CAACjW,cAAc,EAAE2D,KAAK,CAACiF,MAAM,GAAG,CAAC,CAAC;QACzF,CAAC,MACI;UACD,IAAI,CAACnE,OAAO,CAACuR,eAAe,CAACC,iBAAiB,CAAC,CAAC,EAAE,IAAI,CAACjW,cAAc,CAAC;QAC1E;QACA,IAAI,CAACD,UAAU,GAAGohB,UAAU;MAChC,CAAC,MACI;QACD,IAAIpP,CAAC,CAACwK,MAAM,KAAK,OAAO,EAAE;UACtB,IAAI,CAAC9X,OAAO,CACRuM,UAAU,CAAC,IAAI,CAACqQ,UAAU,CAACtlB,KAAK,CAAColB,UAAU,CAAC,GAAG,CAAC,GAAGA,UAAU,EAAEplB,KAAK,CAACyjB,QAAQ,CAAC,GAAG7b,KAAK,CAACiF,MAAM,GAAG,CAAC,GAAG4W,QAAQ,EAAEzN,CAAC,CAAC,CAAC;QACzH,CAAC,MACI;UACD,IAAIhW,KAAK,CAAColB,UAAU,CAAC,EAAE;YACnB,IAAI,CAAC1c,OAAO,CAAC0R,SAAS,CAAC,CAAC,CAAC;UAC7B,CAAC,MACI;YACD,IAAI,CAAC1R,OAAO,CAACuM,UAAU,CAAC,IAAI,CAACqQ,UAAU,CAACtlB,KAAK,CAACyjB,QAAQ,CAAC,GAAG,CAAC,GAAGA,QAAQ,EAAE2B,UAAU,EAAEpP,CAAC,CAAC,CAAC;UAC3F;QACJ;MACJ;IACJ,CAAC,MACI;MACD,IAAI,CAACtN,OAAO,CAACuR,eAAe,CAACG,SAAS,CAAGpE,CAAC,CAACwK,MAAM,KAAK,WAAW,IAAIxK,CAAC,CAACwK,MAAM,KAAK,QAAQ,GAAI,CAAC,GAAG5Y,KAAK,CAACiF,MAAM,GAAG,CAAE,CAAC;IACxH;EACJ,CAAC;EACDpJ,WAAW,CAAC6D,SAAS,CAACge,UAAU,GAAG,UAAUC,KAAK,EAAEN,KAAK,EAAEjP,CAAC,EAAE;IAC1D,IAAIwP,OAAO,GAAG,IAAI,CAAC9c,OAAO,CAAC4J,qBAAqB,CAAC,CAAC;IAClD,IAAI0D,CAAC,CAACwK,MAAM,KAAK,OAAO,EAAE;MACtB,KAAK,IAAI5T,CAAC,GAAG2Y,KAAK,GAAG,CAAC,EAAE3Y,CAAC,IAAIqY,KAAK,EAAErY,CAAC,EAAE,EAAE;QACrC4Y,OAAO,CAACxW,IAAI,CAACpC,CAAC,CAAC;MACnB;IACJ,CAAC,MACI;MACD,KAAK,IAAIA,CAAC,GAAGqY,KAAK,GAAG,CAAC,EAAEM,KAAK,IAAI3Y,CAAC,EAAEA,CAAC,EAAE,EAAE;QACrC4Y,OAAO,CAACxW,IAAI,CAACpC,CAAC,CAAC;MACnB;IACJ;IACA,OAAO4Y,OAAO;EAClB,CAAC;EACD/hB,WAAW,CAAC6D,SAAS,CAACyd,oBAAoB,GAAG,UAAUrB,QAAQ,EAAE+B,MAAM,EAAEC,aAAa,EAAE1P,CAAC,EAAE;IACvF,IAAIiP,KAAK,GAAGQ,MAAM,IAAKzP,CAAC,CAACwK,MAAM,KAAK,WAAW,IAAIxK,CAAC,CAACwK,MAAM,KAAK,QAAQ,GAAI,CAAC,GAAG,CAAC,CAAC,CAAC;IACnF,IAAI+E,KAAK,GAAGvlB,KAAK,CAAC,IAAI,CAACgE,UAAU,CAAC,GAAG0f,QAAQ,GAAGgC,aAAa,CAAC,CAAC,CAAC;IAChE,IAAIH,KAAK,KAAKN,KAAK,EAAE;MACjB,IAAI,CAACvc,OAAO,CAAC0R,SAAS,CAACmL,KAAK,CAAC;IACjC,CAAC,MACI;MACD,IAAIA,KAAK,GAAGN,KAAK,EAAE;QACf,IAAIjP,CAAC,CAACwK,MAAM,KAAK,WAAW,IAAIxK,CAAC,CAACwK,MAAM,KAAK,QAAQ,EAAE;UACnD,IAAI,CAAC9X,OAAO,CAACuR,eAAe,CAACC,iBAAiB,CAACqL,KAAK,EAAEN,KAAK,CAAC;QAChE,CAAC,MACI;UACD,IAAI,CAACvc,OAAO,CAACuR,eAAe,CAACC,iBAAiB,CAAC+K,KAAK,EAAEM,KAAK,CAAC;QAChE;MACJ,CAAC,MACI,IAAIvP,CAAC,CAACwK,MAAM,KAAK,WAAW,IAAIxK,CAAC,CAACwK,MAAM,KAAK,QAAQ,EAAE;QACxD,IAAI,CAAC9X,OAAO,CAACuR,eAAe,CAACC,iBAAiB,CAAC+K,KAAK,EAAEM,KAAK,CAAC;MAChE,CAAC,MACI;QACD,IAAI,CAAC7c,OAAO,CAACuR,eAAe,CAACC,iBAAiB,CAACqL,KAAK,EAAEN,KAAK,CAAC;MAChE;IACJ;IACA,IAAI,CAACjhB,UAAU,GAAG,IAAI,CAAC0E,OAAO,CAACyM,gBAAgB;EACnD,CAAC;EACD1R,WAAW,CAAC6D,SAAS,CAAC4N,QAAQ,GAAG,UAAUmL,IAAI,EAAE;IAC7C,IAAIkF,KAAK,GAAG,IAAI,CAACnC,cAAc,CAAC,CAAC;IACjC,IAAIuC,WAAW,GAAG,IAAI,CAACjd,OAAO,CAACsY,aAAa,CAACX,IAAI,CAAC;IAClD,IAAIkF,KAAK,EAAE;MACPA,KAAK,CAACpE,eAAe,CAAC,UAAU,CAAC;MACjC/gB,WAAW,CAAC,CAACmlB,KAAK,CAAC,EAAE,CAACvkB,GAAG,CAAC4kB,KAAK,EAAE5kB,GAAG,CAAC6kB,OAAO,CAAC,CAAC;IAClD;IACA,IAAI,CAAC7lB,KAAK,CAAC2lB,WAAW,CAAC,EAAE;MACrB,IAAI,CAACjd,OAAO,CAAC9D,OAAO,CAACiL,YAAY,CAAC,UAAU,EAAE,IAAI,CAAC;MACnD8V,WAAW,CAAC9V,YAAY,CAAC,UAAU,EAAE,GAAG,CAAC;MACzC8V,WAAW,CAAC7M,KAAK,CAAC,CAAC;MACnB3Y,QAAQ,CAAC,CAACwlB,WAAW,CAAC,EAAE,CAAC3kB,GAAG,CAAC4kB,KAAK,EAAE5kB,GAAG,CAAC6kB,OAAO,CAAC,CAAC;IACrD;EACJ,CAAC;EACDpiB,WAAW,CAAC6D,SAAS,CAAC+c,cAAc,GAAG,UAAUrO,CAAC,EAAE;IAChD,IAAI8P,SAAS,GAAGnmB,MAAM,CAAC,QAAQ,EAAE,IAAI,CAACiF,OAAO,CAAC;IAC9C,IAAI,CAAC8D,OAAO,CAAC9D,OAAO,CAACiL,YAAY,CAAC,UAAU,EAAE,IAAI,CAAC;IACnD,IAAIkW,SAAS;IACb,IAAI,CAAC/lB,KAAK,CAACgW,CAAC,CAAC0H,MAAM,CAAC,IAAI1H,CAAC,CAAC0H,MAAM,CAACjM,SAAS,CAACmP,QAAQ,CAAC,iBAAiB,CAAC,EAAE;MACpE,IAAI,CAAC1L,QAAQ,CAAC,CAAC,CAAC;MAChB6Q,SAAS,GAAG/P,CAAC,CAAC0H,MAAM,CAACS,kBAAkB;IAC3C,CAAC,MACI,IAAI,CAACne,KAAK,CAAC,IAAI,CAAC0I,OAAO,CAAC9D,OAAO,CAAC0L,aAAa,CAAC,UAAU,CAAC,CAAC,IAAK,IAAI,CAAC5H,OAAO,CAAC9D,OAAO,CAAC0L,aAAa,CAAC,UAAU,CAAC,CAAC0V,OAAO,KAAK,IAAK,EAAE;MAClID,SAAS,GAAG,IAAI,CAACrd,OAAO,CAAC9D,OAAO,CAAC0L,aAAa,CAAC,UAAU,CAAC,CAAC6N,kBAAkB;MAC7E,IAAI,CAACjJ,QAAQ,CAAC,CAAC,CAAC;IACpB,CAAC,MACI;MACD6Q,SAAS,GAAGpmB,MAAM,CAAC,mBAAmB,EAAE,IAAI,CAACiF,OAAO,CAAC;IACzD;IACA,IAAI,CAAC5E,KAAK,CAAC+lB,SAAS,CAAC,EAAE;MACnBA,SAAS,CAAClW,YAAY,CAAC,UAAU,EAAE,GAAG,CAAC;MACvCkW,SAAS,CAACjN,KAAK,CAAC,CAAC;MACjB3Y,QAAQ,CAAC,CAAC4lB,SAAS,CAAC,EAAE,CAAC/kB,GAAG,CAAC4kB,KAAK,EAAE5kB,GAAG,CAAC6kB,OAAO,CAAC,CAAC;MAC/CC,SAAS,CAACjW,YAAY,CAAC,UAAU,EAAE,GAAG,CAAC;MACvC,IAAIiW,SAAS,CAACG,QAAQ,KAAK,CAAC,IAAIF,SAAS,CAACE,QAAQ,KAAK,CAAC,EAAE;QACtD7lB,WAAW,CAAC,CAAC0lB,SAAS,CAAC,EAAE,CAAC9kB,GAAG,CAAC4kB,KAAK,EAAE5kB,GAAG,CAAC6kB,OAAO,CAAC,CAAC;MACtD;IACJ;EACJ,CAAC;EACDpiB,WAAW,CAAC6D,SAAS,CAAC8b,cAAc,GAAG,YAAY;IAC/C,OAAOzjB,MAAM,CAAC,GAAG,GAAGqB,GAAG,CAAC6kB,OAAO,EAAE,IAAI,CAACjhB,OAAO,CAAC;EAClD,CAAC;EACDnB,WAAW,CAAC6D,SAAS,CAACwd,UAAU,GAAG,UAAUY,aAAa,EAAEjC,QAAQ,EAAE;IAClE,IAAIyC,KAAK,GAAG,KAAK;IACjB,KAAK,IAAItZ,CAAC,GAAG,CAAC,EAAEA,CAAC,IAAI8Y,aAAa,CAAC7Y,MAAM,GAAG,CAAC,EAAED,CAAC,EAAE,EAAE;MAChD,IAAI8Y,aAAa,CAAC9Y,CAAC,CAAC,KAAK6W,QAAQ,EAAE;QAC/ByC,KAAK,GAAG,IAAI;QACZ;MACJ;IACJ;IACA,OAAOA,KAAK;EAChB,CAAC;EACDziB,WAAW,CAAC6D,SAAS,CAAC0d,iBAAiB,GAAG,UAAUtB,QAAQ,EAAEgC,aAAa,EAAEnC,SAAS,EAAEvN,CAAC,EAAE;IACvF,IAAI0N,QAAQ,KAAK,CAAC,CAAC,EAAE;MACjB,IAAI,CAAChb,OAAO,CAAC0R,SAAS,CAAC,CAAC,CAAC;IAC7B,CAAC,MACI;MACD,IAAIpa,KAAK,CAAC,IAAI,CAACgE,UAAU,CAAC,IAAIgS,CAAC,CAACmQ,QAAQ,EAAE;QACtC,IAAI,CAACniB,UAAU,GAAG,IAAI,CAAC0E,OAAO,CAACyM,gBAAgB;QAC/C,IAAI,CAACzM,OAAO,CAACuM,UAAU,CAAC,CAACyO,QAAQ,EAAG1N,CAAC,CAACwK,MAAM,KAAK,WAAW,IAAIxK,CAAC,CAACwK,MAAM,KAAK,QAAQ,GAC5EkD,QAAQ,IAAKA,QAAQ,KAAKH,SAAS,CAAC1W,MAAM,GAAG,CAAC,GAAI,CAAC,GAAG,CAAC,CAAC,GAAK6W,QAAQ,IAAKA,QAAQ,KAAK,CAAC,GAAI,CAAC,GAAG,CAAC,CAAE,CAAC,CAAC;MAClH,CAAC,MACI;QACD,IAAI1N,CAAC,CAACwK,MAAM,KAAK,WAAW,IAAIxK,CAAC,CAACwK,MAAM,KAAK,SAAS,EAAE;UACpD,IAAIxK,CAAC,CAACwK,MAAM,KAAK,WAAW,IAAIkF,aAAa,CAACxV,OAAO,CAACwT,QAAQ,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE;YACxE,IAAIA,QAAQ,KAAKH,SAAS,CAAC1W,MAAM,GAAG,CAAC,EAAE;cACnC6Y,aAAa,CAAC1W,IAAI,CAAC0U,QAAQ,GAAG,CAAC,CAAC;YACpC;UACJ,CAAC,MACI,IAAI1N,CAAC,CAACwK,MAAM,KAAK,SAAS,IAAIkF,aAAa,CAACxV,OAAO,CAACwT,QAAQ,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE;YAC3E,IAAIA,QAAQ,KAAK,CAAC,EAAE;cAChBgC,aAAa,CAAC1W,IAAI,CAAC0U,QAAQ,GAAG,CAAC,CAAC;YACpC;UACJ,CAAC,MACI;YACDgC,aAAa,CAACpM,GAAG,CAAC,CAAC;UACvB;UACA,IAAI,CAAC5Q,OAAO,CAACuM,UAAU,CAACyQ,aAAa,CAAC;QAC1C,CAAC,MACI;UACD,IAAI1P,CAAC,CAACwK,MAAM,KAAK,QAAQ,EAAE;YACvB,IAAI,CAAC,IAAI,CAACsE,UAAU,CAACY,aAAa,EAAE,IAAI,CAACvC,mBAAmB,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE;cACjEuC,aAAa,CAAC1W,IAAI,CAAE,IAAI,CAACmU,mBAAmB,CAAC,CAAC,GAAG,CAAE,CAAC;cACpD,IAAI,CAACza,OAAO,CAACuM,UAAU,CAACyQ,aAAa,CAAC;YAC1C,CAAC,MACI;cACD,IAAI,CAACxQ,QAAQ,CAAC,IAAI,CAACiO,mBAAmB,CAAC,CAAC,GAAG,CAAC,CAAC;YACjD;UACJ,CAAC,MACI,IAAI,CAAC,IAAI,CAAC2B,UAAU,CAACY,aAAa,EAAE,IAAI,CAACvC,mBAAmB,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE;YACtEuC,aAAa,CAAC1W,IAAI,CAAE,IAAI,CAACmU,mBAAmB,CAAC,CAAC,GAAG,CAAE,CAAC;YACpD,IAAI,CAACza,OAAO,CAACuM,UAAU,CAACyQ,aAAa,CAAC;UAC1C,CAAC,MACI;YACD,IAAI,CAACxQ,QAAQ,CAAC,IAAI,CAACiO,mBAAmB,CAAC,CAAC,GAAG,CAAC,CAAC;UACjD;QACJ;MACJ;IACJ;EACJ,CAAC;EACD1f,WAAW,CAAC6D,SAAS,CAACiU,YAAY,GAAG,UAAUvF,CAAC,EAAE;IAC9C,IAAI,IAAI,CAACtS,MAAM,CAACgE,IAAI,KAAK,SAAS,EAAE;MAChC;IACJ;IACA,IAAI8Y,MAAM,GAAG1gB,QAAQ,CAAC,QAAQ,EAAEkW,CAAC,CAAC;IAClC,QAAQwK,MAAM;MACV,KAAK,aAAa;QACd,IAAI,CAAC4F,WAAW,CAACtmB,QAAQ,CAAC,KAAK,EAAEkW,CAAC,CAAC,CAAC;QACpC;MACJ,KAAK,eAAe;QAChB,IAAI,CAACqQ,aAAa,CAACvmB,QAAQ,CAAC,KAAK,EAAEkW,CAAC,CAAC,CAAC;QACtC;MACJ,KAAK,UAAU;QACX,IAAI,CAACsQ,QAAQ,CAACxmB,QAAQ,CAAC,IAAI,EAAEkW,CAAC,CAAC,CAAC;QAChC;MACJ,KAAK,cAAc;QACf,IAAI,CAACpS,WAAW,GAAG,KAAK;QACxB;MACJ,KAAK,YAAY;QACb,IAAI,CAACA,WAAW,GAAG,KAAK;QACxB,IAAI,CAAC2iB,UAAU,CAACzmB,QAAQ,CAAC,IAAI,EAAEkW,CAAC,CAAC,EAAElW,QAAQ,CAAC,SAAS,EAAEkW,CAAC,CAAC,CAAC;QAC1D;MACJ,KAAK,WAAW;QACZ,IAAI,CAACpS,WAAW,GAAG,KAAK;QACxB,IAAI,CAACoW,eAAe,CAAC,CAAC;QACtB;MACJ,KAAK,gBAAgB;QACjB,IAAI,CAACpW,WAAW,GAAG,KAAK;QACxB,IAAI,CAACyW,cAAc,CAAC,CAAC;QACrB;IACR;EACJ,CAAC;EACD5W,WAAW,CAAC6D,SAAS,CAACkf,UAAU,GAAG,UAAUhS,KAAK,EAAE;IAChD,IAAIC,WAAW,GAAG,IAAI,CAAC/L,OAAO,CAACgM,qBAAqB,CAAC,CAAC;IACtD,IAAI+R,OAAO,GAAG,EAAE;IAChB,IAAIC,SAAS,GAAI,IAAI,CAAChjB,MAAM,CAACuJ,mBAAmB,CAACC,SAAS,CAACtI,OAAO,CAACuI,KAAK,KAAK,EAAE,IAAI,IAAI,CAACzJ,MAAM,CAAC0J,UAAU,GAAI,IAAI,GAAG,KAAK;IACzH,IAAIuZ,MAAM,GAAG,IAAI,CAACjjB,MAAM,CAAC+O,KAAK,GAAG,IAAI,GAAG,MAAM;IAC9C,IAAI,IAAI,CAAC/O,MAAM,CAAC+O,KAAK,IAAI,CAACiU,SAAS,EAAE;MACjC,KAAK,IAAI9Z,CAAC,GAAG,CAAC,EAAEqB,GAAG,GAAGwG,WAAW,CAAC5H,MAAM,EAAED,CAAC,GAAGqB,GAAG,EAAErB,CAAC,EAAE,EAAE;QACpD,IAAI4H,KAAK,CAACtE,OAAO,CAACpQ,QAAQ,CAAC6mB,MAAM,EAAElS,WAAW,CAAC7H,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE;UACxD6Z,OAAO,CAACzX,IAAI,CAACyF,WAAW,CAAC7H,CAAC,CAAC,CAAC;QAChC;MACJ;IACJ,CAAC,MACI;MACD,KAAK,IAAIA,CAAC,GAAG,CAAC,EAAEqB,GAAG,GAAGwG,WAAW,CAAC5H,MAAM,EAAED,CAAC,GAAGqB,GAAG,EAAErB,CAAC,EAAE,EAAE;QACpD,IAAIga,MAAM,GAAG9mB,QAAQ,CAAC,YAAY,EAAE2U,WAAW,CAAC7H,CAAC,CAAC,CAAC,GAAG9M,QAAQ,CAAC,MAAM,EAAE2U,WAAW,CAAC7H,CAAC,CAAC,CAAC;QACtF,IAAI4H,KAAK,CAACtE,OAAO,CAAC0W,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE;UAC9BH,OAAO,CAACzX,IAAI,CAACyF,WAAW,CAAC7H,CAAC,CAAC,CAAC;QAChC;MACJ;IACJ;IACA,OAAO6Z,OAAO;EAClB,CAAC;EACDhjB,WAAW,CAAC6D,SAAS,CAAC8e,WAAW,GAAG,UAAUS,GAAG,EAAE;IAC/C,IAAI,CAACnjB,MAAM,CAACoU,YAAY,GAAG,aAAa;IACxC,IAAI9X,KAAK,CAAC6mB,GAAG,CAAC,EAAE;MACZ,IAAI,CAAChD,aAAa,CAAC,CAAC;MACpB;IACJ;IACA,IAAI4C,OAAO,GAAG,IAAI,CAACD,UAAU,CAACK,GAAG,CAAC;IAClC,IAAIJ,OAAO,CAAC5Z,MAAM,KAAK,CAAC,EAAE;MACtB;IACJ;IACA,IAAIc,IAAI,GAAG,EAAE;IACb,IAAImZ,MAAM,GAAG,EAAE;IACf,KAAK,IAAIla,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG6Z,OAAO,CAAC5Z,MAAM,EAAED,CAAC,EAAE,EAAE;MACrCe,IAAI,CAACf,CAAC,CAAC,GAAG6Z,OAAO,CAAC7Z,CAAC,CAAC;MACpBka,MAAM,CAACla,CAAC,CAAC,GAAGtJ,WAAW,CAAC,IAAI,CAACI,MAAM,EAAEiK,IAAI,CAACf,CAAC,CAAC,CAAC;IACjD;IACArJ,aAAa,CAAC,IAAI,CAACG,MAAM,EAAEiK,IAAI,EAAEmZ,MAAM,CAAC;EAC5C,CAAC;EACDrjB,WAAW,CAAC6D,SAAS,CAAC+e,aAAa,GAAG,UAAUQ,GAAG,EAAE;IACjD,IAAI7mB,KAAK,CAAC6mB,GAAG,CAAC,EAAE;MACZ,IAAI,CAAC5C,UAAU,CAAC,CAAC;MACjB;IACJ;IACA,IAAI8C,QAAQ,GAAG,IAAI,CAACP,UAAU,CAACK,GAAG,CAAC;IACnC,IAAIE,QAAQ,CAACla,MAAM,KAAK,CAAC,EAAE;MACvB;IACJ;IACA,IAAIc,IAAI,GAAG,EAAE;IACb,IAAImZ,MAAM,GAAG,EAAE;IACf,KAAK,IAAIla,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGma,QAAQ,CAACla,MAAM,EAAED,CAAC,EAAE,EAAE;MACtCe,IAAI,CAACf,CAAC,CAAC,GAAGma,QAAQ,CAACna,CAAC,CAAC;MACrBka,MAAM,CAACla,CAAC,CAAC,GAAGtJ,WAAW,CAAC,IAAI,CAACI,MAAM,EAAEiK,IAAI,CAACf,CAAC,CAAC,CAAC;IACjD;IACApJ,eAAe,CAAC,IAAI,CAACE,MAAM,EAAEiK,IAAI,EAAEmZ,MAAM,CAAC;EAC9C,CAAC;EACDrjB,WAAW,CAAC6D,SAAS,CAACgf,QAAQ,GAAG,UAAUzhB,EAAE,EAAE;IAC3C,IAAI7E,KAAK,CAAC6E,EAAE,CAAC,EAAE;MACX;IACJ;IACA,IAAI4hB,OAAO,GAAG,IAAI,CAACD,UAAU,CAAC,CAAC3hB,EAAE,CAAC,CAAC;IACnC,IAAI4hB,OAAO,CAAC5Z,MAAM,GAAG,CAAC,EAAE;MACpB,IAAI,CAACmL,WAAW,CAACyO,OAAO,CAAC,CAAC,CAAC,CAAC;IAChC;EACJ,CAAC;EACDhjB,WAAW,CAAC6D,SAAS,CAACif,UAAU,GAAG,UAAU1hB,EAAE,EAAE+I,IAAI,EAAE;IACnD,IAAI,CAAClK,MAAM,CAACoU,YAAY,GAAG,aAAa;IACxC,IAAI9X,KAAK,CAAC6E,EAAE,CAAC,EAAE;MACX,IAAI,CAACqf,aAAa,CAAC,CAAC;MACpB;IACJ;IACA,IAAIuC,OAAO,GAAG,IAAI,CAACD,UAAU,CAAC,CAAC3hB,EAAE,CAAC,CAAC;IACnC,IAAI4hB,OAAO,CAAC5Z,MAAM,GAAG,CAAC,EAAE;MACpBxJ,kBAAkB,CAAC,IAAI,CAACK,MAAM,EAAE+iB,OAAO,CAAC,CAAC,CAAC,CAAC;MAC3C,IAAI,CAACzmB,KAAK,CAAC4N,IAAI,CAAC,EAAE;QACd,IAAIpL,aAAa,CAAC,IAAI,CAACkB,MAAM,CAACmV,QAAQ,CAAC,CAAC,CAAC,CAAC,EAAE;UACxChW,MAAM,CAAC,IAAI,CAACa,MAAM,EAAE,IAAI,CAACA,MAAM,CAACiT,IAAI,EAAE/I,IAAI,CAAC;QAC/C,CAAC,MACI;UACDhL,kBAAkB,CAAC,IAAI,CAACc,MAAM,EAAE,IAAI,CAACA,MAAM,CAACmV,QAAQ,CAAC,CAAC,CAAC,EAAE9X,MAAM,CAAC8jB,cAAc,CAAC;QACnF;MACJ,CAAC,MACI;QACDniB,QAAQ,CAAC,IAAI,CAACgB,MAAM,CAAC;MACzB;IACJ;EACJ,CAAC;EACD,OAAOD,WAAW;AACtB,CAAC,CAAC,CAAE;AACJ,SAASA,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}