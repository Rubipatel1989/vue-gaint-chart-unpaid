{"ast":null,"code":"import \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.filter.js\";\nimport \"core-js/modules/esnext.iterator.take.js\";\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nimport { Grid, VirtualScroll as GridVirtualScroll } from '@syncfusion/ej2-grids';\nimport { RenderType } from '@syncfusion/ej2-grids';\nimport { getValue, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport * as events from '../base/constant';\nimport { DataManager, Predicate, Query } from '@syncfusion/ej2-data';\nimport { getExpandStatus } from '../utils';\nimport { VirtualTreeContentRenderer } from '../renderer/virtual-tree-content-render';\nimport { VirtualHeaderRenderer, getTransformValues } from '@syncfusion/ej2-grids';\n/**\n * TreeGrid Virtual Scroll module will handle Virtualization\n *\n * @hidden\n */\nvar VirtualScroll = /** @class */function () {\n  /**\n   * Constructor for VirtualScroll module\n   *\n   * @param {TreeGrid} parent - Tree Grid instance\n   */\n  function VirtualScroll(parent) {\n    this.prevstartIndex = -1;\n    this.setEndIndexToGantt = true;\n    this.prevendIndex = -1;\n    this.prevSelectedRecord = [];\n    this.parent = parent;\n    Grid.Inject(TreeVirtual);\n    this.addEventListener();\n  }\n  VirtualScroll.prototype.returnVisualData = function (args) {\n    args.data = this.visualData;\n  };\n  /**\n   * For internal use only - Get the module name.\n   *\n   * @private\n   * @returns {string} - Returns VirtualScroll module name\n   */\n  VirtualScroll.prototype.getModuleName = function () {\n    return 'virtualScroll';\n  };\n  /**\n   * @hidden\n   * @returns {void}\n   */\n  VirtualScroll.prototype.addEventListener = function () {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n    this.parent.on(events.localPagedExpandCollapse, this.collapseExpandVirtualchilds, this);\n    this.parent.on(events.pagingActions, this.virtualPageAction, this);\n    this.parent.on(events.destroy, this.destroy, this);\n  };\n  /**\n   * @hidden\n   * @returns {void}\n   */\n  VirtualScroll.prototype.removeEventListener = function () {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n    this.parent.off(events.localPagedExpandCollapse, this.collapseExpandVirtualchilds);\n    this.parent.off(events.pagingActions, this.virtualPageAction);\n    this.parent.off(events.destroy, this.destroy);\n  };\n  VirtualScroll.prototype.collapseExpandVirtualchilds = function (row) {\n    this.parent.grid.notify(events.virtualActionArgs, {\n      isExpandCollapse: true\n    });\n    this.expandCollapseRec = row.record;\n    row.record.expanded = row.action === 'collapse' ? false : true;\n    var ret = {\n      result: this.parent.flatData,\n      row: row.row,\n      action: row.action,\n      record: row.record,\n      count: this.parent.flatData.length\n    };\n    if (this.parent.enableVirtualization && this.parent.selectionSettings.mode === 'Cell' || this.parent.selectionSettings.mode === 'Row' && !this.parent.selectionSettings.persistSelection) {\n      this.parent.grid.clearSelection();\n    }\n    if (getValue('isCollapseAll', this.parent) && this.parent.selectionSettings.persistSelection && this.parent.getSelectedRecords().length > 0) {\n      this.prevSelectedRecord = this.parent.getSelectedRecords();\n      this.parent.grid.clearSelection();\n    }\n    var requestType = getValue('isCollapseAll', this.parent) ? 'collapseAll' : 'refresh';\n    getValue('grid.renderModule', this.parent).dataManagerSuccess(ret, {\n      requestType: requestType\n    });\n  };\n  VirtualScroll.prototype.virtualPageAction = function (pageingDetails) {\n    var _this = this;\n    var dm = new DataManager(pageingDetails.result);\n    var expanded = new Predicate('expanded', 'notequal', null).or('expanded', 'notequal', undefined);\n    var parents = dm.executeLocal(new Query().where(expanded));\n    var visualData = parents.filter(function (e) {\n      return getExpandStatus(_this.parent, e, parents);\n    });\n    this.visualData = visualData;\n    pageingDetails.count = visualData.length;\n    this.parent.grid.notify(events.dataListener, {\n      data: visualData\n    });\n    var counts = {\n      startIndex: -1,\n      endIndex: -1,\n      count: pageingDetails.count,\n      requestType: pageingDetails.actionArgs.requestType\n    };\n    this.parent.grid.notify(events.indexModifier, counts);\n    var startIndex = counts.startIndex;\n    var endIndex = counts.endIndex;\n    pageingDetails.count = visualData.length;\n    if (startIndex === -1 && endIndex === -1) {\n      var query = new Query();\n      var size = this.parent.grid.pageSettings.pageSize;\n      var current = this.parent.grid.pageSettings.currentPage;\n      var skip = size * (current - 1);\n      query = query.skip(skip).take(size);\n      dm.dataSource.json = visualData;\n      pageingDetails.result = dm.executeLocal(query);\n    } else {\n      var requestType = pageingDetails.actionArgs.requestType;\n      if (requestType === 'filtering' || requestType === 'collapseAll' || requestType === 'searching' || requestType === 'refresh' && getValue('isExpandAll', this.parent) || requestType === 'refresh' && this.parent.enableCollapseAll && endIndex > visualData.length && isNullOrUndefined(this.expandCollapseRec)) {\n        startIndex = 0;\n        endIndex = this.parent.grid.pageSettings.pageSize - 1;\n        this.parent.grid.getContent().firstElementChild.scrollTop = 0;\n        this.parent.grid.notify(events.virtualActionArgs, {\n          setTop: true\n        });\n      }\n      if (requestType === 'save' && pageingDetails.actionArgs.index >= counts.count - this.parent.grid.pageSettings.pageSize || requestType === 'refresh' && this.parent['isGantt'] && this.parent['isAddedFromGantt']) {\n        if (this.setEndIndexToGantt) {\n          this.ganttEndIndex = counts.endIndex;\n        }\n        if (counts.endIndex + this.parent.pageSettings.pageSize >= counts.count && this.parent.root && counts.count - this.ganttEndIndex === this.visualData.length - this.parent.root['previousFlatData'].length || !(this.parent['isGantt'] && this.parent['isAddedFromGantt'])) {\n          startIndex = counts.startIndex + (counts.count - counts.endIndex);\n          endIndex = counts.count;\n          this.setEndIndexToGantt = false;\n        }\n        this.ganttEndIndex = endIndex;\n        this.parent['isAddedFromGantt'] = false;\n      }\n      //if ((this.prevendIndex !== -1 && this.prevstartIndex !== -1) &&\n      //this.prevendIndex === endIndex && this.prevstartIndex === startIndex) {\n      var virtualWrapperElement = this.parent.grid.contentModule.virtualEle.wrapper;\n      var translateY = getTransformValues(virtualWrapperElement).height;\n      if (!isNullOrUndefined(this.expandCollapseRec) && (pageingDetails.actionArgs.requestType === 'virtualscroll' || pageingDetails.actionArgs.requestType === 'refresh' && startIndex !== this.prevstartIndex) && startIndex < this.parent.getRows().length && endIndex <= startIndex + this.parent.getRows().length && translateY === 0) {\n        startIndex = 0;\n      }\n      if (!isNullOrUndefined(this.expandCollapseRec)) {\n        var resourceCount = this.parent.getRows();\n        var sIndex = visualData.indexOf(this.expandCollapseRec);\n        var tempdata = visualData.slice(sIndex, sIndex + resourceCount.length);\n        if (tempdata.length < resourceCount.length && sIndex >= 0 && startIndex !== 0) {\n          sIndex = visualData.length - resourceCount.length;\n          sIndex = sIndex > 0 ? sIndex : 0;\n          startIndex = sIndex;\n          endIndex = visualData.length;\n        } else if (getValue('isCollapseAll', this.parent)) {\n          startIndex = 0;\n          endIndex = this.parent.grid.pageSettings.pageSize - 1;\n          this.parent.grid.notify(events.virtualActionArgs, {\n            setTop: true\n          });\n        }\n      }\n      //}\n      if (this.prevrequestType === 'collapseAll' && pageingDetails.actionArgs.requestType === 'virtualscroll' && !isNullOrUndefined(this.parent.idMapping) && startIndex === 0) {\n        startIndex = 0;\n        endIndex = this.parent.grid.pageSettings.pageSize - 1;\n        this.parent.grid.notify(events.virtualActionArgs, {\n          setTop: true\n        });\n      }\n      if ((this.parent.enableCollapseAll || this.parent.expandStateMapping) && !isNullOrUndefined(this.expandCollapseRec)) {\n        if (pageingDetails.count < this.parent.getRows()[0].getBoundingClientRect().height) {\n          startIndex = 0;\n        } else if (!this.parent['isExpandAll']) {\n          startIndex = this.prevstartIndex === -1 ? 0 : this.prevstartIndex;\n        }\n      }\n      this.expandCollapseRec = null;\n      startIndex = startIndex < 0 ? 0 : startIndex;\n      if (endIndex === 0 && visualData.length > 0) {\n        pageingDetails.result = visualData;\n      } else {\n        pageingDetails.result = visualData.slice(startIndex, endIndex);\n      }\n      this.prevstartIndex = startIndex;\n      this.prevendIndex = endIndex;\n      this.prevrequestType = pageingDetails.actionArgs.requestType;\n    }\n    this.parent.notify('updateAction', pageingDetails);\n  };\n  /**\n   * To destroy the virtualScroll module\n   *\n   * @returns {void}\n   * @hidden\n   */\n  VirtualScroll.prototype.destroy = function () {\n    this.removeEventListener();\n  };\n  return VirtualScroll;\n}();\nexport { VirtualScroll };\nvar TreeVirtual = /** @class */function (_super) {\n  __extends(TreeVirtual, _super);\n  function TreeVirtual(parent, locator) {\n    var _this = _super.call(this, parent, locator) || this;\n    getValue('parent', _this).off('initial-load', getValue('instantiateRenderer', _this), _this);\n    getValue('parent', _this).on('initial-load', _this.instantiateRenderers, _this);\n    return _this;\n  }\n  TreeVirtual.prototype.getModuleName = function () {\n    return 'treeVirtualScroll';\n  };\n  TreeVirtual.prototype.instantiateRenderers = function () {\n    var parentGrid = getValue('parent', this);\n    getValue('parent', this).log(['limitation', 'virtual_height'], 'virtualization');\n    var renderer = getValue('locator', this).getService('rendererFactory');\n    if (parentGrid.enableColumnVirtualization) {\n      getValue('addRenderer', renderer).apply(renderer, [RenderType.Header, new VirtualHeaderRenderer(getValue('parent', this), getValue('locator', this))]);\n    }\n    getValue('addRenderer', renderer).apply(renderer, [RenderType.Content, new VirtualTreeContentRenderer(getValue('parent', this), getValue('locator', this))]);\n    this.ensurePageSize();\n  };\n  TreeVirtual.prototype.ensurePageSize = function () {\n    var parentGrid = getValue('parent', this);\n    var rowHeight = parentGrid.getRowHeight();\n    if (!isNullOrUndefined(parentGrid.height) && typeof parentGrid.height === 'string' && parentGrid.height.indexOf('%') !== -1) {\n      parentGrid.element.style.height = parentGrid.height;\n    }\n    var vHeight = parentGrid.height.toString().indexOf('%') < 0 ? parseInt(parentGrid.height.toString(), 10) : parentGrid.element.getBoundingClientRect().height;\n    var blockSize = ~~(vHeight / rowHeight);\n    var height = blockSize * 2;\n    var size = parentGrid.pageSettings.pageSize;\n    parentGrid.setProperties({\n      pageSettings: {\n        pageSize: size < height ? height : size\n      }\n    }, true);\n  };\n  return TreeVirtual;\n}(GridVirtualScroll);\nexport { TreeVirtual };","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","Grid","VirtualScroll","GridVirtualScroll","RenderType","getValue","isNullOrUndefined","events","DataManager","Predicate","Query","getExpandStatus","VirtualTreeContentRenderer","VirtualHeaderRenderer","getTransformValues","parent","prevstartIndex","setEndIndexToGantt","prevendIndex","prevSelectedRecord","Inject","TreeVirtual","addEventListener","returnVisualData","args","data","visualData","getModuleName","isDestroyed","on","localPagedExpandCollapse","collapseExpandVirtualchilds","pagingActions","virtualPageAction","destroy","removeEventListener","off","row","grid","notify","virtualActionArgs","isExpandCollapse","expandCollapseRec","record","expanded","action","ret","result","flatData","count","length","enableVirtualization","selectionSettings","mode","persistSelection","clearSelection","getSelectedRecords","requestType","dataManagerSuccess","pageingDetails","_this","dm","or","undefined","parents","executeLocal","where","filter","e","dataListener","counts","startIndex","endIndex","actionArgs","indexModifier","query","size","pageSettings","pageSize","current","currentPage","skip","take","dataSource","json","enableCollapseAll","getContent","firstElementChild","scrollTop","setTop","index","ganttEndIndex","root","virtualWrapperElement","contentModule","virtualEle","wrapper","translateY","height","getRows","resourceCount","sIndex","indexOf","tempdata","slice","prevrequestType","idMapping","expandStateMapping","getBoundingClientRect","_super","locator","call","instantiateRenderers","parentGrid","log","renderer","getService","enableColumnVirtualization","apply","Header","Content","ensurePageSize","rowHeight","getRowHeight","element","style","vHeight","toString","parseInt","blockSize","setProperties"],"sources":["/var/www/vue/vue-gantt-chart/node_modules/@syncfusion/ej2-treegrid/src/treegrid/actions/virtual-scroll.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Grid, VirtualScroll as GridVirtualScroll } from '@syncfusion/ej2-grids';\nimport { RenderType } from '@syncfusion/ej2-grids';\nimport { getValue, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport * as events from '../base/constant';\nimport { DataManager, Predicate, Query } from '@syncfusion/ej2-data';\nimport { getExpandStatus } from '../utils';\nimport { VirtualTreeContentRenderer } from '../renderer/virtual-tree-content-render';\nimport { VirtualHeaderRenderer, getTransformValues } from '@syncfusion/ej2-grids';\n/**\n * TreeGrid Virtual Scroll module will handle Virtualization\n *\n * @hidden\n */\nvar VirtualScroll = /** @class */ (function () {\n    /**\n     * Constructor for VirtualScroll module\n     *\n     * @param {TreeGrid} parent - Tree Grid instance\n     */\n    function VirtualScroll(parent) {\n        this.prevstartIndex = -1;\n        this.setEndIndexToGantt = true;\n        this.prevendIndex = -1;\n        this.prevSelectedRecord = [];\n        this.parent = parent;\n        Grid.Inject(TreeVirtual);\n        this.addEventListener();\n    }\n    VirtualScroll.prototype.returnVisualData = function (args) {\n        args.data = this.visualData;\n    };\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @private\n     * @returns {string} - Returns VirtualScroll module name\n     */\n    VirtualScroll.prototype.getModuleName = function () {\n        return 'virtualScroll';\n    };\n    /**\n     * @hidden\n     * @returns {void}\n     */\n    VirtualScroll.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on(events.localPagedExpandCollapse, this.collapseExpandVirtualchilds, this);\n        this.parent.on(events.pagingActions, this.virtualPageAction, this);\n        this.parent.on(events.destroy, this.destroy, this);\n    };\n    /**\n     * @hidden\n     * @returns {void}\n     */\n    VirtualScroll.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off(events.localPagedExpandCollapse, this.collapseExpandVirtualchilds);\n        this.parent.off(events.pagingActions, this.virtualPageAction);\n        this.parent.off(events.destroy, this.destroy);\n    };\n    VirtualScroll.prototype.collapseExpandVirtualchilds = function (row) {\n        this.parent.grid.notify(events.virtualActionArgs, { isExpandCollapse: true });\n        this.expandCollapseRec = row.record;\n        row.record.expanded = row.action === 'collapse' ? false : true;\n        var ret = {\n            result: this.parent.flatData,\n            row: row.row,\n            action: row.action,\n            record: row.record,\n            count: this.parent.flatData.length\n        };\n        if (this.parent.enableVirtualization && this.parent.selectionSettings.mode === 'Cell' ||\n            this.parent.selectionSettings.mode === 'Row' && !this.parent.selectionSettings.persistSelection) {\n            this.parent.grid.clearSelection();\n        }\n        if (getValue('isCollapseAll', this.parent) && this.parent.selectionSettings.persistSelection && this.parent.getSelectedRecords().length > 0) {\n            this.prevSelectedRecord = this.parent.getSelectedRecords();\n            this.parent.grid.clearSelection();\n        }\n        var requestType = getValue('isCollapseAll', this.parent) ? 'collapseAll' : 'refresh';\n        getValue('grid.renderModule', this.parent).dataManagerSuccess(ret, { requestType: requestType });\n    };\n    VirtualScroll.prototype.virtualPageAction = function (pageingDetails) {\n        var _this = this;\n        var dm = new DataManager(pageingDetails.result);\n        var expanded = new Predicate('expanded', 'notequal', null).or('expanded', 'notequal', undefined);\n        var parents = dm.executeLocal(new Query().where(expanded));\n        var visualData = parents.filter(function (e) {\n            return getExpandStatus(_this.parent, e, parents);\n        });\n        this.visualData = visualData;\n        pageingDetails.count = visualData.length;\n        this.parent.grid.notify(events.dataListener, { data: visualData });\n        var counts = { startIndex: -1, endIndex: -1, count: pageingDetails.count, requestType: pageingDetails.actionArgs.requestType };\n        this.parent.grid.notify(events.indexModifier, counts);\n        var startIndex = counts.startIndex;\n        var endIndex = counts.endIndex;\n        pageingDetails.count = visualData.length;\n        if (startIndex === -1 && endIndex === -1) {\n            var query = new Query();\n            var size = this.parent.grid.pageSettings.pageSize;\n            var current = this.parent.grid.pageSettings.currentPage;\n            var skip = size * (current - 1);\n            query = query.skip(skip).take(size);\n            dm.dataSource.json = visualData;\n            pageingDetails.result = dm.executeLocal(query);\n        }\n        else {\n            var requestType = pageingDetails.actionArgs.requestType;\n            if (requestType === 'filtering' || requestType === 'collapseAll' || requestType === 'searching' || (requestType === 'refresh' && getValue('isExpandAll', this.parent)) ||\n                (requestType === 'refresh' && this.parent.enableCollapseAll && endIndex > visualData.length && isNullOrUndefined(this.expandCollapseRec))) {\n                startIndex = 0;\n                endIndex = this.parent.grid.pageSettings.pageSize - 1;\n                this.parent.grid.getContent().firstElementChild.scrollTop = 0;\n                this.parent.grid.notify(events.virtualActionArgs, { setTop: true });\n            }\n            if ((requestType === 'save' && pageingDetails.actionArgs.index >= (counts.count - this.parent.grid.pageSettings.pageSize)) || (requestType === 'refresh' && this.parent['isGantt'] && this.parent['isAddedFromGantt'])) {\n                if (this.setEndIndexToGantt) {\n                    this.ganttEndIndex = counts.endIndex;\n                }\n                if ((counts.endIndex + this.parent.pageSettings.pageSize >= counts.count && (this.parent.root && counts.count - this.ganttEndIndex === this.visualData.length - this.parent.root['previousFlatData'].length))\n                    || !(this.parent['isGantt'] && this.parent['isAddedFromGantt'])) {\n                    startIndex = counts.startIndex + (counts.count - counts.endIndex);\n                    endIndex = counts.count;\n                    this.setEndIndexToGantt = false;\n                }\n                this.ganttEndIndex = endIndex;\n                this.parent['isAddedFromGantt'] = false;\n            }\n            //if ((this.prevendIndex !== -1 && this.prevstartIndex !== -1) &&\n            //this.prevendIndex === endIndex && this.prevstartIndex === startIndex) {\n            var virtualWrapperElement = this.parent.grid.contentModule.virtualEle.wrapper;\n            var translateY = getTransformValues(virtualWrapperElement).height;\n            if (!isNullOrUndefined(this.expandCollapseRec) && (pageingDetails.actionArgs.requestType === 'virtualscroll' ||\n                (pageingDetails.actionArgs.requestType === 'refresh' && startIndex !== this.prevstartIndex)) &&\n                (startIndex < this.parent.getRows().length && endIndex <= startIndex + this.parent.getRows().length) && translateY === 0) {\n                startIndex = 0;\n            }\n            if (!isNullOrUndefined(this.expandCollapseRec)) {\n                var resourceCount = this.parent.getRows();\n                var sIndex = visualData.indexOf(this.expandCollapseRec);\n                var tempdata = visualData.slice(sIndex, sIndex + resourceCount.length);\n                if (tempdata.length < resourceCount.length && sIndex >= 0 && startIndex !== 0) {\n                    sIndex = visualData.length - resourceCount.length;\n                    sIndex = sIndex > 0 ? sIndex : 0;\n                    startIndex = sIndex;\n                    endIndex = visualData.length;\n                }\n                else if (getValue('isCollapseAll', this.parent)) {\n                    startIndex = 0;\n                    endIndex = this.parent.grid.pageSettings.pageSize - 1;\n                    this.parent.grid.notify(events.virtualActionArgs, { setTop: true });\n                }\n            }\n            //}\n            if (this.prevrequestType === 'collapseAll' && pageingDetails.actionArgs.requestType === 'virtualscroll'\n                && !isNullOrUndefined(this.parent.idMapping) && startIndex === 0) {\n                startIndex = 0;\n                endIndex = this.parent.grid.pageSettings.pageSize - 1;\n                this.parent.grid.notify(events.virtualActionArgs, { setTop: true });\n            }\n            if ((this.parent.enableCollapseAll || this.parent.expandStateMapping) && !isNullOrUndefined(this.expandCollapseRec)) {\n                if (pageingDetails.count < this.parent.getRows()[0].getBoundingClientRect().height) {\n                    startIndex = 0;\n                }\n                else if (!this.parent['isExpandAll']) {\n                    startIndex = this.prevstartIndex === -1 ? 0 : this.prevstartIndex;\n                }\n            }\n            this.expandCollapseRec = null;\n            startIndex = startIndex < 0 ? 0 : startIndex;\n            if (endIndex === 0 && visualData.length > 0) {\n                pageingDetails.result = visualData;\n            }\n            else {\n                pageingDetails.result = visualData.slice(startIndex, endIndex);\n            }\n            this.prevstartIndex = startIndex;\n            this.prevendIndex = endIndex;\n            this.prevrequestType = pageingDetails.actionArgs.requestType;\n        }\n        this.parent.notify('updateAction', pageingDetails);\n    };\n    /**\n     * To destroy the virtualScroll module\n     *\n     * @returns {void}\n     * @hidden\n     */\n    VirtualScroll.prototype.destroy = function () {\n        this.removeEventListener();\n    };\n    return VirtualScroll;\n}());\nexport { VirtualScroll };\nvar TreeVirtual = /** @class */ (function (_super) {\n    __extends(TreeVirtual, _super);\n    function TreeVirtual(parent, locator) {\n        var _this = _super.call(this, parent, locator) || this;\n        getValue('parent', _this).off('initial-load', getValue('instantiateRenderer', _this), _this);\n        getValue('parent', _this).on('initial-load', _this.instantiateRenderers, _this);\n        return _this;\n    }\n    TreeVirtual.prototype.getModuleName = function () {\n        return 'treeVirtualScroll';\n    };\n    TreeVirtual.prototype.instantiateRenderers = function () {\n        var parentGrid = getValue('parent', this);\n        getValue('parent', this).log(['limitation', 'virtual_height'], 'virtualization');\n        var renderer = getValue('locator', this).getService('rendererFactory');\n        if (parentGrid.enableColumnVirtualization) {\n            getValue('addRenderer', renderer)\n                .apply(renderer, [RenderType.Header, new VirtualHeaderRenderer(getValue('parent', this), getValue('locator', this))]);\n        }\n        getValue('addRenderer', renderer)\n            .apply(renderer, [RenderType.Content, new VirtualTreeContentRenderer(getValue('parent', this), getValue('locator', this))]);\n        this.ensurePageSize();\n    };\n    TreeVirtual.prototype.ensurePageSize = function () {\n        var parentGrid = getValue('parent', this);\n        var rowHeight = parentGrid.getRowHeight();\n        if (!isNullOrUndefined(parentGrid.height) && typeof (parentGrid.height) === 'string' && parentGrid.height.indexOf('%') !== -1) {\n            parentGrid.element.style.height = parentGrid.height;\n        }\n        var vHeight = parentGrid.height.toString().indexOf('%') < 0 ? parseInt(parentGrid.height.toString(), 10) :\n            parentGrid.element.getBoundingClientRect().height;\n        var blockSize = ~~(vHeight / rowHeight);\n        var height = blockSize * 2;\n        var size = parentGrid.pageSettings.pageSize;\n        parentGrid.setProperties({ pageSettings: { pageSize: size < height ? height : size } }, true);\n    };\n    return TreeVirtual;\n}(GridVirtualScroll));\nexport { TreeVirtual };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}