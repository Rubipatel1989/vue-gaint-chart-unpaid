{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.filter.js\";\nimport \"core-js/modules/esnext.iterator.map.js\";\nimport \"core-js/modules/esnext.iterator.some.js\";\nimport { isNullOrUndefined, extend, addClass, removeClass } from '@syncfusion/ej2-base';\nimport { attributes as addAttributes } from '@syncfusion/ej2-base';\nimport { rowDataBound, queryCellInfo } from '../base/constant';\nimport { setStyleAndAttributes, getObject, extendObjWithFn, applyStickyLeftRightPosition, groupCaptionRowLeftRightPos, resetColspanGroupCaption, resetColandRowSpanStickyPosition } from '../base/util';\nimport { CellType } from '../base/enum';\nimport { CellMergeRender } from './cell-merge-renderer';\nimport * as literals from '../base/string-literals';\n/**\n * RowRenderer class which responsible for building row content.\n *\n * @hidden\n */\nvar RowRenderer = /** @class */function () {\n  function RowRenderer(serviceLocator, cellType, parent) {\n    this.isSpan = false;\n    this.cellType = cellType;\n    this.serviceLocator = serviceLocator;\n    this.parent = parent;\n    this.element = this.parent.createElement('tr', {\n      attrs: {\n        role: 'row'\n      }\n    });\n  }\n  /* eslint-disable */\n  /**\n   * Function to render the row content based on Column[] and data.\n   *\n   * @param {Row<T>} row - specifies the row\n   * @param {Column[]} columns - specifies the columns\n   * @param {Object} attributes - specifies the attributes\n   * @param {string} rowTemplate - specifies the rowTemplate\n   * @param {Element} cloneNode - specifies the cloneNode\n   * @returns {Element} returns the element\n   */\n  /* eslint-enable */\n  RowRenderer.prototype.render = function (row, columns, attributes, rowTemplate, cloneNode) {\n    return this.refreshRow(row, columns, attributes, rowTemplate, cloneNode);\n  };\n  /* eslint-disable */\n  /**\n   * Function to refresh the row content based on Column[] and data.\n   *\n   * @param {Row<T>} row - specifies the row\n   * @param {Column[]} columns - specifies the column\n   * @param {boolean} isChanged - specifies isChanged\n   * @param {Object} attributes - specifies the attributes\n   * @param {string} rowTemplate - specifies the rowTemplate\n   * @returns {void}\n   */\n  /* eslint-enable */\n  RowRenderer.prototype.refresh = function (row, columns, isChanged, attributes, rowTemplate) {\n    var _this = this;\n    if (isChanged) {\n      row.data = extendObjWithFn({}, row.changes);\n      this.refreshMergeCells(row);\n    }\n    var node = this.parent.element.querySelector('[data-uid=' + row.uid + ']');\n    var tr = this.refreshRow(row, columns, attributes, rowTemplate, null, isChanged);\n    var cells = [].slice.call(tr.cells);\n    var tempCells = [].slice.call(node.querySelectorAll('.e-templatecell'));\n    if (this.parent.isReact && tempCells.length) {\n      var _loop_1 = function (col) {\n        if (col.template) {\n          setTimeout(function () {\n            _this.parent.refreshReactColumnTemplateByUid(col.uid, true);\n          }, 0);\n          return \"break\";\n        }\n      };\n      for (var _i = 0, columns_1 = columns; _i < columns_1.length; _i++) {\n        var col = columns_1[_i];\n        var state_1 = _loop_1(col);\n        if (state_1 === \"break\") break;\n      }\n    }\n    var attr = [].slice.call(tr.attributes);\n    attr.map(function (item) {\n      node.setAttribute(item['name'], item['value']);\n    });\n    node.innerHTML = '';\n    for (var _a = 0, cells_1 = cells; _a < cells_1.length; _a++) {\n      var cell = cells_1[_a];\n      node.appendChild(cell);\n    }\n  };\n  // tslint:disable-next-line:max-func-body-length\n  RowRenderer.prototype.refreshRow = function (row, columns, attributes, rowTemplate, cloneNode, isEdit) {\n    var tr = !isNullOrUndefined(cloneNode) ? cloneNode : this.element.cloneNode();\n    var rowArgs = {\n      data: row.data\n    };\n    var cellArgs = {\n      data: row.data\n    };\n    var chekBoxEnable = this.parent.getColumns().filter(function (col) {\n      return col.type === 'checkbox' && col.field;\n    })[0];\n    var value = false;\n    var isFrozen = this.parent.isFrozenGrid();\n    var isFirstVisibleCell = true;\n    if (chekBoxEnable) {\n      value = getObject(chekBoxEnable.field, rowArgs.data);\n    }\n    var selIndex = this.parent.getSelectedRowIndexes();\n    if (row.isDataRow) {\n      row.isSelected = selIndex.indexOf(row.index) > -1 || value;\n    }\n    if (row.isDataRow && this.parent.isCheckBoxSelection && this.parent.checkAllRows === 'Check' && (this.parent.enableVirtualization || this.parent.enableInfiniteScrolling)) {\n      row.isSelected = true;\n      if (selIndex.indexOf(row.index) === -1) {\n        selIndex.push(row.index);\n      }\n    }\n    this.buildAttributeFromRow(tr, row);\n    addAttributes(tr, extend({}, attributes, {}));\n    setStyleAndAttributes(tr, row.attributes);\n    var cellRendererFact = this.serviceLocator.getService('cellRendererFactory');\n    var _loop_2 = function (i, len) {\n      var cell = row.cells[parseInt(i.toString(), 10)];\n      cell.isSelected = row.isSelected;\n      cell.isColumnSelected = cell.column.isSelected;\n      var cellRenderer = cellRendererFact.getCellRenderer(row.cells[parseInt(i.toString(), 10)].cellType || CellType.Data);\n      var attrs = {\n        'index': !isNullOrUndefined(row.index) ? row.index.toString() : ''\n      };\n      if (row.isExpand && row.cells[parseInt(i.toString(), 10)].cellType === CellType.DetailExpand) {\n        attrs['class'] = this_1.parent.isPrinting ? 'e-detailrowcollapse' : 'e-detailrowexpand';\n      }\n      var isGroupFirstCell = !this_1.parent.enableRtl && this_1.parent.groupSettings && isFirstVisibleCell && this_1.parent.groupSettings.columns.length && (this_1.parent.gridLines === 'Vertical' || this_1.parent.gridLines === 'Both');\n      var td = cellRenderer.render(row.cells[parseInt(i.toString(), 10)], row.data, attrs, row.isExpand, isEdit);\n      if (row.cells[parseInt(i.toString(), 10)].cellType !== CellType.Filter) {\n        if (row.cells[parseInt(i.toString(), 10)].cellType === CellType.Data || row.cells[parseInt(i.toString(), 10)].cellType === CellType.CommandColumn) {\n          if (cell.visible && isGroupFirstCell) {\n            td.classList.add('e-grid-group-first-cell');\n            isFirstVisibleCell = false;\n          }\n          var isReactChild = this_1.parent.parentDetails && this_1.parent.parentDetails.parentInstObj && this_1.parent.parentDetails.parentInstObj.isReact;\n          if ((this_1.parent.isReact && this_1.parent.requireTemplateRef || isReactChild && this_1.parent.parentDetails.parentInstObj.requireTemplateRef) && cell.isTemplate) {\n            // eslint-disable-next-line @typescript-eslint/no-this-alias\n            var thisRef_1 = this_1;\n            thisRef_1.parent.renderTemplates(function () {\n              if (typeof cell.column.template !== 'string') {\n                var ariaAttr = td.getAttribute('aria-label');\n                td.setAttribute('aria-label', td.innerText + ariaAttr);\n              }\n              thisRef_1.parent.trigger(queryCellInfo, extend(cellArgs, {\n                cell: td,\n                column: cell.column,\n                colSpan: 1,\n                rowSpan: 1,\n                foreignKeyData: row.cells[parseInt(i.toString(), 10)].foreignKeyData,\n                requestType: thisRef_1.parent.requestTypeAction\n              }));\n            });\n          } else {\n            this_1.parent.trigger(queryCellInfo, extend(cellArgs, {\n              cell: td,\n              column: cell.column,\n              colSpan: 1,\n              rowSpan: 1,\n              foreignKeyData: row.cells[parseInt(i.toString(), 10)].foreignKeyData,\n              requestType: this_1.parent.requestTypeAction\n            }));\n          }\n          var isRowSpanned = false;\n          if (row.index > 0 && (this_1.isSpan || this_1.parent.isSpan && isEdit)) {\n            var rowsObject = this_1.parent.getRowsObject();\n            var prevRowCells = this_1.parent.groupSettings.columns.length > 0 && !rowsObject[row.index - 1].isDataRow ? rowsObject[row.index].cells : rowsObject[row.index - 1].cells;\n            var uid_1 = 'uid';\n            var prevRowCell = prevRowCells.filter(function (cell) {\n              return cell.column.uid === row.cells[parseInt(i.toString(), 10)].column[\"\" + uid_1];\n            })[0];\n            isRowSpanned = prevRowCell.isRowSpanned ? prevRowCell.isRowSpanned : prevRowCell.rowSpanRange > 1;\n          }\n          if (cellArgs.rowSpan > 1 || cellArgs.colSpan > 1) {\n            this_1.resetrowSpanvalue(this_1.parent.frozenRows > row.index ? this_1.parent.frozenRows : this_1.parent.currentViewData.length, cellArgs, row.index);\n            if (cellArgs.column.visible === false) {\n              cellArgs.colSpan = 1;\n            } else {\n              if (isFrozen) {\n                var columns_2 = this_1.parent.getColumns();\n                var right = this_1.parent.getFrozenRightColumnsCount();\n                var left = this_1.parent.getFrozenLeftCount();\n                var movableCount = columns_2.length - right;\n                var cellIdx = cellArgs.column.index;\n                if (left > cellIdx && left < cellIdx + cellArgs.colSpan) {\n                  var colSpan = cellIdx + cellArgs.colSpan - left;\n                  cellArgs.colSpan = cellArgs.colSpan - colSpan;\n                } else if (movableCount <= cellIdx && columns_2.length < cellIdx + cellArgs.colSpan) {\n                  var colSpan = cellIdx + cellArgs.colSpan - columns_2.length;\n                  cellArgs.colSpan = cellArgs.colSpan - colSpan;\n                } else if (cellArgs.column.freeze === 'Fixed') {\n                  var colSpan = 1;\n                  var index = cellIdx;\n                  for (var j = index + 1; j < index + cellArgs.colSpan; j++) {\n                    if (columns_2[parseInt(j.toString(), 10)].freeze === 'Fixed') {\n                      colSpan++;\n                    } else {\n                      break;\n                    }\n                  }\n                  cellArgs.colSpan = colSpan;\n                } else if (movableCount > cellIdx && movableCount < cellIdx + cellArgs.colSpan) {\n                  var colSpan = cellIdx + cellArgs.colSpan - movableCount;\n                  cellArgs.colSpan = cellArgs.colSpan - colSpan;\n                }\n              }\n            }\n          }\n          if (cellArgs.colSpan > 1 || row.cells[parseInt(i.toString(), 10)].cellSpan > 1 || cellArgs.rowSpan > 1 || isRowSpanned) {\n            this_1.parent.isSpan = true;\n            this_1.isSpan = true;\n            var cellMerge = new CellMergeRender(this_1.serviceLocator, this_1.parent);\n            td = cellMerge.render(cellArgs, row, i, td);\n            if (isFrozen) {\n              resetColandRowSpanStickyPosition(this_1.parent, cellArgs.column, td, cellArgs.colSpan);\n            }\n          }\n        }\n        if ((cell.cellType === CellType.Header || cell.cellType === CellType.StackedHeader) && isGroupFirstCell && (cell.visible || cell.cellType === CellType.StackedHeader)) {\n          var visibleColumns = this_1.parent.getVisibleColumns();\n          var field = 'field';\n          var type = 'type';\n          if (cell.column[\"\" + type] && cell.column[\"\" + type] === 'checkbox' || cell.cellType === CellType.Header && cell.column[\"\" + field] && visibleColumns.length && visibleColumns[0].field === cell.column[\"\" + field] || cell.cellType === CellType.StackedHeader) {\n            td.classList.add('e-grid-group-first-cell');\n            isFirstVisibleCell = false;\n          }\n        }\n        if (this_1.isSpan) {\n          var rowsObject = this_1.parent.getRowsObject();\n          var isRtl = this_1.parent.enableRtl;\n          if (rowsObject[row.index - 1]) {\n            var prevRowCells = rowsObject[row.index - 1].cells;\n            var prevRowCell = prevRowCells[i - 1];\n            var currentRowCell = prevRowCells[parseInt(i.toString(), 10)];\n            var nextRowCell = prevRowCells[i + 1];\n            var direction = prevRowCells[parseInt(i.toString(), 10)].column.freeze;\n            if (prevRowCell && (prevRowCell.isRowSpanned || prevRowCell.rowSpanRange > 1) && prevRowCell.visible) {\n              if (!isRtl && (!currentRowCell.isRowSpanned || prevRowCell.rowSpanRange > currentRowCell.rowSpanRange)) {\n                td.classList.add('e-rowcell-firstchild');\n              }\n              if (isFrozen) {\n                if (prevRowCell.column.freeze === 'Fixed' && direction === 'Fixed') {\n                  td.classList.add(isRtl ? 'e-removefreezerightborder' : 'e-removefreezeleftborder');\n                } else if (!isRtl && i === 1 && direction === 'Left') {\n                  td.classList.add('e-addfreezefirstchildborder');\n                }\n              }\n            }\n            if (nextRowCell && (nextRowCell.isRowSpanned || nextRowCell.rowSpanRange > 1) && nextRowCell.visible) {\n              if (isRtl && (!currentRowCell.isRowSpanned || nextRowCell.rowSpanRange > currentRowCell.rowSpanRange)) {\n                td.classList.add('e-rowcell-lastchild');\n              }\n              if (isFrozen && nextRowCell.column.freeze === 'Fixed' && direction === 'Fixed' && cellArgs.colSpan < 2) {\n                td.classList.add(isRtl ? 'e-removefreezeleftborder' : 'e-removefreezerightborder');\n              }\n            }\n          }\n        }\n        if (cellArgs.rowSpan > 1 && this_1.parent.currentViewData.length - row.index === cellArgs.rowSpan) {\n          td.classList.add('e-row-span-lastrowcell');\n        }\n        if (!row.cells[parseInt(i.toString(), 10)].isSpanned) {\n          tr.appendChild(td);\n        }\n      }\n    };\n    var this_1 = this;\n    for (var i = 0, len = row.cells.length; i < len; i++) {\n      _loop_2(i, len);\n    }\n    var emptyColspan = 0;\n    if (this.parent.groupSettings.columns.length && this.parent.getFrozenLeftColumnsCount()) {\n      if (tr.classList.contains('e-groupcaptionrow')) {\n        var freezeCells = [].slice.call(tr.querySelectorAll('.e-leftfreeze,.e-unfreeze,.e-rightfreeze,.e-fixedfreeze,.e-freezerightborder,.e-freezeleftborder'));\n        if (freezeCells.length) {\n          removeClass(freezeCells, ['e-leftfreeze', 'e-unfreeze', 'e-rightfreeze', 'e-fixedfreeze', 'e-freezerightborder', 'e-freezeleftborder']);\n        }\n        if (tr.querySelector('.e-summarycell')) {\n          groupCaptionRowLeftRightPos(tr, this.parent);\n        } else {\n          for (var j = 0; j < tr.childNodes.length; j++) {\n            var td = tr.childNodes[parseInt(j.toString(), 10)];\n            td.classList.add('e-leftfreeze');\n            applyStickyLeftRightPosition(td, j * 30, this.parent.enableRtl, 'Left');\n            if (td.classList.contains('e-groupcaption')) {\n              var oldColspan = parseInt(td.getAttribute('colspan'), 10);\n              var colspan = resetColspanGroupCaption(this.parent, j);\n              td.setAttribute('colspan', colspan.toString());\n              emptyColspan = oldColspan - colspan;\n            }\n          }\n          if (emptyColspan) {\n            var td = this.parent.createElement('TD', {\n              className: 'e-groupcaption',\n              attrs: {\n                colspan: emptyColspan.toString(),\n                id: this.parent.element.id + 'captioncell',\n                tabindex: '-1'\n              }\n            });\n            tr.appendChild(td);\n          }\n        }\n      }\n      if ((tr.querySelectorAll('.e-leftfreeze').length || tr.classList.contains('e-columnheader')) && (tr.querySelectorAll('.e-indentcell').length || tr.querySelectorAll('.e-grouptopleftcell').length)) {\n        var td = tr.querySelectorAll('.e-indentcell, .e-grouptopleftcell');\n        for (var i = 0; i < td.length; i++) {\n          td[parseInt(i.toString(), 10)].classList.add('e-leftfreeze');\n          applyStickyLeftRightPosition(td[parseInt(i.toString(), 10)], i * 30, this.parent.enableRtl, 'Left');\n        }\n      }\n    }\n    var args = {\n      row: tr,\n      rowHeight: this.parent.rowHeight\n    };\n    if (row.isDataRow) {\n      var eventArg_1 = extend(rowArgs, args);\n      eventArg_1.isSelectable = true;\n      var isReactChild = this.parent.parentDetails && this.parent.parentDetails.parentInstObj && this.parent.parentDetails.parentInstObj.isReact;\n      var cellTemplate = eventArg_1.row.querySelectorAll('.e-templatecell');\n      if ((this.parent.isReact && this.parent.requireTemplateRef || isReactChild && this.parent.parentDetails.parentInstObj.requireTemplateRef) && cellTemplate.length) {\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\n        var thisRef_2 = this;\n        thisRef_2.parent.renderTemplates(function () {\n          thisRef_2.parent.trigger(rowDataBound, eventArg_1);\n          if (!eventArg_1.isSelectable) {\n            row.isSelectable = eventArg_1.isSelectable;\n            thisRef_2.disableRowSelection(thisRef_2, row, args, eventArg_1);\n          }\n        });\n      } else {\n        this.parent.trigger(rowDataBound, eventArg_1);\n      }\n      row.isSelectable = eventArg_1.isSelectable;\n      var isDraggable = this.parent.isRowDragable();\n      if (this.parent.allowPaging && this.parent.selectionSettings.persistSelection) {\n        var primaryKey_1 = this.parent.getPrimaryKeyFieldNames()[0];\n        var pKey_1 = row.data ? row.data[\"\" + primaryKey_1] : null;\n        var SelectedRecords = eventArg_1.isSelectable ? this.parent.partialSelectedRecords : this.parent.disableSelectedRecords;\n        if (!SelectedRecords.some(function (data) {\n          return data[\"\" + primaryKey_1] === pKey_1;\n        })) {\n          SelectedRecords.push(row.data);\n        }\n      }\n      if (!eventArg_1.isSelectable) {\n        this.disableRowSelection(this, row, args, eventArg_1);\n      }\n      if (this.parent.childGrid || isDraggable || this.parent.detailTemplate) {\n        var td = tr.querySelectorAll('.e-rowcell:not(.e-hide)')[0];\n        if (td) {\n          td.classList.add('e-detailrowvisible');\n        }\n      }\n    }\n    if (this.parent.enableVirtualization) {\n      rowArgs.rowHeight = this.parent.rowHeight;\n    }\n    if (rowArgs.rowHeight) {\n      tr.style.height = rowArgs.rowHeight + 'px';\n    } else if (this.parent.rowHeight && (tr.querySelector('.e-headercell') || tr.querySelector('.e-groupcaption'))) {\n      tr.style.height = this.parent.rowHeight + 'px';\n    }\n    if (row.cssClass) {\n      tr.classList.add(row.cssClass);\n    }\n    if (row.lazyLoadCssClass) {\n      tr.classList.add(row.lazyLoadCssClass);\n    }\n    if (this.parent.rowRenderingMode === 'Vertical' && this.parent.allowTextWrap && (this.parent.textWrapSettings.wrapMode === 'Header' || this.parent.textWrapSettings.wrapMode === 'Both')) {\n      tr.classList.add('e-verticalwrap');\n    }\n    var vFTable = this.parent.enableColumnVirtualization;\n    if (!vFTable && this.parent.aggregates.length && this.parent.element.scrollHeight > this.parent.height) {\n      for (var i = 0; i < this.parent.aggregates.length; i++) {\n        var property = 'properties';\n        var column = 'columns';\n        if (this.parent.aggregates[parseInt(i.toString(), 10)][\"\" + property][\"\" + column][0].footerTemplate) {\n          var summarycell = [].slice.call(tr.getElementsByClassName('e-summarycell'));\n          if (summarycell.length) {\n            var lastSummaryCell = summarycell[summarycell.length - 1];\n            addClass([lastSummaryCell], ['e-lastsummarycell']);\n            var firstSummaryCell = summarycell[0];\n            addClass([firstSummaryCell], ['e-firstsummarycell']);\n          }\n        }\n      }\n    }\n    return tr;\n  };\n  RowRenderer.prototype.resetrowSpanvalue = function (rowCount, cellArgs, rowIndex) {\n    if (rowCount > rowIndex && rowCount < rowIndex + cellArgs.rowSpan) {\n      var rowSpan = rowIndex + cellArgs.rowSpan - rowCount;\n      cellArgs.rowSpan = cellArgs.rowSpan - rowSpan;\n    }\n  };\n  RowRenderer.prototype.disableRowSelection = function (thisRef, row, args, eventArg) {\n    var selIndex = this.parent.getSelectedRowIndexes();\n    this.parent.selectionModule.isPartialSelection = true;\n    row.isSelected = false;\n    var selRowIndex = selIndex.indexOf(row.index);\n    if (selRowIndex > -1) {\n      selIndex.splice(selRowIndex, 1);\n    }\n    var chkBox = args.row.querySelectorAll('.e-rowcell.e-gridchkbox');\n    var isDrag = eventArg.row.querySelector('.e-rowdragdrop');\n    var cellIdx = thisRef.parent.groupSettings.columns.length + (isDrag || thisRef.parent.isDetail() ? 1 : 0);\n    for (var i = 0; i < chkBox.length; i++) {\n      chkBox[parseInt(i.toString(), 10)].firstElementChild.classList.add('e-checkbox-disabled');\n      chkBox[parseInt(i.toString(), 10)].querySelector('.e-frame').classList.remove('e-check');\n    }\n    if (row.cells.length) {\n      for (var i = cellIdx; i < row.cells.length; i++) {\n        var cell = eventArg.row.querySelector('.e-rowcell[data-colindex=\"' + row.cells[parseInt(i.toString(), 10)].index + '\"]');\n        if (cell) {\n          removeClass([cell], ['e-selectionbackground', 'e-active']);\n        }\n      }\n    }\n    if (isDrag) {\n      removeClass([isDrag], ['e-selectionbackground', 'e-active']);\n    }\n  };\n  RowRenderer.prototype.refreshMergeCells = function (row) {\n    for (var _i = 0, _a = row.cells; _i < _a.length; _i++) {\n      var cell = _a[_i];\n      cell.isSpanned = false;\n    }\n    return row;\n  };\n  /* eslint-disable */\n  /**\n   * Function to check and add alternative row css class.\n   *\n   * @param {Element} tr - specifies the tr element\n   * @param {Row<T>} row - specifies the row\n   * @returns {void}\n   */\n  /* eslint-enable */\n  RowRenderer.prototype.buildAttributeFromRow = function (tr, row) {\n    var attr = {};\n    var prop = {\n      'rowindex': literals.dataRowIndex,\n      'dataUID': 'data-uid',\n      'ariaSelected': 'aria-selected'\n    };\n    var classes = [];\n    if (row.isDataRow) {\n      classes.push(literals.row);\n    }\n    if (row.isAltRow) {\n      classes.push('e-altrow');\n    }\n    if (row.isCaptionRow) {\n      classes.push('e-groupcaptionrow');\n    }\n    if (row.isAggregateRow && row.parentUid) {\n      classes.push('e-groupfooterrow');\n    }\n    if (!isNullOrUndefined(row.index)) {\n      attr[literals.ariaRowIndex] = row.index + 1;\n      attr[prop.rowindex] = row.index;\n    }\n    if (row.rowSpan) {\n      attr.rowSpan = row.rowSpan;\n    }\n    if (row.uid) {\n      attr[prop.dataUID] = row.uid;\n    }\n    if (row.isSelected) {\n      attr[prop.ariaSelected] = true;\n    }\n    if (row.visible === false) {\n      classes.push('e-hide');\n    }\n    attr.class = classes;\n    setStyleAndAttributes(tr, attr);\n  };\n  return RowRenderer;\n}();\nexport { RowRenderer };","map":{"version":3,"names":["isNullOrUndefined","extend","addClass","removeClass","attributes","addAttributes","rowDataBound","queryCellInfo","setStyleAndAttributes","getObject","extendObjWithFn","applyStickyLeftRightPosition","groupCaptionRowLeftRightPos","resetColspanGroupCaption","resetColandRowSpanStickyPosition","CellType","CellMergeRender","literals","RowRenderer","serviceLocator","cellType","parent","isSpan","element","createElement","attrs","role","prototype","render","row","columns","rowTemplate","cloneNode","refreshRow","refresh","isChanged","_this","data","changes","refreshMergeCells","node","querySelector","uid","tr","cells","slice","call","tempCells","querySelectorAll","isReact","length","_loop_1","col","template","setTimeout","refreshReactColumnTemplateByUid","_i","columns_1","state_1","attr","map","item","setAttribute","innerHTML","_a","cells_1","cell","appendChild","isEdit","rowArgs","cellArgs","chekBoxEnable","getColumns","filter","type","field","value","isFrozen","isFrozenGrid","isFirstVisibleCell","selIndex","getSelectedRowIndexes","isDataRow","isSelected","indexOf","index","isCheckBoxSelection","checkAllRows","enableVirtualization","enableInfiniteScrolling","push","buildAttributeFromRow","cellRendererFact","getService","_loop_2","i","len","parseInt","toString","isColumnSelected","column","cellRenderer","getCellRenderer","Data","isExpand","DetailExpand","this_1","isPrinting","isGroupFirstCell","enableRtl","groupSettings","gridLines","td","Filter","CommandColumn","visible","classList","add","isReactChild","parentDetails","parentInstObj","requireTemplateRef","isTemplate","thisRef_1","renderTemplates","ariaAttr","getAttribute","innerText","trigger","colSpan","rowSpan","foreignKeyData","requestType","requestTypeAction","isRowSpanned","rowsObject","getRowsObject","prevRowCells","uid_1","prevRowCell","rowSpanRange","resetrowSpanvalue","frozenRows","currentViewData","columns_2","right","getFrozenRightColumnsCount","left","getFrozenLeftCount","movableCount","cellIdx","freeze","j","cellSpan","cellMerge","Header","StackedHeader","visibleColumns","getVisibleColumns","isRtl","currentRowCell","nextRowCell","direction","isSpanned","emptyColspan","getFrozenLeftColumnsCount","contains","freezeCells","childNodes","oldColspan","colspan","className","id","tabindex","args","rowHeight","eventArg_1","isSelectable","cellTemplate","thisRef_2","disableRowSelection","isDraggable","isRowDragable","allowPaging","selectionSettings","persistSelection","primaryKey_1","getPrimaryKeyFieldNames","pKey_1","SelectedRecords","partialSelectedRecords","disableSelectedRecords","some","childGrid","detailTemplate","style","height","cssClass","lazyLoadCssClass","rowRenderingMode","allowTextWrap","textWrapSettings","wrapMode","vFTable","enableColumnVirtualization","aggregates","scrollHeight","property","footerTemplate","summarycell","getElementsByClassName","lastSummaryCell","firstSummaryCell","rowCount","rowIndex","thisRef","eventArg","selectionModule","isPartialSelection","selRowIndex","splice","chkBox","isDrag","isDetail","firstElementChild","remove","prop","dataRowIndex","classes","isAltRow","isCaptionRow","isAggregateRow","parentUid","ariaRowIndex","rowindex","dataUID","ariaSelected","class"],"sources":["/var/www/vue/vue-gantt-chart/node_modules/@syncfusion/ej2-grids/src/grid/renderer/row-renderer.js"],"sourcesContent":["import { isNullOrUndefined, extend, addClass, removeClass } from '@syncfusion/ej2-base';\nimport { attributes as addAttributes } from '@syncfusion/ej2-base';\nimport { rowDataBound, queryCellInfo } from '../base/constant';\nimport { setStyleAndAttributes, getObject, extendObjWithFn, applyStickyLeftRightPosition, groupCaptionRowLeftRightPos, resetColspanGroupCaption, resetColandRowSpanStickyPosition } from '../base/util';\nimport { CellType } from '../base/enum';\nimport { CellMergeRender } from './cell-merge-renderer';\nimport * as literals from '../base/string-literals';\n/**\n * RowRenderer class which responsible for building row content.\n *\n * @hidden\n */\nvar RowRenderer = /** @class */ (function () {\n    function RowRenderer(serviceLocator, cellType, parent) {\n        this.isSpan = false;\n        this.cellType = cellType;\n        this.serviceLocator = serviceLocator;\n        this.parent = parent;\n        this.element = this.parent.createElement('tr', { attrs: { role: 'row' } });\n    }\n    /* eslint-disable */\n    /**\n     * Function to render the row content based on Column[] and data.\n     *\n     * @param {Row<T>} row - specifies the row\n     * @param {Column[]} columns - specifies the columns\n     * @param {Object} attributes - specifies the attributes\n     * @param {string} rowTemplate - specifies the rowTemplate\n     * @param {Element} cloneNode - specifies the cloneNode\n     * @returns {Element} returns the element\n     */\n    /* eslint-enable */\n    RowRenderer.prototype.render = function (row, columns, attributes, rowTemplate, cloneNode) {\n        return this.refreshRow(row, columns, attributes, rowTemplate, cloneNode);\n    };\n    /* eslint-disable */\n    /**\n     * Function to refresh the row content based on Column[] and data.\n     *\n     * @param {Row<T>} row - specifies the row\n     * @param {Column[]} columns - specifies the column\n     * @param {boolean} isChanged - specifies isChanged\n     * @param {Object} attributes - specifies the attributes\n     * @param {string} rowTemplate - specifies the rowTemplate\n     * @returns {void}\n     */\n    /* eslint-enable */\n    RowRenderer.prototype.refresh = function (row, columns, isChanged, attributes, rowTemplate) {\n        var _this = this;\n        if (isChanged) {\n            row.data = extendObjWithFn({}, row.changes);\n            this.refreshMergeCells(row);\n        }\n        var node = this.parent.element.querySelector('[data-uid=' + row.uid + ']');\n        var tr = this.refreshRow(row, columns, attributes, rowTemplate, null, isChanged);\n        var cells = [].slice.call(tr.cells);\n        var tempCells = [].slice.call(node.querySelectorAll('.e-templatecell'));\n        if (this.parent.isReact && tempCells.length) {\n            var _loop_1 = function (col) {\n                if (col.template) {\n                    setTimeout(function () {\n                        _this.parent.refreshReactColumnTemplateByUid(col.uid, true);\n                    }, 0);\n                    return \"break\";\n                }\n            };\n            for (var _i = 0, columns_1 = columns; _i < columns_1.length; _i++) {\n                var col = columns_1[_i];\n                var state_1 = _loop_1(col);\n                if (state_1 === \"break\")\n                    break;\n            }\n        }\n        var attr = [].slice.call(tr.attributes);\n        attr.map(function (item) {\n            node.setAttribute(item['name'], item['value']);\n        });\n        node.innerHTML = '';\n        for (var _a = 0, cells_1 = cells; _a < cells_1.length; _a++) {\n            var cell = cells_1[_a];\n            node.appendChild(cell);\n        }\n    };\n    // tslint:disable-next-line:max-func-body-length\n    RowRenderer.prototype.refreshRow = function (row, columns, attributes, rowTemplate, cloneNode, isEdit) {\n        var tr = !isNullOrUndefined(cloneNode) ? cloneNode : this.element.cloneNode();\n        var rowArgs = { data: row.data };\n        var cellArgs = { data: row.data };\n        var chekBoxEnable = this.parent.getColumns().filter(function (col) { return col.type === 'checkbox' && col.field; })[0];\n        var value = false;\n        var isFrozen = this.parent.isFrozenGrid();\n        var isFirstVisibleCell = true;\n        if (chekBoxEnable) {\n            value = getObject(chekBoxEnable.field, rowArgs.data);\n        }\n        var selIndex = this.parent.getSelectedRowIndexes();\n        if (row.isDataRow) {\n            row.isSelected = selIndex.indexOf(row.index) > -1 || value;\n        }\n        if (row.isDataRow && this.parent.isCheckBoxSelection\n            && this.parent.checkAllRows === 'Check' && (this.parent.enableVirtualization || this.parent.enableInfiniteScrolling)) {\n            row.isSelected = true;\n            if (selIndex.indexOf(row.index) === -1) {\n                selIndex.push(row.index);\n            }\n        }\n        this.buildAttributeFromRow(tr, row);\n        addAttributes(tr, extend({}, attributes, {}));\n        setStyleAndAttributes(tr, row.attributes);\n        var cellRendererFact = this.serviceLocator.getService('cellRendererFactory');\n        var _loop_2 = function (i, len) {\n            var cell = row.cells[parseInt(i.toString(), 10)];\n            cell.isSelected = row.isSelected;\n            cell.isColumnSelected = cell.column.isSelected;\n            var cellRenderer = cellRendererFact.getCellRenderer(row.cells[parseInt(i.toString(), 10)].cellType\n                || CellType.Data);\n            var attrs = { 'index': !isNullOrUndefined(row.index) ? row.index.toString() : '' };\n            if (row.isExpand && row.cells[parseInt(i.toString(), 10)].cellType === CellType.DetailExpand) {\n                attrs['class'] = this_1.parent.isPrinting ? 'e-detailrowcollapse' : 'e-detailrowexpand';\n            }\n            var isGroupFirstCell = !this_1.parent.enableRtl && this_1.parent.groupSettings && isFirstVisibleCell &&\n                this_1.parent.groupSettings.columns.length && (this_1.parent.gridLines === 'Vertical' || this_1.parent.gridLines === 'Both');\n            var td = cellRenderer.render(row.cells[parseInt(i.toString(), 10)], row.data, attrs, row.isExpand, isEdit);\n            if (row.cells[parseInt(i.toString(), 10)].cellType !== CellType.Filter) {\n                if (row.cells[parseInt(i.toString(), 10)].cellType === CellType.Data\n                    || row.cells[parseInt(i.toString(), 10)].cellType === CellType.CommandColumn) {\n                    if (cell.visible && isGroupFirstCell) {\n                        td.classList.add('e-grid-group-first-cell');\n                        isFirstVisibleCell = false;\n                    }\n                    var isReactChild = this_1.parent.parentDetails && this_1.parent.parentDetails.parentInstObj &&\n                        this_1.parent.parentDetails.parentInstObj.isReact;\n                    if (((this_1.parent.isReact && this_1.parent.requireTemplateRef) || (isReactChild &&\n                        this_1.parent.parentDetails.parentInstObj.requireTemplateRef)) && cell.isTemplate) {\n                        // eslint-disable-next-line @typescript-eslint/no-this-alias\n                        var thisRef_1 = this_1;\n                        thisRef_1.parent.renderTemplates(function () {\n                            if (typeof (cell.column.template) !== 'string') {\n                                var ariaAttr = td.getAttribute('aria-label');\n                                td.setAttribute('aria-label', td.innerText + ariaAttr);\n                            }\n                            thisRef_1.parent.trigger(queryCellInfo, extend(cellArgs, {\n                                cell: td, column: cell.column, colSpan: 1,\n                                rowSpan: 1, foreignKeyData: row.cells[parseInt(i.toString(), 10)].foreignKeyData,\n                                requestType: thisRef_1.parent.requestTypeAction\n                            }));\n                        });\n                    }\n                    else {\n                        this_1.parent.trigger(queryCellInfo, extend(cellArgs, {\n                            cell: td, column: cell.column, colSpan: 1,\n                            rowSpan: 1, foreignKeyData: row.cells[parseInt(i.toString(), 10)].foreignKeyData,\n                            requestType: this_1.parent.requestTypeAction\n                        }));\n                    }\n                    var isRowSpanned = false;\n                    if (row.index > 0 && (this_1.isSpan || (this_1.parent.isSpan && isEdit))) {\n                        var rowsObject = this_1.parent.getRowsObject();\n                        var prevRowCells = this_1.parent.groupSettings.columns.length > 0 &&\n                            !rowsObject[row.index - 1].isDataRow ? rowsObject[row.index].cells : rowsObject[row.index - 1].cells;\n                        var uid_1 = 'uid';\n                        var prevRowCell = prevRowCells.filter(function (cell) {\n                            return cell.column.uid === row.cells[parseInt(i.toString(), 10)].column[\"\" + uid_1];\n                        })[0];\n                        isRowSpanned = prevRowCell.isRowSpanned ? prevRowCell.isRowSpanned : prevRowCell.rowSpanRange > 1;\n                    }\n                    if ((cellArgs.rowSpan > 1 || cellArgs.colSpan > 1)) {\n                        this_1.resetrowSpanvalue(this_1.parent.frozenRows > row.index ? this_1.parent.frozenRows :\n                            this_1.parent.currentViewData.length, cellArgs, row.index);\n                        if (cellArgs.column.visible === false) {\n                            cellArgs.colSpan = 1;\n                        }\n                        else {\n                            if (isFrozen) {\n                                var columns_2 = this_1.parent.getColumns();\n                                var right = this_1.parent.getFrozenRightColumnsCount();\n                                var left = this_1.parent.getFrozenLeftCount();\n                                var movableCount = columns_2.length - right;\n                                var cellIdx = cellArgs.column.index;\n                                if (left > cellIdx && left < (cellIdx + cellArgs.colSpan)) {\n                                    var colSpan = (cellIdx + cellArgs.colSpan) - left;\n                                    cellArgs.colSpan = cellArgs.colSpan - colSpan;\n                                }\n                                else if (movableCount <= cellIdx && columns_2.length < (cellIdx + cellArgs.colSpan)) {\n                                    var colSpan = (cellIdx + cellArgs.colSpan) - columns_2.length;\n                                    cellArgs.colSpan = cellArgs.colSpan - colSpan;\n                                }\n                                else if (cellArgs.column.freeze === 'Fixed') {\n                                    var colSpan = 1;\n                                    var index = cellIdx;\n                                    for (var j = index + 1; j < index + cellArgs.colSpan; j++) {\n                                        if (columns_2[parseInt(j.toString(), 10)].freeze === 'Fixed') {\n                                            colSpan++;\n                                        }\n                                        else {\n                                            break;\n                                        }\n                                    }\n                                    cellArgs.colSpan = colSpan;\n                                }\n                                else if (movableCount > cellIdx && movableCount < (cellIdx + cellArgs.colSpan)) {\n                                    var colSpan = (cellIdx + cellArgs.colSpan) - movableCount;\n                                    cellArgs.colSpan = cellArgs.colSpan - colSpan;\n                                }\n                            }\n                        }\n                    }\n                    if (cellArgs.colSpan > 1 || row.cells[parseInt(i.toString(), 10)].cellSpan > 1 || cellArgs.rowSpan > 1\n                        || isRowSpanned) {\n                        this_1.parent.isSpan = true;\n                        this_1.isSpan = true;\n                        var cellMerge = new CellMergeRender(this_1.serviceLocator, this_1.parent);\n                        td = cellMerge.render(cellArgs, row, i, td);\n                        if (isFrozen) {\n                            resetColandRowSpanStickyPosition(this_1.parent, cellArgs.column, td, cellArgs.colSpan);\n                        }\n                    }\n                }\n                if ((cell.cellType === CellType.Header || cell.cellType === CellType.StackedHeader) &&\n                    isGroupFirstCell && (cell.visible || cell.cellType === CellType.StackedHeader)) {\n                    var visibleColumns = this_1.parent.getVisibleColumns();\n                    var field = 'field';\n                    var type = 'type';\n                    if ((cell.column[\"\" + type] && cell.column[\"\" + type] === 'checkbox') ||\n                        (cell.cellType === CellType.Header && cell.column[\"\" + field] && visibleColumns.length &&\n                            visibleColumns[0].field === cell.column[\"\" + field]) || cell.cellType === CellType.StackedHeader) {\n                        td.classList.add('e-grid-group-first-cell');\n                        isFirstVisibleCell = false;\n                    }\n                }\n                if (this_1.isSpan) {\n                    var rowsObject = this_1.parent.getRowsObject();\n                    var isRtl = this_1.parent.enableRtl;\n                    if (rowsObject[row.index - 1]) {\n                        var prevRowCells = rowsObject[row.index - 1].cells;\n                        var prevRowCell = prevRowCells[i - 1];\n                        var currentRowCell = prevRowCells[parseInt(i.toString(), 10)];\n                        var nextRowCell = prevRowCells[i + 1];\n                        var direction = prevRowCells[parseInt(i.toString(), 10)].column.freeze;\n                        if (prevRowCell && (prevRowCell.isRowSpanned || prevRowCell.rowSpanRange > 1) && prevRowCell.visible) {\n                            if (!isRtl && (!currentRowCell.isRowSpanned || prevRowCell.rowSpanRange > currentRowCell.rowSpanRange)) {\n                                td.classList.add('e-rowcell-firstchild');\n                            }\n                            if (isFrozen) {\n                                if (prevRowCell.column.freeze === 'Fixed' && direction === 'Fixed') {\n                                    td.classList.add(isRtl ? 'e-removefreezerightborder' : 'e-removefreezeleftborder');\n                                }\n                                else if (!isRtl && i === 1 && direction === 'Left') {\n                                    td.classList.add('e-addfreezefirstchildborder');\n                                }\n                            }\n                        }\n                        if (nextRowCell && (nextRowCell.isRowSpanned || nextRowCell.rowSpanRange > 1) && nextRowCell.visible) {\n                            if (isRtl && (!currentRowCell.isRowSpanned || nextRowCell.rowSpanRange > currentRowCell.rowSpanRange)) {\n                                td.classList.add('e-rowcell-lastchild');\n                            }\n                            if (isFrozen && nextRowCell.column.freeze === 'Fixed' && direction === 'Fixed' && cellArgs.colSpan < 2) {\n                                td.classList.add(isRtl ? 'e-removefreezeleftborder' : 'e-removefreezerightborder');\n                            }\n                        }\n                    }\n                }\n                if (cellArgs.rowSpan > 1 && this_1.parent.currentViewData.length - row.index === cellArgs.rowSpan) {\n                    td.classList.add('e-row-span-lastrowcell');\n                }\n                if (!row.cells[parseInt(i.toString(), 10)].isSpanned) {\n                    tr.appendChild(td);\n                }\n            }\n        };\n        var this_1 = this;\n        for (var i = 0, len = row.cells.length; i < len; i++) {\n            _loop_2(i, len);\n        }\n        var emptyColspan = 0;\n        if (this.parent.groupSettings.columns.length && this.parent.getFrozenLeftColumnsCount()) {\n            if (tr.classList.contains('e-groupcaptionrow')) {\n                var freezeCells = [].slice.call(tr.querySelectorAll('.e-leftfreeze,.e-unfreeze,.e-rightfreeze,.e-fixedfreeze,.e-freezerightborder,.e-freezeleftborder'));\n                if (freezeCells.length) {\n                    removeClass(freezeCells, ['e-leftfreeze', 'e-unfreeze', 'e-rightfreeze', 'e-fixedfreeze', 'e-freezerightborder', 'e-freezeleftborder']);\n                }\n                if (tr.querySelector('.e-summarycell')) {\n                    groupCaptionRowLeftRightPos(tr, this.parent);\n                }\n                else {\n                    for (var j = 0; j < tr.childNodes.length; j++) {\n                        var td = tr.childNodes[parseInt(j.toString(), 10)];\n                        td.classList.add('e-leftfreeze');\n                        applyStickyLeftRightPosition(td, j * 30, this.parent.enableRtl, 'Left');\n                        if (td.classList.contains('e-groupcaption')) {\n                            var oldColspan = parseInt(td.getAttribute('colspan'), 10);\n                            var colspan = resetColspanGroupCaption(this.parent, j);\n                            td.setAttribute('colspan', colspan.toString());\n                            emptyColspan = oldColspan - colspan;\n                        }\n                    }\n                    if (emptyColspan) {\n                        var td = this.parent.createElement('TD', {\n                            className: 'e-groupcaption',\n                            attrs: { colspan: emptyColspan.toString(), id: this.parent.element.id + 'captioncell', tabindex: '-1' }\n                        });\n                        tr.appendChild(td);\n                    }\n                }\n            }\n            if ((tr.querySelectorAll('.e-leftfreeze').length || tr.classList.contains('e-columnheader')) &&\n                (tr.querySelectorAll('.e-indentcell').length || tr.querySelectorAll('.e-grouptopleftcell').length)) {\n                var td = tr.querySelectorAll('.e-indentcell, .e-grouptopleftcell');\n                for (var i = 0; i < td.length; i++) {\n                    td[parseInt(i.toString(), 10)].classList.add('e-leftfreeze');\n                    applyStickyLeftRightPosition(td[parseInt(i.toString(), 10)], i * 30, this.parent.enableRtl, 'Left');\n                }\n            }\n        }\n        var args = { row: tr, rowHeight: this.parent.rowHeight };\n        if (row.isDataRow) {\n            var eventArg_1 = extend(rowArgs, args);\n            eventArg_1.isSelectable = true;\n            var isReactChild = this.parent.parentDetails && this.parent.parentDetails.parentInstObj &&\n                this.parent.parentDetails.parentInstObj.isReact;\n            var cellTemplate = eventArg_1.row.querySelectorAll('.e-templatecell');\n            if (((this.parent.isReact && this.parent.requireTemplateRef) || (isReactChild &&\n                this.parent.parentDetails.parentInstObj.requireTemplateRef)) && cellTemplate.length) {\n                // eslint-disable-next-line @typescript-eslint/no-this-alias\n                var thisRef_2 = this;\n                thisRef_2.parent.renderTemplates(function () {\n                    thisRef_2.parent.trigger(rowDataBound, eventArg_1);\n                    if (!eventArg_1.isSelectable) {\n                        row.isSelectable = eventArg_1.isSelectable;\n                        thisRef_2.disableRowSelection(thisRef_2, row, args, eventArg_1);\n                    }\n                });\n            }\n            else {\n                this.parent.trigger(rowDataBound, eventArg_1);\n            }\n            row.isSelectable = eventArg_1.isSelectable;\n            var isDraggable = this.parent.isRowDragable();\n            if (this.parent.allowPaging && this.parent.selectionSettings.persistSelection) {\n                var primaryKey_1 = this.parent.getPrimaryKeyFieldNames()[0];\n                var pKey_1 = row.data ? row.data[\"\" + primaryKey_1] : null;\n                var SelectedRecords = eventArg_1.isSelectable ? this.parent.partialSelectedRecords :\n                    this.parent.disableSelectedRecords;\n                if (!SelectedRecords.some(function (data) { return data[\"\" + primaryKey_1] === pKey_1; })) {\n                    SelectedRecords.push(row.data);\n                }\n            }\n            if (!eventArg_1.isSelectable) {\n                this.disableRowSelection(this, row, args, eventArg_1);\n            }\n            if (this.parent.childGrid || isDraggable || this.parent.detailTemplate) {\n                var td = tr.querySelectorAll('.e-rowcell:not(.e-hide)')[0];\n                if (td) {\n                    td.classList.add('e-detailrowvisible');\n                }\n            }\n        }\n        if (this.parent.enableVirtualization) {\n            rowArgs.rowHeight = this.parent.rowHeight;\n        }\n        if (rowArgs.rowHeight) {\n            tr.style.height = rowArgs.rowHeight + 'px';\n        }\n        else if (this.parent.rowHeight && (tr.querySelector('.e-headercell') || tr.querySelector('.e-groupcaption'))) {\n            tr.style.height = this.parent.rowHeight + 'px';\n        }\n        if (row.cssClass) {\n            tr.classList.add(row.cssClass);\n        }\n        if (row.lazyLoadCssClass) {\n            tr.classList.add(row.lazyLoadCssClass);\n        }\n        if (this.parent.rowRenderingMode === 'Vertical' && this.parent.allowTextWrap && (this.parent.textWrapSettings.wrapMode === 'Header'\n            || this.parent.textWrapSettings.wrapMode === 'Both')) {\n            tr.classList.add('e-verticalwrap');\n        }\n        var vFTable = this.parent.enableColumnVirtualization;\n        if (!vFTable && this.parent.aggregates.length && this.parent.element.scrollHeight > this.parent.height) {\n            for (var i = 0; i < this.parent.aggregates.length; i++) {\n                var property = 'properties';\n                var column = 'columns';\n                if (this.parent.aggregates[parseInt(i.toString(), 10)][\"\" + property][\"\" + column][0].footerTemplate) {\n                    var summarycell = [].slice.call(tr.getElementsByClassName('e-summarycell'));\n                    if (summarycell.length) {\n                        var lastSummaryCell = (summarycell[summarycell.length - 1]);\n                        addClass([lastSummaryCell], ['e-lastsummarycell']);\n                        var firstSummaryCell = (summarycell[0]);\n                        addClass([firstSummaryCell], ['e-firstsummarycell']);\n                    }\n                }\n            }\n        }\n        return tr;\n    };\n    RowRenderer.prototype.resetrowSpanvalue = function (rowCount, cellArgs, rowIndex) {\n        if (rowCount > rowIndex && rowCount < rowIndex + cellArgs.rowSpan) {\n            var rowSpan = (rowIndex + cellArgs.rowSpan) - rowCount;\n            cellArgs.rowSpan = cellArgs.rowSpan - rowSpan;\n        }\n    };\n    RowRenderer.prototype.disableRowSelection = function (thisRef, row, args, eventArg) {\n        var selIndex = this.parent.getSelectedRowIndexes();\n        this.parent.selectionModule.isPartialSelection = true;\n        row.isSelected = false;\n        var selRowIndex = selIndex.indexOf(row.index);\n        if (selRowIndex > -1) {\n            selIndex.splice(selRowIndex, 1);\n        }\n        var chkBox = args.row.querySelectorAll('.e-rowcell.e-gridchkbox');\n        var isDrag = eventArg.row.querySelector('.e-rowdragdrop');\n        var cellIdx = thisRef.parent.groupSettings.columns.length + (isDrag || thisRef.parent.isDetail() ? 1 : 0);\n        for (var i = 0; i < chkBox.length; i++) {\n            chkBox[parseInt(i.toString(), 10)].firstElementChild.classList.add('e-checkbox-disabled');\n            chkBox[parseInt(i.toString(), 10)].querySelector('.e-frame').classList.remove('e-check');\n        }\n        if (row.cells.length) {\n            for (var i = cellIdx; i < row.cells.length; i++) {\n                var cell = eventArg.row.querySelector('.e-rowcell[data-colindex=\"' + row.cells[parseInt(i.toString(), 10)].index + '\"]');\n                if (cell) {\n                    removeClass([cell], ['e-selectionbackground', 'e-active']);\n                }\n            }\n        }\n        if (isDrag) {\n            removeClass([isDrag], ['e-selectionbackground', 'e-active']);\n        }\n    };\n    RowRenderer.prototype.refreshMergeCells = function (row) {\n        for (var _i = 0, _a = row.cells; _i < _a.length; _i++) {\n            var cell = _a[_i];\n            cell.isSpanned = false;\n        }\n        return row;\n    };\n    /* eslint-disable */\n    /**\n     * Function to check and add alternative row css class.\n     *\n     * @param {Element} tr - specifies the tr element\n     * @param {Row<T>} row - specifies the row\n     * @returns {void}\n     */\n    /* eslint-enable */\n    RowRenderer.prototype.buildAttributeFromRow = function (tr, row) {\n        var attr = {};\n        var prop = { 'rowindex': literals.dataRowIndex, 'dataUID': 'data-uid', 'ariaSelected': 'aria-selected' };\n        var classes = [];\n        if (row.isDataRow) {\n            classes.push(literals.row);\n        }\n        if (row.isAltRow) {\n            classes.push('e-altrow');\n        }\n        if (row.isCaptionRow) {\n            classes.push('e-groupcaptionrow');\n        }\n        if (row.isAggregateRow && row.parentUid) {\n            classes.push('e-groupfooterrow');\n        }\n        if (!isNullOrUndefined(row.index)) {\n            attr[literals.ariaRowIndex] = row.index + 1;\n            attr[prop.rowindex] = row.index;\n        }\n        if (row.rowSpan) {\n            attr.rowSpan = row.rowSpan;\n        }\n        if (row.uid) {\n            attr[prop.dataUID] = row.uid;\n        }\n        if (row.isSelected) {\n            attr[prop.ariaSelected] = true;\n        }\n        if (row.visible === false) {\n            classes.push('e-hide');\n        }\n        attr.class = classes;\n        setStyleAndAttributes(tr, attr);\n    };\n    return RowRenderer;\n}());\nexport { RowRenderer };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}