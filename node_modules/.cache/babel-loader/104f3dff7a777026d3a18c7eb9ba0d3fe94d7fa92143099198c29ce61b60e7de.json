{"ast":null,"code":"import { addClass, extend, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport * as events from '../base/constant';\nimport { isActionPrevent } from '../base/util';\n/**\n * The `Search` module is used to handle search action.\n */\nvar Search = /** @class */function () {\n  /**\n   * Constructor for Grid search module.\n   *\n   * @param {IGrid} parent - specifies the IGrid\n   * @hidden\n   */\n  function Search(parent) {\n    //Internal variables\n    /** @hidden */\n    this.headerFocus = false;\n    this.parent = parent;\n    this.addEventListener();\n  }\n  /**\n   * Checks if the input string contains non-numeric characters.\n   *\n   * @param {string} searchString - The string to be checked for non-numeric characters.\n   * @returns {boolean} - `true` if the input string contains non-numeric characters, `false` otherwise.\n   */\n  Search.prototype.hasNonNumericCharacters = function (searchString) {\n    var decimalFound = false;\n    for (var _i = 0, searchString_1 = searchString; _i < searchString_1.length; _i++) {\n      var char = searchString_1[_i];\n      if ((char < '0' || char > '9') && char !== '.') {\n        return true;\n      }\n      if (char === '.') {\n        if (decimalFound) {\n          // If decimal is found more than once, it's not valid\n          return true;\n        }\n        decimalFound = true;\n      }\n    }\n    return false;\n  };\n  /**\n   * Searches Grid records by given key.\n   *\n   * > You can customize the default search action by using [`searchSettings`](./searchsettings/).\n   *\n   * @param  {string} searchString - Defines the key.\n   * @returns {void}\n   */\n  Search.prototype.search = function (searchString) {\n    var gObj = this.parent;\n    searchString = isNullOrUndefined(searchString) ? '' : searchString;\n    if (isActionPrevent(gObj)) {\n      gObj.notify(events.preventBatch, {\n        instance: this,\n        handler: this.search,\n        arg1: searchString\n      });\n      return;\n    }\n    if (searchString !== gObj.searchSettings.key) {\n      this.headerFocus = false;\n      // Check searchString is number and parseFloat to remove trailing zeros\n      if (searchString !== '' && !this.hasNonNumericCharacters(searchString)) {\n        if (searchString === '.' || searchString.indexOf('.') === -1) {\n          gObj.searchSettings.key = searchString.toString();\n        } else {\n          gObj.searchSettings.key = parseFloat(searchString).toString();\n        }\n      } else {\n        gObj.searchSettings.key = searchString.toString();\n      }\n      gObj.dataBind();\n    } else if (this.refreshSearch) {\n      gObj.refresh();\n    } else {\n      this.headerFocus = false;\n    }\n  };\n  /**\n   * @returns {void}\n   * @hidden\n   */\n  Search.prototype.addEventListener = function () {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n    this.parent.on(events.inBoundModelChanged, this.onPropertyChanged, this);\n    this.parent.on(events.searchComplete, this.onSearchComplete, this);\n    this.parent.on(events.destroy, this.destroy, this);\n    this.actionCompleteFunc = this.onActionComplete.bind(this);\n    this.parent.addEventListener(events.actionComplete, this.actionCompleteFunc);\n    this.parent.on(events.cancelBegin, this.cancelBeginEvent, this);\n  };\n  /**\n   * @returns {void}\n   * @hidden\n   */\n  Search.prototype.removeEventListener = function () {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n    this.parent.off(events.inBoundModelChanged, this.onPropertyChanged);\n    this.parent.off(events.searchComplete, this.onSearchComplete);\n    this.parent.off(events.destroy, this.destroy);\n    this.parent.removeEventListener(events.actionComplete, this.actionCompleteFunc);\n    this.parent.off(events.cancelBegin, this.cancelBeginEvent);\n  };\n  /**\n   * To destroy the print\n   *\n   * @returns {void}\n   * @hidden\n   */\n  Search.prototype.destroy = function () {\n    this.removeEventListener();\n  };\n  /**\n   * @param {NotifyArgs} e - specfies the NotifyArgs\n   * @returns {void}\n   * @hidden\n   */\n  Search.prototype.onPropertyChanged = function (e) {\n    if (e.module !== this.getModuleName()) {\n      return;\n    }\n    if (!isNullOrUndefined(e.properties.key)) {\n      this.parent.notify(events.modelChanged, {\n        requestType: 'searching',\n        type: events.actionBegin,\n        searchString: this.parent.searchSettings.key\n      });\n    } else {\n      this.parent.notify(events.modelChanged, {\n        requestType: 'searching',\n        type: events.actionBegin\n      });\n    }\n  };\n  /**\n   * The function used to trigger onActionComplete\n   *\n   * @param {NotifyArgs} e - specifies the NotifyArgs\n   * @returns {void}\n   * @hidden\n   */\n  Search.prototype.onSearchComplete = function (e) {\n    this.parent.trigger(events.actionComplete, extend(e, {\n      searchString: this.parent.searchSettings.key,\n      requestType: 'searching',\n      type: events.actionComplete\n    }));\n  };\n  /**\n   * The function used to store the requestType\n   *\n   * @param {NotifyArgs} e - specifies the NotifyArgs\n   * @returns {void}\n   * @hidden\n   */\n  Search.prototype.onActionComplete = function (e) {\n    if (this.refreshSearch && e.requestType === 'refresh' && this.headerFocus) {\n      this.headerFocus = false;\n      this.parent.focusModule.focus();\n      addClass([this.parent.focusModule.currentInfo.element], ['e-focused']);\n    }\n    this.refreshSearch = e.requestType !== 'searching';\n  };\n  Search.prototype.cancelBeginEvent = function (e) {\n    if (e.requestType === 'searching') {\n      this.parent.setProperties({\n        searchSettings: {\n          key: ''\n        }\n      }, true);\n    }\n  };\n  /**\n   * For internal use only - Get the module name.\n   *\n   * @returns {string} returns the module name\n   * @private\n   */\n  Search.prototype.getModuleName = function () {\n    return 'search';\n  };\n  return Search;\n}();\nexport { Search };","map":{"version":3,"names":["addClass","extend","isNullOrUndefined","events","isActionPrevent","Search","parent","headerFocus","addEventListener","prototype","hasNonNumericCharacters","searchString","decimalFound","_i","searchString_1","length","char","search","gObj","notify","preventBatch","instance","handler","arg1","searchSettings","key","indexOf","toString","parseFloat","dataBind","refreshSearch","refresh","isDestroyed","on","inBoundModelChanged","onPropertyChanged","searchComplete","onSearchComplete","destroy","actionCompleteFunc","onActionComplete","bind","actionComplete","cancelBegin","cancelBeginEvent","removeEventListener","off","e","module","getModuleName","properties","modelChanged","requestType","type","actionBegin","trigger","focusModule","focus","currentInfo","element","setProperties"],"sources":["/var/www/vue/vue-gantt-chart/node_modules/@syncfusion/ej2-grids/src/grid/actions/search.js"],"sourcesContent":["import { addClass, extend, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport * as events from '../base/constant';\nimport { isActionPrevent } from '../base/util';\n/**\n * The `Search` module is used to handle search action.\n */\nvar Search = /** @class */ (function () {\n    /**\n     * Constructor for Grid search module.\n     *\n     * @param {IGrid} parent - specifies the IGrid\n     * @hidden\n     */\n    function Search(parent) {\n        //Internal variables\n        /** @hidden */\n        this.headerFocus = false;\n        this.parent = parent;\n        this.addEventListener();\n    }\n    /**\n     * Checks if the input string contains non-numeric characters.\n     *\n     * @param {string} searchString - The string to be checked for non-numeric characters.\n     * @returns {boolean} - `true` if the input string contains non-numeric characters, `false` otherwise.\n     */\n    Search.prototype.hasNonNumericCharacters = function (searchString) {\n        var decimalFound = false;\n        for (var _i = 0, searchString_1 = searchString; _i < searchString_1.length; _i++) {\n            var char = searchString_1[_i];\n            if ((char < '0' || char > '9') && char !== '.') {\n                return true;\n            }\n            if (char === '.') {\n                if (decimalFound) {\n                    // If decimal is found more than once, it's not valid\n                    return true;\n                }\n                decimalFound = true;\n            }\n        }\n        return false;\n    };\n    /**\n     * Searches Grid records by given key.\n     *\n     * > You can customize the default search action by using [`searchSettings`](./searchsettings/).\n     *\n     * @param  {string} searchString - Defines the key.\n     * @returns {void}\n     */\n    Search.prototype.search = function (searchString) {\n        var gObj = this.parent;\n        searchString = isNullOrUndefined(searchString) ? '' : searchString;\n        if (isActionPrevent(gObj)) {\n            gObj.notify(events.preventBatch, { instance: this, handler: this.search, arg1: searchString });\n            return;\n        }\n        if (searchString !== gObj.searchSettings.key) {\n            this.headerFocus = false;\n            // Check searchString is number and parseFloat to remove trailing zeros\n            if (searchString !== '' && !this.hasNonNumericCharacters(searchString)) {\n                if (searchString === '.' || (searchString.indexOf('.') === -1)) {\n                    gObj.searchSettings.key = searchString.toString();\n                }\n                else {\n                    gObj.searchSettings.key = parseFloat(searchString).toString();\n                }\n            }\n            else {\n                gObj.searchSettings.key = searchString.toString();\n            }\n            gObj.dataBind();\n        }\n        else if (this.refreshSearch) {\n            gObj.refresh();\n        }\n        else {\n            this.headerFocus = false;\n        }\n    };\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    Search.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on(events.inBoundModelChanged, this.onPropertyChanged, this);\n        this.parent.on(events.searchComplete, this.onSearchComplete, this);\n        this.parent.on(events.destroy, this.destroy, this);\n        this.actionCompleteFunc = this.onActionComplete.bind(this);\n        this.parent.addEventListener(events.actionComplete, this.actionCompleteFunc);\n        this.parent.on(events.cancelBegin, this.cancelBeginEvent, this);\n    };\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    Search.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off(events.inBoundModelChanged, this.onPropertyChanged);\n        this.parent.off(events.searchComplete, this.onSearchComplete);\n        this.parent.off(events.destroy, this.destroy);\n        this.parent.removeEventListener(events.actionComplete, this.actionCompleteFunc);\n        this.parent.off(events.cancelBegin, this.cancelBeginEvent);\n    };\n    /**\n     * To destroy the print\n     *\n     * @returns {void}\n     * @hidden\n     */\n    Search.prototype.destroy = function () {\n        this.removeEventListener();\n    };\n    /**\n     * @param {NotifyArgs} e - specfies the NotifyArgs\n     * @returns {void}\n     * @hidden\n     */\n    Search.prototype.onPropertyChanged = function (e) {\n        if (e.module !== this.getModuleName()) {\n            return;\n        }\n        if (!isNullOrUndefined(e.properties.key)) {\n            this.parent.notify(events.modelChanged, {\n                requestType: 'searching', type: events.actionBegin, searchString: this.parent.searchSettings.key\n            });\n        }\n        else {\n            this.parent.notify(events.modelChanged, {\n                requestType: 'searching', type: events.actionBegin\n            });\n        }\n    };\n    /**\n     * The function used to trigger onActionComplete\n     *\n     * @param {NotifyArgs} e - specifies the NotifyArgs\n     * @returns {void}\n     * @hidden\n     */\n    Search.prototype.onSearchComplete = function (e) {\n        this.parent.trigger(events.actionComplete, extend(e, {\n            searchString: this.parent.searchSettings.key, requestType: 'searching', type: events.actionComplete\n        }));\n    };\n    /**\n     * The function used to store the requestType\n     *\n     * @param {NotifyArgs} e - specifies the NotifyArgs\n     * @returns {void}\n     * @hidden\n     */\n    Search.prototype.onActionComplete = function (e) {\n        if (this.refreshSearch && e.requestType === 'refresh' && this.headerFocus) {\n            this.headerFocus = false;\n            this.parent.focusModule.focus();\n            addClass([this.parent.focusModule.currentInfo.element], ['e-focused']);\n        }\n        this.refreshSearch = e.requestType !== 'searching';\n    };\n    Search.prototype.cancelBeginEvent = function (e) {\n        if (e.requestType === 'searching') {\n            this.parent.setProperties({ searchSettings: { key: '' } }, true);\n        }\n    };\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} returns the module name\n     * @private\n     */\n    Search.prototype.getModuleName = function () {\n        return 'search';\n    };\n    return Search;\n}());\nexport { Search };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}