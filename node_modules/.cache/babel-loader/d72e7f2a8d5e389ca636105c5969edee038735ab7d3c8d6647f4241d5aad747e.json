{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport * as CONSTANT from './../base/constant';\nimport { setStyleAttribute, closest } from '@syncfusion/ej2-base';\nimport * as EVENTS from './../../common/constant';\nimport { isIDevice, setEditFrameFocus } from '../../common/util';\n/**\n * Formats internal component\n *\n * @hidden\n\n */\nvar Alignments = /** @class */function () {\n  /**\n   * Constructor for creating the Formats plugin\n   *\n   * @param {EditorManager} parent - specifies the parent element.\n   * @returns {void}\n   * @hidden\n    */\n  function Alignments(parent) {\n    this.alignments = {\n      'JustifyLeft': 'left',\n      'JustifyCenter': 'center',\n      'JustifyRight': 'right',\n      'JustifyFull': 'justify'\n    };\n    this.parent = parent;\n    this.addEventListener();\n  }\n  Alignments.prototype.addEventListener = function () {\n    this.parent.observer.on(CONSTANT.ALIGNMENT_TYPE, this.applyAlignment, this);\n    this.parent.observer.on(EVENTS.KEY_DOWN_HANDLER, this.onKeyDown, this);\n    this.parent.observer.on(EVENTS.INTERNAL_DESTROY, this.destroy, this);\n  };\n  Alignments.prototype.removeEventListener = function () {\n    this.parent.observer.off(CONSTANT.ALIGNMENT_TYPE, this.applyAlignment);\n    this.parent.observer.off(EVENTS.KEY_DOWN_HANDLER, this.onKeyDown);\n    this.parent.observer.off(EVENTS.INTERNAL_DESTROY, this.destroy);\n  };\n  Alignments.prototype.onKeyDown = function (e) {\n    switch (e.event.action) {\n      case 'justify-center':\n        this.applyAlignment({\n          subCommand: 'JustifyCenter',\n          callBack: e.callBack\n        });\n        e.event.preventDefault();\n        break;\n      case 'justify-full':\n        this.applyAlignment({\n          subCommand: 'JustifyFull',\n          callBack: e.callBack\n        });\n        e.event.preventDefault();\n        break;\n      case 'justify-left':\n        this.applyAlignment({\n          subCommand: 'JustifyLeft',\n          callBack: e.callBack\n        });\n        e.event.preventDefault();\n        break;\n      case 'justify-right':\n        this.applyAlignment({\n          subCommand: 'JustifyRight',\n          callBack: e.callBack\n        });\n        e.event.preventDefault();\n        break;\n    }\n  };\n  Alignments.prototype.getTableNode = function (range) {\n    var startNode = range.startContainer.nodeType === Node.ELEMENT_NODE ? range.startContainer : range.startContainer.parentNode;\n    var cellNode = closest(startNode, 'td,th');\n    return [cellNode];\n  };\n  Alignments.prototype.applyAlignment = function (e) {\n    var isTableAlign = e.value === 'Table' ? true : false;\n    var range = this.parent.nodeSelection.getRange(this.parent.currentDocument);\n    var save = this.parent.nodeSelection.save(range, this.parent.currentDocument);\n    if (!isTableAlign) {\n      this.parent.domNode.setMarker(save);\n      var alignmentNodes = this.parent.domNode.blockNodes();\n      if (e.enterAction === 'BR') {\n        alignmentNodes = this.parent.domNode.convertToBlockNodes(alignmentNodes, false);\n      }\n      for (var i = 0; i < alignmentNodes.length; i++) {\n        var parentNode = alignmentNodes[i];\n        setStyleAttribute(parentNode, {\n          'text-align': this.alignments[e.subCommand]\n        });\n      }\n      var imageTags = this.parent.domNode.getImageTagInSelection();\n      for (var i = 0; i < imageTags.length; i++) {\n        var elementNode = [];\n        elementNode.push(imageTags[i]);\n        this.parent.imgObj.imageCommand({\n          item: {\n            selectNode: elementNode\n          },\n          subCommand: e.subCommand,\n          value: e.subCommand,\n          callBack: e.callBack,\n          selector: e.selector\n        });\n      }\n      this.parent.editableElement.focus({\n        preventScroll: true\n      });\n      save = this.parent.domNode.saveMarker(save);\n      if (isIDevice()) {\n        setEditFrameFocus(this.parent.editableElement, e.selector);\n      }\n      save.restore();\n    } else {\n      setStyleAttribute(this.getTableNode(range)[0], {\n        'text-align': this.alignments[e.subCommand]\n      });\n    }\n    if (e.callBack) {\n      e.callBack({\n        requestType: e.subCommand,\n        editorMode: 'HTML',\n        event: e.event,\n        range: this.parent.nodeSelection.getRange(this.parent.currentDocument),\n        elements: isTableAlign ? this.getTableNode(range) : this.parent.domNode.blockNodes()\n      });\n    }\n  };\n  Alignments.prototype.destroy = function () {\n    this.removeEventListener();\n  };\n  return Alignments;\n}();\nexport { Alignments };","map":{"version":3,"names":["CONSTANT","setStyleAttribute","closest","EVENTS","isIDevice","setEditFrameFocus","Alignments","parent","alignments","addEventListener","prototype","observer","on","ALIGNMENT_TYPE","applyAlignment","KEY_DOWN_HANDLER","onKeyDown","INTERNAL_DESTROY","destroy","removeEventListener","off","e","event","action","subCommand","callBack","preventDefault","getTableNode","range","startNode","startContainer","nodeType","Node","ELEMENT_NODE","parentNode","cellNode","isTableAlign","value","nodeSelection","getRange","currentDocument","save","domNode","setMarker","alignmentNodes","blockNodes","enterAction","convertToBlockNodes","i","length","imageTags","getImageTagInSelection","elementNode","push","imgObj","imageCommand","item","selectNode","selector","editableElement","focus","preventScroll","saveMarker","restore","requestType","editorMode","elements"],"sources":["/var/www/vue/vue-gantt-chart/node_modules/@syncfusion/ej2-richtexteditor/src/editor-manager/plugin/alignments.js"],"sourcesContent":["import * as CONSTANT from './../base/constant';\nimport { setStyleAttribute, closest } from '@syncfusion/ej2-base';\nimport * as EVENTS from './../../common/constant';\nimport { isIDevice, setEditFrameFocus } from '../../common/util';\n/**\n * Formats internal component\n *\n * @hidden\n\n */\nvar Alignments = /** @class */ (function () {\n    /**\n     * Constructor for creating the Formats plugin\n     *\n     * @param {EditorManager} parent - specifies the parent element.\n     * @returns {void}\n     * @hidden\n\n     */\n    function Alignments(parent) {\n        this.alignments = {\n            'JustifyLeft': 'left',\n            'JustifyCenter': 'center',\n            'JustifyRight': 'right',\n            'JustifyFull': 'justify'\n        };\n        this.parent = parent;\n        this.addEventListener();\n    }\n    Alignments.prototype.addEventListener = function () {\n        this.parent.observer.on(CONSTANT.ALIGNMENT_TYPE, this.applyAlignment, this);\n        this.parent.observer.on(EVENTS.KEY_DOWN_HANDLER, this.onKeyDown, this);\n        this.parent.observer.on(EVENTS.INTERNAL_DESTROY, this.destroy, this);\n    };\n    Alignments.prototype.removeEventListener = function () {\n        this.parent.observer.off(CONSTANT.ALIGNMENT_TYPE, this.applyAlignment);\n        this.parent.observer.off(EVENTS.KEY_DOWN_HANDLER, this.onKeyDown);\n        this.parent.observer.off(EVENTS.INTERNAL_DESTROY, this.destroy);\n    };\n    Alignments.prototype.onKeyDown = function (e) {\n        switch (e.event.action) {\n            case 'justify-center':\n                this.applyAlignment({ subCommand: 'JustifyCenter', callBack: e.callBack });\n                e.event.preventDefault();\n                break;\n            case 'justify-full':\n                this.applyAlignment({ subCommand: 'JustifyFull', callBack: e.callBack });\n                e.event.preventDefault();\n                break;\n            case 'justify-left':\n                this.applyAlignment({ subCommand: 'JustifyLeft', callBack: e.callBack });\n                e.event.preventDefault();\n                break;\n            case 'justify-right':\n                this.applyAlignment({ subCommand: 'JustifyRight', callBack: e.callBack });\n                e.event.preventDefault();\n                break;\n        }\n    };\n    Alignments.prototype.getTableNode = function (range) {\n        var startNode = range.startContainer.nodeType === Node.ELEMENT_NODE\n            ? range.startContainer : range.startContainer.parentNode;\n        var cellNode = closest(startNode, 'td,th');\n        return [cellNode];\n    };\n    Alignments.prototype.applyAlignment = function (e) {\n        var isTableAlign = e.value === 'Table' ? true : false;\n        var range = this.parent.nodeSelection.getRange(this.parent.currentDocument);\n        var save = this.parent.nodeSelection.save(range, this.parent.currentDocument);\n        if (!isTableAlign) {\n            this.parent.domNode.setMarker(save);\n            var alignmentNodes = this.parent.domNode.blockNodes();\n            if (e.enterAction === 'BR') {\n                alignmentNodes = this.parent.domNode.convertToBlockNodes(alignmentNodes, false);\n            }\n            for (var i = 0; i < alignmentNodes.length; i++) {\n                var parentNode = alignmentNodes[i];\n                setStyleAttribute(parentNode, { 'text-align': this.alignments[e.subCommand] });\n            }\n            var imageTags = this.parent.domNode.getImageTagInSelection();\n            for (var i = 0; i < imageTags.length; i++) {\n                var elementNode = [];\n                elementNode.push(imageTags[i]);\n                this.parent.imgObj.imageCommand({\n                    item: {\n                        selectNode: elementNode\n                    },\n                    subCommand: e.subCommand,\n                    value: e.subCommand,\n                    callBack: e.callBack,\n                    selector: e.selector\n                });\n            }\n            this.parent.editableElement.focus({ preventScroll: true });\n            save = this.parent.domNode.saveMarker(save);\n            if (isIDevice()) {\n                setEditFrameFocus(this.parent.editableElement, e.selector);\n            }\n            save.restore();\n        }\n        else {\n            setStyleAttribute(this.getTableNode(range)[0], { 'text-align': this.alignments[e.subCommand] });\n        }\n        if (e.callBack) {\n            e.callBack({\n                requestType: e.subCommand,\n                editorMode: 'HTML',\n                event: e.event,\n                range: this.parent.nodeSelection.getRange(this.parent.currentDocument),\n                elements: (isTableAlign ? this.getTableNode(range) : this.parent.domNode.blockNodes())\n            });\n        }\n    };\n    Alignments.prototype.destroy = function () {\n        this.removeEventListener();\n    };\n    return Alignments;\n}());\nexport { Alignments };\n"],"mappings":";AAAA,OAAO,KAAKA,QAAQ,MAAM,oBAAoB;AAC9C,SAASC,iBAAiB,EAAEC,OAAO,QAAQ,sBAAsB;AACjE,OAAO,KAAKC,MAAM,MAAM,yBAAyB;AACjD,SAASC,SAAS,EAAEC,iBAAiB,QAAQ,mBAAmB;AAChE;AACA;AACA;AACA;AACA;AACA;AACA,IAAIC,UAAU,GAAG,aAAe,YAAY;EACxC;AACJ;AACA;AACA;AACA;AACA;AACA;EAEI,SAASA,UAAUA,CAACC,MAAM,EAAE;IACxB,IAAI,CAACC,UAAU,GAAG;MACd,aAAa,EAAE,MAAM;MACrB,eAAe,EAAE,QAAQ;MACzB,cAAc,EAAE,OAAO;MACvB,aAAa,EAAE;IACnB,CAAC;IACD,IAAI,CAACD,MAAM,GAAGA,MAAM;IACpB,IAAI,CAACE,gBAAgB,CAAC,CAAC;EAC3B;EACAH,UAAU,CAACI,SAAS,CAACD,gBAAgB,GAAG,YAAY;IAChD,IAAI,CAACF,MAAM,CAACI,QAAQ,CAACC,EAAE,CAACZ,QAAQ,CAACa,cAAc,EAAE,IAAI,CAACC,cAAc,EAAE,IAAI,CAAC;IAC3E,IAAI,CAACP,MAAM,CAACI,QAAQ,CAACC,EAAE,CAACT,MAAM,CAACY,gBAAgB,EAAE,IAAI,CAACC,SAAS,EAAE,IAAI,CAAC;IACtE,IAAI,CAACT,MAAM,CAACI,QAAQ,CAACC,EAAE,CAACT,MAAM,CAACc,gBAAgB,EAAE,IAAI,CAACC,OAAO,EAAE,IAAI,CAAC;EACxE,CAAC;EACDZ,UAAU,CAACI,SAAS,CAACS,mBAAmB,GAAG,YAAY;IACnD,IAAI,CAACZ,MAAM,CAACI,QAAQ,CAACS,GAAG,CAACpB,QAAQ,CAACa,cAAc,EAAE,IAAI,CAACC,cAAc,CAAC;IACtE,IAAI,CAACP,MAAM,CAACI,QAAQ,CAACS,GAAG,CAACjB,MAAM,CAACY,gBAAgB,EAAE,IAAI,CAACC,SAAS,CAAC;IACjE,IAAI,CAACT,MAAM,CAACI,QAAQ,CAACS,GAAG,CAACjB,MAAM,CAACc,gBAAgB,EAAE,IAAI,CAACC,OAAO,CAAC;EACnE,CAAC;EACDZ,UAAU,CAACI,SAAS,CAACM,SAAS,GAAG,UAAUK,CAAC,EAAE;IAC1C,QAAQA,CAAC,CAACC,KAAK,CAACC,MAAM;MAClB,KAAK,gBAAgB;QACjB,IAAI,CAACT,cAAc,CAAC;UAAEU,UAAU,EAAE,eAAe;UAAEC,QAAQ,EAAEJ,CAAC,CAACI;QAAS,CAAC,CAAC;QAC1EJ,CAAC,CAACC,KAAK,CAACI,cAAc,CAAC,CAAC;QACxB;MACJ,KAAK,cAAc;QACf,IAAI,CAACZ,cAAc,CAAC;UAAEU,UAAU,EAAE,aAAa;UAAEC,QAAQ,EAAEJ,CAAC,CAACI;QAAS,CAAC,CAAC;QACxEJ,CAAC,CAACC,KAAK,CAACI,cAAc,CAAC,CAAC;QACxB;MACJ,KAAK,cAAc;QACf,IAAI,CAACZ,cAAc,CAAC;UAAEU,UAAU,EAAE,aAAa;UAAEC,QAAQ,EAAEJ,CAAC,CAACI;QAAS,CAAC,CAAC;QACxEJ,CAAC,CAACC,KAAK,CAACI,cAAc,CAAC,CAAC;QACxB;MACJ,KAAK,eAAe;QAChB,IAAI,CAACZ,cAAc,CAAC;UAAEU,UAAU,EAAE,cAAc;UAAEC,QAAQ,EAAEJ,CAAC,CAACI;QAAS,CAAC,CAAC;QACzEJ,CAAC,CAACC,KAAK,CAACI,cAAc,CAAC,CAAC;QACxB;IACR;EACJ,CAAC;EACDpB,UAAU,CAACI,SAAS,CAACiB,YAAY,GAAG,UAAUC,KAAK,EAAE;IACjD,IAAIC,SAAS,GAAGD,KAAK,CAACE,cAAc,CAACC,QAAQ,KAAKC,IAAI,CAACC,YAAY,GAC7DL,KAAK,CAACE,cAAc,GAAGF,KAAK,CAACE,cAAc,CAACI,UAAU;IAC5D,IAAIC,QAAQ,GAAGjC,OAAO,CAAC2B,SAAS,EAAE,OAAO,CAAC;IAC1C,OAAO,CAACM,QAAQ,CAAC;EACrB,CAAC;EACD7B,UAAU,CAACI,SAAS,CAACI,cAAc,GAAG,UAAUO,CAAC,EAAE;IAC/C,IAAIe,YAAY,GAAGf,CAAC,CAACgB,KAAK,KAAK,OAAO,GAAG,IAAI,GAAG,KAAK;IACrD,IAAIT,KAAK,GAAG,IAAI,CAACrB,MAAM,CAAC+B,aAAa,CAACC,QAAQ,CAAC,IAAI,CAAChC,MAAM,CAACiC,eAAe,CAAC;IAC3E,IAAIC,IAAI,GAAG,IAAI,CAAClC,MAAM,CAAC+B,aAAa,CAACG,IAAI,CAACb,KAAK,EAAE,IAAI,CAACrB,MAAM,CAACiC,eAAe,CAAC;IAC7E,IAAI,CAACJ,YAAY,EAAE;MACf,IAAI,CAAC7B,MAAM,CAACmC,OAAO,CAACC,SAAS,CAACF,IAAI,CAAC;MACnC,IAAIG,cAAc,GAAG,IAAI,CAACrC,MAAM,CAACmC,OAAO,CAACG,UAAU,CAAC,CAAC;MACrD,IAAIxB,CAAC,CAACyB,WAAW,KAAK,IAAI,EAAE;QACxBF,cAAc,GAAG,IAAI,CAACrC,MAAM,CAACmC,OAAO,CAACK,mBAAmB,CAACH,cAAc,EAAE,KAAK,CAAC;MACnF;MACA,KAAK,IAAII,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGJ,cAAc,CAACK,MAAM,EAAED,CAAC,EAAE,EAAE;QAC5C,IAAId,UAAU,GAAGU,cAAc,CAACI,CAAC,CAAC;QAClC/C,iBAAiB,CAACiC,UAAU,EAAE;UAAE,YAAY,EAAE,IAAI,CAAC1B,UAAU,CAACa,CAAC,CAACG,UAAU;QAAE,CAAC,CAAC;MAClF;MACA,IAAI0B,SAAS,GAAG,IAAI,CAAC3C,MAAM,CAACmC,OAAO,CAACS,sBAAsB,CAAC,CAAC;MAC5D,KAAK,IAAIH,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGE,SAAS,CAACD,MAAM,EAAED,CAAC,EAAE,EAAE;QACvC,IAAII,WAAW,GAAG,EAAE;QACpBA,WAAW,CAACC,IAAI,CAACH,SAAS,CAACF,CAAC,CAAC,CAAC;QAC9B,IAAI,CAACzC,MAAM,CAAC+C,MAAM,CAACC,YAAY,CAAC;UAC5BC,IAAI,EAAE;YACFC,UAAU,EAAEL;UAChB,CAAC;UACD5B,UAAU,EAAEH,CAAC,CAACG,UAAU;UACxBa,KAAK,EAAEhB,CAAC,CAACG,UAAU;UACnBC,QAAQ,EAAEJ,CAAC,CAACI,QAAQ;UACpBiC,QAAQ,EAAErC,CAAC,CAACqC;QAChB,CAAC,CAAC;MACN;MACA,IAAI,CAACnD,MAAM,CAACoD,eAAe,CAACC,KAAK,CAAC;QAAEC,aAAa,EAAE;MAAK,CAAC,CAAC;MAC1DpB,IAAI,GAAG,IAAI,CAAClC,MAAM,CAACmC,OAAO,CAACoB,UAAU,CAACrB,IAAI,CAAC;MAC3C,IAAIrC,SAAS,CAAC,CAAC,EAAE;QACbC,iBAAiB,CAAC,IAAI,CAACE,MAAM,CAACoD,eAAe,EAAEtC,CAAC,CAACqC,QAAQ,CAAC;MAC9D;MACAjB,IAAI,CAACsB,OAAO,CAAC,CAAC;IAClB,CAAC,MACI;MACD9D,iBAAiB,CAAC,IAAI,CAAC0B,YAAY,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE;QAAE,YAAY,EAAE,IAAI,CAACpB,UAAU,CAACa,CAAC,CAACG,UAAU;MAAE,CAAC,CAAC;IACnG;IACA,IAAIH,CAAC,CAACI,QAAQ,EAAE;MACZJ,CAAC,CAACI,QAAQ,CAAC;QACPuC,WAAW,EAAE3C,CAAC,CAACG,UAAU;QACzByC,UAAU,EAAE,MAAM;QAClB3C,KAAK,EAAED,CAAC,CAACC,KAAK;QACdM,KAAK,EAAE,IAAI,CAACrB,MAAM,CAAC+B,aAAa,CAACC,QAAQ,CAAC,IAAI,CAAChC,MAAM,CAACiC,eAAe,CAAC;QACtE0B,QAAQ,EAAG9B,YAAY,GAAG,IAAI,CAACT,YAAY,CAACC,KAAK,CAAC,GAAG,IAAI,CAACrB,MAAM,CAACmC,OAAO,CAACG,UAAU,CAAC;MACxF,CAAC,CAAC;IACN;EACJ,CAAC;EACDvC,UAAU,CAACI,SAAS,CAACQ,OAAO,GAAG,YAAY;IACvC,IAAI,CAACC,mBAAmB,CAAC,CAAC;EAC9B,CAAC;EACD,OAAOb,UAAU;AACrB,CAAC,CAAC,CAAE;AACJ,SAASA,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}